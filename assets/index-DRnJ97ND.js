var Bse=Object.defineProperty;var Use=(e,t,r)=>t in e?Bse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fr=(e,t,r)=>Use(e,typeof t!="symbol"?t+"":t,r);function qse(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zse(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var $A={exports:{}},kn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM;function Wse(){if(IM)return kn;IM=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function h(Z){return Z===null||typeof Z!="object"?null:(Z=f&&Z[f]||Z["@@iterator"],typeof Z=="function"?Z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function y(Z,D,K){this.props=Z,this.context=D,this.refs=g,this.updater=K||m}y.prototype.isReactComponent={},y.prototype.setState=function(Z,D){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,D,"setState")},y.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function _(){}_.prototype=y.prototype;function b(Z,D,K){this.props=Z,this.context=D,this.refs=g,this.updater=K||m}var S=b.prototype=new _;S.constructor=b,x(S,y.prototype),S.isPureReactComponent=!0;var C=Array.isArray,E=Object.prototype.hasOwnProperty,O={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I(Z,D,K){var Q,ie={},ae=null,oe=null;if(D!=null)for(Q in D.ref!==void 0&&(oe=D.ref),D.key!==void 0&&(ae=""+D.key),D)E.call(D,Q)&&!T.hasOwnProperty(Q)&&(ie[Q]=D[Q]);var de=arguments.length-2;if(de===1)ie.children=K;else if(1<de){for(var J=Array(de),ue=0;ue<de;ue++)J[ue]=arguments[ue+2];ie.children=J}if(Z&&Z.defaultProps)for(Q in de=Z.defaultProps,de)ie[Q]===void 0&&(ie[Q]=de[Q]);return{$$typeof:e,type:Z,key:ae,ref:oe,props:ie,_owner:O.current}}function L(Z,D){return{$$typeof:e,type:Z.type,key:D,ref:Z.ref,props:Z.props,_owner:Z._owner}}function U(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function P(Z){var D={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(K){return D[K]})}var M=/\/+/g;function j(Z,D){return typeof Z=="object"&&Z!==null&&Z.key!=null?P(""+Z.key):D.toString(36)}function V(Z,D,K,Q,ie){var ae=typeof Z;(ae==="undefined"||ae==="boolean")&&(Z=null);var oe=!1;if(Z===null)oe=!0;else switch(ae){case"string":case"number":oe=!0;break;case"object":switch(Z.$$typeof){case e:case t:oe=!0}}if(oe)return oe=Z,ie=ie(oe),Z=Q===""?"."+j(oe,0):Q,C(ie)?(K="",Z!=null&&(K=Z.replace(M,"$&/")+"/"),V(ie,D,K,"",function(ue){return ue})):ie!=null&&(U(ie)&&(ie=L(ie,K+(!ie.key||oe&&oe.key===ie.key?"":(""+ie.key).replace(M,"$&/")+"/")+Z)),D.push(ie)),1;if(oe=0,Q=Q===""?".":Q+":",C(Z))for(var de=0;de<Z.length;de++){ae=Z[de];var J=Q+j(ae,de);oe+=V(ae,D,K,J,ie)}else if(J=h(Z),typeof J=="function")for(Z=J.call(Z),de=0;!(ae=Z.next()).done;)ae=ae.value,J=Q+j(ae,de++),oe+=V(ae,D,K,J,ie);else if(ae==="object")throw D=String(Z),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return oe}function X(Z,D,K){if(Z==null)return Z;var Q=[],ie=0;return V(Z,Q,"","",function(ae){return D.call(K,ae,ie++)}),Q}function te(Z){if(Z._status===-1){var D=Z._result;D=D(),D.then(function(K){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=K)},function(K){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=K)}),Z._status===-1&&(Z._status=0,Z._result=D)}if(Z._status===1)return Z._result.default;throw Z._result}var z={current:null},G={transition:null},q={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:G,ReactCurrentOwner:O};function Y(){throw Error("act(...) is not supported in production builds of React.")}return kn.Children={map:X,forEach:function(Z,D,K){X(Z,function(){D.apply(this,arguments)},K)},count:function(Z){var D=0;return X(Z,function(){D++}),D},toArray:function(Z){return X(Z,function(D){return D})||[]},only:function(Z){if(!U(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},kn.Component=y,kn.Fragment=r,kn.Profiler=a,kn.PureComponent=b,kn.StrictMode=n,kn.Suspense=l,kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,kn.act=Y,kn.cloneElement=function(Z,D,K){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Q=x({},Z.props),ie=Z.key,ae=Z.ref,oe=Z._owner;if(D!=null){if(D.ref!==void 0&&(ae=D.ref,oe=O.current),D.key!==void 0&&(ie=""+D.key),Z.type&&Z.type.defaultProps)var de=Z.type.defaultProps;for(J in D)E.call(D,J)&&!T.hasOwnProperty(J)&&(Q[J]=D[J]===void 0&&de!==void 0?de[J]:D[J])}var J=arguments.length-2;if(J===1)Q.children=K;else if(1<J){de=Array(J);for(var ue=0;ue<J;ue++)de[ue]=arguments[ue+2];Q.children=de}return{$$typeof:e,type:Z.type,key:ie,ref:ae,props:Q,_owner:oe}},kn.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:i,_context:Z},Z.Consumer=Z},kn.createElement=I,kn.createFactory=function(Z){var D=I.bind(null,Z);return D.type=Z,D},kn.createRef=function(){return{current:null}},kn.forwardRef=function(Z){return{$$typeof:s,render:Z}},kn.isValidElement=U,kn.lazy=function(Z){return{$$typeof:d,_payload:{_status:-1,_result:Z},_init:te}},kn.memo=function(Z,D){return{$$typeof:u,type:Z,compare:D===void 0?null:D}},kn.startTransition=function(Z){var D=G.transition;G.transition={};try{Z()}finally{G.transition=D}},kn.unstable_act=Y,kn.useCallback=function(Z,D){return z.current.useCallback(Z,D)},kn.useContext=function(Z){return z.current.useContext(Z)},kn.useDebugValue=function(){},kn.useDeferredValue=function(Z){return z.current.useDeferredValue(Z)},kn.useEffect=function(Z,D){return z.current.useEffect(Z,D)},kn.useId=function(){return z.current.useId()},kn.useImperativeHandle=function(Z,D,K){return z.current.useImperativeHandle(Z,D,K)},kn.useInsertionEffect=function(Z,D){return z.current.useInsertionEffect(Z,D)},kn.useLayoutEffect=function(Z,D){return z.current.useLayoutEffect(Z,D)},kn.useMemo=function(Z,D){return z.current.useMemo(Z,D)},kn.useReducer=function(Z,D,K){return z.current.useReducer(Z,D,K)},kn.useRef=function(Z){return z.current.useRef(Z)},kn.useState=function(Z){return z.current.useState(Z)},kn.useSyncExternalStore=function(Z,D,K){return z.current.useSyncExternalStore(Z,D,K)},kn.useTransition=function(){return z.current.useTransition()},kn.version="18.3.1",kn}var RM;function r4(){return RM||(RM=1,$A.exports=Wse()),$A.exports}var A=r4();const Qe=ia(A),Q2=qse({__proto__:null,default:Qe},[A]);var V_={},BA={exports:{}},kl={},UA={exports:{}},qA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM;function Vse(){return MM||(MM=1,function(e){function t(G,q){var Y=G.length;G.push(q);e:for(;0<Y;){var Z=Y-1>>>1,D=G[Z];if(0<a(D,q))G[Z]=q,G[Y]=D,Y=Z;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],Y=G.pop();if(Y!==q){G[0]=Y;e:for(var Z=0,D=G.length,K=D>>>1;Z<K;){var Q=2*(Z+1)-1,ie=G[Q],ae=Q+1,oe=G[ae];if(0>a(ie,Y))ae<D&&0>a(oe,ie)?(G[Z]=oe,G[ae]=Y,Z=ae):(G[Z]=ie,G[Q]=Y,Z=Q);else if(ae<D&&0>a(oe,Y))G[Z]=oe,G[ae]=Y,Z=ae;else break e}}return q}function a(G,q){var Y=G.sortIndex-q.sortIndex;return Y!==0?Y:G.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,m=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=G)n(u),q.sortIndex=q.expirationTime,t(l,q);else break;q=r(u)}}function C(G){if(g=!1,S(G),!x)if(r(l)!==null)x=!0,te(E);else{var q=r(u);q!==null&&z(C,q.startTime-G)}}function E(G,q){x=!1,g&&(g=!1,_(I),I=-1),m=!0;var Y=h;try{for(S(q),f=r(l);f!==null&&(!(f.expirationTime>q)||G&&!P());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var D=Z(f.expirationTime<=q);q=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(l)&&n(l),S(q)}else n(l);f=r(l)}if(f!==null)var K=!0;else{var Q=r(u);Q!==null&&z(C,Q.startTime-q),K=!1}return K}finally{f=null,h=Y,m=!1}}var O=!1,T=null,I=-1,L=5,U=-1;function P(){return!(e.unstable_now()-U<L)}function M(){if(T!==null){var G=e.unstable_now();U=G;var q=!0;try{q=T(!0,G)}finally{q?j():(O=!1,T=null)}}else O=!1}var j;if(typeof b=="function")j=function(){b(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=M,j=function(){X.postMessage(null)}}else j=function(){y(M,0)};function te(G){T=G,O||(O=!0,j())}function z(G,q){I=y(function(){G(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,te(E))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var Y=h;h=q;try{return G()}finally{h=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=h;h=G;try{return q()}finally{h=Y}},e.unstable_scheduleCallback=function(G,q,Y){var Z=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Y+D,G={id:d++,callback:q,priorityLevel:G,startTime:Y,expirationTime:D,sortIndex:-1},Y>Z?(G.sortIndex=Y,t(u,G),r(l)===null&&G===r(u)&&(g?(_(I),I=-1):g=!0,z(C,Y-Z))):(G.sortIndex=D,t(l,G),x||m||(x=!0,te(E))),G},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(G){var q=h;return function(){var Y=h;h=q;try{return G.apply(this,arguments)}finally{h=Y}}}}(qA)),qA}var FM;function Hse(){return FM||(FM=1,UA.exports=Vse()),UA.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LM;function Gse(){if(LM)return kl;LM=1;var e=r4(),t=Hse();function r(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,k=1;k<arguments.length;k++)v+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(p,v){o(p,v),o(p+"Capture",v)}function o(p,v){for(a[p]=v,p=0;p<v.length;p++)n.add(v[p])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(p){return l.call(f,p)?!0:l.call(d,p)?!1:u.test(p)?f[p]=!0:(d[p]=!0,!1)}function m(p,v,k,R){if(k!==null&&k.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return R?!1:k!==null?!k.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function x(p,v,k,R){if(v===null||typeof v>"u"||m(p,v,k,R))return!0;if(R)return!1;if(k!==null)switch(k.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function g(p,v,k,R,W,ee,he){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=R,this.attributeNamespace=W,this.mustUseProperty=k,this.propertyName=p,this.type=v,this.sanitizeURL=ee,this.removeEmptyString=he}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){y[p]=new g(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];y[v]=new g(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){y[p]=new g(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){y[p]=new g(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){y[p]=new g(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){y[p]=new g(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){y[p]=new g(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){y[p]=new g(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){y[p]=new g(p,5,!1,p.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function b(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(_,b);y[v]=new g(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(_,b);y[v]=new g(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(_,b);y[v]=new g(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){y[p]=new g(p,1,!1,p.toLowerCase(),null,!0,!0)});function S(p,v,k,R){var W=y.hasOwnProperty(v)?y[v]:null;(W!==null?W.type!==0:R||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(x(v,k,W,R)&&(k=null),R||W===null?h(v)&&(k===null?p.removeAttribute(v):p.setAttribute(v,""+k)):W.mustUseProperty?p[W.propertyName]=k===null?W.type===3?!1:"":k:(v=W.attributeName,R=W.attributeNamespace,k===null?p.removeAttribute(v):(W=W.type,k=W===3||W===4&&k===!0?"":""+k,R?p.setAttributeNS(R,v,k):p.setAttribute(v,k))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),G=Symbol.iterator;function q(p){return p===null||typeof p!="object"?null:(p=G&&p[G]||p["@@iterator"],typeof p=="function"?p:null)}var Y=Object.assign,Z;function D(p){if(Z===void 0)try{throw Error()}catch(k){var v=k.stack.trim().match(/\n( *(at )?)/);Z=v&&v[1]||""}return`
`+Z+p}var K=!1;function Q(p,v){if(!p||K)return"";K=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(ht){var R=ht}Reflect.construct(p,[],v)}else{try{v.call()}catch(ht){R=ht}p.call(v.prototype)}else{try{throw Error()}catch(ht){R=ht}p()}}catch(ht){if(ht&&R&&typeof ht.stack=="string"){for(var W=ht.stack.split(`
`),ee=R.stack.split(`
`),he=W.length-1,Te=ee.length-1;1<=he&&0<=Te&&W[he]!==ee[Te];)Te--;for(;1<=he&&0<=Te;he--,Te--)if(W[he]!==ee[Te]){if(he!==1||Te!==1)do if(he--,Te--,0>Te||W[he]!==ee[Te]){var Ue=`
`+W[he].replace(" at new "," at ");return p.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",p.displayName)),Ue}while(1<=he&&0<=Te);break}}}finally{K=!1,Error.prepareStackTrace=k}return(p=p?p.displayName||p.name:"")?D(p):""}function ie(p){switch(p.tag){case 5:return D(p.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return p=Q(p.type,!1),p;case 11:return p=Q(p.type.render,!1),p;case 1:return p=Q(p.type,!0),p;default:return""}}function ae(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case T:return"Fragment";case O:return"Portal";case L:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case V:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case P:return(p.displayName||"Context")+".Consumer";case U:return(p._context.displayName||"Context")+".Provider";case M:var v=p.render;return p=p.displayName,p||(p=v.displayName||v.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case X:return v=p.displayName||null,v!==null?v:ae(p.type)||"Memo";case te:v=p._payload,p=p._init;try{return ae(p(v))}catch{}}return null}function oe(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=v.render,p=p.displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(v);case 8:return v===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function de(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function J(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function ue(p){var v=J(p)?"checked":"value",k=Object.getOwnPropertyDescriptor(p.constructor.prototype,v),R=""+p[v];if(!p.hasOwnProperty(v)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var W=k.get,ee=k.set;return Object.defineProperty(p,v,{configurable:!0,get:function(){return W.call(this)},set:function(he){R=""+he,ee.call(this,he)}}),Object.defineProperty(p,v,{enumerable:k.enumerable}),{getValue:function(){return R},setValue:function(he){R=""+he},stopTracking:function(){p._valueTracker=null,delete p[v]}}}}function ge(p){p._valueTracker||(p._valueTracker=ue(p))}function ne(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var k=v.getValue(),R="";return p&&(R=J(p)?p.checked?"true":"false":p.value),p=R,p!==k?(v.setValue(p),!0):!1}function Ne(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function Re(p,v){var k=v.checked;return Y({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??p._wrapperState.initialChecked})}function De(p,v){var k=v.defaultValue==null?"":v.defaultValue,R=v.checked!=null?v.checked:v.defaultChecked;k=de(v.value!=null?v.value:k),p._wrapperState={initialChecked:R,initialValue:k,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function pe(p,v){v=v.checked,v!=null&&S(p,"checked",v,!1)}function Je(p,v){pe(p,v);var k=de(v.value),R=v.type;if(k!=null)R==="number"?(k===0&&p.value===""||p.value!=k)&&(p.value=""+k):p.value!==""+k&&(p.value=""+k);else if(R==="submit"||R==="reset"){p.removeAttribute("value");return}v.hasOwnProperty("value")?dt(p,v.type,k):v.hasOwnProperty("defaultValue")&&dt(p,v.type,de(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function mt(p,v,k){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var R=v.type;if(!(R!=="submit"&&R!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,k||v===p.value||(p.value=v),p.defaultValue=v}k=p.name,k!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,k!==""&&(p.name=k)}function dt(p,v,k){(v!=="number"||Ne(p.ownerDocument)!==p)&&(k==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+k&&(p.defaultValue=""+k))}var Tt=Array.isArray;function lt(p,v,k,R){if(p=p.options,v){v={};for(var W=0;W<k.length;W++)v["$"+k[W]]=!0;for(k=0;k<p.length;k++)W=v.hasOwnProperty("$"+p[k].value),p[k].selected!==W&&(p[k].selected=W),W&&R&&(p[k].defaultSelected=!0)}else{for(k=""+de(k),v=null,W=0;W<p.length;W++){if(p[W].value===k){p[W].selected=!0,R&&(p[W].defaultSelected=!0);return}v!==null||p[W].disabled||(v=p[W])}v!==null&&(v.selected=!0)}}function _e(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Ce(p,v){var k=v.value;if(k==null){if(k=v.children,v=v.defaultValue,k!=null){if(v!=null)throw Error(r(92));if(Tt(k)){if(1<k.length)throw Error(r(93));k=k[0]}v=k}v==null&&(v=""),k=v}p._wrapperState={initialValue:de(k)}}function We(p,v){var k=de(v.value),R=de(v.defaultValue);k!=null&&(k=""+k,k!==p.value&&(p.value=k),v.defaultValue==null&&p.defaultValue!==k&&(p.defaultValue=k)),R!=null&&(p.defaultValue=""+R)}function ft(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function vt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?vt(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Ve,_t=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,k,R,W){MSApp.execUnsafeLocalFunction(function(){return p(v,k,R,W)})}:p}(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Ve.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function At(p,v){if(v){var k=p.firstChild;if(k&&k===p.lastChild&&k.nodeType===3){k.nodeValue=v;return}}p.textContent=v}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wr=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(p){wr.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),ut[v]=ut[p]})});function nr(p,v,k){return v==null||typeof v=="boolean"||v===""?"":k||typeof v!="number"||v===0||ut.hasOwnProperty(p)&&ut[p]?(""+v).trim():v+"px"}function Jr(p,v){p=p.style;for(var k in v)if(v.hasOwnProperty(k)){var R=k.indexOf("--")===0,W=nr(k,v[k],R);k==="float"&&(k="cssFloat"),R?p.setProperty(k,W):p[k]=W}}var dn=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(p,v){if(v){if(dn[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function Pi(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fn=null;function oi(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Vn=null,Ja=null,Qa=null;function Dn(p){if(p=up(p)){if(typeof Vn!="function")throw Error(r(280));var v=p.stateNode;v&&(v=i0(v),Vn(p.stateNode,p.type,v))}}function Ge(p){Ja?Qa?Qa.push(p):Qa=[p]:Ja=p}function Pt(){if(Ja){var p=Ja,v=Qa;if(Qa=Ja=null,Dn(p),v)for(p=0;p<v.length;p++)Dn(v[p])}}function An(p,v){return p(v)}function ha(){}var co=!1;function bo(p,v,k){if(co)return p(v,k);co=!0;try{return An(p,v,k)}finally{co=!1,(Ja!==null||Qa!==null)&&(ha(),Pt())}}function Cr(p,v){var k=p.stateNode;if(k===null)return null;var R=i0(k);if(R===null)return null;k=R[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(p=p.type,R=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!R;break e;default:p=!1}if(p)return null;if(k&&typeof k!="function")throw Error(r(231,v,typeof k));return k}var xt=!1;if(s)try{var wt={};Object.defineProperty(wt,"passive",{get:function(){xt=!0}}),window.addEventListener("test",wt,wt),window.removeEventListener("test",wt,wt)}catch{xt=!1}function mr(p,v,k,R,W,ee,he,Te,Ue){var ht=Array.prototype.slice.call(arguments,3);try{v.apply(k,ht)}catch(Lt){this.onError(Lt)}}var Nr=!1,Zt=null,ce=!1,Se=null,ye={onError:function(p){Nr=!0,Zt=p}};function we(p,v,k,R,W,ee,he,Te,Ue){Nr=!1,Zt=null,mr.apply(ye,arguments)}function be(p,v,k,R,W,ee,he,Te,Ue){if(we.apply(this,arguments),Nr){if(Nr){var ht=Zt;Nr=!1,Zt=null}else throw Error(r(198));ce||(ce=!0,Se=ht)}}function ke(p){var v=p,k=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do v=p,(v.flags&4098)!==0&&(k=v.return),p=v.return;while(p)}return v.tag===3?k:null}function et(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate,p!==null&&(v=p.memoizedState)),v!==null)return v.dehydrated}return null}function pt(p){if(ke(p)!==p)throw Error(r(188))}function Ye(p){var v=p.alternate;if(!v){if(v=ke(p),v===null)throw Error(r(188));return v!==p?null:p}for(var k=p,R=v;;){var W=k.return;if(W===null)break;var ee=W.alternate;if(ee===null){if(R=W.return,R!==null){k=R;continue}break}if(W.child===ee.child){for(ee=W.child;ee;){if(ee===k)return pt(W),p;if(ee===R)return pt(W),v;ee=ee.sibling}throw Error(r(188))}if(k.return!==R.return)k=W,R=ee;else{for(var he=!1,Te=W.child;Te;){if(Te===k){he=!0,k=W,R=ee;break}if(Te===R){he=!0,R=W,k=ee;break}Te=Te.sibling}if(!he){for(Te=ee.child;Te;){if(Te===k){he=!0,k=ee,R=W;break}if(Te===R){he=!0,R=ee,k=W;break}Te=Te.sibling}if(!he)throw Error(r(189))}}if(k.alternate!==R)throw Error(r(190))}if(k.tag!==3)throw Error(r(188));return k.stateNode.current===k?p:v}function at(p){return p=Ye(p),p!==null?st(p):null}function st(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=st(p);if(v!==null)return v;p=p.sibling}return null}var It=t.unstable_scheduleCallback,Gt=t.unstable_cancelCallback,or=t.unstable_shouldYield,zt=t.unstable_requestPaint,$t=t.unstable_now,Gr=t.unstable_getCurrentPriorityLevel,Mn=t.unstable_ImmediatePriority,Qn=t.unstable_UserBlockingPriority,Fa=t.unstable_NormalPriority,Bl=t.unstable_LowPriority,xc=t.unstable_IdlePriority,Us=null,mi=null;function wc(p){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Us,p,void 0,(p.current.flags&128)===128)}catch{}}var La=Math.clz32?Math.clz32:jg,si=Math.log,Lg=Math.LN2;function jg(p){return p>>>=0,p===0?32:31-(si(p)/Lg|0)|0}var wf=64,dd=4194304;function _f(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function os(p,v){var k=p.pendingLanes;if(k===0)return 0;var R=0,W=p.suspendedLanes,ee=p.pingedLanes,he=k&268435455;if(he!==0){var Te=he&~W;Te!==0?R=_f(Te):(ee&=he,ee!==0&&(R=_f(ee)))}else he=k&~W,he!==0?R=_f(he):ee!==0&&(R=_f(ee));if(R===0)return 0;if(v!==0&&v!==R&&(v&W)===0&&(W=R&-R,ee=v&-v,W>=ee||W===16&&(ee&4194240)!==0))return v;if((R&4)!==0&&(R|=k&16),v=p.entangledLanes,v!==0)for(p=p.entanglements,v&=R;0<v;)k=31-La(v),W=1<<k,R|=p[k],v&=~W;return R}function Lh(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(p,v){for(var k=p.suspendedLanes,R=p.pingedLanes,W=p.expirationTimes,ee=p.pendingLanes;0<ee;){var he=31-La(ee),Te=1<<he,Ue=W[he];Ue===-1?((Te&k)===0||(Te&R)!==0)&&(W[he]=Lh(Te,v)):Ue<=v&&(p.expiredLanes|=Te),ee&=~Te}}function bf(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Bm(){var p=wf;return wf<<=1,(wf&4194240)===0&&(wf=64),p}function Um(p){for(var v=[],k=0;31>k;k++)v.push(p);return v}function fd(p,v,k){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,v=31-La(v),p[v]=k}function ky(p,v){var k=p.pendingLanes&~v;p.pendingLanes=v,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=v,p.mutableReadLanes&=v,p.entangledLanes&=v,v=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<k;){var W=31-La(k),ee=1<<W;v[W]=0,R[W]=-1,p[W]=-1,k&=~ee}}function jh(p,v){var k=p.entangledLanes|=v;for(p=p.entanglements;k;){var R=31-La(k),W=1<<R;W&v|p[R]&v&&(p[R]|=v),k&=~W}}var Bn=0;function $h(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var $g,qm,Bg,_c,Sf,hd=!1,Af=[],ja=null,bc=null,Ul=null,Br=new Map,kf=new Map,Sc=[],Ac="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zm(p,v){switch(p){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":bc=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Br.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(v.pointerId)}}function pd(p,v,k,R,W,ee){return p===null||p.nativeEvent!==ee?(p={blockedOn:v,domEventName:k,eventSystemFlags:R,nativeEvent:ee,targetContainers:[W]},v!==null&&(v=up(v),v!==null&&qm(v)),p):(p.eventSystemFlags|=R,v=p.targetContainers,W!==null&&v.indexOf(W)===-1&&v.push(W),p)}function Bh(p,v,k,R,W){switch(v){case"focusin":return ja=pd(ja,p,v,k,R,W),!0;case"dragenter":return bc=pd(bc,p,v,k,R,W),!0;case"mouseover":return Ul=pd(Ul,p,v,k,R,W),!0;case"pointerover":var ee=W.pointerId;return Br.set(ee,pd(Br.get(ee)||null,p,v,k,R,W)),!0;case"gotpointercapture":return ee=W.pointerId,kf.set(ee,pd(kf.get(ee)||null,p,v,k,R,W)),!0}return!1}function Uh(p){var v=kd(p.target);if(v!==null){var k=ke(v);if(k!==null){if(v=k.tag,v===13){if(v=et(k),v!==null){p.blockedOn=v,Sf(p.priority,function(){Bg(k)});return}}else if(v===3&&k.stateNode.current.memoizedState.isDehydrated){p.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}p.blockedOn=null}function qh(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var k=Wh(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(k===null){k=p.nativeEvent;var R=new k.constructor(k.type,k);fn=R,k.target.dispatchEvent(R),fn=null}else return v=up(k),v!==null&&qm(v),p.blockedOn=k,!1;v.shift()}return!0}function Ug(p,v,k){qh(p)&&k.delete(v)}function Ny(){hd=!1,ja!==null&&qh(ja)&&(ja=null),bc!==null&&qh(bc)&&(bc=null),Ul!==null&&qh(Ul)&&(Ul=null),Br.forEach(Ug),kf.forEach(Ug)}function ou(p,v){p.blockedOn===v&&(p.blockedOn=null,hd||(hd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ny)))}function ql(p){function v(W){return ou(W,p)}if(0<Af.length){ou(Af[0],p);for(var k=1;k<Af.length;k++){var R=Af[k];R.blockedOn===p&&(R.blockedOn=null)}}for(ja!==null&&ou(ja,p),bc!==null&&ou(bc,p),Ul!==null&&ou(Ul,p),Br.forEach(v),kf.forEach(v),k=0;k<Sc.length;k++)R=Sc[k],R.blockedOn===p&&(R.blockedOn=null);for(;0<Sc.length&&(k=Sc[0],k.blockedOn===null);)Uh(k),k.blockedOn===null&&Sc.shift()}var qs=C.ReactCurrentBatchConfig,zh=!0;function Nf(p,v,k,R){var W=Bn,ee=qs.transition;qs.transition=null;try{Bn=1,md(p,v,k,R)}finally{Bn=W,qs.transition=ee}}function Wm(p,v,k,R){var W=Bn,ee=qs.transition;qs.transition=null;try{Bn=4,md(p,v,k,R)}finally{Bn=W,qs.transition=ee}}function md(p,v,k,R){if(zh){var W=Wh(p,v,k,R);if(W===null)r0(p,v,R,Ef,k),zm(p,R);else if(Bh(W,p,v,k,R))R.stopPropagation();else if(zm(p,R),v&4&&-1<Ac.indexOf(p)){for(;W!==null;){var ee=up(W);if(ee!==null&&$g(ee),ee=Wh(p,v,k,R),ee===null&&r0(p,v,R,Ef,k),ee===W)break;W=ee}W!==null&&R.stopPropagation()}else r0(p,v,R,null,k)}}var Ef=null;function Wh(p,v,k,R){if(Ef=null,p=oi(R),p=kd(p),p!==null)if(v=ke(p),v===null)p=null;else if(k=v.tag,k===13){if(p=et(v),p!==null)return p;p=null}else if(k===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Ef=p,null}function Vm(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gr()){case Mn:return 1;case Qn:return 4;case Fa:case Bl:return 16;case xc:return 536870912;default:return 16}default:return 16}}var zl=null,hl=null,pl=null;function qg(){if(pl)return pl;var p,v=hl,k=v.length,R,W="value"in zl?zl.value:zl.textContent,ee=W.length;for(p=0;p<k&&v[p]===W[p];p++);var he=k-p;for(R=1;R<=he&&v[k-R]===W[ee-R];R++);return pl=W.slice(p,1<R?1-R:void 0)}function Wl(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&v===13&&(p=13)):p=v,p===10&&(p=13),32<=p||p===13?p:0}function ls(){return!0}function Vh(){return!1}function Oi(p){function v(k,R,W,ee,he){this._reactName=k,this._targetInst=W,this.type=R,this.nativeEvent=ee,this.target=he,this.currentTarget=null;for(var Te in p)p.hasOwnProperty(Te)&&(k=p[Te],this[Te]=k?k(ee):ee[Te]);return this.isDefaultPrevented=(ee.defaultPrevented!=null?ee.defaultPrevented:ee.returnValue===!1)?ls:Vh,this.isPropagationStopped=Vh,this}return Y(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),v}var gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vd=Oi(gd),Cf=Y({},gd,{view:0,detail:0}),Hm=Oi(Cf),Tf,Hh,kc,yd=Y({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==kc&&(kc&&p.type==="mousemove"?(Tf=p.screenX-kc.screenX,Hh=p.screenY-kc.screenY):Hh=Tf=0,kc=p),Tf)},movementY:function(p){return"movementY"in p?p.movementY:Hh}}),Gh=Oi(yd),zg=Y({},yd,{dataTransfer:0}),Ey=Oi(zg),Kh=Y({},Cf,{relatedTarget:0}),su=Oi(Kh),Gm=Y({},gd,{animationName:0,elapsedTime:0,pseudoElement:0}),xd=Oi(Gm),Km=Y({},gd,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),B=Oi(Km),le=Y({},gd,{data:0}),Ee=Oi(le),$e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mt(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):(p=bt[p])?!!v[p]:!1}function sr(){return Mt}var Dr=Y({},Cf,{key:function(p){if(p.key){var v=$e[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=Wl(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?tt[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(p){return p.type==="keypress"?Wl(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Wl(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),ln=Oi(Dr),sn=Y({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cn=Oi(sn),$a=Y({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),ei=Oi($a),gi=Y({},gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),So=Oi(gi),Zi=Y({},yd,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=Oi(Zi),zs=[9,13,27,32],ml=s&&"CompositionEvent"in window,wd=null;s&&"documentMode"in document&&(wd=document.documentMode);var Ym=s&&"TextEvent"in window&&!wd,Yh=s&&(!ml||wd&&8<wd&&11>=wd),Pf=" ",Xh=!1;function Zh(p,v){switch(p){case"keyup":return zs.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Of(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var ti=!1;function Jh(p,v){switch(p){case"compositionend":return Of(v);case"keypress":return v.which!==32?null:(Xh=!0,Pf);case"textInput":return p=v.data,p===Pf&&Xh?null:p;default:return null}}function Qh(p,v){if(ti)return p==="compositionend"||!ml&&Zh(p,v)?(p=qg(),pl=hl=zl=null,ti=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Yh&&v.locale!=="ko"?null:v.data;default:return null}}var ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!ep[p.type]:v==="textarea"}function zo(p,v,k,R){Ge(R),v=Gg(v,"onChange"),0<v.length&&(k=new vd("onChange","change",null,k,R),p.push({event:k,listeners:v}))}var Df=null,lu=null;function Wg(p){e0(p,0)}function Wo(p){var v=Uf(p);if(ne(v))return p}function rp(p,v){if(p==="change")return v}var Xm=!1;if(s){var np;if(s){var Nc="oninput"in document;if(!Nc){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Nc=typeof _d.oninput=="function"}np=Nc}else np=!1;Xm=np&&(!document.documentMode||9<document.documentMode)}function Vo(){Df&&(Df.detachEvent("onpropertychange",Ao),lu=Df=null)}function Ao(p){if(p.propertyName==="value"&&Wo(lu)){var v=[];zo(v,lu,p,oi(p)),bo(Wg,v)}}function bd(p,v,k){p==="focusin"?(Vo(),Df=v,lu=k,Df.attachEvent("onpropertychange",Ao)):p==="focusout"&&Vo()}function cu(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Wo(lu)}function uu(p,v){if(p==="click")return Wo(v)}function ap(p,v){if(p==="input"||p==="change")return Wo(v)}function du(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var Un=typeof Object.is=="function"?Object.is:du;function fu(p,v){if(Un(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var k=Object.keys(p),R=Object.keys(v);if(k.length!==R.length)return!1;for(R=0;R<k.length;R++){var W=k[R];if(!l.call(v,W)||!Un(p[W],v[W]))return!1}return!0}function ko(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Ws(p,v){var k=ko(p);p=0;for(var R;k;){if(k.nodeType===3){if(R=p+k.textContent.length,p<=v&&R>=v)return{node:k,offset:v-p};p=R}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=ko(k)}}function If(p,v){return p&&v?p===v?!0:p&&p.nodeType===3?!1:v&&v.nodeType===3?If(p,v.parentNode):"contains"in p?p.contains(v):p.compareDocumentPosition?!!(p.compareDocumentPosition(v)&16):!1:!1}function Zm(){for(var p=window,v=Ne();v instanceof p.HTMLIFrameElement;){try{var k=typeof v.contentWindow.location.href=="string"}catch{k=!1}if(k)p=v.contentWindow;else break;v=Ne(p.document)}return v}function Rf(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function Mf(p){var v=Zm(),k=p.focusedElem,R=p.selectionRange;if(v!==k&&k&&k.ownerDocument&&If(k.ownerDocument.documentElement,k)){if(R!==null&&Rf(k)){if(v=R.start,p=R.end,p===void 0&&(p=v),"selectionStart"in k)k.selectionStart=v,k.selectionEnd=Math.min(p,k.value.length);else if(p=(v=k.ownerDocument||document)&&v.defaultView||window,p.getSelection){p=p.getSelection();var W=k.textContent.length,ee=Math.min(R.start,W);R=R.end===void 0?ee:Math.min(R.end,W),!p.extend&&ee>R&&(W=R,R=ee,ee=W),W=Ws(k,ee);var he=Ws(k,R);W&&he&&(p.rangeCount!==1||p.anchorNode!==W.node||p.anchorOffset!==W.offset||p.focusNode!==he.node||p.focusOffset!==he.offset)&&(v=v.createRange(),v.setStart(W.node,W.offset),p.removeAllRanges(),ee>R?(p.addRange(v),p.extend(he.node,he.offset)):(v.setEnd(he.node,he.offset),p.addRange(v)))}}for(v=[],p=k;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<v.length;k++)p=v[k],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Ff=s&&"documentMode"in document&&11>=document.documentMode,Vs=null,hu=null,Ec=null,pu=!1;function mu(p,v,k){var R=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;pu||Vs==null||Vs!==Ne(R)||(R=Vs,"selectionStart"in R&&Rf(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Ec&&fu(Ec,R)||(Ec=R,R=Gg(hu,"onSelect"),0<R.length&&(v=new vd("onSelect","select",null,v,k),p.push({event:v,listeners:R}),v.target=Vs)))}function Sd(p,v){var k={};return k[p.toLowerCase()]=v.toLowerCase(),k["Webkit"+p]="webkit"+v,k["Moz"+p]="moz"+v,k}var uo={animationend:Sd("Animation","AnimationEnd"),animationiteration:Sd("Animation","AnimationIteration"),animationstart:Sd("Animation","AnimationStart"),transitionend:Sd("Transition","TransitionEnd")},cs={},pa={};s&&(pa=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ea(p){if(cs[p])return cs[p];if(!uo[p])return p;var v=uo[p],k;for(k in v)if(v.hasOwnProperty(k)&&k in pa)return cs[p]=v[k];return p}var ri=ea("animationend"),vi=ea("animationiteration"),Cc=ea("animationstart"),ip=ea("transitionend"),Lf=new Map,Jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tc(p,v){Lf.set(p,v),i(v,[p])}for(var op=0;op<Jm.length;op++){var Ho=Jm[op],gl=Ho.toLowerCase(),Vg=Ho[0].toUpperCase()+Ho.slice(1);Tc(gl,"on"+Vg)}Tc(ri,"onAnimationEnd"),Tc(vi,"onAnimationIteration"),Tc(Cc,"onAnimationStart"),Tc("dblclick","onDoubleClick"),Tc("focusin","onFocus"),Tc("focusout","onBlur"),Tc(ip,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ad));function Qm(p,v,k){var R=p.type||"unknown-event";p.currentTarget=k,be(R,v,void 0,p),p.currentTarget=null}function e0(p,v){v=(v&4)!==0;for(var k=0;k<p.length;k++){var R=p[k],W=R.event;R=R.listeners;e:{var ee=void 0;if(v)for(var he=R.length-1;0<=he;he--){var Te=R[he],Ue=Te.instance,ht=Te.currentTarget;if(Te=Te.listener,Ue!==ee&&W.isPropagationStopped())break e;Qm(W,Te,ht),ee=Ue}else for(he=0;he<R.length;he++){if(Te=R[he],Ue=Te.instance,ht=Te.currentTarget,Te=Te.listener,Ue!==ee&&W.isPropagationStopped())break e;Qm(W,Te,ht),ee=Ue}}}if(ce)throw p=Se,ce=!1,Se=null,p}function ma(p,v){var k=v[ds];k===void 0&&(k=v[ds]=new Set);var R=p+"__bubble";k.has(R)||(t0(v,p,2,!1),k.add(R))}function Hg(p,v,k){var R=0;v&&(R|=4),t0(k,p,R,v)}var sp="_reactListening"+Math.random().toString(36).slice(2);function jf(p){if(!p[sp]){p[sp]=!0,n.forEach(function(k){k!=="selectionchange"&&(u_.has(k)||Hg(k,!1,p),Hg(k,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[sp]||(v[sp]=!0,Hg("selectionchange",!1,v))}}function t0(p,v,k,R){switch(Vm(v)){case 1:var W=Nf;break;case 4:W=Wm;break;default:W=md}k=W.bind(null,v,k,p),W=void 0,!xt||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(W=!0),R?W!==void 0?p.addEventListener(v,k,{capture:!0,passive:W}):p.addEventListener(v,k,!0):W!==void 0?p.addEventListener(v,k,{passive:W}):p.addEventListener(v,k,!1)}function r0(p,v,k,R,W){var ee=R;if((v&1)===0&&(v&2)===0&&R!==null)e:for(;;){if(R===null)return;var he=R.tag;if(he===3||he===4){var Te=R.stateNode.containerInfo;if(Te===W||Te.nodeType===8&&Te.parentNode===W)break;if(he===4)for(he=R.return;he!==null;){var Ue=he.tag;if((Ue===3||Ue===4)&&(Ue=he.stateNode.containerInfo,Ue===W||Ue.nodeType===8&&Ue.parentNode===W))return;he=he.return}for(;Te!==null;){if(he=kd(Te),he===null)return;if(Ue=he.tag,Ue===5||Ue===6){R=ee=he;continue e}Te=Te.parentNode}}R=R.return}bo(function(){var ht=ee,Lt=oi(k),Bt=[];e:{var Ft=Lf.get(p);if(Ft!==void 0){var pr=vd,Ar=p;switch(p){case"keypress":if(Wl(k)===0)break e;case"keydown":case"keyup":pr=ln;break;case"focusin":Ar="focus",pr=su;break;case"focusout":Ar="blur",pr=su;break;case"beforeblur":case"afterblur":pr=su;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pr=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pr=Ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pr=ei;break;case ri:case vi:case Cc:pr=xd;break;case ip:pr=So;break;case"scroll":pr=Hm;break;case"wheel":pr=Vl;break;case"copy":case"cut":case"paste":pr=B;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pr=Cn}var Er=(v&4)!==0,Mi=!Er&&p==="scroll",it=Er?Ft!==null?Ft+"Capture":null:Ft;Er=[];for(var Ke=ht,ct;Ke!==null;){ct=Ke;var Xt=ct.stateNode;if(ct.tag===5&&Xt!==null&&(ct=Xt,it!==null&&(Xt=Cr(Ke,it),Xt!=null&&Er.push(n0(Ke,Xt,ct)))),Mi)break;Ke=Ke.return}0<Er.length&&(Ft=new pr(Ft,Ar,null,k,Lt),Bt.push({event:Ft,listeners:Er}))}}if((v&7)===0){e:{if(Ft=p==="mouseover"||p==="pointerover",pr=p==="mouseout"||p==="pointerout",Ft&&k!==fn&&(Ar=k.relatedTarget||k.fromElement)&&(kd(Ar)||Ar[No]))break e;if((pr||Ft)&&(Ft=Lt.window===Lt?Lt:(Ft=Lt.ownerDocument)?Ft.defaultView||Ft.parentWindow:window,pr?(Ar=k.relatedTarget||k.toElement,pr=ht,Ar=Ar?kd(Ar):null,Ar!==null&&(Mi=ke(Ar),Ar!==Mi||Ar.tag!==5&&Ar.tag!==6)&&(Ar=null)):(pr=null,Ar=ht),pr!==Ar)){if(Er=Gh,Xt="onMouseLeave",it="onMouseEnter",Ke="mouse",(p==="pointerout"||p==="pointerover")&&(Er=Cn,Xt="onPointerLeave",it="onPointerEnter",Ke="pointer"),Mi=pr==null?Ft:Uf(pr),ct=Ar==null?Ft:Uf(Ar),Ft=new Er(Xt,Ke+"leave",pr,k,Lt),Ft.target=Mi,Ft.relatedTarget=ct,Xt=null,kd(Lt)===ht&&(Er=new Er(it,Ke+"enter",Ar,k,Lt),Er.target=ct,Er.relatedTarget=Mi,Xt=Er),Mi=Xt,pr&&Ar)t:{for(Er=pr,it=Ar,Ke=0,ct=Er;ct;ct=$f(ct))Ke++;for(ct=0,Xt=it;Xt;Xt=$f(Xt))ct++;for(;0<Ke-ct;)Er=$f(Er),Ke--;for(;0<ct-Ke;)it=$f(it),ct--;for(;Ke--;){if(Er===it||it!==null&&Er===it.alternate)break t;Er=$f(Er),it=$f(it)}Er=null}else Er=null;pr!==null&&d_(Bt,Ft,pr,Er,!1),Ar!==null&&Mi!==null&&d_(Bt,Mi,Ar,Er,!0)}}e:{if(Ft=ht?Uf(ht):window,pr=Ft.nodeName&&Ft.nodeName.toLowerCase(),pr==="select"||pr==="input"&&Ft.type==="file")var Tr=rp;else if(tp(Ft))if(Xm)Tr=ap;else{Tr=cu;var Mr=bd}else(pr=Ft.nodeName)&&pr.toLowerCase()==="input"&&(Ft.type==="checkbox"||Ft.type==="radio")&&(Tr=uu);if(Tr&&(Tr=Tr(p,ht))){zo(Bt,Tr,k,Lt);break e}Mr&&Mr(p,Ft,ht),p==="focusout"&&(Mr=Ft._wrapperState)&&Mr.controlled&&Ft.type==="number"&&dt(Ft,"number",Ft.value)}switch(Mr=ht?Uf(ht):window,p){case"focusin":(tp(Mr)||Mr.contentEditable==="true")&&(Vs=Mr,hu=ht,Ec=null);break;case"focusout":Ec=hu=Vs=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,mu(Bt,k,Lt);break;case"selectionchange":if(Ff)break;case"keydown":case"keyup":mu(Bt,k,Lt)}var Fr;if(ml)e:{switch(p){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else ti?Zh(p,k)&&(an="onCompositionEnd"):p==="keydown"&&k.keyCode===229&&(an="onCompositionStart");an&&(Yh&&k.locale!=="ko"&&(ti||an!=="onCompositionStart"?an==="onCompositionEnd"&&ti&&(Fr=qg()):(zl=Lt,hl="value"in zl?zl.value:zl.textContent,ti=!0)),Mr=Gg(ht,an),0<Mr.length&&(an=new Ee(an,p,null,k,Lt),Bt.push({event:an,listeners:Mr}),Fr?an.data=Fr:(Fr=Of(k),Fr!==null&&(an.data=Fr)))),(Fr=Ym?Jh(p,k):Qh(p,k))&&(ht=Gg(ht,"onBeforeInput"),0<ht.length&&(Lt=new Ee("onBeforeInput","beforeinput",null,k,Lt),Bt.push({event:Lt,listeners:ht}),Lt.data=Fr))}e0(Bt,v)})}function n0(p,v,k){return{instance:p,listener:v,currentTarget:k}}function Gg(p,v){for(var k=v+"Capture",R=[];p!==null;){var W=p,ee=W.stateNode;W.tag===5&&ee!==null&&(W=ee,ee=Cr(p,k),ee!=null&&R.unshift(n0(p,ee,W)),ee=Cr(p,v),ee!=null&&R.push(n0(p,ee,W))),p=p.return}return R}function $f(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function d_(p,v,k,R,W){for(var ee=v._reactName,he=[];k!==null&&k!==R;){var Te=k,Ue=Te.alternate,ht=Te.stateNode;if(Ue!==null&&Ue===R)break;Te.tag===5&&ht!==null&&(Te=ht,W?(Ue=Cr(k,ee),Ue!=null&&he.unshift(n0(k,Ue,Te))):W||(Ue=Cr(k,ee),Ue!=null&&he.push(n0(k,Ue,Te)))),k=k.return}he.length!==0&&p.push({event:v,listeners:he})}var Q3=/\r\n?/g,eA=/\u0000|\uFFFD/g;function f_(p){return(typeof p=="string"?p:""+p).replace(Q3,`
`).replace(eA,"")}function Kg(p,v,k){if(v=f_(v),f_(p)!==v&&k)throw Error(r(425))}function lp(){}var a0=null,Bf=null;function Cy(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Ty=typeof setTimeout=="function"?setTimeout:void 0,h_=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(p){return p_.resolve(null).then(p).catch(rA)}:Ty;function rA(p){setTimeout(function(){throw p})}function Py(p,v){var k=v,R=0;do{var W=k.nextSibling;if(p.removeChild(k),W&&W.nodeType===8)if(k=W.data,k==="/$"){if(R===0){p.removeChild(W),ql(v);return}R--}else k!=="$"&&k!=="$?"&&k!=="$!"||R++;k=W}while(k);ql(v)}function Go(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if(v=p.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function vl(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var k=p.data;if(k==="$"||k==="$!"||k==="$?"){if(v===0)return p;v--}else k==="/$"&&v++}p=p.previousSibling}return null}var us=Math.random().toString(36).slice(2),Pc="__reactFiber$"+us,cp="__reactProps$"+us,No="__reactContainer$"+us,ds="__reactEvents$"+us,nA="__reactListeners$"+us,aA="__reactHandles$"+us;function kd(p){var v=p[Pc];if(v)return v;for(var k=p.parentNode;k;){if(v=k[No]||k[Pc]){if(k=v.alternate,v.child!==null||k!==null&&k.child!==null)for(p=vl(p);p!==null;){if(k=p[Pc])return k;p=vl(p)}return v}p=k,k=p.parentNode}return null}function up(p){return p=p[Pc]||p[No],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Uf(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function i0(p){return p[cp]||null}var Oy=[],gu=-1;function Hl(p){return{current:p}}function ta(p){0>gu||(p.current=Oy[gu],Oy[gu]=null,gu--)}function sa(p,v){gu++,Oy[gu]=p.current,p.current=v}var Nd={},fo=Hl(Nd),fs=Hl(!1),qf=Nd;function dp(p,v){var k=p.type.contextTypes;if(!k)return Nd;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===v)return R.__reactInternalMemoizedMaskedChildContext;var W={},ee;for(ee in k)W[ee]=v[ee];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=W),W}function hs(p){return p=p.childContextTypes,p!=null}function Yg(){ta(fs),ta(fo)}function m_(p,v,k){if(fo.current!==Nd)throw Error(r(168));sa(fo,v),sa(fs,k)}function Dy(p,v,k){var R=p.stateNode;if(v=v.childContextTypes,typeof R.getChildContext!="function")return k;R=R.getChildContext();for(var W in R)if(!(W in v))throw Error(r(108,oe(p)||"Unknown",W));return Y({},k,R)}function zf(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Nd,qf=fo.current,sa(fo,p),sa(fs,fs.current),!0}function g_(p,v,k){var R=p.stateNode;if(!R)throw Error(r(169));k?(p=Dy(p,v,qf),R.__reactInternalMemoizedMergedChildContext=p,ta(fs),ta(fo),sa(fo,p)):ta(fs),sa(fs,k)}var vu=null,o0=!1,N=!1;function F(p){vu===null?vu=[p]:vu.push(p)}function H(p){o0=!0,F(p)}function re(){if(!N&&vu!==null){N=!0;var p=0,v=Bn;try{var k=vu;for(Bn=1;p<k.length;p++){var R=k[p];do R=R(!0);while(R!==null)}vu=null,o0=!1}catch(W){throw vu!==null&&(vu=vu.slice(p+1)),It(Mn,re),W}finally{Bn=v,N=!1}}return null}var se=[],fe=0,me=null,ve=0,xe=[],Ae=0,Be=null,rt=1,nt="";function Xe(p,v){se[fe++]=ve,se[fe++]=me,me=p,ve=v}function Ot(p,v,k){xe[Ae++]=rt,xe[Ae++]=nt,xe[Ae++]=Be,Be=p;var R=rt;p=nt;var W=32-La(R)-1;R&=~(1<<W),k+=1;var ee=32-La(v)+W;if(30<ee){var he=W-W%5;ee=(R&(1<<he)-1).toString(32),R>>=he,W-=he,rt=1<<32-La(v)+W|k<<W|R,nt=ee+p}else rt=1<<ee|k<<W|R,nt=p}function yt(p){p.return!==null&&(Xe(p,1),Ot(p,1,0))}function qe(p){for(;p===me;)me=se[--fe],se[fe]=null,ve=se[--fe],se[fe]=null;for(;p===Be;)Be=xe[--Ae],xe[Ae]=null,nt=xe[--Ae],xe[Ae]=null,rt=xe[--Ae],xe[Ae]=null}var ze=null,kt=null,St=!1,Et=null;function dr(p,v){var k=Fc(5,null,null,0);k.elementType="DELETED",k.stateNode=v,k.return=p,v=p.deletions,v===null?(p.deletions=[k],p.flags|=16):v.push(k)}function ar(p,v){switch(p.tag){case 5:var k=p.type;return v=v.nodeType!==1||k.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(p.stateNode=v,ze=p,kt=Go(v.firstChild),!0):!1;case 6:return v=p.pendingProps===""||v.nodeType!==3?null:v,v!==null?(p.stateNode=v,ze=p,kt=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(k=Be!==null?{id:rt,overflow:nt}:null,p.memoizedState={dehydrated:v,treeContext:k,retryLane:1073741824},k=Fc(18,null,null,0),k.stateNode=v,k.return=p,p.child=k,ze=p,kt=null,!0):!1;default:return!1}}function Ir(p){return(p.mode&1)!==0&&(p.flags&128)===0}function ir(p){if(St){var v=kt;if(v){var k=v;if(!ar(p,v)){if(Ir(p))throw Error(r(418));v=Go(k.nextSibling);var R=ze;v&&ar(p,v)?dr(R,k):(p.flags=p.flags&-4097|2,St=!1,ze=p)}}else{if(Ir(p))throw Error(r(418));p.flags=p.flags&-4097|2,St=!1,ze=p}}}function Fn(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;ze=p}function Ln(p){if(p!==ze)return!1;if(!St)return Fn(p),St=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=p.type,v=v!=="head"&&v!=="body"&&!Cy(p.type,p.memoizedProps)),v&&(v=kt)){if(Ir(p))throw In(),Error(r(418));for(;v;)dr(p,v),v=Go(v.nextSibling)}if(Fn(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var k=p.data;if(k==="/$"){if(v===0){kt=Go(p.nextSibling);break e}v--}else k!=="$"&&k!=="$!"&&k!=="$?"||v++}p=p.nextSibling}kt=null}}else kt=ze?Go(p.stateNode.nextSibling):null;return!0}function In(){for(var p=kt;p;)p=Go(p.nextSibling)}function pn(){kt=ze=null,St=!1}function ra(p){Et===null?Et=[p]:Et.push(p)}var la=C.ReactCurrentBatchConfig;function Qr(p,v,k){if(p=k.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(r(309));var R=k.stateNode}if(!R)throw Error(r(147,p));var W=R,ee=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===ee?v.ref:(v=function(he){var Te=W.refs;he===null?delete Te[ee]:Te[ee]=he},v._stringRef=ee,v)}if(typeof p!="string")throw Error(r(284));if(!k._owner)throw Error(r(290,p))}return p}function Ba(p,v){throw p=Object.prototype.toString.call(v),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function Ko(p){var v=p._init;return v(p._payload)}function li(p){function v(it,Ke){if(p){var ct=it.deletions;ct===null?(it.deletions=[Ke],it.flags|=16):ct.push(Ke)}}function k(it,Ke){if(!p)return null;for(;Ke!==null;)v(it,Ke),Ke=Ke.sibling;return null}function R(it,Ke){for(it=new Map;Ke!==null;)Ke.key!==null?it.set(Ke.key,Ke):it.set(Ke.index,Ke),Ke=Ke.sibling;return it}function W(it,Ke){return it=Sp(it,Ke),it.index=0,it.sibling=null,it}function ee(it,Ke,ct){return it.index=ct,p?(ct=it.alternate,ct!==null?(ct=ct.index,ct<Ke?(it.flags|=2,Ke):ct):(it.flags|=2,Ke)):(it.flags|=1048576,Ke)}function he(it){return p&&it.alternate===null&&(it.flags|=2),it}function Te(it,Ke,ct,Xt){return Ke===null||Ke.tag!==6?(Ke=IA(ct,it.mode,Xt),Ke.return=it,Ke):(Ke=W(Ke,ct),Ke.return=it,Ke)}function Ue(it,Ke,ct,Xt){var Tr=ct.type;return Tr===T?Lt(it,Ke,ct.props.children,Xt,ct.key):Ke!==null&&(Ke.elementType===Tr||typeof Tr=="object"&&Tr!==null&&Tr.$$typeof===te&&Ko(Tr)===Ke.type)?(Xt=W(Ke,ct.props),Xt.ref=Qr(it,Ke,ct),Xt.return=it,Xt):(Xt=F_(ct.type,ct.key,ct.props,null,it.mode,Xt),Xt.ref=Qr(it,Ke,ct),Xt.return=it,Xt)}function ht(it,Ke,ct,Xt){return Ke===null||Ke.tag!==4||Ke.stateNode.containerInfo!==ct.containerInfo||Ke.stateNode.implementation!==ct.implementation?(Ke=RA(ct,it.mode,Xt),Ke.return=it,Ke):(Ke=W(Ke,ct.children||[]),Ke.return=it,Ke)}function Lt(it,Ke,ct,Xt,Tr){return Ke===null||Ke.tag!==7?(Ke=p0(ct,it.mode,Xt,Tr),Ke.return=it,Ke):(Ke=W(Ke,ct),Ke.return=it,Ke)}function Bt(it,Ke,ct){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Ke=IA(""+Ke,it.mode,ct),Ke.return=it,Ke;if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case E:return ct=F_(Ke.type,Ke.key,Ke.props,null,it.mode,ct),ct.ref=Qr(it,null,Ke),ct.return=it,ct;case O:return Ke=RA(Ke,it.mode,ct),Ke.return=it,Ke;case te:var Xt=Ke._init;return Bt(it,Xt(Ke._payload),ct)}if(Tt(Ke)||q(Ke))return Ke=p0(Ke,it.mode,ct,null),Ke.return=it,Ke;Ba(it,Ke)}return null}function Ft(it,Ke,ct,Xt){var Tr=Ke!==null?Ke.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return Tr!==null?null:Te(it,Ke,""+ct,Xt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case E:return ct.key===Tr?Ue(it,Ke,ct,Xt):null;case O:return ct.key===Tr?ht(it,Ke,ct,Xt):null;case te:return Tr=ct._init,Ft(it,Ke,Tr(ct._payload),Xt)}if(Tt(ct)||q(ct))return Tr!==null?null:Lt(it,Ke,ct,Xt,null);Ba(it,ct)}return null}function pr(it,Ke,ct,Xt,Tr){if(typeof Xt=="string"&&Xt!==""||typeof Xt=="number")return it=it.get(ct)||null,Te(Ke,it,""+Xt,Tr);if(typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case E:return it=it.get(Xt.key===null?ct:Xt.key)||null,Ue(Ke,it,Xt,Tr);case O:return it=it.get(Xt.key===null?ct:Xt.key)||null,ht(Ke,it,Xt,Tr);case te:var Mr=Xt._init;return pr(it,Ke,ct,Mr(Xt._payload),Tr)}if(Tt(Xt)||q(Xt))return it=it.get(ct)||null,Lt(Ke,it,Xt,Tr,null);Ba(Ke,Xt)}return null}function Ar(it,Ke,ct,Xt){for(var Tr=null,Mr=null,Fr=Ke,an=Ke=0,Po=null;Fr!==null&&an<ct.length;an++){Fr.index>an?(Po=Fr,Fr=null):Po=Fr.sibling;var Kn=Ft(it,Fr,ct[an],Xt);if(Kn===null){Fr===null&&(Fr=Po);break}p&&Fr&&Kn.alternate===null&&v(it,Fr),Ke=ee(Kn,Ke,an),Mr===null?Tr=Kn:Mr.sibling=Kn,Mr=Kn,Fr=Po}if(an===ct.length)return k(it,Fr),St&&Xe(it,an),Tr;if(Fr===null){for(;an<ct.length;an++)Fr=Bt(it,ct[an],Xt),Fr!==null&&(Ke=ee(Fr,Ke,an),Mr===null?Tr=Fr:Mr.sibling=Fr,Mr=Fr);return St&&Xe(it,an),Tr}for(Fr=R(it,Fr);an<ct.length;an++)Po=pr(Fr,it,an,ct[an],Xt),Po!==null&&(p&&Po.alternate!==null&&Fr.delete(Po.key===null?an:Po.key),Ke=ee(Po,Ke,an),Mr===null?Tr=Po:Mr.sibling=Po,Mr=Po);return p&&Fr.forEach(function(Ap){return v(it,Ap)}),St&&Xe(it,an),Tr}function Er(it,Ke,ct,Xt){var Tr=q(ct);if(typeof Tr!="function")throw Error(r(150));if(ct=Tr.call(ct),ct==null)throw Error(r(151));for(var Mr=Tr=null,Fr=Ke,an=Ke=0,Po=null,Kn=ct.next();Fr!==null&&!Kn.done;an++,Kn=ct.next()){Fr.index>an?(Po=Fr,Fr=null):Po=Fr.sibling;var Ap=Ft(it,Fr,Kn.value,Xt);if(Ap===null){Fr===null&&(Fr=Po);break}p&&Fr&&Ap.alternate===null&&v(it,Fr),Ke=ee(Ap,Ke,an),Mr===null?Tr=Ap:Mr.sibling=Ap,Mr=Ap,Fr=Po}if(Kn.done)return k(it,Fr),St&&Xe(it,an),Tr;if(Fr===null){for(;!Kn.done;an++,Kn=ct.next())Kn=Bt(it,Kn.value,Xt),Kn!==null&&(Ke=ee(Kn,Ke,an),Mr===null?Tr=Kn:Mr.sibling=Kn,Mr=Kn);return St&&Xe(it,an),Tr}for(Fr=R(it,Fr);!Kn.done;an++,Kn=ct.next())Kn=pr(Fr,it,an,Kn.value,Xt),Kn!==null&&(p&&Kn.alternate!==null&&Fr.delete(Kn.key===null?an:Kn.key),Ke=ee(Kn,Ke,an),Mr===null?Tr=Kn:Mr.sibling=Kn,Mr=Kn);return p&&Fr.forEach(function($se){return v(it,$se)}),St&&Xe(it,an),Tr}function Mi(it,Ke,ct,Xt){if(typeof ct=="object"&&ct!==null&&ct.type===T&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case E:e:{for(var Tr=ct.key,Mr=Ke;Mr!==null;){if(Mr.key===Tr){if(Tr=ct.type,Tr===T){if(Mr.tag===7){k(it,Mr.sibling),Ke=W(Mr,ct.props.children),Ke.return=it,it=Ke;break e}}else if(Mr.elementType===Tr||typeof Tr=="object"&&Tr!==null&&Tr.$$typeof===te&&Ko(Tr)===Mr.type){k(it,Mr.sibling),Ke=W(Mr,ct.props),Ke.ref=Qr(it,Mr,ct),Ke.return=it,it=Ke;break e}k(it,Mr);break}else v(it,Mr);Mr=Mr.sibling}ct.type===T?(Ke=p0(ct.props.children,it.mode,Xt,ct.key),Ke.return=it,it=Ke):(Xt=F_(ct.type,ct.key,ct.props,null,it.mode,Xt),Xt.ref=Qr(it,Ke,ct),Xt.return=it,it=Xt)}return he(it);case O:e:{for(Mr=ct.key;Ke!==null;){if(Ke.key===Mr)if(Ke.tag===4&&Ke.stateNode.containerInfo===ct.containerInfo&&Ke.stateNode.implementation===ct.implementation){k(it,Ke.sibling),Ke=W(Ke,ct.children||[]),Ke.return=it,it=Ke;break e}else{k(it,Ke);break}else v(it,Ke);Ke=Ke.sibling}Ke=RA(ct,it.mode,Xt),Ke.return=it,it=Ke}return he(it);case te:return Mr=ct._init,Mi(it,Ke,Mr(ct._payload),Xt)}if(Tt(ct))return Ar(it,Ke,ct,Xt);if(q(ct))return Er(it,Ke,ct,Xt);Ba(it,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,Ke!==null&&Ke.tag===6?(k(it,Ke.sibling),Ke=W(Ke,ct),Ke.return=it,it=Ke):(k(it,Ke),Ke=IA(ct,it.mode,Xt),Ke.return=it,it=Ke),he(it)):k(it,Ke)}return Mi}var Di=li(!0),Hn=li(!1),Eo=Hl(null),Co=null,Ua=null,Ii=null;function ho(){Ii=Ua=Co=null}function ps(p){var v=Eo.current;ta(Eo),p._currentValue=v}function yl(p,v,k){for(;p!==null;){var R=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,R!==null&&(R.childLanes|=v)):R!==null&&(R.childLanes&v)!==v&&(R.childLanes|=v),p===k)break;p=p.return}}function qa(p,v){Co=p,Ii=Ua=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&v)!==0&&(bl=!0),p.firstContext=null)}function yi(p){var v=p._currentValue;if(Ii!==p)if(p={context:p,memoizedValue:v,next:null},Ua===null){if(Co===null)throw Error(r(308));Ua=p,Co.dependencies={lanes:0,firstContext:p}}else Ua=Ua.next=p;return v}var Hs=null;function Ed(p){Hs===null?Hs=[p]:Hs.push(p)}function yu(p,v,k,R){var W=v.interleaved;return W===null?(k.next=k,Ed(v)):(k.next=W.next,W.next=k),v.interleaved=k,Gn(p,R)}function Gn(p,v){p.lanes|=v;var k=p.alternate;for(k!==null&&(k.lanes|=v),k=p,p=p.return;p!==null;)p.childLanes|=v,k=p.alternate,k!==null&&(k.childLanes|=v),k=p,p=p.return;return k.tag===3?k.stateNode:null}var Oc=!1;function Xg(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iy(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function xl(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function wl(p,v,k){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,(qn&2)!==0){var W=R.pending;return W===null?v.next=v:(v.next=W.next,W.next=v),R.pending=v,Gn(p,k)}return W=R.interleaved,W===null?(v.next=v,Ed(R)):(v.next=W.next,W.next=v),R.interleaved=v,Gn(p,k)}function Wf(p,v,k){if(v=v.updateQueue,v!==null&&(v=v.shared,(k&4194240)!==0)){var R=v.lanes;R&=p.pendingLanes,k|=R,v.lanes=k,jh(p,k)}}function _l(p,v){var k=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,k===R)){var W=null,ee=null;if(k=k.firstBaseUpdate,k!==null){do{var he={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};ee===null?W=ee=he:ee=ee.next=he,k=k.next}while(k!==null);ee===null?W=ee=v:ee=ee.next=v}else W=ee=v;k={baseState:R.baseState,firstBaseUpdate:W,lastBaseUpdate:ee,shared:R.shared,effects:R.effects},p.updateQueue=k;return}p=k.lastBaseUpdate,p===null?k.firstBaseUpdate=v:p.next=v,k.lastBaseUpdate=v}function xu(p,v,k,R){var W=p.updateQueue;Oc=!1;var ee=W.firstBaseUpdate,he=W.lastBaseUpdate,Te=W.shared.pending;if(Te!==null){W.shared.pending=null;var Ue=Te,ht=Ue.next;Ue.next=null,he===null?ee=ht:he.next=ht,he=Ue;var Lt=p.alternate;Lt!==null&&(Lt=Lt.updateQueue,Te=Lt.lastBaseUpdate,Te!==he&&(Te===null?Lt.firstBaseUpdate=ht:Te.next=ht,Lt.lastBaseUpdate=Ue))}if(ee!==null){var Bt=W.baseState;he=0,Lt=ht=Ue=null,Te=ee;do{var Ft=Te.lane,pr=Te.eventTime;if((R&Ft)===Ft){Lt!==null&&(Lt=Lt.next={eventTime:pr,lane:0,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null});e:{var Ar=p,Er=Te;switch(Ft=v,pr=k,Er.tag){case 1:if(Ar=Er.payload,typeof Ar=="function"){Bt=Ar.call(pr,Bt,Ft);break e}Bt=Ar;break e;case 3:Ar.flags=Ar.flags&-65537|128;case 0:if(Ar=Er.payload,Ft=typeof Ar=="function"?Ar.call(pr,Bt,Ft):Ar,Ft==null)break e;Bt=Y({},Bt,Ft);break e;case 2:Oc=!0}}Te.callback!==null&&Te.lane!==0&&(p.flags|=64,Ft=W.effects,Ft===null?W.effects=[Te]:Ft.push(Te))}else pr={eventTime:pr,lane:Ft,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},Lt===null?(ht=Lt=pr,Ue=Bt):Lt=Lt.next=pr,he|=Ft;if(Te=Te.next,Te===null){if(Te=W.shared.pending,Te===null)break;Ft=Te,Te=Ft.next,Ft.next=null,W.lastBaseUpdate=Ft,W.shared.pending=null}}while(!0);if(Lt===null&&(Ue=Bt),W.baseState=Ue,W.firstBaseUpdate=ht,W.lastBaseUpdate=Lt,v=W.shared.interleaved,v!==null){W=v;do he|=W.lane,W=W.next;while(W!==v)}else ee===null&&(W.shared.lanes=0);u0|=he,p.lanes=he,p.memoizedState=Bt}}function Vf(p,v,k){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var R=p[v],W=R.callback;if(W!==null){if(R.callback=null,R=k,typeof W!="function")throw Error(r(191,W));W.call(R)}}}var fp={},Gs=Hl(fp),hp=Hl(fp),Cd=Hl(fp);function wu(p){if(p===fp)throw Error(r(174));return p}function pp(p,v){switch(sa(Cd,v),sa(hp,p),sa(Gs,fp),p=v.nodeType,p){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Fe(null,"");break;default:p=p===8?v.parentNode:v,v=p.namespaceURI||null,p=p.tagName,v=Fe(v,p)}ta(Gs),sa(Gs,v)}function Dc(){ta(Gs),ta(hp),ta(Cd)}function v_(p){wu(Cd.current);var v=wu(Gs.current),k=Fe(v,p.type);v!==k&&(sa(hp,p),sa(Gs,k))}function Ry(p){hp.current===p&&(ta(Gs),ta(hp))}var ba=Hl(0);function Gl(p){for(var v=p;v!==null;){if(v.tag===13){var k=v.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var My=[];function Fy(){for(var p=0;p<My.length;p++)My[p]._workInProgressVersionPrimary=null;My.length=0}var Zg=C.ReactCurrentDispatcher,Jg=C.ReactCurrentBatchConfig,Ic=0,Na=null,xi=null,ci=null,mp=!1,_u=!1,gp=0,iA=0;function Ri(){throw Error(r(321))}function Qg(p,v){if(v===null)return!1;for(var k=0;k<v.length&&k<p.length;k++)if(!Un(p[k],v[k]))return!1;return!0}function s0(p,v,k,R,W,ee){if(Ic=ee,Na=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Zg.current=p===null||p.memoizedState===null?dse:fse,p=k(R,W),_u){ee=0;do{if(_u=!1,gp=0,25<=ee)throw Error(r(301));ee+=1,ci=xi=null,v.updateQueue=null,Zg.current=hse,p=k(R,W)}while(_u)}if(Zg.current=b_,v=xi!==null&&xi.next!==null,Ic=0,ci=xi=Na=null,mp=!1,v)throw Error(r(300));return p}function Rc(){var p=gp!==0;return gp=0,p}function Kl(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?Na.memoizedState=ci=p:ci=ci.next=p,ci}function Ks(){if(xi===null){var p=Na.alternate;p=p!==null?p.memoizedState:null}else p=xi.next;var v=ci===null?Na.memoizedState:ci.next;if(v!==null)ci=v,xi=p;else{if(p===null)throw Error(r(310));xi=p,p={memoizedState:xi.memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},ci===null?Na.memoizedState=ci=p:ci=ci.next=p}return ci}function l0(p,v){return typeof v=="function"?v(p):v}function ev(p){var v=Ks(),k=v.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var R=xi,W=R.baseQueue,ee=k.pending;if(ee!==null){if(W!==null){var he=W.next;W.next=ee.next,ee.next=he}R.baseQueue=W=ee,k.pending=null}if(W!==null){ee=W.next,R=R.baseState;var Te=he=null,Ue=null,ht=ee;do{var Lt=ht.lane;if((Ic&Lt)===Lt)Ue!==null&&(Ue=Ue.next={lane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),R=ht.hasEagerState?ht.eagerState:p(R,ht.action);else{var Bt={lane:Lt,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null};Ue===null?(Te=Ue=Bt,he=R):Ue=Ue.next=Bt,Na.lanes|=Lt,u0|=Lt}ht=ht.next}while(ht!==null&&ht!==ee);Ue===null?he=R:Ue.next=Te,Un(R,v.memoizedState)||(bl=!0),v.memoizedState=R,v.baseState=he,v.baseQueue=Ue,k.lastRenderedState=R}if(p=k.interleaved,p!==null){W=p;do ee=W.lane,Na.lanes|=ee,u0|=ee,W=W.next;while(W!==p)}else W===null&&(k.lanes=0);return[v.memoizedState,k.dispatch]}function Td(p){var v=Ks(),k=v.queue;if(k===null)throw Error(r(311));k.lastRenderedReducer=p;var R=k.dispatch,W=k.pending,ee=v.memoizedState;if(W!==null){k.pending=null;var he=W=W.next;do ee=p(ee,he.action),he=he.next;while(he!==W);Un(ee,v.memoizedState)||(bl=!0),v.memoizedState=ee,v.baseQueue===null&&(v.baseState=ee),k.lastRenderedState=ee}return[ee,R]}function y_(){}function Ly(p,v){var k=Na,R=Ks(),W=v(),ee=!Un(R.memoizedState,W);if(ee&&(R.memoizedState=W,bl=!0),R=R.queue,nv(w_.bind(null,k,R,p),[p]),R.getSnapshot!==v||ee||ci!==null&&ci.memoizedState.tag&1){if(k.flags|=2048,Ys(9,jy.bind(null,k,R,W,v),void 0,null),To===null)throw Error(r(349));(Ic&30)!==0||x_(k,v,W)}return W}function x_(p,v,k){p.flags|=16384,p={getSnapshot:v,value:k},v=Na.updateQueue,v===null?(v={lastEffect:null,stores:null},Na.updateQueue=v,v.stores=[p]):(k=v.stores,k===null?v.stores=[p]:k.push(p))}function jy(p,v,k,R){v.value=k,v.getSnapshot=R,vp(v)&&tv(p)}function w_(p,v,k){return k(function(){vp(v)&&tv(p)})}function vp(p){var v=p.getSnapshot;p=p.value;try{var k=v();return!Un(p,k)}catch{return!0}}function tv(p){var v=Gn(p,1);v!==null&&Nu(v,p,1,-1)}function c0(p){var v=Kl();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l0,lastRenderedState:p},v.queue=p,p=p.dispatch=use.bind(null,Na,p),[v.memoizedState,p]}function Ys(p,v,k,R){return p={tag:p,create:v,destroy:k,deps:R,next:null},v=Na.updateQueue,v===null?(v={lastEffect:null,stores:null},Na.updateQueue=v,v.lastEffect=p.next=p):(k=v.lastEffect,k===null?v.lastEffect=p.next=p:(R=k.next,k.next=p,p.next=R,v.lastEffect=p)),p}function bu(){return Ks().memoizedState}function Yl(p,v,k,R){var W=Kl();Na.flags|=p,W.memoizedState=Ys(1|v,k,void 0,R===void 0?null:R)}function Hf(p,v,k,R){var W=Ks();R=R===void 0?null:R;var ee=void 0;if(xi!==null){var he=xi.memoizedState;if(ee=he.destroy,R!==null&&Qg(R,he.deps)){W.memoizedState=Ys(v,k,ee,R);return}}Na.flags|=p,W.memoizedState=Ys(1|v,k,ee,R)}function rv(p,v){return Yl(8390656,8,p,v)}function nv(p,v){return Hf(2048,8,p,v)}function __(p,v){return Hf(4,2,p,v)}function av(p,v){return Hf(4,4,p,v)}function iv(p,v){if(typeof v=="function")return p=p(),v(p),function(){v(null)};if(v!=null)return p=p(),v.current=p,function(){v.current=null}}function O7(p,v,k){return k=k!=null?k.concat([p]):null,Hf(4,4,iv.bind(null,v,p),k)}function oA(){}function D7(p,v){var k=Ks();v=v===void 0?null:v;var R=k.memoizedState;return R!==null&&v!==null&&Qg(v,R[1])?R[0]:(k.memoizedState=[p,v],p)}function I7(p,v){var k=Ks();v=v===void 0?null:v;var R=k.memoizedState;return R!==null&&v!==null&&Qg(v,R[1])?R[0]:(p=p(),k.memoizedState=[p,v],p)}function R7(p,v,k){return(Ic&21)===0?(p.baseState&&(p.baseState=!1,bl=!0),p.memoizedState=k):(Un(k,v)||(k=Bm(),Na.lanes|=k,u0|=k,p.baseState=!0),v)}function lse(p,v){var k=Bn;Bn=k!==0&&4>k?k:4,p(!0);var R=Jg.transition;Jg.transition={};try{p(!1),v()}finally{Bn=k,Jg.transition=R}}function M7(){return Ks().memoizedState}function cse(p,v,k){var R=_p(p);if(k={lane:R,action:k,hasEagerState:!1,eagerState:null,next:null},F7(p))L7(v,k);else if(k=yu(p,v,k,R),k!==null){var W=Zs();Nu(k,p,R,W),j7(k,v,R)}}function use(p,v,k){var R=_p(p),W={lane:R,action:k,hasEagerState:!1,eagerState:null,next:null};if(F7(p))L7(v,W);else{var ee=p.alternate;if(p.lanes===0&&(ee===null||ee.lanes===0)&&(ee=v.lastRenderedReducer,ee!==null))try{var he=v.lastRenderedState,Te=ee(he,k);if(W.hasEagerState=!0,W.eagerState=Te,Un(Te,he)){var Ue=v.interleaved;Ue===null?(W.next=W,Ed(v)):(W.next=Ue.next,Ue.next=W),v.interleaved=W;return}}catch{}finally{}k=yu(p,v,W,R),k!==null&&(W=Zs(),Nu(k,p,R,W),j7(k,v,R))}}function F7(p){var v=p.alternate;return p===Na||v!==null&&v===Na}function L7(p,v){_u=mp=!0;var k=p.pending;k===null?v.next=v:(v.next=k.next,k.next=v),p.pending=v}function j7(p,v,k){if((k&4194240)!==0){var R=v.lanes;R&=p.pendingLanes,k|=R,v.lanes=k,jh(p,k)}}var b_={readContext:yi,useCallback:Ri,useContext:Ri,useEffect:Ri,useImperativeHandle:Ri,useInsertionEffect:Ri,useLayoutEffect:Ri,useMemo:Ri,useReducer:Ri,useRef:Ri,useState:Ri,useDebugValue:Ri,useDeferredValue:Ri,useTransition:Ri,useMutableSource:Ri,useSyncExternalStore:Ri,useId:Ri,unstable_isNewReconciler:!1},dse={readContext:yi,useCallback:function(p,v){return Kl().memoizedState=[p,v===void 0?null:v],p},useContext:yi,useEffect:rv,useImperativeHandle:function(p,v,k){return k=k!=null?k.concat([p]):null,Yl(4194308,4,iv.bind(null,v,p),k)},useLayoutEffect:function(p,v){return Yl(4194308,4,p,v)},useInsertionEffect:function(p,v){return Yl(4,2,p,v)},useMemo:function(p,v){var k=Kl();return v=v===void 0?null:v,p=p(),k.memoizedState=[p,v],p},useReducer:function(p,v,k){var R=Kl();return v=k!==void 0?k(v):v,R.memoizedState=R.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},R.queue=p,p=p.dispatch=cse.bind(null,Na,p),[R.memoizedState,p]},useRef:function(p){var v=Kl();return p={current:p},v.memoizedState=p},useState:c0,useDebugValue:oA,useDeferredValue:function(p){return Kl().memoizedState=p},useTransition:function(){var p=c0(!1),v=p[0];return p=lse.bind(null,p[1]),Kl().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,k){var R=Na,W=Kl();if(St){if(k===void 0)throw Error(r(407));k=k()}else{if(k=v(),To===null)throw Error(r(349));(Ic&30)!==0||x_(R,v,k)}W.memoizedState=k;var ee={value:k,getSnapshot:v};return W.queue=ee,rv(w_.bind(null,R,ee,p),[p]),R.flags|=2048,Ys(9,jy.bind(null,R,ee,k,v),void 0,null),k},useId:function(){var p=Kl(),v=To.identifierPrefix;if(St){var k=nt,R=rt;k=(R&~(1<<32-La(R)-1)).toString(32)+k,v=":"+v+"R"+k,k=gp++,0<k&&(v+="H"+k.toString(32)),v+=":"}else k=iA++,v=":"+v+"r"+k.toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},fse={readContext:yi,useCallback:D7,useContext:yi,useEffect:nv,useImperativeHandle:O7,useInsertionEffect:__,useLayoutEffect:av,useMemo:I7,useReducer:ev,useRef:bu,useState:function(){return ev(l0)},useDebugValue:oA,useDeferredValue:function(p){var v=Ks();return R7(v,xi.memoizedState,p)},useTransition:function(){var p=ev(l0)[0],v=Ks().memoizedState;return[p,v]},useMutableSource:y_,useSyncExternalStore:Ly,useId:M7,unstable_isNewReconciler:!1},hse={readContext:yi,useCallback:D7,useContext:yi,useEffect:nv,useImperativeHandle:O7,useInsertionEffect:__,useLayoutEffect:av,useMemo:I7,useReducer:Td,useRef:bu,useState:function(){return Td(l0)},useDebugValue:oA,useDeferredValue:function(p){var v=Ks();return xi===null?v.memoizedState=p:R7(v,xi.memoizedState,p)},useTransition:function(){var p=Td(l0)[0],v=Ks().memoizedState;return[p,v]},useMutableSource:y_,useSyncExternalStore:Ly,useId:M7,unstable_isNewReconciler:!1};function Su(p,v){if(p&&p.defaultProps){v=Y({},v),p=p.defaultProps;for(var k in p)v[k]===void 0&&(v[k]=p[k]);return v}return v}function sA(p,v,k,R){v=p.memoizedState,k=k(R,v),k=k==null?v:Y({},v,k),p.memoizedState=k,p.lanes===0&&(p.updateQueue.baseState=k)}var S_={isMounted:function(p){return(p=p._reactInternals)?ke(p)===p:!1},enqueueSetState:function(p,v,k){p=p._reactInternals;var R=Zs(),W=_p(p),ee=xl(R,W);ee.payload=v,k!=null&&(ee.callback=k),v=wl(p,ee,W),v!==null&&(Nu(v,p,W,R),Wf(v,p,W))},enqueueReplaceState:function(p,v,k){p=p._reactInternals;var R=Zs(),W=_p(p),ee=xl(R,W);ee.tag=1,ee.payload=v,k!=null&&(ee.callback=k),v=wl(p,ee,W),v!==null&&(Nu(v,p,W,R),Wf(v,p,W))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var k=Zs(),R=_p(p),W=xl(k,R);W.tag=2,v!=null&&(W.callback=v),v=wl(p,W,R),v!==null&&(Nu(v,p,R,k),Wf(v,p,R))}};function $7(p,v,k,R,W,ee,he){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,ee,he):v.prototype&&v.prototype.isPureReactComponent?!fu(k,R)||!fu(W,ee):!0}function B7(p,v,k){var R=!1,W=Nd,ee=v.contextType;return typeof ee=="object"&&ee!==null?ee=yi(ee):(W=hs(v)?qf:fo.current,R=v.contextTypes,ee=(R=R!=null)?dp(p,W):Nd),v=new v(k,ee),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=S_,p.stateNode=v,v._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=W,p.__reactInternalMemoizedMaskedChildContext=ee),v}function U7(p,v,k,R){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(k,R),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(k,R),v.state!==p&&S_.enqueueReplaceState(v,v.state,null)}function lA(p,v,k,R){var W=p.stateNode;W.props=k,W.state=p.memoizedState,W.refs={},Xg(p);var ee=v.contextType;typeof ee=="object"&&ee!==null?W.context=yi(ee):(ee=hs(v)?qf:fo.current,W.context=dp(p,ee)),W.state=p.memoizedState,ee=v.getDerivedStateFromProps,typeof ee=="function"&&(sA(p,v,ee,k),W.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(v=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),v!==W.state&&S_.enqueueReplaceState(W,W.state,null),xu(p,k,W,R),W.state=p.memoizedState),typeof W.componentDidMount=="function"&&(p.flags|=4194308)}function ov(p,v){try{var k="",R=v;do k+=ie(R),R=R.return;while(R);var W=k}catch(ee){W=`
Error generating stack: `+ee.message+`
`+ee.stack}return{value:p,source:v,stack:W,digest:null}}function cA(p,v,k){return{value:p,source:null,stack:k??null,digest:v??null}}function uA(p,v){try{console.error(v.value)}catch(k){setTimeout(function(){throw k})}}var pse=typeof WeakMap=="function"?WeakMap:Map;function q7(p,v,k){k=xl(-1,k),k.tag=3,k.payload={element:null};var R=v.value;return k.callback=function(){P_||(P_=!0,kA=R),uA(p,v)},k}function z7(p,v,k){k=xl(-1,k),k.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var W=v.value;k.payload=function(){return R(W)},k.callback=function(){uA(p,v)}}var ee=p.stateNode;return ee!==null&&typeof ee.componentDidCatch=="function"&&(k.callback=function(){uA(p,v),typeof R!="function"&&(xp===null?xp=new Set([this]):xp.add(this));var he=v.stack;this.componentDidCatch(v.value,{componentStack:he!==null?he:""})}),k}function W7(p,v,k){var R=p.pingCache;if(R===null){R=p.pingCache=new pse;var W=new Set;R.set(v,W)}else W=R.get(v),W===void 0&&(W=new Set,R.set(v,W));W.has(k)||(W.add(k),p=Cse.bind(null,p,v,k),v.then(p,p))}function V7(p){do{var v;if((v=p.tag===13)&&(v=p.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return p;p=p.return}while(p!==null);return null}function H7(p,v,k,R,W){return(p.mode&1)===0?(p===v?p.flags|=65536:(p.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(v=xl(-1,1),v.tag=2,wl(k,v,1))),k.lanes|=1),p):(p.flags|=65536,p.lanes=W,p)}var mse=C.ReactCurrentOwner,bl=!1;function Xs(p,v,k,R){v.child=p===null?Hn(v,null,k,R):Di(v,p.child,k,R)}function G7(p,v,k,R,W){k=k.render;var ee=v.ref;return qa(v,W),R=s0(p,v,k,R,ee,W),k=Rc(),p!==null&&!bl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~W,Gf(p,v,W)):(St&&k&&yt(v),v.flags|=1,Xs(p,v,R,W),v.child)}function K7(p,v,k,R,W){if(p===null){var ee=k.type;return typeof ee=="function"&&!DA(ee)&&ee.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(v.tag=15,v.type=ee,Y7(p,v,ee,R,W)):(p=F_(k.type,null,R,v,v.mode,W),p.ref=v.ref,p.return=v,v.child=p)}if(ee=p.child,(p.lanes&W)===0){var he=ee.memoizedProps;if(k=k.compare,k=k!==null?k:fu,k(he,R)&&p.ref===v.ref)return Gf(p,v,W)}return v.flags|=1,p=Sp(ee,R),p.ref=v.ref,p.return=v,v.child=p}function Y7(p,v,k,R,W){if(p!==null){var ee=p.memoizedProps;if(fu(ee,R)&&p.ref===v.ref)if(bl=!1,v.pendingProps=R=ee,(p.lanes&W)!==0)(p.flags&131072)!==0&&(bl=!0);else return v.lanes=p.lanes,Gf(p,v,W)}return dA(p,v,k,R,W)}function X7(p,v,k){var R=v.pendingProps,W=R.children,ee=p!==null?p.memoizedState:null;if(R.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},sa(lv,Xl),Xl|=k;else{if((k&1073741824)===0)return p=ee!==null?ee.baseLanes|k:k,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,sa(lv,Xl),Xl|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=ee!==null?ee.baseLanes:k,sa(lv,Xl),Xl|=R}else ee!==null?(R=ee.baseLanes|k,v.memoizedState=null):R=k,sa(lv,Xl),Xl|=R;return Xs(p,v,W,k),v.child}function Z7(p,v){var k=v.ref;(p===null&&k!==null||p!==null&&p.ref!==k)&&(v.flags|=512,v.flags|=2097152)}function dA(p,v,k,R,W){var ee=hs(k)?qf:fo.current;return ee=dp(v,ee),qa(v,W),k=s0(p,v,k,R,ee,W),R=Rc(),p!==null&&!bl?(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~W,Gf(p,v,W)):(St&&R&&yt(v),v.flags|=1,Xs(p,v,k,W),v.child)}function J7(p,v,k,R,W){if(hs(k)){var ee=!0;zf(v)}else ee=!1;if(qa(v,W),v.stateNode===null)k_(p,v),B7(v,k,R),lA(v,k,R,W),R=!0;else if(p===null){var he=v.stateNode,Te=v.memoizedProps;he.props=Te;var Ue=he.context,ht=k.contextType;typeof ht=="object"&&ht!==null?ht=yi(ht):(ht=hs(k)?qf:fo.current,ht=dp(v,ht));var Lt=k.getDerivedStateFromProps,Bt=typeof Lt=="function"||typeof he.getSnapshotBeforeUpdate=="function";Bt||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(Te!==R||Ue!==ht)&&U7(v,he,R,ht),Oc=!1;var Ft=v.memoizedState;he.state=Ft,xu(v,R,he,W),Ue=v.memoizedState,Te!==R||Ft!==Ue||fs.current||Oc?(typeof Lt=="function"&&(sA(v,k,Lt,R),Ue=v.memoizedState),(Te=Oc||$7(v,k,Te,R,Ft,Ue,ht))?(Bt||typeof he.UNSAFE_componentWillMount!="function"&&typeof he.componentWillMount!="function"||(typeof he.componentWillMount=="function"&&he.componentWillMount(),typeof he.UNSAFE_componentWillMount=="function"&&he.UNSAFE_componentWillMount()),typeof he.componentDidMount=="function"&&(v.flags|=4194308)):(typeof he.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=R,v.memoizedState=Ue),he.props=R,he.state=Ue,he.context=ht,R=Te):(typeof he.componentDidMount=="function"&&(v.flags|=4194308),R=!1)}else{he=v.stateNode,Iy(p,v),Te=v.memoizedProps,ht=v.type===v.elementType?Te:Su(v.type,Te),he.props=ht,Bt=v.pendingProps,Ft=he.context,Ue=k.contextType,typeof Ue=="object"&&Ue!==null?Ue=yi(Ue):(Ue=hs(k)?qf:fo.current,Ue=dp(v,Ue));var pr=k.getDerivedStateFromProps;(Lt=typeof pr=="function"||typeof he.getSnapshotBeforeUpdate=="function")||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(Te!==Bt||Ft!==Ue)&&U7(v,he,R,Ue),Oc=!1,Ft=v.memoizedState,he.state=Ft,xu(v,R,he,W);var Ar=v.memoizedState;Te!==Bt||Ft!==Ar||fs.current||Oc?(typeof pr=="function"&&(sA(v,k,pr,R),Ar=v.memoizedState),(ht=Oc||$7(v,k,ht,R,Ft,Ar,Ue)||!1)?(Lt||typeof he.UNSAFE_componentWillUpdate!="function"&&typeof he.componentWillUpdate!="function"||(typeof he.componentWillUpdate=="function"&&he.componentWillUpdate(R,Ar,Ue),typeof he.UNSAFE_componentWillUpdate=="function"&&he.UNSAFE_componentWillUpdate(R,Ar,Ue)),typeof he.componentDidUpdate=="function"&&(v.flags|=4),typeof he.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof he.componentDidUpdate!="function"||Te===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||Te===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=1024),v.memoizedProps=R,v.memoizedState=Ar),he.props=R,he.state=Ar,he.context=Ue,R=ht):(typeof he.componentDidUpdate!="function"||Te===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||Te===p.memoizedProps&&Ft===p.memoizedState||(v.flags|=1024),R=!1)}return fA(p,v,k,R,ee,W)}function fA(p,v,k,R,W,ee){Z7(p,v);var he=(v.flags&128)!==0;if(!R&&!he)return W&&g_(v,k,!1),Gf(p,v,ee);R=v.stateNode,mse.current=v;var Te=he&&typeof k.getDerivedStateFromError!="function"?null:R.render();return v.flags|=1,p!==null&&he?(v.child=Di(v,p.child,null,ee),v.child=Di(v,null,Te,ee)):Xs(p,v,Te,ee),v.memoizedState=R.state,W&&g_(v,k,!0),v.child}function Q7(p){var v=p.stateNode;v.pendingContext?m_(p,v.pendingContext,v.pendingContext!==v.context):v.context&&m_(p,v.context,!1),pp(p,v.containerInfo)}function eM(p,v,k,R,W){return pn(),ra(W),v.flags|=256,Xs(p,v,k,R),v.child}var hA={dehydrated:null,treeContext:null,retryLane:0};function pA(p){return{baseLanes:p,cachePool:null,transitions:null}}function tM(p,v,k){var R=v.pendingProps,W=ba.current,ee=!1,he=(v.flags&128)!==0,Te;if((Te=he)||(Te=p!==null&&p.memoizedState===null?!1:(W&2)!==0),Te?(ee=!0,v.flags&=-129):(p===null||p.memoizedState!==null)&&(W|=1),sa(ba,W&1),p===null)return ir(v),p=v.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((v.mode&1)===0?v.lanes=1:p.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(he=R.children,p=R.fallback,ee?(R=v.mode,ee=v.child,he={mode:"hidden",children:he},(R&1)===0&&ee!==null?(ee.childLanes=0,ee.pendingProps=he):ee=L_(he,R,0,null),p=p0(p,R,k,null),ee.return=v,p.return=v,ee.sibling=p,v.child=ee,v.child.memoizedState=pA(k),v.memoizedState=hA,p):mA(v,he));if(W=p.memoizedState,W!==null&&(Te=W.dehydrated,Te!==null))return gse(p,v,he,R,Te,W,k);if(ee){ee=R.fallback,he=v.mode,W=p.child,Te=W.sibling;var Ue={mode:"hidden",children:R.children};return(he&1)===0&&v.child!==W?(R=v.child,R.childLanes=0,R.pendingProps=Ue,v.deletions=null):(R=Sp(W,Ue),R.subtreeFlags=W.subtreeFlags&14680064),Te!==null?ee=Sp(Te,ee):(ee=p0(ee,he,k,null),ee.flags|=2),ee.return=v,R.return=v,R.sibling=ee,v.child=R,R=ee,ee=v.child,he=p.child.memoizedState,he=he===null?pA(k):{baseLanes:he.baseLanes|k,cachePool:null,transitions:he.transitions},ee.memoizedState=he,ee.childLanes=p.childLanes&~k,v.memoizedState=hA,R}return ee=p.child,p=ee.sibling,R=Sp(ee,{mode:"visible",children:R.children}),(v.mode&1)===0&&(R.lanes=k),R.return=v,R.sibling=null,p!==null&&(k=v.deletions,k===null?(v.deletions=[p],v.flags|=16):k.push(p)),v.child=R,v.memoizedState=null,R}function mA(p,v){return v=L_({mode:"visible",children:v},p.mode,0,null),v.return=p,p.child=v}function A_(p,v,k,R){return R!==null&&ra(R),Di(v,p.child,null,k),p=mA(v,v.pendingProps.children),p.flags|=2,v.memoizedState=null,p}function gse(p,v,k,R,W,ee,he){if(k)return v.flags&256?(v.flags&=-257,R=cA(Error(r(422))),A_(p,v,he,R)):v.memoizedState!==null?(v.child=p.child,v.flags|=128,null):(ee=R.fallback,W=v.mode,R=L_({mode:"visible",children:R.children},W,0,null),ee=p0(ee,W,he,null),ee.flags|=2,R.return=v,ee.return=v,R.sibling=ee,v.child=R,(v.mode&1)!==0&&Di(v,p.child,null,he),v.child.memoizedState=pA(he),v.memoizedState=hA,ee);if((v.mode&1)===0)return A_(p,v,he,null);if(W.data==="$!"){if(R=W.nextSibling&&W.nextSibling.dataset,R)var Te=R.dgst;return R=Te,ee=Error(r(419)),R=cA(ee,R,void 0),A_(p,v,he,R)}if(Te=(he&p.childLanes)!==0,bl||Te){if(R=To,R!==null){switch(he&-he){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}W=(W&(R.suspendedLanes|he))!==0?0:W,W!==0&&W!==ee.retryLane&&(ee.retryLane=W,Gn(p,W),Nu(R,p,W,-1))}return OA(),R=cA(Error(r(421))),A_(p,v,he,R)}return W.data==="$?"?(v.flags|=128,v.child=p.child,v=Tse.bind(null,p),W._reactRetry=v,null):(p=ee.treeContext,kt=Go(W.nextSibling),ze=v,St=!0,Et=null,p!==null&&(xe[Ae++]=rt,xe[Ae++]=nt,xe[Ae++]=Be,rt=p.id,nt=p.overflow,Be=v),v=mA(v,R.children),v.flags|=4096,v)}function rM(p,v,k){p.lanes|=v;var R=p.alternate;R!==null&&(R.lanes|=v),yl(p.return,v,k)}function gA(p,v,k,R,W){var ee=p.memoizedState;ee===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:R,tail:k,tailMode:W}:(ee.isBackwards=v,ee.rendering=null,ee.renderingStartTime=0,ee.last=R,ee.tail=k,ee.tailMode=W)}function nM(p,v,k){var R=v.pendingProps,W=R.revealOrder,ee=R.tail;if(Xs(p,v,R.children,k),R=ba.current,(R&2)!==0)R=R&1|2,v.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&rM(p,k,v);else if(p.tag===19)rM(p,k,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break e;for(;p.sibling===null;){if(p.return===null||p.return===v)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(sa(ba,R),(v.mode&1)===0)v.memoizedState=null;else switch(W){case"forwards":for(k=v.child,W=null;k!==null;)p=k.alternate,p!==null&&Gl(p)===null&&(W=k),k=k.sibling;k=W,k===null?(W=v.child,v.child=null):(W=k.sibling,k.sibling=null),gA(v,!1,W,k,ee);break;case"backwards":for(k=null,W=v.child,v.child=null;W!==null;){if(p=W.alternate,p!==null&&Gl(p)===null){v.child=W;break}p=W.sibling,W.sibling=k,k=W,W=p}gA(v,!0,k,null,ee);break;case"together":gA(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function k_(p,v){(v.mode&1)===0&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function Gf(p,v,k){if(p!==null&&(v.dependencies=p.dependencies),u0|=v.lanes,(k&v.childLanes)===0)return null;if(p!==null&&v.child!==p.child)throw Error(r(153));if(v.child!==null){for(p=v.child,k=Sp(p,p.pendingProps),v.child=k,k.return=v;p.sibling!==null;)p=p.sibling,k=k.sibling=Sp(p,p.pendingProps),k.return=v;k.sibling=null}return v.child}function vse(p,v,k){switch(v.tag){case 3:Q7(v),pn();break;case 5:v_(v);break;case 1:hs(v.type)&&zf(v);break;case 4:pp(v,v.stateNode.containerInfo);break;case 10:var R=v.type._context,W=v.memoizedProps.value;sa(Eo,R._currentValue),R._currentValue=W;break;case 13:if(R=v.memoizedState,R!==null)return R.dehydrated!==null?(sa(ba,ba.current&1),v.flags|=128,null):(k&v.child.childLanes)!==0?tM(p,v,k):(sa(ba,ba.current&1),p=Gf(p,v,k),p!==null?p.sibling:null);sa(ba,ba.current&1);break;case 19:if(R=(k&v.childLanes)!==0,(p.flags&128)!==0){if(R)return nM(p,v,k);v.flags|=128}if(W=v.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),sa(ba,ba.current),R)break;return null;case 22:case 23:return v.lanes=0,X7(p,v,k)}return Gf(p,v,k)}var aM,vA,iM,oM;aM=function(p,v){for(var k=v.child;k!==null;){if(k.tag===5||k.tag===6)p.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===v)break;for(;k.sibling===null;){if(k.return===null||k.return===v)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},vA=function(){},iM=function(p,v,k,R){var W=p.memoizedProps;if(W!==R){p=v.stateNode,wu(Gs.current);var ee=null;switch(k){case"input":W=Re(p,W),R=Re(p,R),ee=[];break;case"select":W=Y({},W,{value:void 0}),R=Y({},R,{value:void 0}),ee=[];break;case"textarea":W=_e(p,W),R=_e(p,R),ee=[];break;default:typeof W.onClick!="function"&&typeof R.onClick=="function"&&(p.onclick=lp)}bn(k,R);var he;k=null;for(ht in W)if(!R.hasOwnProperty(ht)&&W.hasOwnProperty(ht)&&W[ht]!=null)if(ht==="style"){var Te=W[ht];for(he in Te)Te.hasOwnProperty(he)&&(k||(k={}),k[he]="")}else ht!=="dangerouslySetInnerHTML"&&ht!=="children"&&ht!=="suppressContentEditableWarning"&&ht!=="suppressHydrationWarning"&&ht!=="autoFocus"&&(a.hasOwnProperty(ht)?ee||(ee=[]):(ee=ee||[]).push(ht,null));for(ht in R){var Ue=R[ht];if(Te=W!=null?W[ht]:void 0,R.hasOwnProperty(ht)&&Ue!==Te&&(Ue!=null||Te!=null))if(ht==="style")if(Te){for(he in Te)!Te.hasOwnProperty(he)||Ue&&Ue.hasOwnProperty(he)||(k||(k={}),k[he]="");for(he in Ue)Ue.hasOwnProperty(he)&&Te[he]!==Ue[he]&&(k||(k={}),k[he]=Ue[he])}else k||(ee||(ee=[]),ee.push(ht,k)),k=Ue;else ht==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Te=Te?Te.__html:void 0,Ue!=null&&Te!==Ue&&(ee=ee||[]).push(ht,Ue)):ht==="children"?typeof Ue!="string"&&typeof Ue!="number"||(ee=ee||[]).push(ht,""+Ue):ht!=="suppressContentEditableWarning"&&ht!=="suppressHydrationWarning"&&(a.hasOwnProperty(ht)?(Ue!=null&&ht==="onScroll"&&ma("scroll",p),ee||Te===Ue||(ee=[])):(ee=ee||[]).push(ht,Ue))}k&&(ee=ee||[]).push("style",k);var ht=ee;(v.updateQueue=ht)&&(v.flags|=4)}},oM=function(p,v,k,R){k!==R&&(v.flags|=4)};function $y(p,v){if(!St)switch(p.tailMode){case"hidden":v=p.tail;for(var k=null;v!==null;)v.alternate!==null&&(k=v),v=v.sibling;k===null?p.tail=null:k.sibling=null;break;case"collapsed":k=p.tail;for(var R=null;k!==null;)k.alternate!==null&&(R=k),k=k.sibling;R===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function ms(p){var v=p.alternate!==null&&p.alternate.child===p.child,k=0,R=0;if(v)for(var W=p.child;W!==null;)k|=W.lanes|W.childLanes,R|=W.subtreeFlags&14680064,R|=W.flags&14680064,W.return=p,W=W.sibling;else for(W=p.child;W!==null;)k|=W.lanes|W.childLanes,R|=W.subtreeFlags,R|=W.flags,W.return=p,W=W.sibling;return p.subtreeFlags|=R,p.childLanes=k,v}function yse(p,v,k){var R=v.pendingProps;switch(qe(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(v),null;case 1:return hs(v.type)&&Yg(),ms(v),null;case 3:return R=v.stateNode,Dc(),ta(fs),ta(fo),Fy(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&(Ln(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,Et!==null&&(CA(Et),Et=null))),vA(p,v),ms(v),null;case 5:Ry(v);var W=wu(Cd.current);if(k=v.type,p!==null&&v.stateNode!=null)iM(p,v,k,R,W),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!R){if(v.stateNode===null)throw Error(r(166));return ms(v),null}if(p=wu(Gs.current),Ln(v)){R=v.stateNode,k=v.type;var ee=v.memoizedProps;switch(R[Pc]=v,R[cp]=ee,p=(v.mode&1)!==0,k){case"dialog":ma("cancel",R),ma("close",R);break;case"iframe":case"object":case"embed":ma("load",R);break;case"video":case"audio":for(W=0;W<Ad.length;W++)ma(Ad[W],R);break;case"source":ma("error",R);break;case"img":case"image":case"link":ma("error",R),ma("load",R);break;case"details":ma("toggle",R);break;case"input":De(R,ee),ma("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!ee.multiple},ma("invalid",R);break;case"textarea":Ce(R,ee),ma("invalid",R)}bn(k,ee),W=null;for(var he in ee)if(ee.hasOwnProperty(he)){var Te=ee[he];he==="children"?typeof Te=="string"?R.textContent!==Te&&(ee.suppressHydrationWarning!==!0&&Kg(R.textContent,Te,p),W=["children",Te]):typeof Te=="number"&&R.textContent!==""+Te&&(ee.suppressHydrationWarning!==!0&&Kg(R.textContent,Te,p),W=["children",""+Te]):a.hasOwnProperty(he)&&Te!=null&&he==="onScroll"&&ma("scroll",R)}switch(k){case"input":ge(R),mt(R,ee,!0);break;case"textarea":ge(R),ft(R);break;case"select":case"option":break;default:typeof ee.onClick=="function"&&(R.onclick=lp)}R=W,v.updateQueue=R,R!==null&&(v.flags|=4)}else{he=W.nodeType===9?W:W.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=vt(k)),p==="http://www.w3.org/1999/xhtml"?k==="script"?(p=he.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof R.is=="string"?p=he.createElement(k,{is:R.is}):(p=he.createElement(k),k==="select"&&(he=p,R.multiple?he.multiple=!0:R.size&&(he.size=R.size))):p=he.createElementNS(p,k),p[Pc]=v,p[cp]=R,aM(p,v,!1,!1),v.stateNode=p;e:{switch(he=Pi(k,R),k){case"dialog":ma("cancel",p),ma("close",p),W=R;break;case"iframe":case"object":case"embed":ma("load",p),W=R;break;case"video":case"audio":for(W=0;W<Ad.length;W++)ma(Ad[W],p);W=R;break;case"source":ma("error",p),W=R;break;case"img":case"image":case"link":ma("error",p),ma("load",p),W=R;break;case"details":ma("toggle",p),W=R;break;case"input":De(p,R),W=Re(p,R),ma("invalid",p);break;case"option":W=R;break;case"select":p._wrapperState={wasMultiple:!!R.multiple},W=Y({},R,{value:void 0}),ma("invalid",p);break;case"textarea":Ce(p,R),W=_e(p,R),ma("invalid",p);break;default:W=R}bn(k,W),Te=W;for(ee in Te)if(Te.hasOwnProperty(ee)){var Ue=Te[ee];ee==="style"?Jr(p,Ue):ee==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Ue!=null&&_t(p,Ue)):ee==="children"?typeof Ue=="string"?(k!=="textarea"||Ue!=="")&&At(p,Ue):typeof Ue=="number"&&At(p,""+Ue):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?Ue!=null&&ee==="onScroll"&&ma("scroll",p):Ue!=null&&S(p,ee,Ue,he))}switch(k){case"input":ge(p),mt(p,R,!1);break;case"textarea":ge(p),ft(p);break;case"option":R.value!=null&&p.setAttribute("value",""+de(R.value));break;case"select":p.multiple=!!R.multiple,ee=R.value,ee!=null?lt(p,!!R.multiple,ee,!1):R.defaultValue!=null&&lt(p,!!R.multiple,R.defaultValue,!0);break;default:typeof W.onClick=="function"&&(p.onclick=lp)}switch(k){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return ms(v),null;case 6:if(p&&v.stateNode!=null)oM(p,v,p.memoizedProps,R);else{if(typeof R!="string"&&v.stateNode===null)throw Error(r(166));if(k=wu(Cd.current),wu(Gs.current),Ln(v)){if(R=v.stateNode,k=v.memoizedProps,R[Pc]=v,(ee=R.nodeValue!==k)&&(p=ze,p!==null))switch(p.tag){case 3:Kg(R.nodeValue,k,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Kg(R.nodeValue,k,(p.mode&1)!==0)}ee&&(v.flags|=4)}else R=(k.nodeType===9?k:k.ownerDocument).createTextNode(R),R[Pc]=v,v.stateNode=R}return ms(v),null;case 13:if(ta(ba),R=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(St&&kt!==null&&(v.mode&1)!==0&&(v.flags&128)===0)In(),pn(),v.flags|=98560,ee=!1;else if(ee=Ln(v),R!==null&&R.dehydrated!==null){if(p===null){if(!ee)throw Error(r(318));if(ee=v.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(r(317));ee[Pc]=v}else pn(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;ms(v),ee=!1}else Et!==null&&(CA(Et),Et=null),ee=!0;if(!ee)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=k,v):(R=R!==null,R!==(p!==null&&p.memoizedState!==null)&&R&&(v.child.flags|=8192,(v.mode&1)!==0&&(p===null||(ba.current&1)!==0?po===0&&(po=3):OA())),v.updateQueue!==null&&(v.flags|=4),ms(v),null);case 4:return Dc(),vA(p,v),p===null&&jf(v.stateNode.containerInfo),ms(v),null;case 10:return ps(v.type._context),ms(v),null;case 17:return hs(v.type)&&Yg(),ms(v),null;case 19:if(ta(ba),ee=v.memoizedState,ee===null)return ms(v),null;if(R=(v.flags&128)!==0,he=ee.rendering,he===null)if(R)$y(ee,!1);else{if(po!==0||p!==null&&(p.flags&128)!==0)for(p=v.child;p!==null;){if(he=Gl(p),he!==null){for(v.flags|=128,$y(ee,!1),R=he.updateQueue,R!==null&&(v.updateQueue=R,v.flags|=4),v.subtreeFlags=0,R=k,k=v.child;k!==null;)ee=k,p=R,ee.flags&=14680066,he=ee.alternate,he===null?(ee.childLanes=0,ee.lanes=p,ee.child=null,ee.subtreeFlags=0,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null):(ee.childLanes=he.childLanes,ee.lanes=he.lanes,ee.child=he.child,ee.subtreeFlags=0,ee.deletions=null,ee.memoizedProps=he.memoizedProps,ee.memoizedState=he.memoizedState,ee.updateQueue=he.updateQueue,ee.type=he.type,p=he.dependencies,ee.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),k=k.sibling;return sa(ba,ba.current&1|2),v.child}p=p.sibling}ee.tail!==null&&$t()>cv&&(v.flags|=128,R=!0,$y(ee,!1),v.lanes=4194304)}else{if(!R)if(p=Gl(he),p!==null){if(v.flags|=128,R=!0,k=p.updateQueue,k!==null&&(v.updateQueue=k,v.flags|=4),$y(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!he.alternate&&!St)return ms(v),null}else 2*$t()-ee.renderingStartTime>cv&&k!==1073741824&&(v.flags|=128,R=!0,$y(ee,!1),v.lanes=4194304);ee.isBackwards?(he.sibling=v.child,v.child=he):(k=ee.last,k!==null?k.sibling=he:v.child=he,ee.last=he)}return ee.tail!==null?(v=ee.tail,ee.rendering=v,ee.tail=v.sibling,ee.renderingStartTime=$t(),v.sibling=null,k=ba.current,sa(ba,R?k&1|2:k&1),v):(ms(v),null);case 22:case 23:return PA(),R=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(v.flags|=8192),R&&(v.mode&1)!==0?(Xl&1073741824)!==0&&(ms(v),v.subtreeFlags&6&&(v.flags|=8192)):ms(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function xse(p,v){switch(qe(v),v.tag){case 1:return hs(v.type)&&Yg(),p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 3:return Dc(),ta(fs),ta(fo),Fy(),p=v.flags,(p&65536)!==0&&(p&128)===0?(v.flags=p&-65537|128,v):null;case 5:return Ry(v),null;case 13:if(ta(ba),p=v.memoizedState,p!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(r(340));pn()}return p=v.flags,p&65536?(v.flags=p&-65537|128,v):null;case 19:return ta(ba),null;case 4:return Dc(),null;case 10:return ps(v.type._context),null;case 22:case 23:return PA(),null;case 24:return null;default:return null}}var N_=!1,gs=!1,wse=typeof WeakSet=="function"?WeakSet:Set,_r=null;function sv(p,v){var k=p.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(R){wi(p,v,R)}else k.current=null}function yA(p,v,k){try{k()}catch(R){wi(p,v,R)}}var sM=!1;function _se(p,v){if(a0=zh,p=Zm(),Rf(p)){if("selectionStart"in p)var k={start:p.selectionStart,end:p.selectionEnd};else e:{k=(k=p.ownerDocument)&&k.defaultView||window;var R=k.getSelection&&k.getSelection();if(R&&R.rangeCount!==0){k=R.anchorNode;var W=R.anchorOffset,ee=R.focusNode;R=R.focusOffset;try{k.nodeType,ee.nodeType}catch{k=null;break e}var he=0,Te=-1,Ue=-1,ht=0,Lt=0,Bt=p,Ft=null;t:for(;;){for(var pr;Bt!==k||W!==0&&Bt.nodeType!==3||(Te=he+W),Bt!==ee||R!==0&&Bt.nodeType!==3||(Ue=he+R),Bt.nodeType===3&&(he+=Bt.nodeValue.length),(pr=Bt.firstChild)!==null;)Ft=Bt,Bt=pr;for(;;){if(Bt===p)break t;if(Ft===k&&++ht===W&&(Te=he),Ft===ee&&++Lt===R&&(Ue=he),(pr=Bt.nextSibling)!==null)break;Bt=Ft,Ft=Bt.parentNode}Bt=pr}k=Te===-1||Ue===-1?null:{start:Te,end:Ue}}else k=null}k=k||{start:0,end:0}}else k=null;for(Bf={focusedElem:p,selectionRange:k},zh=!1,_r=v;_r!==null;)if(v=_r,p=v.child,(v.subtreeFlags&1028)!==0&&p!==null)p.return=v,_r=p;else for(;_r!==null;){v=_r;try{var Ar=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Ar!==null){var Er=Ar.memoizedProps,Mi=Ar.memoizedState,it=v.stateNode,Ke=it.getSnapshotBeforeUpdate(v.elementType===v.type?Er:Su(v.type,Er),Mi);it.__reactInternalSnapshotBeforeUpdate=Ke}break;case 3:var ct=v.stateNode.containerInfo;ct.nodeType===1?ct.textContent="":ct.nodeType===9&&ct.documentElement&&ct.removeChild(ct.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Xt){wi(v,v.return,Xt)}if(p=v.sibling,p!==null){p.return=v.return,_r=p;break}_r=v.return}return Ar=sM,sM=!1,Ar}function By(p,v,k){var R=v.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var W=R=R.next;do{if((W.tag&p)===p){var ee=W.destroy;W.destroy=void 0,ee!==void 0&&yA(v,k,ee)}W=W.next}while(W!==R)}}function E_(p,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var k=v=v.next;do{if((k.tag&p)===p){var R=k.create;k.destroy=R()}k=k.next}while(k!==v)}}function xA(p){var v=p.ref;if(v!==null){var k=p.stateNode;switch(p.tag){case 5:p=k;break;default:p=k}typeof v=="function"?v(p):v.current=p}}function lM(p){var v=p.alternate;v!==null&&(p.alternate=null,lM(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode,v!==null&&(delete v[Pc],delete v[cp],delete v[ds],delete v[nA],delete v[aA])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function cM(p){return p.tag===5||p.tag===3||p.tag===4}function uM(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||cM(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function wA(p,v,k){var R=p.tag;if(R===5||R===6)p=p.stateNode,v?k.nodeType===8?k.parentNode.insertBefore(p,v):k.insertBefore(p,v):(k.nodeType===8?(v=k.parentNode,v.insertBefore(p,k)):(v=k,v.appendChild(p)),k=k._reactRootContainer,k!=null||v.onclick!==null||(v.onclick=lp));else if(R!==4&&(p=p.child,p!==null))for(wA(p,v,k),p=p.sibling;p!==null;)wA(p,v,k),p=p.sibling}function _A(p,v,k){var R=p.tag;if(R===5||R===6)p=p.stateNode,v?k.insertBefore(p,v):k.appendChild(p);else if(R!==4&&(p=p.child,p!==null))for(_A(p,v,k),p=p.sibling;p!==null;)_A(p,v,k),p=p.sibling}var Yo=null,Au=!1;function yp(p,v,k){for(k=k.child;k!==null;)dM(p,v,k),k=k.sibling}function dM(p,v,k){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Us,k)}catch{}switch(k.tag){case 5:gs||sv(k,v);case 6:var R=Yo,W=Au;Yo=null,yp(p,v,k),Yo=R,Au=W,Yo!==null&&(Au?(p=Yo,k=k.stateNode,p.nodeType===8?p.parentNode.removeChild(k):p.removeChild(k)):Yo.removeChild(k.stateNode));break;case 18:Yo!==null&&(Au?(p=Yo,k=k.stateNode,p.nodeType===8?Py(p.parentNode,k):p.nodeType===1&&Py(p,k),ql(p)):Py(Yo,k.stateNode));break;case 4:R=Yo,W=Au,Yo=k.stateNode.containerInfo,Au=!0,yp(p,v,k),Yo=R,Au=W;break;case 0:case 11:case 14:case 15:if(!gs&&(R=k.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){W=R=R.next;do{var ee=W,he=ee.destroy;ee=ee.tag,he!==void 0&&((ee&2)!==0||(ee&4)!==0)&&yA(k,v,he),W=W.next}while(W!==R)}yp(p,v,k);break;case 1:if(!gs&&(sv(k,v),R=k.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=k.memoizedProps,R.state=k.memoizedState,R.componentWillUnmount()}catch(Te){wi(k,v,Te)}yp(p,v,k);break;case 21:yp(p,v,k);break;case 22:k.mode&1?(gs=(R=gs)||k.memoizedState!==null,yp(p,v,k),gs=R):yp(p,v,k);break;default:yp(p,v,k)}}function fM(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var k=p.stateNode;k===null&&(k=p.stateNode=new wse),v.forEach(function(R){var W=Pse.bind(null,p,R);k.has(R)||(k.add(R),R.then(W,W))})}}function ku(p,v){var k=v.deletions;if(k!==null)for(var R=0;R<k.length;R++){var W=k[R];try{var ee=p,he=v,Te=he;e:for(;Te!==null;){switch(Te.tag){case 5:Yo=Te.stateNode,Au=!1;break e;case 3:Yo=Te.stateNode.containerInfo,Au=!0;break e;case 4:Yo=Te.stateNode.containerInfo,Au=!0;break e}Te=Te.return}if(Yo===null)throw Error(r(160));dM(ee,he,W),Yo=null,Au=!1;var Ue=W.alternate;Ue!==null&&(Ue.return=null),W.return=null}catch(ht){wi(W,v,ht)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)hM(v,p),v=v.sibling}function hM(p,v){var k=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(ku(v,p),Pd(p),R&4){try{By(3,p,p.return),E_(3,p)}catch(Er){wi(p,p.return,Er)}try{By(5,p,p.return)}catch(Er){wi(p,p.return,Er)}}break;case 1:ku(v,p),Pd(p),R&512&&k!==null&&sv(k,k.return);break;case 5:if(ku(v,p),Pd(p),R&512&&k!==null&&sv(k,k.return),p.flags&32){var W=p.stateNode;try{At(W,"")}catch(Er){wi(p,p.return,Er)}}if(R&4&&(W=p.stateNode,W!=null)){var ee=p.memoizedProps,he=k!==null?k.memoizedProps:ee,Te=p.type,Ue=p.updateQueue;if(p.updateQueue=null,Ue!==null)try{Te==="input"&&ee.type==="radio"&&ee.name!=null&&pe(W,ee),Pi(Te,he);var ht=Pi(Te,ee);for(he=0;he<Ue.length;he+=2){var Lt=Ue[he],Bt=Ue[he+1];Lt==="style"?Jr(W,Bt):Lt==="dangerouslySetInnerHTML"?_t(W,Bt):Lt==="children"?At(W,Bt):S(W,Lt,Bt,ht)}switch(Te){case"input":Je(W,ee);break;case"textarea":We(W,ee);break;case"select":var Ft=W._wrapperState.wasMultiple;W._wrapperState.wasMultiple=!!ee.multiple;var pr=ee.value;pr!=null?lt(W,!!ee.multiple,pr,!1):Ft!==!!ee.multiple&&(ee.defaultValue!=null?lt(W,!!ee.multiple,ee.defaultValue,!0):lt(W,!!ee.multiple,ee.multiple?[]:"",!1))}W[cp]=ee}catch(Er){wi(p,p.return,Er)}}break;case 6:if(ku(v,p),Pd(p),R&4){if(p.stateNode===null)throw Error(r(162));W=p.stateNode,ee=p.memoizedProps;try{W.nodeValue=ee}catch(Er){wi(p,p.return,Er)}}break;case 3:if(ku(v,p),Pd(p),R&4&&k!==null&&k.memoizedState.isDehydrated)try{ql(v.containerInfo)}catch(Er){wi(p,p.return,Er)}break;case 4:ku(v,p),Pd(p);break;case 13:ku(v,p),Pd(p),W=p.child,W.flags&8192&&(ee=W.memoizedState!==null,W.stateNode.isHidden=ee,!ee||W.alternate!==null&&W.alternate.memoizedState!==null||(AA=$t())),R&4&&fM(p);break;case 22:if(Lt=k!==null&&k.memoizedState!==null,p.mode&1?(gs=(ht=gs)||Lt,ku(v,p),gs=ht):ku(v,p),Pd(p),R&8192){if(ht=p.memoizedState!==null,(p.stateNode.isHidden=ht)&&!Lt&&(p.mode&1)!==0)for(_r=p,Lt=p.child;Lt!==null;){for(Bt=_r=Lt;_r!==null;){switch(Ft=_r,pr=Ft.child,Ft.tag){case 0:case 11:case 14:case 15:By(4,Ft,Ft.return);break;case 1:sv(Ft,Ft.return);var Ar=Ft.stateNode;if(typeof Ar.componentWillUnmount=="function"){R=Ft,k=Ft.return;try{v=R,Ar.props=v.memoizedProps,Ar.state=v.memoizedState,Ar.componentWillUnmount()}catch(Er){wi(R,k,Er)}}break;case 5:sv(Ft,Ft.return);break;case 22:if(Ft.memoizedState!==null){gM(Bt);continue}}pr!==null?(pr.return=Ft,_r=pr):gM(Bt)}Lt=Lt.sibling}e:for(Lt=null,Bt=p;;){if(Bt.tag===5){if(Lt===null){Lt=Bt;try{W=Bt.stateNode,ht?(ee=W.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none"):(Te=Bt.stateNode,Ue=Bt.memoizedProps.style,he=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null,Te.style.display=nr("display",he))}catch(Er){wi(p,p.return,Er)}}}else if(Bt.tag===6){if(Lt===null)try{Bt.stateNode.nodeValue=ht?"":Bt.memoizedProps}catch(Er){wi(p,p.return,Er)}}else if((Bt.tag!==22&&Bt.tag!==23||Bt.memoizedState===null||Bt===p)&&Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===p)break e;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===p)break e;Lt===Bt&&(Lt=null),Bt=Bt.return}Lt===Bt&&(Lt=null),Bt.sibling.return=Bt.return,Bt=Bt.sibling}}break;case 19:ku(v,p),Pd(p),R&4&&fM(p);break;case 21:break;default:ku(v,p),Pd(p)}}function Pd(p){var v=p.flags;if(v&2){try{e:{for(var k=p.return;k!==null;){if(cM(k)){var R=k;break e}k=k.return}throw Error(r(160))}switch(R.tag){case 5:var W=R.stateNode;R.flags&32&&(At(W,""),R.flags&=-33);var ee=uM(p);_A(p,ee,W);break;case 3:case 4:var he=R.stateNode.containerInfo,Te=uM(p);wA(p,Te,he);break;default:throw Error(r(161))}}catch(Ue){wi(p,p.return,Ue)}p.flags&=-3}v&4096&&(p.flags&=-4097)}function bse(p,v,k){_r=p,pM(p)}function pM(p,v,k){for(var R=(p.mode&1)!==0;_r!==null;){var W=_r,ee=W.child;if(W.tag===22&&R){var he=W.memoizedState!==null||N_;if(!he){var Te=W.alternate,Ue=Te!==null&&Te.memoizedState!==null||gs;Te=N_;var ht=gs;if(N_=he,(gs=Ue)&&!ht)for(_r=W;_r!==null;)he=_r,Ue=he.child,he.tag===22&&he.memoizedState!==null?vM(W):Ue!==null?(Ue.return=he,_r=Ue):vM(W);for(;ee!==null;)_r=ee,pM(ee),ee=ee.sibling;_r=W,N_=Te,gs=ht}mM(p)}else(W.subtreeFlags&8772)!==0&&ee!==null?(ee.return=W,_r=ee):mM(p)}}function mM(p){for(;_r!==null;){var v=_r;if((v.flags&8772)!==0){var k=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:gs||E_(5,v);break;case 1:var R=v.stateNode;if(v.flags&4&&!gs)if(k===null)R.componentDidMount();else{var W=v.elementType===v.type?k.memoizedProps:Su(v.type,k.memoizedProps);R.componentDidUpdate(W,k.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var ee=v.updateQueue;ee!==null&&Vf(v,ee,R);break;case 3:var he=v.updateQueue;if(he!==null){if(k=null,v.child!==null)switch(v.child.tag){case 5:k=v.child.stateNode;break;case 1:k=v.child.stateNode}Vf(v,he,k)}break;case 5:var Te=v.stateNode;if(k===null&&v.flags&4){k=Te;var Ue=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Ue.autoFocus&&k.focus();break;case"img":Ue.src&&(k.src=Ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var ht=v.alternate;if(ht!==null){var Lt=ht.memoizedState;if(Lt!==null){var Bt=Lt.dehydrated;Bt!==null&&ql(Bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}gs||v.flags&512&&xA(v)}catch(Ft){wi(v,v.return,Ft)}}if(v===p){_r=null;break}if(k=v.sibling,k!==null){k.return=v.return,_r=k;break}_r=v.return}}function gM(p){for(;_r!==null;){var v=_r;if(v===p){_r=null;break}var k=v.sibling;if(k!==null){k.return=v.return,_r=k;break}_r=v.return}}function vM(p){for(;_r!==null;){var v=_r;try{switch(v.tag){case 0:case 11:case 15:var k=v.return;try{E_(4,v)}catch(Ue){wi(v,k,Ue)}break;case 1:var R=v.stateNode;if(typeof R.componentDidMount=="function"){var W=v.return;try{R.componentDidMount()}catch(Ue){wi(v,W,Ue)}}var ee=v.return;try{xA(v)}catch(Ue){wi(v,ee,Ue)}break;case 5:var he=v.return;try{xA(v)}catch(Ue){wi(v,he,Ue)}}}catch(Ue){wi(v,v.return,Ue)}if(v===p){_r=null;break}var Te=v.sibling;if(Te!==null){Te.return=v.return,_r=Te;break}_r=v.return}}var Sse=Math.ceil,C_=C.ReactCurrentDispatcher,bA=C.ReactCurrentOwner,Mc=C.ReactCurrentBatchConfig,qn=0,To=null,Ji=null,Xo=0,Xl=0,lv=Hl(0),po=0,Uy=null,u0=0,T_=0,SA=0,qy=null,Sl=null,AA=0,cv=1/0,Kf=null,P_=!1,kA=null,xp=null,O_=!1,wp=null,D_=0,zy=0,NA=null,I_=-1,R_=0;function Zs(){return(qn&6)!==0?$t():I_!==-1?I_:I_=$t()}function _p(p){return(p.mode&1)===0?1:(qn&2)!==0&&Xo!==0?Xo&-Xo:la.transition!==null?(R_===0&&(R_=Bm()),R_):(p=Bn,p!==0||(p=window.event,p=p===void 0?16:Vm(p.type)),p)}function Nu(p,v,k,R){if(50<zy)throw zy=0,NA=null,Error(r(185));fd(p,k,R),((qn&2)===0||p!==To)&&(p===To&&((qn&2)===0&&(T_|=k),po===4&&bp(p,Xo)),Al(p,R),k===1&&qn===0&&(v.mode&1)===0&&(cv=$t()+500,o0&&re()))}function Al(p,v){var k=p.callbackNode;ss(p,v);var R=os(p,p===To?Xo:0);if(R===0)k!==null&&Gt(k),p.callbackNode=null,p.callbackPriority=0;else if(v=R&-R,p.callbackPriority!==v){if(k!=null&&Gt(k),v===1)p.tag===0?H(xM.bind(null,p)):F(xM.bind(null,p)),tA(function(){(qn&6)===0&&re()}),k=null;else{switch($h(R)){case 1:k=Mn;break;case 4:k=Qn;break;case 16:k=Fa;break;case 536870912:k=xc;break;default:k=Fa}k=EM(k,yM.bind(null,p))}p.callbackPriority=v,p.callbackNode=k}}function yM(p,v){if(I_=-1,R_=0,(qn&6)!==0)throw Error(r(327));var k=p.callbackNode;if(uv()&&p.callbackNode!==k)return null;var R=os(p,p===To?Xo:0);if(R===0)return null;if((R&30)!==0||(R&p.expiredLanes)!==0||v)v=M_(p,R);else{v=R;var W=qn;qn|=2;var ee=_M();(To!==p||Xo!==v)&&(Kf=null,cv=$t()+500,f0(p,v));do try{Nse();break}catch(Te){wM(p,Te)}while(!0);ho(),C_.current=ee,qn=W,Ji!==null?v=0:(To=null,Xo=0,v=po)}if(v!==0){if(v===2&&(W=bf(p),W!==0&&(R=W,v=EA(p,W))),v===1)throw k=Uy,f0(p,0),bp(p,R),Al(p,$t()),k;if(v===6)bp(p,R);else{if(W=p.current.alternate,(R&30)===0&&!Ase(W)&&(v=M_(p,R),v===2&&(ee=bf(p),ee!==0&&(R=ee,v=EA(p,ee))),v===1))throw k=Uy,f0(p,0),bp(p,R),Al(p,$t()),k;switch(p.finishedWork=W,p.finishedLanes=R,v){case 0:case 1:throw Error(r(345));case 2:h0(p,Sl,Kf);break;case 3:if(bp(p,R),(R&130023424)===R&&(v=AA+500-$t(),10<v)){if(os(p,0)!==0)break;if(W=p.suspendedLanes,(W&R)!==R){Zs(),p.pingedLanes|=p.suspendedLanes&W;break}p.timeoutHandle=Ty(h0.bind(null,p,Sl,Kf),v);break}h0(p,Sl,Kf);break;case 4:if(bp(p,R),(R&4194240)===R)break;for(v=p.eventTimes,W=-1;0<R;){var he=31-La(R);ee=1<<he,he=v[he],he>W&&(W=he),R&=~ee}if(R=W,R=$t()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*Sse(R/1960))-R,10<R){p.timeoutHandle=Ty(h0.bind(null,p,Sl,Kf),R);break}h0(p,Sl,Kf);break;case 5:h0(p,Sl,Kf);break;default:throw Error(r(329))}}}return Al(p,$t()),p.callbackNode===k?yM.bind(null,p):null}function EA(p,v){var k=qy;return p.current.memoizedState.isDehydrated&&(f0(p,v).flags|=256),p=M_(p,v),p!==2&&(v=Sl,Sl=k,v!==null&&CA(v)),p}function CA(p){Sl===null?Sl=p:Sl.push.apply(Sl,p)}function Ase(p){for(var v=p;;){if(v.flags&16384){var k=v.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var R=0;R<k.length;R++){var W=k[R],ee=W.getSnapshot;W=W.value;try{if(!Un(ee(),W))return!1}catch{return!1}}}if(k=v.child,v.subtreeFlags&16384&&k!==null)k.return=v,v=k;else{if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function bp(p,v){for(v&=~SA,v&=~T_,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var k=31-La(v),R=1<<k;p[k]=-1,v&=~R}}function xM(p){if((qn&6)!==0)throw Error(r(327));uv();var v=os(p,0);if((v&1)===0)return Al(p,$t()),null;var k=M_(p,v);if(p.tag!==0&&k===2){var R=bf(p);R!==0&&(v=R,k=EA(p,R))}if(k===1)throw k=Uy,f0(p,0),bp(p,v),Al(p,$t()),k;if(k===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,h0(p,Sl,Kf),Al(p,$t()),null}function TA(p,v){var k=qn;qn|=1;try{return p(v)}finally{qn=k,qn===0&&(cv=$t()+500,o0&&re())}}function d0(p){wp!==null&&wp.tag===0&&(qn&6)===0&&uv();var v=qn;qn|=1;var k=Mc.transition,R=Bn;try{if(Mc.transition=null,Bn=1,p)return p()}finally{Bn=R,Mc.transition=k,qn=v,(qn&6)===0&&re()}}function PA(){Xl=lv.current,ta(lv)}function f0(p,v){p.finishedWork=null,p.finishedLanes=0;var k=p.timeoutHandle;if(k!==-1&&(p.timeoutHandle=-1,h_(k)),Ji!==null)for(k=Ji.return;k!==null;){var R=k;switch(qe(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Yg();break;case 3:Dc(),ta(fs),ta(fo),Fy();break;case 5:Ry(R);break;case 4:Dc();break;case 13:ta(ba);break;case 19:ta(ba);break;case 10:ps(R.type._context);break;case 22:case 23:PA()}k=k.return}if(To=p,Ji=p=Sp(p.current,null),Xo=Xl=v,po=0,Uy=null,SA=T_=u0=0,Sl=qy=null,Hs!==null){for(v=0;v<Hs.length;v++)if(k=Hs[v],R=k.interleaved,R!==null){k.interleaved=null;var W=R.next,ee=k.pending;if(ee!==null){var he=ee.next;ee.next=W,R.next=he}k.pending=R}Hs=null}return p}function wM(p,v){do{var k=Ji;try{if(ho(),Zg.current=b_,mp){for(var R=Na.memoizedState;R!==null;){var W=R.queue;W!==null&&(W.pending=null),R=R.next}mp=!1}if(Ic=0,ci=xi=Na=null,_u=!1,gp=0,bA.current=null,k===null||k.return===null){po=1,Uy=v,Ji=null;break}e:{var ee=p,he=k.return,Te=k,Ue=v;if(v=Xo,Te.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var ht=Ue,Lt=Te,Bt=Lt.tag;if((Lt.mode&1)===0&&(Bt===0||Bt===11||Bt===15)){var Ft=Lt.alternate;Ft?(Lt.updateQueue=Ft.updateQueue,Lt.memoizedState=Ft.memoizedState,Lt.lanes=Ft.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var pr=V7(he);if(pr!==null){pr.flags&=-257,H7(pr,he,Te,ee,v),pr.mode&1&&W7(ee,ht,v),v=pr,Ue=ht;var Ar=v.updateQueue;if(Ar===null){var Er=new Set;Er.add(Ue),v.updateQueue=Er}else Ar.add(Ue);break e}else{if((v&1)===0){W7(ee,ht,v),OA();break e}Ue=Error(r(426))}}else if(St&&Te.mode&1){var Mi=V7(he);if(Mi!==null){(Mi.flags&65536)===0&&(Mi.flags|=256),H7(Mi,he,Te,ee,v),ra(ov(Ue,Te));break e}}ee=Ue=ov(Ue,Te),po!==4&&(po=2),qy===null?qy=[ee]:qy.push(ee),ee=he;do{switch(ee.tag){case 3:ee.flags|=65536,v&=-v,ee.lanes|=v;var it=q7(ee,Ue,v);_l(ee,it);break e;case 1:Te=Ue;var Ke=ee.type,ct=ee.stateNode;if((ee.flags&128)===0&&(typeof Ke.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(xp===null||!xp.has(ct)))){ee.flags|=65536,v&=-v,ee.lanes|=v;var Xt=z7(ee,Te,v);_l(ee,Xt);break e}}ee=ee.return}while(ee!==null)}SM(k)}catch(Tr){v=Tr,Ji===k&&k!==null&&(Ji=k=k.return);continue}break}while(!0)}function _M(){var p=C_.current;return C_.current=b_,p===null?b_:p}function OA(){(po===0||po===3||po===2)&&(po=4),To===null||(u0&268435455)===0&&(T_&268435455)===0||bp(To,Xo)}function M_(p,v){var k=qn;qn|=2;var R=_M();(To!==p||Xo!==v)&&(Kf=null,f0(p,v));do try{kse();break}catch(W){wM(p,W)}while(!0);if(ho(),qn=k,C_.current=R,Ji!==null)throw Error(r(261));return To=null,Xo=0,po}function kse(){for(;Ji!==null;)bM(Ji)}function Nse(){for(;Ji!==null&&!or();)bM(Ji)}function bM(p){var v=NM(p.alternate,p,Xl);p.memoizedProps=p.pendingProps,v===null?SM(p):Ji=v,bA.current=null}function SM(p){var v=p;do{var k=v.alternate;if(p=v.return,(v.flags&32768)===0){if(k=yse(k,v,Xl),k!==null){Ji=k;return}}else{if(k=xse(k,v),k!==null){k.flags&=32767,Ji=k;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{po=6,Ji=null;return}}if(v=v.sibling,v!==null){Ji=v;return}Ji=v=p}while(v!==null);po===0&&(po=5)}function h0(p,v,k){var R=Bn,W=Mc.transition;try{Mc.transition=null,Bn=1,Ese(p,v,k,R)}finally{Mc.transition=W,Bn=R}return null}function Ese(p,v,k,R){do uv();while(wp!==null);if((qn&6)!==0)throw Error(r(327));k=p.finishedWork;var W=p.finishedLanes;if(k===null)return null;if(p.finishedWork=null,p.finishedLanes=0,k===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var ee=k.lanes|k.childLanes;if(ky(p,ee),p===To&&(Ji=To=null,Xo=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||O_||(O_=!0,EM(Fa,function(){return uv(),null})),ee=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||ee){ee=Mc.transition,Mc.transition=null;var he=Bn;Bn=1;var Te=qn;qn|=4,bA.current=null,_se(p,k),hM(k,p),Mf(Bf),zh=!!a0,Bf=a0=null,p.current=k,bse(k),zt(),qn=Te,Bn=he,Mc.transition=ee}else p.current=k;if(O_&&(O_=!1,wp=p,D_=W),ee=p.pendingLanes,ee===0&&(xp=null),wc(k.stateNode),Al(p,$t()),v!==null)for(R=p.onRecoverableError,k=0;k<v.length;k++)W=v[k],R(W.value,{componentStack:W.stack,digest:W.digest});if(P_)throw P_=!1,p=kA,kA=null,p;return(D_&1)!==0&&p.tag!==0&&uv(),ee=p.pendingLanes,(ee&1)!==0?p===NA?zy++:(zy=0,NA=p):zy=0,re(),null}function uv(){if(wp!==null){var p=$h(D_),v=Mc.transition,k=Bn;try{if(Mc.transition=null,Bn=16>p?16:p,wp===null)var R=!1;else{if(p=wp,wp=null,D_=0,(qn&6)!==0)throw Error(r(331));var W=qn;for(qn|=4,_r=p.current;_r!==null;){var ee=_r,he=ee.child;if((_r.flags&16)!==0){var Te=ee.deletions;if(Te!==null){for(var Ue=0;Ue<Te.length;Ue++){var ht=Te[Ue];for(_r=ht;_r!==null;){var Lt=_r;switch(Lt.tag){case 0:case 11:case 15:By(8,Lt,ee)}var Bt=Lt.child;if(Bt!==null)Bt.return=Lt,_r=Bt;else for(;_r!==null;){Lt=_r;var Ft=Lt.sibling,pr=Lt.return;if(lM(Lt),Lt===ht){_r=null;break}if(Ft!==null){Ft.return=pr,_r=Ft;break}_r=pr}}}var Ar=ee.alternate;if(Ar!==null){var Er=Ar.child;if(Er!==null){Ar.child=null;do{var Mi=Er.sibling;Er.sibling=null,Er=Mi}while(Er!==null)}}_r=ee}}if((ee.subtreeFlags&2064)!==0&&he!==null)he.return=ee,_r=he;else e:for(;_r!==null;){if(ee=_r,(ee.flags&2048)!==0)switch(ee.tag){case 0:case 11:case 15:By(9,ee,ee.return)}var it=ee.sibling;if(it!==null){it.return=ee.return,_r=it;break e}_r=ee.return}}var Ke=p.current;for(_r=Ke;_r!==null;){he=_r;var ct=he.child;if((he.subtreeFlags&2064)!==0&&ct!==null)ct.return=he,_r=ct;else e:for(he=Ke;_r!==null;){if(Te=_r,(Te.flags&2048)!==0)try{switch(Te.tag){case 0:case 11:case 15:E_(9,Te)}}catch(Tr){wi(Te,Te.return,Tr)}if(Te===he){_r=null;break e}var Xt=Te.sibling;if(Xt!==null){Xt.return=Te.return,_r=Xt;break e}_r=Te.return}}if(qn=W,re(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Us,p)}catch{}R=!0}return R}finally{Bn=k,Mc.transition=v}}return!1}function AM(p,v,k){v=ov(k,v),v=q7(p,v,1),p=wl(p,v,1),v=Zs(),p!==null&&(fd(p,1,v),Al(p,v))}function wi(p,v,k){if(p.tag===3)AM(p,p,k);else for(;v!==null;){if(v.tag===3){AM(v,p,k);break}else if(v.tag===1){var R=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(xp===null||!xp.has(R))){p=ov(k,p),p=z7(v,p,1),v=wl(v,p,1),p=Zs(),v!==null&&(fd(v,1,p),Al(v,p));break}}v=v.return}}function Cse(p,v,k){var R=p.pingCache;R!==null&&R.delete(v),v=Zs(),p.pingedLanes|=p.suspendedLanes&k,To===p&&(Xo&k)===k&&(po===4||po===3&&(Xo&130023424)===Xo&&500>$t()-AA?f0(p,0):SA|=k),Al(p,v)}function kM(p,v){v===0&&((p.mode&1)===0?v=1:(v=dd,dd<<=1,(dd&130023424)===0&&(dd=4194304)));var k=Zs();p=Gn(p,v),p!==null&&(fd(p,v,k),Al(p,k))}function Tse(p){var v=p.memoizedState,k=0;v!==null&&(k=v.retryLane),kM(p,k)}function Pse(p,v){var k=0;switch(p.tag){case 13:var R=p.stateNode,W=p.memoizedState;W!==null&&(k=W.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(r(314))}R!==null&&R.delete(v),kM(p,k)}var NM;NM=function(p,v,k){if(p!==null)if(p.memoizedProps!==v.pendingProps||fs.current)bl=!0;else{if((p.lanes&k)===0&&(v.flags&128)===0)return bl=!1,vse(p,v,k);bl=(p.flags&131072)!==0}else bl=!1,St&&(v.flags&1048576)!==0&&Ot(v,ve,v.index);switch(v.lanes=0,v.tag){case 2:var R=v.type;k_(p,v),p=v.pendingProps;var W=dp(v,fo.current);qa(v,k),W=s0(null,v,R,p,W,k);var ee=Rc();return v.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,hs(R)?(ee=!0,zf(v)):ee=!1,v.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,Xg(v),W.updater=S_,v.stateNode=W,W._reactInternals=v,lA(v,R,p,k),v=fA(null,v,R,!0,ee,k)):(v.tag=0,St&&ee&&yt(v),Xs(null,v,W,k),v=v.child),v;case 16:R=v.elementType;e:{switch(k_(p,v),p=v.pendingProps,W=R._init,R=W(R._payload),v.type=R,W=v.tag=Dse(R),p=Su(R,p),W){case 0:v=dA(null,v,R,p,k);break e;case 1:v=J7(null,v,R,p,k);break e;case 11:v=G7(null,v,R,p,k);break e;case 14:v=K7(null,v,R,Su(R.type,p),k);break e}throw Error(r(306,R,""))}return v;case 0:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:Su(R,W),dA(p,v,R,W,k);case 1:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:Su(R,W),J7(p,v,R,W,k);case 3:e:{if(Q7(v),p===null)throw Error(r(387));R=v.pendingProps,ee=v.memoizedState,W=ee.element,Iy(p,v),xu(v,R,null,k);var he=v.memoizedState;if(R=he.element,ee.isDehydrated)if(ee={element:R,isDehydrated:!1,cache:he.cache,pendingSuspenseBoundaries:he.pendingSuspenseBoundaries,transitions:he.transitions},v.updateQueue.baseState=ee,v.memoizedState=ee,v.flags&256){W=ov(Error(r(423)),v),v=eM(p,v,R,k,W);break e}else if(R!==W){W=ov(Error(r(424)),v),v=eM(p,v,R,k,W);break e}else for(kt=Go(v.stateNode.containerInfo.firstChild),ze=v,St=!0,Et=null,k=Hn(v,null,R,k),v.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(pn(),R===W){v=Gf(p,v,k);break e}Xs(p,v,R,k)}v=v.child}return v;case 5:return v_(v),p===null&&ir(v),R=v.type,W=v.pendingProps,ee=p!==null?p.memoizedProps:null,he=W.children,Cy(R,W)?he=null:ee!==null&&Cy(R,ee)&&(v.flags|=32),Z7(p,v),Xs(p,v,he,k),v.child;case 6:return p===null&&ir(v),null;case 13:return tM(p,v,k);case 4:return pp(v,v.stateNode.containerInfo),R=v.pendingProps,p===null?v.child=Di(v,null,R,k):Xs(p,v,R,k),v.child;case 11:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:Su(R,W),G7(p,v,R,W,k);case 7:return Xs(p,v,v.pendingProps,k),v.child;case 8:return Xs(p,v,v.pendingProps.children,k),v.child;case 12:return Xs(p,v,v.pendingProps.children,k),v.child;case 10:e:{if(R=v.type._context,W=v.pendingProps,ee=v.memoizedProps,he=W.value,sa(Eo,R._currentValue),R._currentValue=he,ee!==null)if(Un(ee.value,he)){if(ee.children===W.children&&!fs.current){v=Gf(p,v,k);break e}}else for(ee=v.child,ee!==null&&(ee.return=v);ee!==null;){var Te=ee.dependencies;if(Te!==null){he=ee.child;for(var Ue=Te.firstContext;Ue!==null;){if(Ue.context===R){if(ee.tag===1){Ue=xl(-1,k&-k),Ue.tag=2;var ht=ee.updateQueue;if(ht!==null){ht=ht.shared;var Lt=ht.pending;Lt===null?Ue.next=Ue:(Ue.next=Lt.next,Lt.next=Ue),ht.pending=Ue}}ee.lanes|=k,Ue=ee.alternate,Ue!==null&&(Ue.lanes|=k),yl(ee.return,k,v),Te.lanes|=k;break}Ue=Ue.next}}else if(ee.tag===10)he=ee.type===v.type?null:ee.child;else if(ee.tag===18){if(he=ee.return,he===null)throw Error(r(341));he.lanes|=k,Te=he.alternate,Te!==null&&(Te.lanes|=k),yl(he,k,v),he=ee.sibling}else he=ee.child;if(he!==null)he.return=ee;else for(he=ee;he!==null;){if(he===v){he=null;break}if(ee=he.sibling,ee!==null){ee.return=he.return,he=ee;break}he=he.return}ee=he}Xs(p,v,W.children,k),v=v.child}return v;case 9:return W=v.type,R=v.pendingProps.children,qa(v,k),W=yi(W),R=R(W),v.flags|=1,Xs(p,v,R,k),v.child;case 14:return R=v.type,W=Su(R,v.pendingProps),W=Su(R.type,W),K7(p,v,R,W,k);case 15:return Y7(p,v,v.type,v.pendingProps,k);case 17:return R=v.type,W=v.pendingProps,W=v.elementType===R?W:Su(R,W),k_(p,v),v.tag=1,hs(R)?(p=!0,zf(v)):p=!1,qa(v,k),B7(v,R,W),lA(v,R,W,k),fA(null,v,R,!0,p,k);case 19:return nM(p,v,k);case 22:return X7(p,v,k)}throw Error(r(156,v.tag))};function EM(p,v){return It(p,v)}function Ose(p,v,k,R){this.tag=p,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(p,v,k,R){return new Ose(p,v,k,R)}function DA(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Dse(p){if(typeof p=="function")return DA(p)?1:0;if(p!=null){if(p=p.$$typeof,p===M)return 11;if(p===X)return 14}return 2}function Sp(p,v){var k=p.alternate;return k===null?(k=Fc(p.tag,v,p.key,p.mode),k.elementType=p.elementType,k.type=p.type,k.stateNode=p.stateNode,k.alternate=p,p.alternate=k):(k.pendingProps=v,k.type=p.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=p.flags&14680064,k.childLanes=p.childLanes,k.lanes=p.lanes,k.child=p.child,k.memoizedProps=p.memoizedProps,k.memoizedState=p.memoizedState,k.updateQueue=p.updateQueue,v=p.dependencies,k.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},k.sibling=p.sibling,k.index=p.index,k.ref=p.ref,k}function F_(p,v,k,R,W,ee){var he=2;if(R=p,typeof p=="function")DA(p)&&(he=1);else if(typeof p=="string")he=5;else e:switch(p){case T:return p0(k.children,W,ee,v);case I:he=8,W|=8;break;case L:return p=Fc(12,k,v,W|2),p.elementType=L,p.lanes=ee,p;case j:return p=Fc(13,k,v,W),p.elementType=j,p.lanes=ee,p;case V:return p=Fc(19,k,v,W),p.elementType=V,p.lanes=ee,p;case z:return L_(k,W,ee,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case U:he=10;break e;case P:he=9;break e;case M:he=11;break e;case X:he=14;break e;case te:he=16,R=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return v=Fc(he,k,v,W),v.elementType=p,v.type=R,v.lanes=ee,v}function p0(p,v,k,R){return p=Fc(7,p,R,v),p.lanes=k,p}function L_(p,v,k,R){return p=Fc(22,p,R,v),p.elementType=z,p.lanes=k,p.stateNode={isHidden:!1},p}function IA(p,v,k){return p=Fc(6,p,null,v),p.lanes=k,p}function RA(p,v,k){return v=Fc(4,p.children!==null?p.children:[],p.key,v),v.lanes=k,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function Ise(p,v,k,R,W){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Um(0),this.expirationTimes=Um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Um(0),this.identifierPrefix=R,this.onRecoverableError=W,this.mutableSourceEagerHydrationData=null}function MA(p,v,k,R,W,ee,he,Te,Ue){return p=new Ise(p,v,k,Te,Ue),v===1?(v=1,ee===!0&&(v|=8)):v=0,ee=Fc(3,null,null,v),p.current=ee,ee.stateNode=p,ee.memoizedState={element:R,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(ee),p}function Rse(p,v,k){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:R==null?null:""+R,children:p,containerInfo:v,implementation:k}}function CM(p){if(!p)return Nd;p=p._reactInternals;e:{if(ke(p)!==p||p.tag!==1)throw Error(r(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(hs(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(p.tag===1){var k=p.type;if(hs(k))return Dy(p,k,v)}return v}function TM(p,v,k,R,W,ee,he,Te,Ue){return p=MA(k,R,!0,p,W,ee,he,Te,Ue),p.context=CM(null),k=p.current,R=Zs(),W=_p(k),ee=xl(R,W),ee.callback=v??null,wl(k,ee,W),p.current.lanes=W,fd(p,W,R),Al(p,R),p}function j_(p,v,k,R){var W=v.current,ee=Zs(),he=_p(W);return k=CM(k),v.context===null?v.context=k:v.pendingContext=k,v=xl(ee,he),v.payload={element:p},R=R===void 0?null:R,R!==null&&(v.callback=R),p=wl(W,v,he),p!==null&&(Nu(p,W,he,ee),Wf(p,W,he)),he}function $_(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function PM(p,v){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var k=p.retryLane;p.retryLane=k!==0&&k<v?k:v}}function FA(p,v){PM(p,v),(p=p.alternate)&&PM(p,v)}function Mse(){return null}var OM=typeof reportError=="function"?reportError:function(p){console.error(p)};function LA(p){this._internalRoot=p}B_.prototype.render=LA.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(r(409));j_(p,v,null,null)},B_.prototype.unmount=LA.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;d0(function(){j_(null,p,null,null)}),v[No]=null}};function B_(p){this._internalRoot=p}B_.prototype.unstable_scheduleHydration=function(p){if(p){var v=_c();p={blockedOn:null,target:p,priority:v};for(var k=0;k<Sc.length&&v!==0&&v<Sc[k].priority;k++);Sc.splice(k,0,p),k===0&&Uh(p)}};function jA(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function U_(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function DM(){}function Fse(p,v,k,R,W){if(W){if(typeof R=="function"){var ee=R;R=function(){var ht=$_(he);ee.call(ht)}}var he=TM(v,R,p,0,null,!1,!1,"",DM);return p._reactRootContainer=he,p[No]=he.current,jf(p.nodeType===8?p.parentNode:p),d0(),he}for(;W=p.lastChild;)p.removeChild(W);if(typeof R=="function"){var Te=R;R=function(){var ht=$_(Ue);Te.call(ht)}}var Ue=MA(p,0,!1,null,null,!1,!1,"",DM);return p._reactRootContainer=Ue,p[No]=Ue.current,jf(p.nodeType===8?p.parentNode:p),d0(function(){j_(v,Ue,k,R)}),Ue}function q_(p,v,k,R,W){var ee=k._reactRootContainer;if(ee){var he=ee;if(typeof W=="function"){var Te=W;W=function(){var Ue=$_(he);Te.call(Ue)}}j_(v,he,p,W)}else he=Fse(k,v,p,W,R);return $_(he)}$g=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var k=_f(v.pendingLanes);k!==0&&(jh(v,k|1),Al(v,$t()),(qn&6)===0&&(cv=$t()+500,re()))}break;case 13:d0(function(){var R=Gn(p,1);if(R!==null){var W=Zs();Nu(R,p,1,W)}}),FA(p,1)}},qm=function(p){if(p.tag===13){var v=Gn(p,134217728);if(v!==null){var k=Zs();Nu(v,p,134217728,k)}FA(p,134217728)}},Bg=function(p){if(p.tag===13){var v=_p(p),k=Gn(p,v);if(k!==null){var R=Zs();Nu(k,p,v,R)}FA(p,v)}},_c=function(){return Bn},Sf=function(p,v){var k=Bn;try{return Bn=p,v()}finally{Bn=k}},Vn=function(p,v,k){switch(v){case"input":if(Je(p,k),v=k.name,k.type==="radio"&&v!=null){for(k=p;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<k.length;v++){var R=k[v];if(R!==p&&R.form===p.form){var W=i0(R);if(!W)throw Error(r(90));ne(R),Je(R,W)}}}break;case"textarea":We(p,k);break;case"select":v=k.value,v!=null&&lt(p,!!k.multiple,v,!1)}},An=TA,ha=d0;var Lse={usingClientEntryPoint:!1,Events:[up,Uf,i0,Ge,Pt,TA]},Wy={findFiberByHostInstance:kd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jse={bundleType:Wy.bundleType,version:Wy.version,rendererPackageName:Wy.rendererPackageName,rendererConfig:Wy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=at(p),p===null?null:p.stateNode},findFiberByHostInstance:Wy.findFiberByHostInstance||Mse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z_.isDisabled&&z_.supportsFiber)try{Us=z_.inject(jse),mi=z_}catch{}}return kl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lse,kl.createPortal=function(p,v){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jA(v))throw Error(r(200));return Rse(p,v,null,k)},kl.createRoot=function(p,v){if(!jA(p))throw Error(r(299));var k=!1,R="",W=OM;return v!=null&&(v.unstable_strictMode===!0&&(k=!0),v.identifierPrefix!==void 0&&(R=v.identifierPrefix),v.onRecoverableError!==void 0&&(W=v.onRecoverableError)),v=MA(p,1,!1,null,null,k,!1,R,W),p[No]=v.current,jf(p.nodeType===8?p.parentNode:p),new LA(v)},kl.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=at(v),p=p===null?null:p.stateNode,p},kl.flushSync=function(p){return d0(p)},kl.hydrate=function(p,v,k){if(!U_(v))throw Error(r(200));return q_(null,p,v,!0,k)},kl.hydrateRoot=function(p,v,k){if(!jA(p))throw Error(r(405));var R=k!=null&&k.hydratedSources||null,W=!1,ee="",he=OM;if(k!=null&&(k.unstable_strictMode===!0&&(W=!0),k.identifierPrefix!==void 0&&(ee=k.identifierPrefix),k.onRecoverableError!==void 0&&(he=k.onRecoverableError)),v=TM(v,null,p,1,k??null,W,!1,ee,he),p[No]=v.current,jf(p),R)for(p=0;p<R.length;p++)k=R[p],W=k._getVersion,W=W(k._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[k,W]:v.mutableSourceEagerHydrationData.push(k,W);return new B_(v)},kl.render=function(p,v,k){if(!U_(v))throw Error(r(200));return q_(null,p,v,!1,k)},kl.unmountComponentAtNode=function(p){if(!U_(p))throw Error(r(40));return p._reactRootContainer?(d0(function(){q_(null,null,p,!1,function(){p._reactRootContainer=null,p[No]=null})}),!0):!1},kl.unstable_batchedUpdates=TA,kl.unstable_renderSubtreeIntoContainer=function(p,v,k,R){if(!U_(k))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return q_(p,v,k,!1,R)},kl.version="18.3.1-next-f1338f8080-20240426",kl}var jM;function CH(){if(jM)return BA.exports;jM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),BA.exports=Gse(),BA.exports}var $M;function Kse(){if($M)return V_;$M=1;var e=CH();return V_.createRoot=e.createRoot,V_.hydrateRoot=e.hydrateRoot,V_}var Yse=Kse(),ty=CH();const Xse=ia(ty);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(this,arguments)}var Vp;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vp||(Vp={}));const BM="popstate";function Zse(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:s="",hash:l=""}=vg(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),jP("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let o=a.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=a.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof i=="string"?i:l5(i))}function n(a,i){B8(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Qse(t,r,n,e)}function Hi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function B8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jse(){return Math.random().toString(36).substr(2,8)}function UM(e,t){return{usr:e.state,key:e.key,idx:t}}function jP(e,t,r,n){return r===void 0&&(r=null),ex({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vg(t):t,{state:r,key:t&&t.key||n||Jse()})}function l5(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vg(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Qse(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=Vp.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ex({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Vp.Pop;let y=d(),_=y==null?null:y-u;u=y,l&&l({action:s,location:g.location,delta:_})}function h(y,_){s=Vp.Push;let b=jP(g.location,y,_);r&&r(b,y),u=d()+1;let S=UM(b,u),C=g.createHref(b);try{o.pushState(S,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(C)}i&&l&&l({action:s,location:g.location,delta:1})}function m(y,_){s=Vp.Replace;let b=jP(g.location,y,_);r&&r(b,y),u=d();let S=UM(b,u),C=g.createHref(b);o.replaceState(S,"",C),i&&l&&l({action:s,location:g.location,delta:0})}function x(y){let _=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof y=="string"?y:l5(y);return b=b.replace(/ $/,"%20"),Hi(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let g={get action(){return s},get location(){return e(a,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(BM,f),l=y,()=>{a.removeEventListener(BM,f),l=null}},createHref(y){return t(a,y)},createURL:x,encodeLocation(y){let _=x(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:m,go(y){return o.go(y)}};return g}var qM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qM||(qM={}));function ele(e,t,r){return r===void 0&&(r="/"),tle(e,t,r)}function tle(e,t,r,n){let a=typeof t=="string"?vg(t):t,i=U8(a.pathname||"/",r);if(i==null)return null;let o=TH(e);rle(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=ple(i);s=dle(o[l],u)}return s}function TH(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Hi(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Jp([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Hi(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TH(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:cle(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of PH(i.path))a(i,o,l)}),t}function PH(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=PH(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function rle(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ule(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nle=/^:[\w-]+$/,ale=3,ile=2,ole=1,sle=10,lle=-2,zM=e=>e==="*";function cle(e,t){let r=e.split("/"),n=r.length;return r.some(zM)&&(n+=lle),t&&(n+=ile),r.filter(a=>!zM(a)).reduce((a,i)=>a+(nle.test(i)?ale:i===""?ole:sle),n)}function ule(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function dle(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=fle({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Jp([i,f.pathname]),pathnameBase:yle(Jp([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Jp([i,f.pathnameBase]))}return o}function fle(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hle(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=s[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=s[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function hle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),B8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function ple(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return B8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function U8(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function mle(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?vg(e):e;return{pathname:r?r.startsWith("/")?r:gle(r,t):t,search:xle(n),hash:wle(a)}}function gle(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function zA(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function q8(e,t){let r=vle(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function z8(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=vg(e):(a=ex({},e),Hi(!a.pathname||!a.pathname.includes("?"),zA("?","pathname","search",a)),Hi(!a.pathname||!a.pathname.includes("#"),zA("#","pathname","hash",a)),Hi(!a.search||!a.search.includes("#"),zA("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=mle(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Jp=e=>e.join("/").replace(/\/\/+/g,"/"),yle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xle=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _le(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OH=["post","put","patch","delete"];new Set(OH);const ble=["get",...OH];new Set(ble);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}const W8=A.createContext(null),Sle=A.createContext(null),Am=A.createContext(null),n4=A.createContext(null),ff=A.createContext({outlet:null,matches:[],isDataRoute:!1}),DH=A.createContext(null);function Ale(e,t){let{relative:r}=t===void 0?{}:t;ry()||Hi(!1);let{basename:n,navigator:a}=A.useContext(Am),{hash:i,pathname:o,search:s}=RH(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Jp([n,o])),a.createHref({pathname:l,search:s,hash:i})}function ry(){return A.useContext(n4)!=null}function km(){return ry()||Hi(!1),A.useContext(n4).location}function IH(e){A.useContext(Am).static||A.useLayoutEffect(e)}function Uo(){let{isDataRoute:e}=A.useContext(ff);return e?$le():kle()}function kle(){ry()||Hi(!1);let e=A.useContext(W8),{basename:t,future:r,navigator:n}=A.useContext(Am),{matches:a}=A.useContext(ff),{pathname:i}=km(),o=JSON.stringify(q8(a,r.v7_relativeSplatPath)),s=A.useRef(!1);return IH(()=>{s.current=!0}),A.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=z8(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Jp([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Nle=A.createContext(null);function Ele(e){let t=A.useContext(ff).outlet;return t&&A.createElement(Nle.Provider,{value:e},t)}function ny(){let{matches:e}=A.useContext(ff),t=e[e.length-1];return t?t.params:{}}function RH(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(Am),{matches:a}=A.useContext(ff),{pathname:i}=km(),o=JSON.stringify(q8(a,n.v7_relativeSplatPath));return A.useMemo(()=>z8(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Cle(e,t){return Tle(e,t)}function Tle(e,t,r,n){ry()||Hi(!1);let{navigator:a,static:i}=A.useContext(Am),{matches:o}=A.useContext(ff),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let d=km(),f;if(t){var h;let _=typeof t=="string"?vg(t):t;u==="/"||(h=_.pathname)!=null&&h.startsWith(u)||Hi(!1),f=_}else f=d;let m=f.pathname||"/",x=m;if(u!=="/"){let _=u.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=ele(e,{pathname:x}),y=Rle(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Jp([u,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Jp([u,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,r,n);return t&&y?A.createElement(n4.Provider,{value:{location:tx({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Vp.Pop}},y):y}function Ple(){let e=jle(),t=_le(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,null)}const Ole=A.createElement(Ple,null);class Dle extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(ff.Provider,{value:this.props.routeContext},A.createElement(DH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ile(e){let{routeContext:t,match:r,children:n}=e,a=A.useContext(W8);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(ff.Provider,{value:t},n)}function Rle(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||Hi(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,x=!1,g=null,y=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||Ole,l&&(u<0&&h===0?(Ble("route-fallback"),x=!0,y=null):u===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,h+1)),b=()=>{let S;return m?S=g:x?S=y:f.route.Component?S=A.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,A.createElement(Ile,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(Dle,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var MH=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(MH||{}),FH=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(FH||{});function Mle(e){let t=A.useContext(W8);return t||Hi(!1),t}function Fle(e){let t=A.useContext(Sle);return t||Hi(!1),t}function Lle(e){let t=A.useContext(ff);return t||Hi(!1),t}function LH(e){let t=Lle(),r=t.matches[t.matches.length-1];return r.route.id||Hi(!1),r.route.id}function jle(){var e;let t=A.useContext(DH),r=Fle(),n=LH();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function $le(){let{router:e}=Mle(MH.UseNavigateStable),t=LH(FH.UseNavigateStable),r=A.useRef(!1);return IH(()=>{r.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,tx({fromRouteId:t},i)))},[e,t])}const WM={};function Ble(e,t,r){WM[e]||(WM[e]=!0)}function Ule(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $P(e){let{to:t,replace:r,state:n,relative:a}=e;ry()||Hi(!1);let{future:i,static:o}=A.useContext(Am),{matches:s}=A.useContext(ff),{pathname:l}=km(),u=Uo(),d=z8(t,q8(s,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return A.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function jH(e){return Ele(e.context)}function jn(e){Hi(!1)}function qle(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Vp.Pop,navigator:i,static:o=!1,future:s}=e;ry()&&Hi(!1);let l=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:i,static:o,future:tx({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof n=="string"&&(n=vg(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=n,g=A.useMemo(()=>{let y=U8(d,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:x},navigationType:a}},[l,d,f,h,m,x,a]);return g==null?null:A.createElement(Am.Provider,{value:u},A.createElement(n4.Provider,{children:r,value:g}))}function zle(e){let{children:t,location:r}=e;return Cle(BP(t),r)}new Promise(()=>{});function BP(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,a)=>{if(!A.isValidElement(n))return;let i=[...t,a];if(n.type===A.Fragment){r.push.apply(r,BP(n.props.children,i));return}n.type!==jn&&Hi(!1),!n.props.index||!n.props.children||Hi(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=BP(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function UP(){return UP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UP.apply(this,arguments)}function Wle(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Vle(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hle(e,t){return e.button===0&&(!t||t==="_self")&&!Vle(e)}function qP(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Gle(e,t){let r=qP(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Kle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yle="6";try{window.__reactRouterVersion=Yle}catch{}const Xle="startTransition",VM=Q2[Xle];function Zle(e){let{basename:t,children:r,future:n,window:a}=e,i=A.useRef();i.current==null&&(i.current=Zse({window:a,v5Compat:!0}));let o=i.current,[s,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=A.useCallback(f=>{u&&VM?VM(()=>l(f)):l(f)},[l,u]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.useEffect(()=>Ule(n),[n]),A.createElement(qle,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const Jle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zi=A.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=Wle(t,Kle),{basename:m}=A.useContext(Am),x,g=!1;if(typeof u=="string"&&Qle.test(u)&&(x=u,Jle))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),E=U8(C.pathname,m);C.origin===S.origin&&E!=null?u=E+C.search+C.hash:g=!0}catch{}let y=Ale(u,{relative:a}),_=ece(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:a,viewTransition:f});function b(S){n&&n(S),S.defaultPrevented||_(S)}return A.createElement("a",UP({},h,{href:x||y,onClick:g||i?n:b,ref:r,target:l}))});var HM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(HM||(HM={}));var GM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(GM||(GM={}));function ece(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=t===void 0?{}:t,l=Uo(),u=km(),d=RH(e,{relative:o});return A.useCallback(f=>{if(Hle(f,r)){f.preventDefault();let h=n!==void 0?n:l5(u)===l5(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,d,n,a,r,e,i,o,s])}function $H(e){let t=A.useRef(qP(e)),r=A.useRef(!1),n=km(),a=A.useMemo(()=>Gle(n.search,r.current?null:t.current),[n.search]),i=Uo(),o=A.useCallback((s,l)=>{const u=qP(typeof s=="function"?s(a):s);r.current=!0,i("?"+u,l)},[i,a]);return[a,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Jt=(e,t)=>{const r=A.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,...u},d)=>A.createElement("svg",{ref:d,...tce,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${rce(e)}`,s].join(" "),...u},[...t.map(([f,h])=>A.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Jt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Jt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=Jt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=Jt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=Jt("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1e01m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Jt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=Jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=Jt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=Jt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Jt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=Jt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=Jt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=Jt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=Jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=Jt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=Jt("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Jt("BrainCog",[["path",{d:"M12 5a3 3 0 1 0-5.997.142 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588 4 4 0 0 0 7.636 2.106 3.2 3.2 0 0 0 .164-.546c.028-.13.306-.13.335 0a3.2 3.2 0 0 0 .163.546 4 4 0 0 0 7.636-2.106 4 4 0 0 0 .556-6.588 4 4 0 0 0-2.526-5.77A3 3 0 1 0 12 5",key:"1kgmhc"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m15.7 10.4-.9.4",key:"ayzo6p"}],["path",{d:"m9.2 13.2-.9.4",key:"1uzb3g"}],["path",{d:"m13.6 15.7-.4-.9",key:"11ifqf"}],["path",{d:"m10.8 9.2-.4-.9",key:"1pmk2v"}],["path",{d:"m15.7 13.5-.9-.4",key:"7ng02m"}],["path",{d:"m9.2 10.9-.9-.4",key:"1x66zd"}],["path",{d:"m10.5 15.7.4-.9",key:"3js94g"}],["path",{d:"m13.1 9.2.4-.9",key:"18n7mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=Jt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=Jt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=Jt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=Jt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=Jt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Jt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=Jt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=Jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=Jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=Jt("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=Jt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=Jt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=Jt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=Jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=Jt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Jt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=Jt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Jt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Jt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=Jt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=Jt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=Jt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=Jt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=Jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=Jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=Jt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Jt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Jt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=Jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=Jt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=Jt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=Jt("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=Jt("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Jt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=Jt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=Jt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=Jt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Jt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=Jt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=Jt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=Jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=Jt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=Jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=Jt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Jt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=Jt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Jt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Jt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Jt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Jt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=Jt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=Jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Jt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=Jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=Jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=Jt("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=Jt("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=Jt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=Jt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function eF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function c4(...e){return t=>{let r=!1;const n=e.map(a=>{const i=eF(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():eF(e[a],null)}}}}function zr(...e){return A.useCallback(c4(...e),e)}var KA={exports:{}},Vy={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF;function $ce(){if(tF)return Vy;tF=1;var e=r4(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,u){var d,f={},h=null,m=null;u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!i.hasOwnProperty(d)&&(f[d]=l[d]);if(s&&s.defaultProps)for(d in l=s.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:t,type:s,key:h,ref:m,props:f,_owner:a.current}}return Vy.Fragment=r,Vy.jsx=o,Vy.jsxs=o,Vy}var rF;function Bce(){return rF||(rF=1,KA.exports=$ce()),KA.exports}var G8=Bce();const c=G8.jsx,w=G8.jsxs,Sr=G8.Fragment;function om(e){const t=Uce(e),r=A.forwardRef((n,a)=>{const{children:i,...o}=n,s=A.Children.toArray(i),l=s.find(qce);if(l){const u=l.props.children,d=s.map(f=>f===l?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:f);return c(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,d):null})}return c(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var QH=om("Slot");function Uce(e){const t=A.forwardRef((r,n)=>{const{children:a,...i}=r;if(A.isValidElement(a)){const o=Wce(a),s=zce(i,a.props);return a.type!==A.Fragment&&(s.ref=n?c4(n,o):o),A.cloneElement(a,s)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eG=Symbol("radix.slottable");function tG(e){const t=({children:r})=>c(Sr,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=eG,t}function qce(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eG}function zce(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...s)=>{i(...s),a(...s)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Wce(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function rG(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=rG(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function un(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=rG(e))&&(n&&(n+=" "),n+=t);return n}const nF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aF=un,Ew=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return aF(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=nF(d)||nF(f);return a[u][h]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...i,...s}[g]):{...i,...s}[g]===y})?[...u,f,h]:u},[]);return aF(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},K8="-",Vce=e=>{const t=Gce(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split(K8);return s[0]===""&&s.length!==1&&s.shift(),nG(s,t)||Hce(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},nG=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?nG(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(K8);return(o=t.validators.find(({validator:s})=>s(i)))==null?void 0:o.classGroupId},iF=/^\[(.+)\]$/,Hce=e=>{if(iF.test(e)){const t=iF.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Gce=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Yce(Object.entries(e.classGroups),r).forEach(([i,o])=>{WP(o,n,i,t)}),n},WP=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:oF(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Kce(a)){WP(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{WP(o,oF(t,i),r,n)})})},oF=(e,t)=>{let r=e;return t.split(K8).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Kce=e=>e.isThemeGetter,Yce=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,s])=>[t+o,s])):i);return[r,a]}):e,Xce=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},aG="!",Zce=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=s=>{const l=[];let u=0,d=0,f;for(let y=0;y<s.length;y++){let _=s[y];if(u===0){if(_===a&&(n||s.slice(y,y+i)===t)){l.push(s.slice(d,y)),d=y+i;continue}if(_==="/"){f=y;continue}}_==="["?u++:_==="]"&&u--}const h=l.length===0?s:s.substring(d),m=h.startsWith(aG),x=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return r?s=>r({className:s,parseClassName:o}):o},Jce=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Qce=e=>({cache:Xce(e.cacheSize),parseClassName:Zce(e),...Vce(e)}),eue=/\s+/,tue=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(eue);let s="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let x=!!m,g=n(x?h.substring(0,m):h);if(!g){if(!x){s=u+(s.length>0?" "+s:s);continue}if(g=n(h),!g){s=u+(s.length>0?" "+s:s);continue}x=!1}const y=Jce(d).join(":"),_=f?y+aG:y,b=_+g;if(i.includes(b))continue;i.push(b);const S=a(g,x);for(let C=0;C<S.length;++C){const E=S[C];i.push(_+E)}s=u+(s.length>0?" "+s:s)}return s};function rue(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=iG(t))&&(n&&(n+=" "),n+=r);return n}const iG=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=iG(e[n]))&&(r&&(r+=" "),r+=t);return r};function nue(e,...t){let r,n,a,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=Qce(u),n=r.cache.get,a=r.cache.set,i=s,s(l)}function s(l){const u=n(l);if(u)return u;const d=tue(l,r);return a(l,d),d}return function(){return i(rue.apply(null,arguments))}}const za=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},oG=/^\[(?:([a-z-]+):)?(.+)\]$/i,aue=/^\d+\/\d+$/,iue=new Set(["px","full","screen"]),oue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yf=e=>Gv(e)||iue.has(e)||aue.test(e),kp=e=>ay(e,"length",yue),Gv=e=>!!e&&!Number.isNaN(Number(e)),YA=e=>ay(e,"number",Gv),Hy=e=>!!e&&Number.isInteger(Number(e)),due=e=>e.endsWith("%")&&Gv(e.slice(0,-1)),yn=e=>oG.test(e),Np=e=>oue.test(e),fue=new Set(["length","size","percentage"]),hue=e=>ay(e,fue,sG),pue=e=>ay(e,"position",sG),mue=new Set(["image","url"]),gue=e=>ay(e,mue,wue),vue=e=>ay(e,"",xue),Gy=()=>!0,ay=(e,t,r)=>{const n=oG.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},yue=e=>sue.test(e)&&!lue.test(e),sG=()=>!1,xue=e=>cue.test(e),wue=e=>uue.test(e),_ue=()=>{const e=za("colors"),t=za("spacing"),r=za("blur"),n=za("brightness"),a=za("borderColor"),i=za("borderRadius"),o=za("borderSpacing"),s=za("borderWidth"),l=za("contrast"),u=za("grayscale"),d=za("hueRotate"),f=za("invert"),h=za("gap"),m=za("gradientColorStops"),x=za("gradientColorStopPositions"),g=za("inset"),y=za("margin"),_=za("opacity"),b=za("padding"),S=za("saturate"),C=za("scale"),E=za("sepia"),O=za("skew"),T=za("space"),I=za("translate"),L=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",yn,t],M=()=>[yn,t],j=()=>["",Yf,kp],V=()=>["auto",Gv,yn],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",yn],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Gv,yn];return{cacheSize:500,separator:":",theme:{colors:[Gy],spacing:[Yf,kp],blur:["none","",Np,yn],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Np,yn],borderSpacing:M(),borderWidth:j(),contrast:Z(),grayscale:q(),hueRotate:Z(),invert:q(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[due,kp],inset:P(),margin:P(),opacity:Z(),padding:M(),saturate:Z(),scale:Z(),sepia:q(),skew:Z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",yn]}],container:["container"],columns:[{columns:[Np]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),yn]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hy,yn]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yn]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Hy,yn]}],"grid-cols":[{"grid-cols":[Gy]}],"col-start-end":[{col:["auto",{span:["full",Hy,yn]},yn]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Gy]}],"row-start-end":[{row:["auto",{span:[Hy,yn]},yn]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yn,t]}],"min-w":[{"min-w":[yn,t,"min","max","fit"]}],"max-w":[{"max-w":[yn,t,"none","full","min","max","fit","prose",{screen:[Np]},Np]}],h:[{h:[yn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Np,kp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",YA]}],"font-family":[{font:[Gy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yn]}],"line-clamp":[{"line-clamp":["none",Gv,YA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yf,yn]}],"list-image":[{"list-image":["none",yn]}],"list-style-type":[{list:["none","disc","decimal",yn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yf,kp]}],"underline-offset":[{"underline-offset":["auto",Yf,yn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),pue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gue]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Yf,yn]}],"outline-w":[{outline:[Yf,kp]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Yf,kp]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Np,vue]}],"shadow-color":[{shadow:[Gy]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Np,yn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yn]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",yn]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",yn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Hy,yn]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yf,kp,YA]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bue=nue(_ue);function Rt(...e){return bue(un(e))}const ax=Ew("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Le=A.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>c(n?QH:"button",{className:Rt(ax({variant:t,size:r,className:e})),ref:i,...a}));Le.displayName="Button";function Ut(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Sue(e,t){const r=A.createContext(t),n=i=>{const{children:o,...s}=i,l=A.useMemo(()=>s,Object.values(s));return c(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function a(i){const o=A.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Yi(e,t=[]){let r=[];function n(i,o){const s=A.createContext(o),l=r.length;r=[...r,o];const u=f=>{var _;const{scope:h,children:m,...x}=f,g=((_=h==null?void 0:h[e])==null?void 0:_[l])||s,y=A.useMemo(()=>x,Object.values(x));return c(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[l])||s,x=A.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>A.createContext(o));return function(s){const l=(s==null?void 0:s[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return a.scopeName=e,[n,Aue(a,...t)]}function Aue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...s,...f}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ai=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},kue=Q2[" useInsertionEffect ".trim().toString()]||ai;function cl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=Nue({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:a;{const d=A.useRef(e!==void 0);A.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const u=A.useCallback(d=>{var f;if(s){const h=Eue(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[s,e,i,o]);return[l,u]}function Nue({defaultProp:e,onChange:t}){const[r,n]=A.useState(e),a=A.useRef(r),i=A.useRef(t);return kue(()=>{i.current=t},[t]),A.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function Eue(e){return typeof e=="function"}var Cue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hr=Cue.reduce((e,t)=>{const r=om(`Primitive.${t}`),n=A.forwardRef((a,i)=>{const{asChild:o,...s}=a,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c(l,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Y8(e,t){e&&ty.flushSync(()=>e.dispatchEvent(t))}function Cw(e){const t=e+"CollectionProvider",[r,n]=Yi(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:_}=g,b=Qe.useRef(null),S=Qe.useRef(new Map).current;return c(a,{scope:y,itemMap:S,collectionRef:b,children:_})};o.displayName=t;const s=e+"CollectionSlot",l=om(s),u=Qe.forwardRef((g,y)=>{const{scope:_,children:b}=g,S=i(s,_),C=zr(y,S.collectionRef);return c(l,{ref:C,children:b})});u.displayName=s;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=om(d),m=Qe.forwardRef((g,y)=>{const{scope:_,children:b,...S}=g,C=Qe.useRef(null),E=zr(y,C),O=i(d,_);return Qe.useEffect(()=>(O.itemMap.set(C,{ref:C,...S}),()=>void O.itemMap.delete(C))),c(h,{[f]:"",ref:E,children:b})});m.displayName=d;function x(g){const y=i(e+"CollectionConsumer",g);return Qe.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((O,T)=>S.indexOf(O.ref.current)-S.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,n]}var Tue=A.createContext(void 0);function yg(e){const t=A.useContext(Tue);return e||t||"ltr"}function Ni(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Pue(e,t=globalThis==null?void 0:globalThis.document){const r=Ni(e);A.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Oue="DismissableLayer",VP="dismissableLayer.update",Due="dismissableLayer.pointerDownOutside",Iue="dismissableLayer.focusOutside",sF,lG=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xg=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...l}=e,u=A.useContext(lG),[d,f]=A.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=A.useState({}),x=zr(t,T=>f(T)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(y),b=d?g.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=_,E=Mue(T=>{const I=T.target,L=[...u.branches].some(U=>U.contains(I));!C||L||(a==null||a(T),o==null||o(T),T.defaultPrevented||s==null||s())},h),O=Fue(T=>{const I=T.target;[...u.branches].some(U=>U.contains(I))||(i==null||i(T),o==null||o(T),T.defaultPrevented||s==null||s())},h);return Pue(T=>{b===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&s&&(T.preventDefault(),s()))},h),A.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sF)}},[d,h,r,u]),A.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lF())},[d,u]),A.useEffect(()=>{const T=()=>m({});return document.addEventListener(VP,T),()=>document.removeEventListener(VP,T)},[]),c(hr.div,{...l,ref:x,style:{pointerEvents:S?C?"auto":"none":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,E.onPointerDownCapture)})});xg.displayName=Oue;var Rue="DismissableLayerBranch",cG=A.forwardRef((e,t)=>{const r=A.useContext(lG),n=A.useRef(null),a=zr(t,n);return A.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c(hr.div,{...e,ref:a})});cG.displayName=Rue;function Mue(e,t=globalThis==null?void 0:globalThis.document){const r=Ni(e),n=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let l=function(){uG(Due,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Fue(e,t=globalThis==null?void 0:globalThis.document){const r=Ni(e),n=A.useRef(!1);return A.useEffect(()=>{const a=i=>{i.target&&!n.current&&uG(Iue,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lF(){const e=new CustomEvent(VP);document.dispatchEvent(e)}function uG(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Y8(a,i):a.dispatchEvent(i)}var Lue=xg,jue=cG,XA=0;function u4(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cF()),document.body.insertAdjacentElement("beforeend",e[1]??cF()),XA++,()=>{XA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),XA--}},[])}function cF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ZA="focusScope.autoFocusOnMount",JA="focusScope.autoFocusOnUnmount",uF={bubbles:!1,cancelable:!0},$ue="FocusScope",Tw=A.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[s,l]=A.useState(null),u=Ni(a),d=Ni(i),f=A.useRef(null),h=zr(t,g=>l(g)),m=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let g=function(S){if(m.paused||!s)return;const C=S.target;s.contains(C)?f.current=C:Rp(f.current,{select:!0})},y=function(S){if(m.paused||!s)return;const C=S.relatedTarget;C!==null&&(s.contains(C)||Rp(f.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Rp(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(_);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[n,s,m.paused]),A.useEffect(()=>{if(s){fF.add(m);const g=document.activeElement;if(!s.contains(g)){const _=new CustomEvent(ZA,uF);s.addEventListener(ZA,u),s.dispatchEvent(_),_.defaultPrevented||(Bue(Vue(dG(s)),{select:!0}),document.activeElement===g&&Rp(s))}return()=>{s.removeEventListener(ZA,u),setTimeout(()=>{const _=new CustomEvent(JA,uF);s.addEventListener(JA,d),s.dispatchEvent(_),_.defaultPrevented||Rp(g??document.body,{select:!0}),s.removeEventListener(JA,d),fF.remove(m)},0)}}},[s,u,d,m]);const x=A.useCallback(g=>{if(!r&&!n||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(y&&_){const b=g.currentTarget,[S,C]=Uue(b);S&&C?!g.shiftKey&&_===C?(g.preventDefault(),r&&Rp(S,{select:!0})):g.shiftKey&&_===S&&(g.preventDefault(),r&&Rp(C,{select:!0})):_===b&&g.preventDefault()}},[r,n,m.paused]);return c(hr.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});Tw.displayName=$ue;function Bue(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Rp(n,{select:t}),document.activeElement!==r)return}function Uue(e){const t=dG(e),r=dF(t,e),n=dF(t.reverse(),e);return[r,n]}function dG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dF(e,t){for(const r of e)if(!que(r,{upTo:t}))return r}function que(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zue(e){return e instanceof HTMLInputElement&&"select"in e}function Rp(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zue(e)&&t&&e.select()}}var fF=Wue();function Wue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=hF(e,t),e.unshift(t)},remove(t){var r;e=hF(e,t),(r=e[0])==null||r.resume()}}}function hF(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Vue(e){return e.filter(t=>t.tagName!=="A")}var Hue=Q2[" useId ".trim().toString()]||(()=>{}),Gue=0;function Il(e){const[t,r]=A.useState(Hue());return ai(()=>{r(n=>n??String(Gue++))},[e]),t?`radix-${t}`:""}const Kue=["top","right","bottom","left"],sm=Math.min,nc=Math.max,f5=Math.round,K_=Math.floor,Zd=e=>({x:e,y:e}),Yue={left:"right",right:"left",bottom:"top",top:"bottom"},Xue={start:"end",end:"start"};function HP(e,t,r){return nc(e,sm(t,r))}function mh(e,t){return typeof e=="function"?e(t):e}function gh(e){return e.split("-")[0]}function iy(e){return e.split("-")[1]}function X8(e){return e==="x"?"y":"x"}function Z8(e){return e==="y"?"height":"width"}function lm(e){return["top","bottom"].includes(gh(e))?"y":"x"}function J8(e){return X8(lm(e))}function Zue(e,t,r){r===void 0&&(r=!1);const n=iy(e),a=J8(e),i=Z8(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=h5(o)),[o,h5(o)]}function Jue(e){const t=h5(e);return[GP(e),t,GP(t)]}function GP(e){return e.replace(/start|end/g,t=>Xue[t])}function Que(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function ede(e,t,r,n){const a=iy(e);let i=Que(gh(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(GP)))),i}function h5(e){return e.replace(/left|right|bottom|top/g,t=>Yue[t])}function tde(e){return{top:0,right:0,bottom:0,left:0,...e}}function fG(e){return typeof e!="number"?tde(e):{top:e,right:e,bottom:e,left:e}}function p5(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function pF(e,t,r){let{reference:n,floating:a}=e;const i=lm(t),o=J8(t),s=Z8(o),l=gh(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[s]/2-a[s]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(iy(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const rde=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,s=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=pF(u,n,l),h=n,m={},x=0;for(let g=0;g<s.length;g++){const{name:y,fn:_}=s[g],{x:b,y:S,data:C,reset:E}=await _({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=S??f,m={...m,[y]:{...m[y],...C}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:d,y:f}=pF(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function ix(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=mh(t,e),x=fG(m),y=s[h?f==="floating"?"reference":"floating":f],_=p5(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),C=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},E=p5(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:S,strategy:l}):b);return{top:(_.top-E.top+x.top)/C.y,bottom:(E.bottom-_.bottom+x.bottom)/C.y,left:(_.left-E.left+x.left)/C.x,right:(E.right-_.right+x.right)/C.x}}const nde=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:d=0}=mh(e,t)||{};if(u==null)return{};const f=fG(d),h={x:r,y:n},m=J8(a),x=Z8(m),g=await o.getDimensions(u),y=m==="y",_=y?"top":"left",b=y?"bottom":"right",S=y?"clientHeight":"clientWidth",C=i.reference[x]+i.reference[m]-h[m]-i.floating[x],E=h[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=O?O[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(O)))&&(T=s.floating[S]||i.floating[x]);const I=C/2-E/2,L=T/2-g[x]/2-1,U=sm(f[_],L),P=sm(f[b],L),M=U,j=T-g[x]-P,V=T/2-g[x]/2+I,X=HP(M,V,j),te=!l.arrow&&iy(a)!=null&&V!==X&&i.reference[x]/2-(V<M?U:P)-g[x]/2<0,z=te?V<M?V-M:V-j:0;return{[m]:h[m]+z,data:{[m]:X,centerOffset:V-X-z,...te&&{alignmentOffset:z}},reset:te}}}),ade=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...y}=mh(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const _=gh(a),b=lm(s),S=gh(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(S||!g?[h5(s)]:Jue(s)),O=x!=="none";!h&&O&&E.push(...ede(s,g,x,C));const T=[s,...E],I=await ix(t,y),L=[];let U=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&L.push(I[_]),f){const V=Zue(a,o,C);L.push(I[V[0]],I[V[1]])}if(U=[...U,{placement:a,overflows:L}],!L.every(V=>V<=0)){var P,M;const V=(((P=i.flip)==null?void 0:P.index)||0)+1,X=T[V];if(X)return{data:{index:V,overflows:U},reset:{placement:X}};let te=(M=U.filter(z=>z.overflows[0]<=0).sort((z,G)=>z.overflows[1]-G.overflows[1])[0])==null?void 0:M.placement;if(!te)switch(m){case"bestFit":{var j;const z=(j=U.filter(G=>{if(O){const q=lm(G.placement);return q===b||q==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(q=>q>0).reduce((q,Y)=>q+Y,0)]).sort((G,q)=>G[1]-q[1])[0])==null?void 0:j[0];z&&(te=z);break}case"initialPlacement":te=s;break}if(a!==te)return{reset:{placement:te}}}return{}}}};function mF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gF(e){return Kue.some(t=>e[t]>=0)}const ide=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=mh(e,t);switch(n){case"referenceHidden":{const i=await ix(t,{...a,elementContext:"reference"}),o=mF(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gF(o)}}}case"escaped":{const i=await ix(t,{...a,altBoundary:!0}),o=mF(i,r.floating);return{data:{escapedOffsets:o,escaped:gF(o)}}}default:return{}}}}};async function ode(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=gh(r),s=iy(r),l=lm(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=mh(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof x=="number"&&(m=s==="end"?x*-1:x),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const sde=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:s}=t,l=await ode(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},lde=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:y=>{let{x:_,y:b}=y;return{x:_,y:b}}},...l}=mh(e,t),u={x:r,y:n},d=await ix(t,l),f=lm(gh(a)),h=X8(f);let m=u[h],x=u[f];if(i){const y=h==="y"?"top":"left",_=h==="y"?"bottom":"right",b=m+d[y],S=m-d[_];m=HP(b,m,S)}if(o){const y=f==="y"?"top":"left",_=f==="y"?"bottom":"right",b=x+d[y],S=x-d[_];x=HP(b,x,S)}const g=s.fn({...t,[h]:m,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},cde=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=mh(e,t),d={x:r,y:n},f=lm(a),h=X8(f);let m=d[h],x=d[f];const g=mh(s,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=h==="y"?"height":"width",C=i.reference[h]-i.floating[S]+y.mainAxis,E=i.reference[h]+i.reference[S]-y.mainAxis;m<C?m=C:m>E&&(m=E)}if(u){var _,b;const S=h==="y"?"width":"height",C=["top","left"].includes(gh(a)),E=i.reference[f]-i.floating[S]+(C&&((_=o.offset)==null?void 0:_[f])||0)+(C?0:y.crossAxis),O=i.reference[f]+i.reference[S]+(C?0:((b=o.offset)==null?void 0:b[f])||0)-(C?y.crossAxis:0);x<E?x=E:x>O&&(x=O)}return{[h]:m,[f]:x}}}},ude=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:s}=t,{apply:l=()=>{},...u}=mh(e,t),d=await ix(t,u),f=gh(a),h=iy(a),m=lm(a)==="y",{width:x,height:g}=i.floating;let y,_;f==="top"||f==="bottom"?(y=f,_=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(_=f,y=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,S=x-d.left-d.right,C=sm(g-d[y],b),E=sm(x-d[_],S),O=!t.middlewareData.shift;let T=C,I=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=b),O&&!h){const U=nc(d.left,0),P=nc(d.right,0),M=nc(d.top,0),j=nc(d.bottom,0);m?I=x-2*(U!==0||P!==0?U+P:nc(d.left,d.right)):T=g-2*(M!==0||j!==0?M+j:nc(d.top,d.bottom))}await l({...t,availableWidth:I,availableHeight:T});const L=await o.getDimensions(s.floating);return x!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function d4(){return typeof window<"u"}function oy(e){return hG(e)?(e.nodeName||"").toLowerCase():"#document"}function fc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hf(e){var t;return(t=(hG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hG(e){return d4()?e instanceof Node||e instanceof fc(e).Node:!1}function Yu(e){return d4()?e instanceof Element||e instanceof fc(e).Element:!1}function of(e){return d4()?e instanceof HTMLElement||e instanceof fc(e).HTMLElement:!1}function vF(e){return!d4()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fc(e).ShadowRoot}function Pw(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Xu(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function dde(e){return["table","td","th"].includes(oy(e))}function f4(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Q8(e){const t=eD(),r=Yu(e)?Xu(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function fde(e){let t=cm(e);for(;of(t)&&!m1(t);){if(Q8(t))return t;if(f4(t))return null;t=cm(t)}return null}function eD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function m1(e){return["html","body","#document"].includes(oy(e))}function Xu(e){return fc(e).getComputedStyle(e)}function h4(e){return Yu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cm(e){if(oy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vF(e)&&e.host||hf(e);return vF(t)?t.host:t}function pG(e){const t=cm(e);return m1(t)?e.ownerDocument?e.ownerDocument.body:e.body:of(t)&&Pw(t)?t:pG(t)}function ox(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=pG(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=fc(a);if(i){const s=KP(o);return t.concat(o,o.visualViewport||[],Pw(a)?a:[],s&&r?ox(s):[])}return t.concat(a,ox(a,[],r))}function KP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mG(e){const t=Xu(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=of(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,s=f5(r)!==i||f5(n)!==o;return s&&(r=i,n=o),{width:r,height:n,$:s}}function tD(e){return Yu(e)?e:e.contextElement}function Kv(e){const t=tD(e);if(!of(t))return Zd(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=mG(t);let o=(i?f5(r.width):r.width)/n,s=(i?f5(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const hde=Zd(0);function gG(e){const t=fc(e);return!eD()||!t.visualViewport?hde:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pde(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fc(e)?!1:t}function K0(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=tD(e);let o=Zd(1);t&&(n?Yu(n)&&(o=Kv(n)):o=Kv(e));const s=pde(i,r,n)?gG(i):Zd(0);let l=(a.left+s.x)/o.x,u=(a.top+s.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=fc(i),m=n&&Yu(n)?fc(n):n;let x=h,g=KP(x);for(;g&&n&&m!==x;){const y=Kv(g),_=g.getBoundingClientRect(),b=Xu(g),S=_.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,C=_.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,f*=y.y,l+=S,u+=C,x=fc(g),g=KP(x)}}return p5({width:d,height:f,x:l,y:u})}function rD(e,t){const r=h4(e).scrollLeft;return t?t.left+r:K0(hf(e)).left+r}function vG(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:rD(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function mde(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=hf(n),s=t?f4(t.floating):!1;if(n===o||s&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Zd(1);const d=Zd(0),f=of(n);if((f||!f&&!i)&&((oy(n)!=="body"||Pw(o))&&(l=h4(n)),of(n))){const m=K0(n);u=Kv(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?vG(o,l,!0):Zd(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function gde(e){return Array.from(e.getClientRects())}function vde(e){const t=hf(e),r=h4(e),n=e.ownerDocument.body,a=nc(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=nc(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+rD(e);const s=-r.scrollTop;return Xu(n).direction==="rtl"&&(o+=nc(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:s}}function yde(e,t){const r=fc(e),n=hf(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const u=eD();(!u||u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s,y:l}}function xde(e,t){const r=K0(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=of(e)?Kv(e):Zd(1),o=e.clientWidth*i.x,s=e.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:o,height:s,x:l,y:u}}function yF(e,t,r){let n;if(t==="viewport")n=yde(e,r);else if(t==="document")n=vde(hf(e));else if(Yu(t))n=xde(t,r);else{const a=gG(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return p5(n)}function yG(e,t){const r=cm(e);return r===t||!Yu(r)||m1(r)?!1:Xu(r).position==="fixed"||yG(r,t)}function wde(e,t){const r=t.get(e);if(r)return r;let n=ox(e,[],!1).filter(s=>Yu(s)&&oy(s)!=="body"),a=null;const i=Xu(e).position==="fixed";let o=i?cm(e):e;for(;Yu(o)&&!m1(o);){const s=Xu(o),l=Q8(o);!l&&s.position==="fixed"&&(a=null),(i?!l&&!a:!l&&s.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Pw(o)&&!l&&yG(e,o))?n=n.filter(d=>d!==o):a=s,o=cm(o)}return t.set(e,n),n}function _de(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?f4(t)?[]:wde(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,d)=>{const f=yF(t,d,a);return u.top=nc(f.top,u.top),u.right=sm(f.right,u.right),u.bottom=sm(f.bottom,u.bottom),u.left=nc(f.left,u.left),u},yF(t,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bde(e){const{width:t,height:r}=mG(e);return{width:t,height:r}}function Sde(e,t,r){const n=of(t),a=hf(t),i=r==="fixed",o=K0(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Zd(0);if(n||!n&&!i)if((oy(t)!=="body"||Pw(a))&&(s=h4(t)),n){const h=K0(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else a&&(l.x=rD(a));const u=a&&!n&&!i?vG(a,s):Zd(0),d=o.left+s.scrollLeft-l.x-u.x,f=o.top+s.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function QA(e){return Xu(e).position==="static"}function xF(e,t){if(!of(e)||Xu(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hf(e)===r&&(r=r.ownerDocument.body),r}function xG(e,t){const r=fc(e);if(f4(e))return r;if(!of(e)){let a=cm(e);for(;a&&!m1(a);){if(Yu(a)&&!QA(a))return a;a=cm(a)}return r}let n=xF(e,t);for(;n&&dde(n)&&QA(n);)n=xF(n,t);return n&&m1(n)&&QA(n)&&!Q8(n)?r:n||fde(e)||r}const Ade=async function(e){const t=this.getOffsetParent||xG,r=this.getDimensions,n=await r(e.floating);return{reference:Sde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kde(e){return Xu(e).direction==="rtl"}const Nde={convertOffsetParentRelativeRectToViewportRelativeRect:mde,getDocumentElement:hf,getClippingRect:_de,getOffsetParent:xG,getElementRects:Ade,getClientRects:gde,getDimensions:bde,getScale:Kv,isElement:Yu,isRTL:kde};function wG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ede(e,t){let r=null,n;const a=hf(e);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(s||t(),!h||!m)return;const x=K_(f),g=K_(a.clientWidth-(d+h)),y=K_(a.clientHeight-(f+m)),_=K_(d),S={rootMargin:-x+"px "+-g+"px "+-y+"px "+-_+"px",threshold:nc(0,sm(1,l))||1};let C=!0;function E(O){const T=O[0].intersectionRatio;if(T!==l){if(!C)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!wG(u,e.getBoundingClientRect())&&o(),C=!1}try{r=new IntersectionObserver(E,{...S,root:a.ownerDocument})}catch{r=new IntersectionObserver(E,S)}r.observe(e)}return o(!0),i}function Cde(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=tD(e),d=a||i?[...u?ox(u):[],...ox(t)]:[];d.forEach(_=>{a&&_.addEventListener("scroll",r,{passive:!0}),i&&_.addEventListener("resize",r)});const f=u&&s?Ede(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(_=>{let[b]=_;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let x,g=l?K0(e):null;l&&y();function y(){const _=K0(e);g&&!wG(g,_)&&r(),g=_,x=requestAnimationFrame(y)}return r(),()=>{var _;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const Tde=sde,Pde=lde,Ode=ade,Dde=ude,Ide=ide,wF=nde,Rde=cde,Mde=(e,t,r)=>{const n=new Map,a={platform:Nde,...r},i={...a.platform,_c:n};return rde(e,t,{...a,platform:i})};var qb=typeof document<"u"?A.useLayoutEffect:A.useEffect;function m5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!m5(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!m5(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function _G(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _F(e,t){const r=_G(e);return Math.round(t*r)/r}function ek(e){const t=A.useRef(e);return qb(()=>{t.current=e}),t}function Fde(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[d,f]=A.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=A.useState(n);m5(h,n)||m(n);const[x,g]=A.useState(null),[y,_]=A.useState(null),b=A.useCallback(G=>{G!==O.current&&(O.current=G,g(G))},[]),S=A.useCallback(G=>{G!==T.current&&(T.current=G,_(G))},[]),C=i||x,E=o||y,O=A.useRef(null),T=A.useRef(null),I=A.useRef(d),L=l!=null,U=ek(l),P=ek(a),M=ek(u),j=A.useCallback(()=>{if(!O.current||!T.current)return;const G={placement:t,strategy:r,middleware:h};P.current&&(G.platform=P.current),Mde(O.current,T.current,G).then(q=>{const Y={...q,isPositioned:M.current!==!1};V.current&&!m5(I.current,Y)&&(I.current=Y,ty.flushSync(()=>{f(Y)}))})},[h,t,r,P,M]);qb(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[u]);const V=A.useRef(!1);qb(()=>(V.current=!0,()=>{V.current=!1}),[]),qb(()=>{if(C&&(O.current=C),E&&(T.current=E),C&&E){if(U.current)return U.current(C,E,j);j()}},[C,E,j,U,L]);const X=A.useMemo(()=>({reference:O,floating:T,setReference:b,setFloating:S}),[b,S]),te=A.useMemo(()=>({reference:C,floating:E}),[C,E]),z=A.useMemo(()=>{const G={position:r,left:0,top:0};if(!te.floating)return G;const q=_F(te.floating,d.x),Y=_F(te.floating,d.y);return s?{...G,transform:"translate("+q+"px, "+Y+"px)",..._G(te.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:Y}},[r,s,te.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:j,refs:X,elements:te,floatingStyles:z}),[d,j,X,te,z])}const Lde=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?wF({element:n.current,padding:a}).fn(r):{}:n?wF({element:n,padding:a}).fn(r):{}}}},jde=(e,t)=>({...Tde(e),options:[e,t]}),$de=(e,t)=>({...Pde(e),options:[e,t]}),Bde=(e,t)=>({...Rde(e),options:[e,t]}),Ude=(e,t)=>({...Ode(e),options:[e,t]}),qde=(e,t)=>({...Dde(e),options:[e,t]}),zde=(e,t)=>({...Ide(e),options:[e,t]}),Wde=(e,t)=>({...Lde(e),options:[e,t]});var Vde="Arrow",bG=A.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return c(hr.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c("polygon",{points:"0,0 30,0 15,10"})})});bG.displayName=Vde;var Hde=bG;function p4(e){const[t,r]=A.useState(void 0);return ai(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,s;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var nD="Popper",[SG,Nm]=Yi(nD),[Gde,AG]=SG(nD),kG=e=>{const{__scopePopper:t,children:r}=e,[n,a]=A.useState(null);return c(Gde,{scope:t,anchor:n,onAnchorChange:a,children:r})};kG.displayName=nD;var NG="PopperAnchor",EG=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=AG(NG,r),o=A.useRef(null),s=zr(t,o);return A.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:c(hr.div,{...a,ref:s})});EG.displayName=NG;var aD="PopperContent",[Kde,Yde]=SG(aD),CG=A.forwardRef((e,t)=>{var oe,de,J,ue,ge,ne;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=e,y=AG(aD,r),[_,b]=A.useState(null),S=zr(t,Ne=>b(Ne)),[C,E]=A.useState(null),O=p4(C),T=(O==null?void 0:O.width)??0,I=(O==null?void 0:O.height)??0,L=n+(i!=="center"?"-"+i:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],M=P.length>0,j={padding:U,boundary:P.filter(Zde),altBoundary:M},{refs:V,floatingStyles:X,placement:te,isPositioned:z,middlewareData:G}=Fde({strategy:"fixed",placement:L,whileElementsMounted:(...Ne)=>Cde(...Ne,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[jde({mainAxis:a+I,alignmentAxis:o}),l&&$de({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Bde():void 0,...j}),l&&Ude({...j}),qde({...j,apply:({elements:Ne,rects:Re,availableWidth:De,availableHeight:pe})=>{const{width:Je,height:mt}=Re.reference,dt=Ne.floating.style;dt.setProperty("--radix-popper-available-width",`${De}px`),dt.setProperty("--radix-popper-available-height",`${pe}px`),dt.setProperty("--radix-popper-anchor-width",`${Je}px`),dt.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),C&&Wde({element:C,padding:s}),Jde({arrowWidth:T,arrowHeight:I}),h&&zde({strategy:"referenceHidden",...j})]}),[q,Y]=OG(te),Z=Ni(x);ai(()=>{z&&(Z==null||Z())},[z,Z]);const D=(oe=G.arrow)==null?void 0:oe.x,K=(de=G.arrow)==null?void 0:de.y,Q=((J=G.arrow)==null?void 0:J.centerOffset)!==0,[ie,ae]=A.useState();return ai(()=>{_&&ae(window.getComputedStyle(_).zIndex)},[_]),c("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:z?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(ue=G.transformOrigin)==null?void 0:ue.x,(ge=G.transformOrigin)==null?void 0:ge.y].join(" "),...((ne=G.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c(Kde,{scope:r,placedSide:q,onArrowChange:E,arrowX:D,arrowY:K,shouldHideArrow:Q,children:c(hr.div,{"data-side":q,"data-align":Y,...g,ref:S,style:{...g.style,animation:z?void 0:"none"}})})})});CG.displayName=aD;var TG="PopperArrow",Xde={top:"bottom",right:"left",bottom:"top",left:"right"},PG=A.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Yde(TG,n),o=Xde[i.placedSide];return c("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c(Hde,{...a,ref:r,style:{...a.style,display:"block"}})})});PG.displayName=TG;function Zde(e){return e!==null}var Jde=e=>({name:"transformOrigin",options:e,fn(t){var y,_,b;const{placement:r,rects:n,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=OG(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((_=a.arrow)==null?void 0:_.x)??0)+s/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+l/2;let x="",g="";return u==="bottom"?(x=o?f:`${h}px`,g=`${-l}px`):u==="top"?(x=o?f:`${h}px`,g=`${n.floating.height+l}px`):u==="right"?(x=`${-l}px`,g=o?f:`${m}px`):u==="left"&&(x=`${n.floating.width+l}px`,g=o?f:`${m}px`),{data:{x,y:g}}}});function OG(e){const[t,r="center"]=e.split("-");return[t,r]}var m4=kG,Ow=EG,g4=CG,v4=PG,Qde="Portal",sy=A.forwardRef((e,t)=>{var s;const{container:r,...n}=e,[a,i]=A.useState(!1);ai(()=>i(!0),[]);const o=r||a&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?Xse.createPortal(c(hr.div,{...n,ref:t}),o):null});sy.displayName=Qde;function efe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var is=e=>{const{present:t,children:r}=e,n=tfe(t),a=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),i=zr(n.ref,rfe(a));return typeof r=="function"||n.isPresent?A.cloneElement(a,{ref:i}):null};is.displayName="Presence";function tfe(e){const[t,r]=A.useState(),n=A.useRef({}),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[s,l]=efe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=Y_(n.current);i.current=s==="mounted"?u:"none"},[s]),ai(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=Y_(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),ai(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=Y_(n.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=Y_(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:A.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Y_(e){return(e==null?void 0:e.animationName)||"none"}function rfe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tk="rovingFocusGroup.onEntryFocus",nfe={bubbles:!1,cancelable:!0},Dw="RovingFocusGroup",[YP,DG,afe]=Cw(Dw),[ife,ly]=Yi(Dw,[afe]),[ofe,sfe]=ife(Dw),IG=A.forwardRef((e,t)=>c(YP.Provider,{scope:e.__scopeRovingFocusGroup,children:c(YP.Slot,{scope:e.__scopeRovingFocusGroup,children:c(lfe,{...e,ref:t})})}));IG.displayName=Dw;var lfe=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=A.useRef(null),m=zr(t,h),x=yg(i),[g,y]=cl({prop:o,defaultProp:s??null,onChange:l,caller:Dw}),[_,b]=A.useState(!1),S=Ni(u),C=DG(r),E=A.useRef(!1),[O,T]=A.useState(0);return A.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(tk,S),()=>I.removeEventListener(tk,S)},[S]),c(ofe,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:g,onItemFocus:A.useCallback(I=>y(I),[y]),onItemShiftTab:A.useCallback(()=>b(!0),[]),onFocusableItemAdd:A.useCallback(()=>T(I=>I+1),[]),onFocusableItemRemove:A.useCallback(()=>T(I=>I-1),[]),children:c(hr.div,{tabIndex:_||O===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ut(e.onMouseDown,()=>{E.current=!0}),onFocus:Ut(e.onFocus,I=>{const L=!E.current;if(I.target===I.currentTarget&&L&&!_){const U=new CustomEvent(tk,nfe);if(I.currentTarget.dispatchEvent(U),!U.defaultPrevented){const P=C().filter(te=>te.focusable),M=P.find(te=>te.active),j=P.find(te=>te.id===g),X=[M,j,...P].filter(Boolean).map(te=>te.ref.current);FG(X,d)}}E.current=!1}),onBlur:Ut(e.onBlur,()=>b(!1))})})}),RG="RovingFocusGroupItem",MG=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...s}=e,l=Il(),u=i||l,d=sfe(RG,r),f=d.currentTabStopId===u,h=DG(r),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:g}=d;return A.useEffect(()=>{if(n)return m(),()=>x()},[n,m,x]),c(YP.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:c(hr.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:t,onMouseDown:Ut(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Ut(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ut(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=dfe(y,d.orientation,d.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=h().filter(C=>C.focusable).map(C=>C.ref.current);if(_==="last")S.reverse();else if(_==="prev"||_==="next"){_==="prev"&&S.reverse();const C=S.indexOf(y.currentTarget);S=d.loop?ffe(S,C+1):S.slice(C+1)}setTimeout(()=>FG(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});MG.displayName=RG;var cfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ufe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dfe(e,t,r){const n=ufe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cfe[n]}function FG(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ffe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var iD=IG,oD=MG,hfe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},dv=new WeakMap,X_=new WeakMap,Z_={},rk=0,LG=function(e){return e&&(e.host||LG(e.parentNode))},pfe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=LG(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},mfe=function(e,t,r,n){var a=pfe(t,Array.isArray(e)?e:[e]);Z_[r]||(Z_[r]=new WeakMap);var i=Z_[r],o=[],s=new Set,l=new Set(a),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var m=h.getAttribute(n),x=m!==null&&m!=="false",g=(dv.get(h)||0)+1,y=(i.get(h)||0)+1;dv.set(h,g),i.set(h,y),o.push(h),g===1&&x&&X_.set(h,!0),y===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return d(t),s.clear(),rk++,function(){o.forEach(function(f){var h=dv.get(f)-1,m=i.get(f)-1;dv.set(f,h),i.set(f,m),h||(X_.has(f)||f.removeAttribute(n),X_.delete(f)),m||f.removeAttribute(r)}),rk--,rk||(dv=new WeakMap,dv=new WeakMap,X_=new WeakMap,Z_={})}},y4=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=hfe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),mfe(n,a,r,"aria-hidden")):function(){return null}},qd=function(){return qd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qd.apply(this,arguments)};function jG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function gfe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var zb="right-scroll-bar-position",Wb="width-before-scroll-bar",vfe="with-scroll-bars-hidden",yfe="--removed-body-scroll-bar-size";function nk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xfe(e,t){var r=A.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var wfe=typeof window<"u"?A.useLayoutEffect:A.useEffect,bF=new WeakMap;function _fe(e,t){var r=xfe(null,function(n){return e.forEach(function(a){return nk(a,n)})});return wfe(function(){var n=bF.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(s){i.has(s)||nk(s,null)}),i.forEach(function(s){a.has(s)||nk(s,o)})}bF.set(r,e)},[e]),r}function bfe(e){return e}function Sfe(e,t){t===void 0&&(t=bfe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Afe(e){e===void 0&&(e={});var t=Sfe(null);return t.options=qd({async:!0,ssr:!1},e),t}var $G=function(e){var t=e.sideCar,r=jG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return A.createElement(n,qd({},r))};$G.isSideCarExport=!0;function kfe(e,t){return e.useMedium(t),$G}var BG=Afe(),ak=function(){},x4=A.forwardRef(function(e,t){var r=A.useRef(null),n=A.useState({onScrollCapture:ak,onWheelCapture:ak,onTouchMoveCapture:ak}),a=n[0],i=n[1],o=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,x=e.inert,g=e.allowPinchZoom,y=e.as,_=y===void 0?"div":y,b=e.gapMode,S=jG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,E=_fe([r,t]),O=qd(qd({},S),a);return A.createElement(A.Fragment,null,d&&A.createElement(C,{sideCar:BG,removeScrollBar:u,shards:f,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?A.cloneElement(A.Children.only(s),qd(qd({},O),{ref:E})):A.createElement(_,qd({},O,{className:l,ref:E}),s))});x4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};x4.classNames={fullWidth:Wb,zeroRight:zb};var Nfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Efe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Nfe();return t&&e.setAttribute("nonce",t),e}function Cfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Tfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Pfe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Efe())&&(Cfe(t,r),Tfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ofe=function(){var e=Pfe();return function(t,r){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},UG=function(){var e=Ofe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Dfe={left:0,top:0,right:0,gap:0},ik=function(e){return parseInt(e||"",10)||0},Ife=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ik(r),ik(n),ik(a)]},Rfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Dfe;var t=Ife(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Mfe=UG(),Yv="data-scroll-locked",Ffe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(vfe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Yv,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zb,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Wb,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(zb," .").concat(zb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Wb," .").concat(Wb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yv,`] {
    `).concat(yfe,": ").concat(s,`px;
  }
`)},SF=function(){var e=parseInt(document.body.getAttribute(Yv)||"0",10);return isFinite(e)?e:0},Lfe=function(){A.useEffect(function(){return document.body.setAttribute(Yv,(SF()+1).toString()),function(){var e=SF()-1;e<=0?document.body.removeAttribute(Yv):document.body.setAttribute(Yv,e.toString())}},[])},jfe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Lfe();var i=A.useMemo(function(){return Rfe(a)},[a]);return A.createElement(Mfe,{styles:Ffe(i,!t,a,r?"":"!important")})},XP=!1;if(typeof window<"u")try{var J_=Object.defineProperty({},"passive",{get:function(){return XP=!0,!0}});window.addEventListener("test",J_,J_),window.removeEventListener("test",J_,J_)}catch{XP=!1}var fv=XP?{passive:!1}:!1,$fe=function(e){return e.tagName==="TEXTAREA"},qG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$fe(e)&&r[t]==="visible")},Bfe=function(e){return qG(e,"overflowY")},Ufe=function(e){return qG(e,"overflowX")},AF=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=zG(e,n);if(a){var i=WG(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},qfe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},zfe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},zG=function(e,t){return e==="v"?Bfe(t):Ufe(t)},WG=function(e,t){return e==="v"?qfe(t):zfe(t)},Wfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Vfe=function(e,t,r,n,a){var i=Wfe(e,window.getComputedStyle(t).direction),o=i*n,s=r.target,l=t.contains(s),u=!1,d=o>0,f=0,h=0;do{var m=WG(e,s),x=m[0],g=m[1],y=m[2],_=g-y-i*x;(x||_)&&zG(e,s)&&(f+=_,h+=x),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Q_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kF=function(e){return[e.deltaX,e.deltaY]},NF=function(e){return e&&"current"in e?e.current:e},Hfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Gfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Kfe=0,hv=[];function Yfe(e){var t=A.useRef([]),r=A.useRef([0,0]),n=A.useRef(),a=A.useState(Kfe++)[0],i=A.useState(UG)[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=gfe([e.lockRef.current],(e.shards||[]).map(NF),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=A.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=Q_(g),b=r.current,S="deltaX"in g?g.deltaX:b[0]-_[0],C="deltaY"in g?g.deltaY:b[1]-_[1],E,O=g.target,T=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&T==="h"&&O.type==="range")return!1;var I=AF(T,O);if(!I)return!0;if(I?E=T:(E=T==="v"?"h":"v",I=AF(T,O)),!I)return!1;if(!n.current&&"changedTouches"in g&&(S||C)&&(n.current=E),!E)return!0;var L=n.current||E;return Vfe(L,y,g,L==="h"?S:C)},[]),l=A.useCallback(function(g){var y=g;if(!(!hv.length||hv[hv.length-1]!==i)){var _="deltaY"in y?kF(y):Q_(y),b=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&Hfe(E.delta,_)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var S=(o.current.shards||[]).map(NF).filter(Boolean).filter(function(E){return E.contains(y.target)}),C=S.length>0?s(y,S[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=A.useCallback(function(g,y,_,b){var S={name:g,delta:y,target:_,should:b,shadowParent:Xfe(_)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),d=A.useCallback(function(g){r.current=Q_(g),n.current=void 0},[]),f=A.useCallback(function(g){u(g.type,kF(g),g.target,s(g,e.lockRef.current))},[]),h=A.useCallback(function(g){u(g.type,Q_(g),g.target,s(g,e.lockRef.current))},[]);A.useEffect(function(){return hv.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,fv),document.addEventListener("touchmove",l,fv),document.addEventListener("touchstart",d,fv),function(){hv=hv.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,fv),document.removeEventListener("touchmove",l,fv),document.removeEventListener("touchstart",d,fv)}},[]);var m=e.removeScrollBar,x=e.inert;return A.createElement(A.Fragment,null,x?A.createElement(i,{styles:Gfe(a)}):null,m?A.createElement(jfe,{gapMode:e.gapMode}):null)}function Xfe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Zfe=kfe(BG,Yfe);var Iw=A.forwardRef(function(e,t){return A.createElement(x4,qd({},e,{ref:t,sideCar:Zfe}))});Iw.classNames=x4.classNames;var ZP=["Enter"," "],Jfe=["ArrowDown","PageUp","Home"],VG=["ArrowUp","PageDown","End"],Qfe=[...Jfe,...VG],ehe={ltr:[...ZP,"ArrowRight"],rtl:[...ZP,"ArrowLeft"]},the={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rw="Menu",[sx,rhe,nhe]=Cw(Rw),[wg,HG]=Yi(Rw,[nhe,Nm,ly]),w4=Nm(),GG=ly(),[ahe,_g]=wg(Rw),[ihe,Mw]=wg(Rw),KG=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,s=w4(t),[l,u]=A.useState(null),d=A.useRef(!1),f=Ni(i),h=yg(a);return A.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),c(m4,{...s,children:c(ahe,{scope:t,open:r,onOpenChange:f,content:l,onContentChange:u,children:c(ihe,{scope:t,onClose:A.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};KG.displayName=Rw;var ohe="MenuAnchor",sD=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=w4(r);return c(Ow,{...a,...n,ref:t})});sD.displayName=ohe;var lD="MenuPortal",[she,YG]=wg(lD,{forceMount:void 0}),XG=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=_g(lD,t);return c(she,{scope:t,forceMount:r,children:c(is,{present:r||i.open,children:c(sy,{asChild:!0,container:a,children:n})})})};XG.displayName=lD;var Zc="MenuContent",[lhe,cD]=wg(Zc),ZG=A.forwardRef((e,t)=>{const r=YG(Zc,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=_g(Zc,e.__scopeMenu),o=Mw(Zc,e.__scopeMenu);return c(sx.Provider,{scope:e.__scopeMenu,children:c(is,{present:n||i.open,children:c(sx.Slot,{scope:e.__scopeMenu,children:o.modal?c(che,{...a,ref:t}):c(uhe,{...a,ref:t})})})})}),che=A.forwardRef((e,t)=>{const r=_g(Zc,e.__scopeMenu),n=A.useRef(null),a=zr(t,n);return A.useEffect(()=>{const i=n.current;if(i)return y4(i)},[]),c(uD,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ut(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),uhe=A.forwardRef((e,t)=>{const r=_g(Zc,e.__scopeMenu);return c(uD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dhe=om("MenuContent.ScrollLock"),uD=A.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...g}=e,y=_g(Zc,r),_=Mw(Zc,r),b=w4(r),S=GG(r),C=rhe(r),[E,O]=A.useState(null),T=A.useRef(null),I=zr(t,T,y.onContentChange),L=A.useRef(0),U=A.useRef(""),P=A.useRef(0),M=A.useRef(null),j=A.useRef("right"),V=A.useRef(0),X=x?Iw:A.Fragment,te=x?{as:dhe,allowPinchZoom:!0}:void 0,z=q=>{var oe,de;const Y=U.current+q,Z=C().filter(J=>!J.disabled),D=document.activeElement,K=(oe=Z.find(J=>J.ref.current===D))==null?void 0:oe.textValue,Q=Z.map(J=>J.textValue),ie=She(Q,Y,K),ae=(de=Z.find(J=>J.textValue===ie))==null?void 0:de.ref.current;(function J(ue){U.current=ue,window.clearTimeout(L.current),ue!==""&&(L.current=window.setTimeout(()=>J(""),1e3))})(Y),ae&&setTimeout(()=>ae.focus())};A.useEffect(()=>()=>window.clearTimeout(L.current),[]),u4();const G=A.useCallback(q=>{var Z,D;return j.current===((Z=M.current)==null?void 0:Z.side)&&khe(q,(D=M.current)==null?void 0:D.area)},[]);return c(lhe,{scope:r,searchRef:U,onItemEnter:A.useCallback(q=>{G(q)&&q.preventDefault()},[G]),onItemLeave:A.useCallback(q=>{var Y;G(q)||((Y=T.current)==null||Y.focus(),O(null))},[G]),onTriggerLeave:A.useCallback(q=>{G(q)&&q.preventDefault()},[G]),pointerGraceTimerRef:P,onPointerGraceIntentChange:A.useCallback(q=>{M.current=q},[]),children:c(X,{...te,children:c(Tw,{asChild:!0,trapped:a,onMountAutoFocus:Ut(i,q=>{var Y;q.preventDefault(),(Y=T.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c(xg,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:c(iD,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:O,onEntryFocus:Ut(l,q=>{_.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:c(g4,{role:"menu","aria-orientation":"vertical","data-state":hK(y.open),"data-radix-menu-content":"",dir:_.dir,...b,...g,ref:I,style:{outline:"none",...g.style},onKeyDown:Ut(g.onKeyDown,q=>{const Z=q.target.closest("[data-radix-menu-content]")===q.currentTarget,D=q.ctrlKey||q.altKey||q.metaKey,K=q.key.length===1;Z&&(q.key==="Tab"&&q.preventDefault(),!D&&K&&z(q.key));const Q=T.current;if(q.target!==Q||!Qfe.includes(q.key))return;q.preventDefault();const ae=C().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);VG.includes(q.key)&&ae.reverse(),_he(ae)}),onBlur:Ut(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(L.current),U.current="")}),onPointerMove:Ut(e.onPointerMove,lx(q=>{const Y=q.target,Z=V.current!==q.clientX;if(q.currentTarget.contains(Y)&&Z){const D=q.clientX>V.current?"right":"left";j.current=D,V.current=q.clientX}}))})})})})})})});ZG.displayName=Zc;var fhe="MenuGroup",dD=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c(hr.div,{role:"group",...n,ref:t})});dD.displayName=fhe;var hhe="MenuLabel",JG=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c(hr.div,{...n,ref:t})});JG.displayName=hhe;var g5="MenuItem",EF="menu.itemSelect",_4=A.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=A.useRef(null),o=Mw(g5,e.__scopeMenu),s=cD(g5,e.__scopeMenu),l=zr(t,i),u=A.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(EF,{bubbles:!0,cancelable:!0});f.addEventListener(EF,m=>n==null?void 0:n(m),{once:!0}),Y8(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return c(QG,{...a,ref:l,disabled:r,onClick:Ut(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ut(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ut(e.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||ZP.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});_4.displayName=g5;var QG=A.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=cD(g5,r),s=GG(r),l=A.useRef(null),u=zr(t,l),[d,f]=A.useState(!1),[h,m]=A.useState("");return A.useEffect(()=>{const x=l.current;x&&m((x.textContent??"").trim())},[i.children]),c(sx.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:c(oD,{asChild:!0,...s,focusable:!n,children:c(hr.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ut(e.onPointerMove,lx(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ut(e.onPointerLeave,lx(x=>o.onItemLeave(x))),onFocus:Ut(e.onFocus,()=>f(!0)),onBlur:Ut(e.onBlur,()=>f(!1))})})})}),phe="MenuCheckboxItem",eK=A.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return c(iK,{scope:e.__scopeMenu,checked:r,children:c(_4,{role:"menuitemcheckbox","aria-checked":v5(r)?"mixed":r,...a,ref:t,"data-state":hD(r),onSelect:Ut(a.onSelect,()=>n==null?void 0:n(v5(r)?!0:!r),{checkForDefaultPrevented:!1})})})});eK.displayName=phe;var tK="MenuRadioGroup",[mhe,ghe]=wg(tK,{value:void 0,onValueChange:()=>{}}),rK=A.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Ni(n);return c(mhe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:c(dD,{...a,ref:t})})});rK.displayName=tK;var nK="MenuRadioItem",aK=A.forwardRef((e,t)=>{const{value:r,...n}=e,a=ghe(nK,e.__scopeMenu),i=r===a.value;return c(iK,{scope:e.__scopeMenu,checked:i,children:c(_4,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":hD(i),onSelect:Ut(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});aK.displayName=nK;var fD="MenuItemIndicator",[iK,vhe]=wg(fD,{checked:!1}),oK=A.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=vhe(fD,r);return c(is,{present:n||v5(i.checked)||i.checked===!0,children:c(hr.span,{...a,ref:t,"data-state":hD(i.checked)})})});oK.displayName=fD;var yhe="MenuSeparator",sK=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c(hr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});sK.displayName=yhe;var xhe="MenuArrow",lK=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=w4(r);return c(v4,{...a,...n,ref:t})});lK.displayName=xhe;var whe="MenuSub",[_Je,cK]=wg(whe),g2="MenuSubTrigger",uK=A.forwardRef((e,t)=>{const r=_g(g2,e.__scopeMenu),n=Mw(g2,e.__scopeMenu),a=cK(g2,e.__scopeMenu),i=cD(g2,e.__scopeMenu),o=A.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},d=A.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return A.useEffect(()=>d,[d]),A.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),c(sD,{asChild:!0,...u,children:c(QG,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":hK(r.open),...e,ref:c4(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ut(e.onPointerMove,lx(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ut(e.onPointerLeave,lx(f=>{var m,x;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(x=r.content)==null?void 0:x.dataset.side,y=g==="right",_=y?-5:5,b=h[y?"left":"right"],S=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:b,y:h.top},{x:S,y:h.top},{x:S,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ut(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||ehe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});uK.displayName=g2;var dK="MenuSubContent",fK=A.forwardRef((e,t)=>{const r=YG(Zc,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=_g(Zc,e.__scopeMenu),o=Mw(Zc,e.__scopeMenu),s=cK(dK,e.__scopeMenu),l=A.useRef(null),u=zr(t,l);return c(sx.Provider,{scope:e.__scopeMenu,children:c(is,{present:n||i.open,children:c(sx.Slot,{scope:e.__scopeMenu,children:c(uD,{id:s.contentId,"aria-labelledby":s.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ut(e.onFocusOutside,d=>{d.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ut(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ut(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=the[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=s.trigger)==null||m.focus(),d.preventDefault())})})})})})});fK.displayName=dK;function hK(e){return e?"open":"closed"}function v5(e){return e==="indeterminate"}function hD(e){return v5(e)?"indeterminate":e?"checked":"unchecked"}function _he(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function bhe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function She(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=bhe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function Ahe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const s=t[i],l=t[o],u=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function khe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Ahe(r,t)}function lx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Nhe=KG,Ehe=sD,Che=XG,The=ZG,Phe=dD,Ohe=JG,Dhe=_4,Ihe=eK,Rhe=rK,Mhe=aK,Fhe=oK,Lhe=sK,jhe=lK,$he=uK,Bhe=fK,b4="DropdownMenu",[Uhe,bJe]=Yi(b4,[HG]),fl=HG(),[qhe,pK]=Uhe(b4),mK=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,l=fl(t),u=A.useRef(null),[d,f]=cl({prop:a,defaultProp:i??!1,onChange:o,caller:b4});return c(qhe,{scope:t,triggerId:Il(),triggerRef:u,contentId:Il(),open:d,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(h=>!h),[f]),modal:s,children:c(Nhe,{...l,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};mK.displayName=b4;var gK="DropdownMenuTrigger",vK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=pK(gK,r),o=fl(r);return c(Ehe,{asChild:!0,...o,children:c(hr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:c4(t,i.triggerRef),onPointerDown:Ut(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:Ut(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});vK.displayName=gK;var zhe="DropdownMenuPortal",yK=e=>{const{__scopeDropdownMenu:t,...r}=e,n=fl(t);return c(Che,{...n,...r})};yK.displayName=zhe;var xK="DropdownMenuContent",wK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=pK(xK,r),i=fl(r),o=A.useRef(!1);return c(The,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ut(e.onCloseAutoFocus,s=>{var l;o.current||(l=a.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:Ut(e.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wK.displayName=xK;var Whe="DropdownMenuGroup",Vhe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(Phe,{...a,...n,ref:t})});Vhe.displayName=Whe;var Hhe="DropdownMenuLabel",_K=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(Ohe,{...a,...n,ref:t})});_K.displayName=Hhe;var Ghe="DropdownMenuItem",bK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(Dhe,{...a,...n,ref:t})});bK.displayName=Ghe;var Khe="DropdownMenuCheckboxItem",SK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(Ihe,{...a,...n,ref:t})});SK.displayName=Khe;var Yhe="DropdownMenuRadioGroup",Xhe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(Rhe,{...a,...n,ref:t})});Xhe.displayName=Yhe;var Zhe="DropdownMenuRadioItem",AK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(Mhe,{...a,...n,ref:t})});AK.displayName=Zhe;var Jhe="DropdownMenuItemIndicator",kK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(Fhe,{...a,...n,ref:t})});kK.displayName=Jhe;var Qhe="DropdownMenuSeparator",NK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(Lhe,{...a,...n,ref:t})});NK.displayName=Qhe;var epe="DropdownMenuArrow",tpe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(jhe,{...a,...n,ref:t})});tpe.displayName=epe;var rpe="DropdownMenuSubTrigger",EK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c($he,{...a,...n,ref:t})});EK.displayName=rpe;var npe="DropdownMenuSubContent",CK=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fl(r);return c(Bhe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CK.displayName=npe;var ape=mK,ipe=vK,ope=yK,TK=wK,PK=_K,OK=bK,DK=SK,IK=AK,RK=kK,MK=NK,FK=EK,LK=CK;const spe=ape,lpe=ipe,cpe=A.forwardRef(({className:e,inset:t,children:r,...n},a)=>w(FK,{ref:a,className:Rt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,c(nm,{className:"ml-auto h-4 w-4"})]}));cpe.displayName=FK.displayName;const upe=A.forwardRef(({className:e,...t},r)=>c(LK,{ref:r,className:Rt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));upe.displayName=LK.displayName;const jK=A.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c(ope,{children:c(TK,{ref:n,sideOffset:t,className:Rt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));jK.displayName=TK.displayName;const v2=A.forwardRef(({className:e,inset:t,...r},n)=>c(OK,{ref:n,className:Rt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));v2.displayName=OK.displayName;const dpe=A.forwardRef(({className:e,children:t,checked:r,...n},a)=>w(DK,{ref:a,className:Rt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(RK,{children:c(p1,{className:"h-4 w-4"})})}),t]}));dpe.displayName=DK.displayName;const fpe=A.forwardRef(({className:e,children:t,...r},n)=>w(IK,{ref:n,className:Rt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(RK,{children:c(WH,{className:"h-2 w-2 fill-current"})})}),t]}));fpe.displayName=IK.displayName;const $K=A.forwardRef(({className:e,inset:t,...r},n)=>c(PK,{ref:n,className:Rt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));$K.displayName=PK.displayName;const JP=A.forwardRef(({className:e,...t},r)=>c(MK,{ref:r,className:Rt("-mx-1 my-1 h-px bg-muted",e),...t}));JP.displayName=MK.displayName;const ot=A.forwardRef(({className:e,type:t,...r},n)=>c("input",{type:t,className:Rt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ot.displayName="Input";var ok={exports:{}},sk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CF;function hpe(){if(CF)return sk;CF=1;var e=r4();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function s(f,h){var m=h(),x=n({inst:{value:m,getSnapshot:h}}),g=x[0].inst,y=x[1];return i(function(){g.value=m,g.getSnapshot=h,l(g)&&y({inst:g})},[f,m,h]),a(function(){return l(g)&&y({inst:g}),f(function(){l(g)&&y({inst:g})})},[f]),o(m),m}function l(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!r(f,m)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return sk.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,sk}var TF;function ppe(){return TF||(TF=1,ok.exports=hpe()),ok.exports}var mpe=ppe();function gpe(){return mpe.useSyncExternalStore(vpe,()=>!0,()=>!1)}function vpe(){return()=>{}}var pD="Avatar",[ype,SJe]=Yi(pD),[xpe,BK]=ype(pD),UK=A.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=A.useState("idle");return c(xpe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:c(hr.span,{...n,ref:t})})});UK.displayName=pD;var qK="AvatarImage",zK=A.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=BK(qK,r),s=wpe(n,i),l=Ni(u=>{a(u),o.onImageLoadingStatusChange(u)});return ai(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?c(hr.img,{...i,ref:t,src:n}):null});zK.displayName=qK;var WK="AvatarFallback",VK=A.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=BK(WK,r),[o,s]=A.useState(n===void 0);return A.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&i.imageLoadingStatus!=="loaded"?c(hr.span,{...a,ref:t}):null});VK.displayName=WK;function PF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function wpe(e,{referrerPolicy:t,crossOrigin:r}){const n=gpe(),a=A.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,s]=A.useState(()=>PF(i,e));return ai(()=>{s(PF(i,e))},[i,e]),ai(()=>{const l=f=>()=>{s(f)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var HK=UK,GK=zK,KK=VK;const mD=A.forwardRef(({className:e,...t},r)=>c(HK,{ref:r,className:Rt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));mD.displayName=HK.displayName;const gD=A.forwardRef(({className:e,...t},r)=>c(GK,{ref:r,className:Rt("aspect-square h-full w-full",e),...t}));gD.displayName=GK.displayName;const vD=A.forwardRef(({className:e,...t},r)=>c(KK,{ref:r,className:Rt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));vD.displayName=KK.displayName;const _pe="modulepreload",bpe=function(e){return"/DentalCare-Pro/"+e},OF={},vh=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=o(r.map(u=>{if(u=bpe(u),u in OF)return;OF[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":_pe,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,x)=>{h.addEventListener("load",m),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},Spe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vh(async()=>{const{default:n}=await Promise.resolve().then(()=>cy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class yD extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ape extends yD{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kpe extends yD{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Npe extends yD{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var QP;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(QP||(QP={}));var Epe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class Cpe{constructor(t,{headers:r={},customFetch:n,region:a=QP.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Spe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Epe(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let s={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(s["x-region"]=l);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(s["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(s["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),a),body:u}).catch(x=>{throw new Ape(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new kpe(d);if(!d.ok)throw new Npe(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Oo={},pv={},mv={},gv={},vv={},yv={},Tpe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},g1=Tpe();const Ppe=g1.fetch,YK=g1.fetch.bind(g1),XK=g1.Headers,Ope=g1.Request,Dpe=g1.Response,cy=Object.freeze(Object.defineProperty({__proto__:null,Headers:XK,Request:Ope,Response:Dpe,default:YK,fetch:Ppe},Symbol.toStringTag,{value:"Module"})),Ipe=zse(cy);var eb={},DF;function ZK(){if(DF)return eb;DF=1,Object.defineProperty(eb,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return eb.default=e,eb}var IF;function JK(){if(IF)return yv;IF=1;var e=yv&&yv.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(yv,"__esModule",{value:!0});const t=e(Ipe),r=e(ZK());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h;let m=null,x=null,g=null,y=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=E:x=JSON.parse(E))}const S=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),C=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&C&&C.length>1&&(g=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(m={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,g=null,y=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await u.text();try{m=JSON.parse(S),Array.isArray(m)&&u.status===404&&(x=[],m=null,y=200,_="OK")}catch{u.status===404&&S===""?(y=204,_="No Content"):m={message:S}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,y=200,_="OK"),m&&this.shouldThrowOnError)throw new r.default(m)}return{error:m,data:x,count:g,status:y,statusText:_}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return yv.default=n,yv}var RF;function QK(){if(RF)return vv;RF=1;var e=vv&&vv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vv,"__esModule",{value:!0});const t=e(JK());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return vv.default=r,vv}var MF;function xD(){if(MF)return gv;MF=1;var e=gv&&gv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gv,"__esModule",{value:!0});const t=e(QK());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${l}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return gv.default=r,gv}var FF;function eY(){if(FF)return mv;FF=1;var e=mv&&mv.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(mv,"__esModule",{value:!0});const t=e(xD());class r{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=i,this.schema=o,this.fetch=s}select(a,{head:i=!1,count:o}={}){const s=i?"HEAD":"GET";let l=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:o=!0}={}){const s="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){const u="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&d.push(this.headers.Prefer),s&&d.push(`count=${s}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const o="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),this.headers.Prefer=s.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",o=[];return a&&o.push(`count=${a}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return mv.default=r,mv}var Ky={},Yy={},LF;function Rpe(){return LF||(LF=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.version=void 0,Yy.version="0.0.0-automated"),Yy}var jF;function Mpe(){if(jF)return Ky;jF=1,Object.defineProperty(Ky,"__esModule",{value:!0}),Ky.DEFAULT_HEADERS=void 0;const e=Rpe();return Ky.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Ky}var $F;function Fpe(){if($F)return pv;$F=1;var e=pv&&pv.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pv,"__esModule",{value:!0});const t=e(eY()),r=e(xD()),n=Mpe();class a{constructor(o,{headers:s={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),s),this.schemaName=l,this.fetch=u}from(o){const s=new URL(`${this.url}/${o}`);return new t.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,s={},{head:l=!1,get:u=!1,count:d}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let m;l||u?(f=l?"HEAD":"GET",Object.entries(s).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(f="POST",m=s);const x=Object.assign({},this.headers);return d&&(x.Prefer=`count=${d}`),new r.default({method:f,url:h,headers:x,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return pv.default=a,pv}var BF;function Lpe(){if(BF)return Oo;BF=1;var e=Oo&&Oo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.PostgrestError=Oo.PostgrestBuilder=Oo.PostgrestTransformBuilder=Oo.PostgrestFilterBuilder=Oo.PostgrestQueryBuilder=Oo.PostgrestClient=void 0;const t=e(Fpe());Oo.PostgrestClient=t.default;const r=e(eY());Oo.PostgrestQueryBuilder=r.default;const n=e(xD());Oo.PostgrestFilterBuilder=n.default;const a=e(QK());Oo.PostgrestTransformBuilder=a.default;const i=e(JK());Oo.PostgrestBuilder=i.default;const o=e(ZK());return Oo.PostgrestError=o.default,Oo.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Oo}var jpe=Lpe();const $pe=ia(jpe),{PostgrestClient:Bpe,PostgrestQueryBuilder:AJe,PostgrestFilterBuilder:kJe,PostgrestTransformBuilder:NJe,PostgrestBuilder:EJe,PostgrestError:CJe}=$pe,Upe="2.11.2",qpe={"X-Client-Info":`realtime-js/${Upe}`},zpe="1.0.0",tY=1e4,Wpe=1e3;var Xv;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xv||(Xv={}));var Jl;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jl||(Jl={}));var Ru;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ru||(Ru={}));var e6;(function(e){e.websocket="websocket"})(e6||(e6={}));var N0;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(N0||(N0={}));class Vpe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+a));o=o+a;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class rY{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ea;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ea||(Ea={}));const UF=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Hpe(o,e,t,a),i),{})},Hpe=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?nY(i,o):t6(o)},nY=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Xpe(t,r)}switch(e){case Ea.bool:return Gpe(t);case Ea.float4:case Ea.float8:case Ea.int2:case Ea.int4:case Ea.int8:case Ea.numeric:case Ea.oid:return Kpe(t);case Ea.json:case Ea.jsonb:return Ype(t);case Ea.timestamp:return Zpe(t);case Ea.abstime:case Ea.date:case Ea.daterange:case Ea.int4range:case Ea.int8range:case Ea.money:case Ea.reltime:case Ea.text:case Ea.time:case Ea.timestamptz:case Ea.timetz:case Ea.tsrange:case Ea.tstzrange:return t6(t);default:return t6(t)}},t6=e=>e,Gpe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kpe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ype=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Xpe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>nY(t,s))}return e},Zpe=e=>typeof e=="string"?e.replace(" ","T"):e,aY=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class lk{constructor(t,r,n={},a=tY){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qF;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qF||(qF={}));class P2{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=P2.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=P2.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=P2.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),x=d.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);x.length>0&&(s[u]=x),g.length>0&&(l[u]=g)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,l)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,l),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zF;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zF||(zF={}));var WF;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(WF||(WF={}));var tc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tc||(tc={}));class wD{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Jl.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lk(this,Ru.join,this.params,this.timeout),this.rejoinTimer=new rY(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jl.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jl.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jl.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ru.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new P2(this),this.broadcastEndpointURL=aY(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:s}}=this.params;this._onError(d=>t==null?void 0:t(tc.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(tc.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:s};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(tc.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<m;g++){const y=h[g],{filter:{event:_,schema:b,table:S,filter:C}}=y,E=d&&d[g];if(E&&E.event===_&&E.schema===b&&E.table===S&&E.filter===C)x.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),t==null||t(tc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(tc.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(tc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jl.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ru.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new lk(this,Ru.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new lk(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Ru;if(n&&[s,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var x,g,y;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,g,y,_,b,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,E=(x=m.filter)===null||x===void 0?void 0:x.event;return C&&((g=r.ids)===null||g===void 0?void 0:g.includes(C))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const C=(b=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:y,commit_timestamp:_,type:b,errors:S}=x;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:_,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(x))}m.callback(h,n)})}_isClosed(){return this.state===Jl.closed}_isJoined(){return this.state===Jl.joined}_isJoining(){return this.state===Jl.joining}_isLeaving(){return this.state===Jl.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&wD.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ru.close,{},t)}_onError(t){this._on(Ru.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jl.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=UF(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=UF(t.columns,t.old_record)),r}}const Jpe=()=>{},Qpe=typeof WebSocket<"u",eme=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tme{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qpe,this.params={},this.timeout=tY,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Jpe,this.conn=null,this.sendBuffer=[],this.serializer=new Vpe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>vh(async()=>{const{default:l}=await Promise.resolve().then(()=>cy);return{default:l}},void 0).then(({default:l})=>l(...s)):o=fetch,(...s)=>o(...s)},this.endPoint=`${t}/${e6.websocket}`,this.httpEndpoint=aY(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new rY(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Qpe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new rme(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),vh(async()=>{const{default:t}=await import("./browser-2tTcKnbS.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zpe}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xv.connecting:return N0.Connecting;case Xv.open:return N0.Open;case Xv.closing:return N0.Closing;default:return N0.Closed}}isConnected(){return this.connectionState()===N0.Open}channel(t,r={config:{}}){const n=new wD(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Ru.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Wpe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(s=>s._isMember(n)).forEach(s=>s._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(s=>s(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ru.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eme],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class rme{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Xv.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class _D extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Do(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nme extends _D{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class r6 extends _D{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ame=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const iY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vh(async()=>{const{default:n}=await Promise.resolve().then(()=>cy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ime=()=>ame(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vh(()=>Promise.resolve().then(()=>cy),void 0)).Response:Response}),n6=e=>{if(Array.isArray(e))return e.map(r=>n6(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=n6(n)}),t};var bg=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const ck=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ome=(e,t,r)=>bg(void 0,void 0,void 0,function*(){const n=yield ime();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new nme(ck(a),e.status||500))}).catch(a=>{t(new r6(ck(a),a))}):t(new r6(ck(e),e))}),sme=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Fw(e,t,r,n,a,i){return bg(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,sme(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ome(l,s,n))})})}function y5(e,t,r,n){return bg(this,void 0,void 0,function*(){return Fw(e,"GET",t,r,n)})}function $p(e,t,r,n,a){return bg(this,void 0,void 0,function*(){return Fw(e,"POST",t,n,a,r)})}function lme(e,t,r,n,a){return bg(this,void 0,void 0,function*(){return Fw(e,"PUT",t,n,a,r)})}function cme(e,t,r,n){return bg(this,void 0,void 0,function*(){return Fw(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function oY(e,t,r,n,a){return bg(this,void 0,void 0,function*(){return Fw(e,"DELETE",t,n,a,r)})}var Nl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const ume={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},VF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dme{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=iY(a)}uploadOrUpdate(t,r,n,a){return Nl(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},VF),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Do(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Nl(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Nl(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:VF.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(s.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Do(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Nl(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield $p(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new _D("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(Do(n))return{data:null,error:n};throw n}})}update(t,r,n){return Nl(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Nl(this,void 0,void 0,function*(){try{return{data:yield $p(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Do(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Nl(this,void 0,void 0,function*(){try{return{data:{path:(yield $p(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Do(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Nl(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield $p(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Do(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Nl(this,void 0,void 0,function*(){try{const a=yield $p(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Do(a))return{data:null,error:a};throw a}})}download(t,r){return Nl(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const s=this._getFinalPath(t);return{data:yield(yield y5(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(Do(s))return{data:null,error:s};throw s}})}info(t){return Nl(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield y5(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:n6(n),error:null}}catch(n){if(Do(n))return{data:null,error:n};throw n}})}exists(t){return Nl(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield cme(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Do(n)&&n instanceof r6){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return Nl(this,void 0,void 0,function*(){try{return{data:yield oY(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Do(r))return{data:null,error:r};throw r}})}list(t,r,n){return Nl(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ume),r),{prefix:t||""});return{data:yield $p(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Do(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fme="2.7.1",hme={"X-Client-Info":`storage-js/${fme}`};var xv=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class pme{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},hme),r),this.fetch=iY(n)}listBuckets(){return xv(this,void 0,void 0,function*(){try{return{data:yield y5(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Do(t))return{data:null,error:t};throw t}})}getBucket(t){return xv(this,void 0,void 0,function*(){try{return{data:yield y5(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Do(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return xv(this,void 0,void 0,function*(){try{return{data:yield $p(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Do(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return xv(this,void 0,void 0,function*(){try{return{data:yield lme(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Do(n))return{data:null,error:n};throw n}})}emptyBucket(t){return xv(this,void 0,void 0,function*(){try{return{data:yield $p(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Do(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xv(this,void 0,void 0,function*(){try{return{data:yield oY(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Do(r))return{data:null,error:r};throw r}})}}class mme extends pme{constructor(t,r={},n){super(t,r,n)}from(t){return new dme(this.url,this.headers,t,this.fetch)}}const gme="2.49.4";let y2="";typeof Deno<"u"?y2="deno":typeof document<"u"?y2="web":typeof navigator<"u"&&navigator.product==="ReactNative"?y2="react-native":y2="node";const vme={"X-Client-Info":`supabase-js-${y2}/${gme}`},yme={headers:vme},xme={schema:"public"},wme={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_me={};var bme=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};const Sme=e=>{let t;return e?t=e:typeof fetch>"u"?t=YK:t=fetch,(...r)=>t(...r)},Ame=()=>typeof Headers>"u"?XK:Headers,kme=(e,t,r)=>{const n=Sme(r),a=Ame();return(i,o)=>bme(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Nme=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};function Eme(e){return e.replace(/\/$/,"")}function Cme(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:s,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},s),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>Nme(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const sY="2.69.1",Rv=30*1e3,a6=3,uk=a6*Rv,Tme="http://localhost:9999",Pme="supabase.auth.token",Ome={"X-Client-Info":`gotrue-js/${sY}`},i6="X-Supabase-Api-Version",lY={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ime=6e5;class bD extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function xn(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Rme extends bD{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Mme(e){return xn(e)&&e.name==="AuthApiError"}class cY extends bD{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Em extends bD{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Mp extends Em{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fme(e){return xn(e)&&e.name==="AuthSessionMissingError"}class dk extends Em{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tb extends Em{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class rb extends Em{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lme(e){return xn(e)&&e.name==="AuthImplicitGrantRedirectError"}class HF extends Em{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class o6 extends Em{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function fk(e){return xn(e)&&e.name==="AuthRetryableFetchError"}class GF extends Em{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class O2 extends Em{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const KF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YF=` 	
\r=`.split(""),jme=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<YF.length;t+=1)e[YF[t].charCodeAt(0)]=-2;for(let t=0;t<KF.length;t+=1)e[KF[t].charCodeAt(0)]=t;return e})();function uY(e,t,r){const n=jme[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function XF(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Ume(o,n,r)};for(let o=0;o<e.length;o+=1)uY(e.charCodeAt(o),a,i);return t.join("")}function $me(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bme(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}$me(n,t)}}function Ume(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qme(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)uY(e.charCodeAt(a),r,n);return new Uint8Array(t)}function zme(e){const t=[];return Bme(e,r=>t.push(r)),new Uint8Array(t)}function Wme(e){return Math.round(Date.now()/1e3)+e}function Vme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Id=()=>typeof window<"u"&&typeof document<"u",m0={tested:!1,writable:!1},D2=()=>{if(!Id())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(m0.tested)return m0.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),m0.tested=!0,m0.writable=!0}catch{m0.tested=!0,m0.writable=!1}return m0.writable};function Hme(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const dY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vh(async()=>{const{default:n}=await Promise.resolve().then(()=>cy);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Gme=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fY=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},nb=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ab=async(e,t)=>{await e.removeItem(t)};class S4{constructor(){this.promise=new S4.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}S4.promiseConstructor=Promise;function hk(e){const t=e.split(".");if(t.length!==3)throw new O2("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Dme.test(t[n]))throw new O2("JWT not in base64url format");return{header:JSON.parse(XF(t[0])),payload:JSON.parse(XF(t[1])),signature:qme(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kme(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Yme(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Xme(e){return("0"+e.toString(16)).substr(-2)}function Zme(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Xme).join("")}async function Jme(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Qme(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Jme(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wv(e,t,r=!1){const n=Zme();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await fY(e,`${t}-code-verifier`,a);const i=await Qme(n);return[i,n===i?"plain":"s256"]}const e0e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t0e(e){const t=e.headers.get(i6);if(!t||!t.match(e0e))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function r0e(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function n0e(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var a0e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const _0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i0e=[502,503,504];async function ZF(e){var t;if(!Gme(e))throw new o6(_0(e),0);if(i0e.includes(e.status))throw new o6(_0(e),e.status);let r;try{r=await e.json()}catch(i){throw new cY(_0(i),i)}let n;const a=t0e(e);if(a&&a.getTime()>=lY["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new GF(_0(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Mp}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new GF(_0(r),e.status,r.weak_password.reasons);throw new Rme(_0(r),e.status||500,n)}const o0e=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Rn(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[i6]||(i[i6]=lY["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await s0e(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function s0e(e,t,r,n,a,i){const o=o0e(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new o6(_0(l),0)}if(s.ok||await ZF(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await ZF(l)}}function Fp(e){var t;let r=null;d0e(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Wme(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function JF(e){const t=Fp(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zp(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function l0e(e){return{data:e,error:null}}function c0e(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=a0e(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function u0e(e){return e}function d0e(e){return e.access_token&&e.refresh_token&&e.expires_in}var f0e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class h0e{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=dY(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Rn(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Rn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zp})}catch(n){if(xn(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=f0e(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Rn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:c0e,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xn(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Rn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zp})}catch(r){if(xn(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Rn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:u0e});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xn(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Rn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zp})}catch(r){if(xn(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Rn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zp})}catch(n){if(xn(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Rn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zp})}catch(n){if(xn(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Rn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(xn(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Rn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(xn(r))return{data:null,error:r};throw r}}}const p0e={getItem:e=>D2()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{D2()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{D2()&&globalThis.localStorage.removeItem(e)}};function QF(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function m0e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _v={debug:!!(globalThis&&D2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hY extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class g0e extends hY{}async function v0e(e,t,r){_v.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),_v.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){_v.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{_v.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw _v.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new g0e(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_v.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}m0e();const y0e={url:Tme,storageKey:Pme,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ome,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function eL(e,t,r){return await r()}class cx{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cx.nextInstanceID,cx.nextInstanceID+=1,this.instanceID>0&&Id()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},y0e),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new h0e({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=dY(a.fetch),this.lock=a.lock||eL,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Id()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=v0e:this.lock=eL,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:D2()?this.storage=p0e:(this.memoryStorage={},this.storage=QF(this.memoryStorage)):(this.memoryStorage={},this.storage=QF(this.memoryStorage)),Id()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sY}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Hme(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Id()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Lme(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xn(r)?{error:r}:{error:new cY("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Fp}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(xn(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await wv(this.storage,this.storageKey)),i=await Rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:Fp})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Fp})}else throw new tb("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(xn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await Rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:JF})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await Rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:JF})}else throw new tb("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new dk}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(xn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await nb(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Rn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Fp});if(await ab(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new dk}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(xn(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await Rn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Fp}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dk}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(xn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await wv(this.storage,this.storageKey));const{error:f}=await Rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:d}=await Rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new tb("You must provide either an email or phone number.")}catch(s){if(xn(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await Rn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Fp});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(xn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await wv(this.storage,this.storageKey)),await Rn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:l0e})}catch(i){if(xn(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Mp;const{error:a}=await Rn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(xn(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Rn(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await Rn(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new tb("You must provide either an email or phone number and a type")}catch(r){if(xn(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await nb(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<uk:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zp}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mp}:await Rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:zp})})}catch(r){if(xn(r))return Fme(r)&&(await this._removeSession(),await ab(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Mp;const o=a.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await wv(this.storage,this.storageKey));const{data:u,error:d}=await Rn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:zp});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(xn(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mp;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=hk(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(xn(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Mp;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(xn(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Id())throw new rb("No browser detected.");if(t.error||t.error_description||t.error_code)throw new rb(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new HF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rb("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new HF("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=t;if(!i||!s||!o||!u)throw new rb("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Rv&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const _={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(n){if(xn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await nb(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(Mme(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await ab(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Vme(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await wv(this.storage,this.storageKey,!0));try{return await Rn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(xn(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(xn(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,l,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Rn(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Id()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(xn(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Rn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(xn(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Yme(async a=>(a>0&&await Kme(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Rn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fp})),(a,i)=>{const o=200*Math.pow(2,a);return i&&fk(i)&&Date.now()+o-n<Rv})}catch(n){if(this._debug(r,"error",n),xn(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Id()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await nb(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<uk;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${uk}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),fk(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Mp;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new S4;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Mp;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={session:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),xn(i)){const o={session:null,error:i};return fk(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await fY(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ab(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Id()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rv);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Rv);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Rv}ms, refresh threshold is ${a6} ticks`),a<=a6&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hY)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Id()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await wv(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Rn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xn(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Rn(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(xn(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:s}=await Rn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(xn(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Rn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xn(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=hk(a.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Ime>Date.now()))return n;const{data:a,error:i}=await Rn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new O2("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new O2("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:l}}=hk(n);if(r0e(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=n0e(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,zme(`${s}.${l}`)))throw new O2("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(xn(n))return{data:null,error:n};throw n}}}cx.nextInstanceID=0;const x0e=cx;class w0e extends x0e{constructor(t){super(t)}}var _0e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})};class b0e{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const s=Eme(t);this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:xme,realtime:_me,auth:Object.assign(Object.assign({},wme),{storageKey:l}),global:yme},d=Cme(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=kme(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Bpe(`${s}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Cpe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mme(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return _0e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:s,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w0e({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:s,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new tme(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S0e=(e,t,r)=>new b0e(e,t,r),A0e="https://syevxwuraxjpvkcclmjj.supabase.co",k0e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5ZXZ4d3VyYXhqcHZrY2NsbWpqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwOTM0MjksImV4cCI6MjA1ODY2OTQyOX0.Uog7kEtPXYQJDZ3TqKanmteMRK0c_qEIBnmCxFgQTv0",Me=S0e(A0e,k0e,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),pY=A.createContext(void 0);function N0e({children:e}){const[t,r]=A.useState(null),[n,a]=A.useState(!0),i=A.useCallback(async(l,u)=>{let d=null,f=null;try{const h=await Me.from("profiles").select("*").eq("id",l).single();if(d=h.data,f=h.error,f)console.error("[fetchUserProfile] Error during profile fetch:",f.message),r(null);else if(d){const m=d,x=m.role??"doctor",g={...m,role:x,email:u};r(g)}else console.warn(`[fetchUserProfile] Profile query succeeded but returned no data for user: ${l}`),r(null)}catch(h){console.error("[fetchUserProfile] UNEXPECTED EXCEPTION caught:",h.message),r(null)}},[]),o=A.useRef(!1);A.useEffect(()=>{o.current=!1;let l=!0;const u=async(f,h)=>{l&&(f==="TOKEN_REFRESHED"?console.log("[AuthContext] Token refreshed successfully."):f==="SIGNED_OUT"?(console.log("[AuthContext] SIGNED_OUT event received. Setting user to null."),r(null)):h!=null&&h.user?(!t||t.id!==h.user.id)&&await i(h.user.id,h.user.email):f==="INITIAL_SESSION"&&!o.current&&r(null),o.current||(a(!1),o.current=!0))},{data:{subscription:d}}=Me.auth.onAuthStateChange((f,h)=>{u(f,h).catch(m=>{console.error(`[AuthContext] Error in handleAuthStateChange for Event: ${f}`,m),l&&(r(null),o.current||(a(!1),o.current=!0))})});return()=>{l=!1,d.unsubscribe()}},[i]);const s={user:t,loading:n,signIn:async(l,u)=>{const{error:d}=await Me.auth.signInWithPassword({email:l,password:u});if(d)throw d},signOut:async()=>{const{error:l}=await Me.auth.signOut();if(r(null),l)throw console.error("Error signing out:",l),l}};return c(pY.Provider,{value:s,children:e})}function ii(){const e=A.useContext(pY);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const E0e=1,C0e=1e6;let pk=0;function T0e(){return pk=(pk+1)%Number.MAX_VALUE,pk.toString()}const mk=new Map,tL=e=>{if(mk.has(e))return;const t=setTimeout(()=>{mk.delete(e),I2({type:"REMOVE_TOAST",toastId:e})},C0e);mk.set(e,t)},P0e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,E0e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?tL(r):e.toasts.forEach(n=>{tL(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Vb=[];let Hb={toasts:[]};function I2(e){Hb=P0e(Hb,e),Vb.forEach(t=>{t(Hb)})}function ji({...e}){const t=T0e(),r=a=>I2({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>I2({type:"DISMISS_TOAST",toastId:t});return I2({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function vn(){const[e,t]=A.useState(Hb);return A.useEffect(()=>(Vb.push(t),()=>{const r=Vb.indexOf(t);r>-1&&Vb.splice(r,1)}),[e]),{...e,toast:ji,dismiss:r=>I2({type:"DISMISS_TOAST",toastId:r})}}const O0e=()=>{const{user:e}=ii(),[t,r]=A.useState([]),n=A.useRef(null);return A.useEffect(()=>{if(!e){r([]);return}if((async()=>{const{data:l,error:u}=await Me.from("notifications").select("*").eq("user_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1});u?(console.error("Error fetching notifications from `notifications` table:",u),ji({title:"Error",description:"Could not fetch notifications.",variant:"destructive"})):(console.log("Fetched notifications:",l),r(l||[]))})(),!n.current&&e){const l=`notifications-channel-${e.id}`;console.log(`Attempting to subscribe to channel: ${l}`),n.current=Me.channel(l),n.current.on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},u=>{if(console.log("[useNotifications] Realtime event received:",u),u.eventType==="INSERT"&&u.new){const d=u.new;console.log("[useNotifications] Realtime INSERT detected:",d),r(f=>{if(console.log("[useNotifications] Attempting state update via realtime. Prev length:",f.length),f.some(m=>m.id===d.id))return console.log(`[useNotifications] Duplicate notification ID ${d.id} detected in realtime update, skipping state update.`),f;const h=[d,...f];return console.log("[useNotifications] State update successful via realtime. New length:",h.length),h})}else console.log("[useNotifications] Received non-insert or unexpected payload via realtime:",u)}).subscribe((u,d)=>{console.log(`Channel ${l} subscription status: ${u}`),u===tc.SUBSCRIBED?console.log(`Successfully subscribed to notifications channel: ${l}`):u===tc.CHANNEL_ERROR?(console.error(`Notifications subscription error on channel ${l}:`,d),ji({title:"Realtime Error",description:`Connection error for notifications: ${(d==null?void 0:d.message)||"Unknown error"}`,variant:"destructive"})):u===tc.TIMED_OUT?(console.warn(`Notifications subscription timed out on channel ${l}.`),ji({title:"Realtime Warning",description:"Notification connection timed out.",variant:"default"})):u===tc.CLOSED&&console.log(`Notifications channel closed: ${l}.`)})}return()=>{if(n.current){const l=n.current,u=l.topic;console.log(`Attempting to unsubscribe from channel: ${u}`),Me.removeChannel(l).then(d=>{console.log(`Unsubscribed from notifications channel ${u}:`,d)}).catch(d=>{console.error(`Error removing notifications channel ${u}:`,d)}).finally(()=>{n.current===l&&(n.current=null)})}}},[e]),{notifications:t,markAsRead:async s=>{const{error:l}=await Me.from("notifications").update({is_read:!0}).eq("id",s);l?console.error("Error marking notification as read:",l):r(u=>u.map(d=>d.id===s?{...d,is_read:!0}:d))},createNotification:async(s,l,u)=>{try{const d=new Date;d.setHours(d.getHours()-2);const f=d.toISOString(),{count:h,error:m}=await Me.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",s).eq("message",l).gte("created_at",f);if(m&&console.error("Error checking for existing notifications:",m),h&&h>0){console.log(`Skipping notification creation: Identical notification found within the last 2 hours for message: "${l}"`);return}const x={user_id:s,message:l,link_url:u,is_read:!1},{data:g,error:y}=await Me.from("notifications").insert([x]).select();y?(console.error("Error creating notification:",y),ji({title:"Error",description:`Could not create notification: ${y.message}`,variant:"destructive"})):(console.log("Notification created:",g),"Notification"in window&&Notification.permission==="granted"?new Notification("New Notification",{body:l,icon:"/dentalcarelogo.png"}):"Notification"in window&&Notification.permission!=="denied"&&Notification.requestPermission().then(_=>{_==="granted"&&new Notification("New Notification",{body:l,icon:"/dentalcarelogo.png"})}))}catch(d){console.error("Error creating notification:",d)}},clearNotification:async s=>{r(u=>u.map(d=>d.id===s?{...d,is_read:!0}:d).filter(d=>!(d.id===s&&d.is_read)));const{error:l}=await Me.from("notifications").update({is_read:!0}).eq("id",s).eq("user_id",e==null?void 0:e.id);l?(console.error("Error marking notification as read (clearing):",l),ji({title:"Error",description:"Could not clear notification. It may reappear.",variant:"destructive"})):r(u=>u.filter(d=>d.id!==s))}}},cr=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));cr.displayName="Card";const yr=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("flex flex-col space-y-1.5 p-6",e),...t}));yr.displayName="CardHeader";const xr=A.forwardRef(({className:e,...t},r)=>c("h3",{ref:r,className:Rt("text-2xl font-semibold leading-none tracking-tight",e),...t}));xr.displayName="CardTitle";const vc=A.forwardRef(({className:e,...t},r)=>c("p",{ref:r,className:Rt("text-sm text-muted-foreground",e),...t}));vc.displayName="CardDescription";const vr=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("p-6 pt-0",e),...t}));vr.displayName="CardContent";const Y0=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("flex items-center p-6 pt-0",e),...t}));Y0.displayName="CardFooter";function ur(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function fa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Pa(e,t){const r=ur(e);return isNaN(t)?fa(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ul(e,t){const r=ur(e);if(isNaN(t))return fa(e,NaN);if(!t)return r;const n=r.getDate(),a=fa(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function D0e(e,t){const{years:r=0,months:n=0,weeks:a=0,days:i=0,hours:o=0,minutes:s=0,seconds:l=0}=t,u=ur(e),d=n||r?ul(u,n+r*12):u,f=i||a?Pa(d,i+a*7):d,h=s+o*60,x=(l+h*60)*1e3;return fa(e,f.getTime()+x)}function I0e(e,t){const r=+ur(e);return fa(e,r+t)}const SD=6048e5,R0e=864e5,ux=6e4,A4=36e5,M0e=1e3,rL=525600,$v=43200,x5=1440;function mY(e,t){return I0e(e,t*A4)}let F0e={};function Eh(){return F0e}function as(e,t){var s,l,u,d;const r=Eh(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ur(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function yh(e){return as(e,{weekStartsOn:1})}function gY(e){const t=ur(e),r=t.getFullYear(),n=fa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=yh(n),i=fa(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=yh(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Cl(e){const t=ur(e);return t.setHours(0,0,0,0),t}function sf(e){const t=ur(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Bu(e,t){const r=Cl(e),n=Cl(t),a=+r-sf(r),i=+n-sf(n);return Math.round((a-i)/R0e)}function L0e(e){const t=gY(e),r=fa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yh(r)}function v1(e,t){const r=t*7;return Pa(e,r)}function j0e(e,t){return ul(e,t*12)}function $0e(e){let t;return e.forEach(function(r){const n=ur(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function B0e(e){let t;return e.forEach(r=>{const n=ur(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function R2(e,t){const r=ur(e),n=ur(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function vY(e){return fa(e,Date.now())}function nl(e,t){const r=Cl(e),n=Cl(t);return+r==+n}function AD(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Lp(e){if(!AD(e)&&typeof e!="number")return!1;const t=ur(e);return!isNaN(Number(t))}function y1(e,t){const r=ur(e),n=ur(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function U0e(e,t,r){const n=as(e,r),a=as(t,r),i=+n-sf(n),o=+a-sf(a);return Math.round((i-o)/SD)}function q0e(e,t){const r=ur(e),n=ur(t),a=nL(r,n),i=Math.abs(Bu(r,n));r.setDate(r.getDate()-a*i);const o=+(nL(r,n)===-a),s=a*(i-o);return s===0?0:s}function nL(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function yY(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Gb(e,t){return+ur(e)-+ur(t)}function Zv(e){const t=ur(e);return t.setHours(23,59,59,999),t}function um(e){const t=ur(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function z0e(e){const t=ur(e);return+Zv(t)==+um(t)}function W0e(e,t){const r=ur(e),n=ur(t),a=R2(r,n),i=Math.abs(y1(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let s=R2(r,n)===-a;z0e(ur(e))&&i===1&&R2(e,n)===1&&(s=!1),o=a*(i-Number(s))}return o===0?0:o}function xY(e,t,r){const n=Gb(e,t)/1e3;return yY(r==null?void 0:r.roundingMethod)(n)}function M2(e,t){const r=ur(e.start),n=ur(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=i;)l.push(ur(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return a?l.reverse():l}function V0e(e,t){const r=ur(e.start),n=ur(e.end);let a=+r>+n;const i=a?+r:+n;let o=a?n:r;o.setMinutes(0,0,0);let s=1;const l=[];for(;+o<=i;)l.push(ur(o)),o=mY(o,s);return a?l.reverse():l}function Bo(e){const t=ur(e);return t.setDate(1),t.setHours(0,0,0,0),t}function wY(e){const t=ur(e),r=fa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function O0(e,t){var s,l,u,d;const r=Eh(),n=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ur(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function _Y(e){return O0(e,{weekStartsOn:1})}const H0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},G0e=(e,t,r)=>{let n;const a=H0e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function gk(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const K0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},X0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Z0e={date:gk({formats:K0e,defaultWidth:"full"}),time:gk({formats:Y0e,defaultWidth:"full"}),dateTime:gk({formats:X0e,defaultWidth:"full"})},J0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Q0e=(e,t,r,n)=>J0e[e];function Xy(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const ege={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},age={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ige={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oge=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sge={ordinalNumber:oge,era:Xy({values:ege,defaultWidth:"wide"}),quarter:Xy({values:tge,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xy({values:rge,defaultWidth:"wide"}),day:Xy({values:nge,defaultWidth:"wide"}),dayPeriod:Xy({values:age,defaultWidth:"wide",formattingValues:ige,defaultFormattingWidth:"wide"})};function Zy(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?cge(s,f=>f.test(o)):lge(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function lge(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function cge(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function uge(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(a.length);return{value:o,rest:s}}}const dge=/^(\d+)(th|st|nd|rd)?/i,fge=/\d+/i,hge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pge={any:[/^b/i,/^(a|c)/i]},mge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gge={any:[/1/i,/2/i,/3/i,/4/i]},vge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_ge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sge={ordinalNumber:uge({matchPattern:dge,parsePattern:fge,valueCallback:e=>parseInt(e,10)}),era:Zy({matchPatterns:hge,defaultMatchWidth:"wide",parsePatterns:pge,defaultParseWidth:"any"}),quarter:Zy({matchPatterns:mge,defaultMatchWidth:"wide",parsePatterns:gge,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zy({matchPatterns:vge,defaultMatchWidth:"wide",parsePatterns:yge,defaultParseWidth:"any"}),day:Zy({matchPatterns:xge,defaultMatchWidth:"wide",parsePatterns:wge,defaultParseWidth:"any"}),dayPeriod:Zy({matchPatterns:_ge,defaultMatchWidth:"any",parsePatterns:bge,defaultParseWidth:"any"})},Lw={code:"en-US",formatDistance:G0e,formatLong:Z0e,formatRelative:Q0e,localize:sge,match:Sge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Age(e){const t=ur(e);return Bu(t,wY(t))+1}function kD(e){const t=ur(e),r=+yh(t)-+L0e(t);return Math.round(r/SD)+1}function ND(e,t){var d,f,h,m;const r=ur(e),n=r.getFullYear(),a=Eh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=fa(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=as(o,t),l=fa(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=as(l,t);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function kge(e,t){var s,l,u,d;const r=Eh(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=ND(e,t),i=fa(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),as(i,t)}function ED(e,t){const r=ur(e),n=+as(r,t)-+kge(r,t);return Math.round(n/SD)+1}function Tn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ep={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Tn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Tn(r+1,2)},d(e,t){return Tn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Tn(e.getHours()%12||12,t.length)},H(e,t){return Tn(e.getHours(),t.length)},m(e,t){return Tn(e.getMinutes(),t.length)},s(e,t){return Tn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Tn(a,t.length)}},bv={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aL={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ep.y(e,t)},Y:function(e,t,r,n){const a=ND(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Tn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Tn(i,t.length)},R:function(e,t){const r=gY(e);return Tn(r,t.length)},u:function(e,t){const r=e.getFullYear();return Tn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Tn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Tn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ep.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Tn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=ED(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Tn(a,t.length)},I:function(e,t,r){const n=kD(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Tn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ep.d(e,t)},D:function(e,t,r){const n=Age(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Tn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Tn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Tn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Tn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=bv.noon:n===0?a=bv.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=bv.evening:n>=12?a=bv.afternoon:n>=4?a=bv.morning:a=bv.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ep.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ep.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Tn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Tn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ep.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ep.s(e,t)},S:function(e,t){return Ep.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return oL(n);case"XXXX":case"XX":return b0(n);case"XXXXX":case"XXX":default:return b0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return oL(n);case"xxxx":case"xx":return b0(n);case"xxxxx":case"xxx":default:return b0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iL(n,":");case"OOOO":default:return"GMT"+b0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iL(n,":");case"zzzz":default:return"GMT"+b0(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Tn(n,t.length)},T:function(e,t,r){const n=e.getTime();return Tn(n,t.length)}};function iL(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Tn(i,2)}function oL(e,t){return e%60===0?(e>0?"-":"+")+Tn(Math.abs(e)/60,2):b0(e,t)}function b0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Tn(Math.trunc(n/60),2),i=Tn(n%60,2);return r+a+t+i}const sL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bY=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Nge=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return sL(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",sL(n,t)).replace("{{time}}",bY(a,t))},s6={p:bY,P:Nge},Ege=/^D+$/,Cge=/^Y+$/,Tge=["D","DD","YY","YYYY"];function SY(e){return Ege.test(e)}function AY(e){return Cge.test(e)}function l6(e,t,r){const n=Pge(e,t,r);if(console.warn(n),Tge.includes(e))throw new RangeError(n)}function Pge(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Oge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ige=/^'([^]*?)'?$/,Rge=/''/g,Mge=/[a-zA-Z]/;function Vt(e,t,r){var d,f,h,m,x,g,y,_;const n=Eh(),a=(r==null?void 0:r.locale)??n.locale??Lw,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,s=ur(e);if(!Lp(s))throw new RangeError("Invalid time value");let l=t.match(Dge).map(b=>{const S=b[0];if(S==="p"||S==="P"){const C=s6[S];return C(b,a.formatLong)}return b}).join("").match(Oge).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const S=b[0];if(S==="'")return{isToken:!1,value:Fge(b)};if(aL[S])return{isToken:!0,value:b};if(S.match(Mge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(b=>{if(!b.isToken)return b.value;const S=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&AY(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&SY(S))&&l6(S,t,String(e));const C=aL[S[0]];return C(s,S,a.localize,u)}).join("")}function Fge(e){const t=e.match(Ige);return t?t[1].replace(Rge,"'"):e}function Lge(e,t,r){const n=Eh(),a=(r==null?void 0:r.locale)??n.locale??Lw,i=2520,o=R2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const s=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let l,u;o>0?(l=ur(t),u=ur(e)):(l=ur(e),u=ur(t));const d=xY(u,l),f=(sf(u)-sf(l))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,s):d<10?a.formatDistance("lessThanXSeconds",10,s):d<20?a.formatDistance("lessThanXSeconds",20,s):d<40?a.formatDistance("halfAMinute",0,s):d<60?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",1,s):h===0?a.formatDistance("lessThanXMinutes",1,s):a.formatDistance("xMinutes",h,s);if(h<45)return a.formatDistance("xMinutes",h,s);if(h<90)return a.formatDistance("aboutXHours",1,s);if(h<x5){const x=Math.round(h/60);return a.formatDistance("aboutXHours",x,s)}else{if(h<i)return a.formatDistance("xDays",1,s);if(h<$v){const x=Math.round(h/x5);return a.formatDistance("xDays",x,s)}else if(h<$v*2)return m=Math.round(h/$v),a.formatDistance("aboutXMonths",m,s)}if(m=W0e(u,l),m<12){const x=Math.round(h/$v);return a.formatDistance("xMonths",x,s)}else{const x=m%12,g=Math.trunc(m/12);return x<3?a.formatDistance("aboutXYears",g,s):x<9?a.formatDistance("overXYears",g,s):a.formatDistance("almostXYears",g+1,s)}}function kY(e,t,r){const n=Eh(),a=(r==null?void 0:r.locale)??n.locale??Lw,i=R2(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let s,l;i>0?(s=ur(t),l=ur(e)):(s=ur(e),l=ur(t));const u=yY((r==null?void 0:r.roundingMethod)??"round"),d=l.getTime()-s.getTime(),f=d/ux,h=sf(l)-sf(s),m=(d-h)/ux,x=r==null?void 0:r.unit;let g;if(x?g=x:f<1?g="second":f<60?g="minute":f<x5?g="hour":m<$v?g="day":m<rL?g="month":g="year",g==="second"){const y=u(d/1e3);return a.formatDistance("xSeconds",y,o)}else if(g==="minute"){const y=u(f);return a.formatDistance("xMinutes",y,o)}else if(g==="hour"){const y=u(f/60);return a.formatDistance("xHours",y,o)}else if(g==="day"){const y=u(m/x5);return a.formatDistance("xDays",y,o)}else if(g==="month"){const y=u(m/$v);return y===12&&x!=="month"?a.formatDistance("xYears",1,o):a.formatDistance("xMonths",y,o)}else{const y=u(m/rL);return a.formatDistance("xYears",y,o)}}function jge(e,t){return Lge(e,vY(e),t)}function lL(e,t){const r=ur(e);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");let n="",a="";const i="-",o=":";{const s=Tn(r.getDate(),2),l=Tn(r.getMonth()+1,2);n=`${Tn(r.getFullYear(),4)}${i}${l}${i}${s}`}{const s=r.getTimezoneOffset();if(s!==0){const m=Math.abs(s),x=Tn(Math.trunc(m/60),2),g=Tn(m%60,2);a=`${s<0?"+":"-"}${x}:${g}`}else a="Z";const l=Tn(r.getHours(),2),u=Tn(r.getMinutes(),2),d=Tn(r.getSeconds(),2),f=n===""?"":"T",h=[l,u,d].join(o);n=`${n}${f}${h}${a}`}return n}function $ge(e){const t=ur(e),r=t.getFullYear(),n=t.getMonth(),a=fa(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Bge(){return Object.assign({},Eh())}function Uge(e){let r=ur(e).getDay();return r===0&&(r=7),r}function qge(e){return Math.trunc(+ur(e)/1e3)}function zge(e){const t=ur(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Wge(e,t){return U0e(zge(e),Bo(e),t)+1}function c6(e,t){const r=ur(e),n=ur(t);return r.getTime()>n.getTime()}function th(e,t){const r=ur(e),n=ur(t);return+r<+n}function Vge(e,t){const r=t instanceof Date?fa(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const Hge=10;class NY{constructor(){fr(this,"subPriority",0)}validate(t,r){return!0}}class Gge extends NY{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Kge extends NY{constructor(){super(...arguments);fr(this,"priority",Hge);fr(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:fa(r,Vge(r,Date))}}class oa{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new Gge(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class Yge extends oa{constructor(){super(...arguments);fr(this,"priority",140);fr(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Wi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},zd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Vi(e,t){return e&&{value:t(e.value),rest:e.rest}}function fi(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Wd(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*A4+i*ux+o*M0e),rest:t.slice(r[0].length)}}function EY(e){return fi(Wi.anyDigitsSigned,e)}function Ci(e,t){switch(e){case 1:return fi(Wi.singleDigit,t);case 2:return fi(Wi.twoDigits,t);case 3:return fi(Wi.threeDigits,t);case 4:return fi(Wi.fourDigits,t);default:return fi(new RegExp("^\\d{1,"+e+"}"),t)}}function w5(e,t){switch(e){case 1:return fi(Wi.singleDigitSigned,t);case 2:return fi(Wi.twoDigitsSigned,t);case 3:return fi(Wi.threeDigitsSigned,t);case 4:return fi(Wi.fourDigitsSigned,t);default:return fi(new RegExp("^-?\\d{1,"+e+"}"),t)}}function CD(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function CY(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,o=Math.trunc(i/100)*100,s=e>=i%100;a=e+o-(s?100:0)}return r?a:1-a}function TY(e){return e%400===0||e%4===0&&e%100!==0}class Xge extends oa{constructor(){super(...arguments);fr(this,"priority",130);fr(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Vi(Ci(4,r),i);case"yo":return Vi(a.ordinalNumber(r,{unit:"year"}),i);default:return Vi(Ci(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const s=CY(a.year,i);return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class Zge extends oa{constructor(){super(...arguments);fr(this,"priority",130);fr(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Vi(Ci(4,r),i);case"Yo":return Vi(a.ordinalNumber(r,{unit:"year"}),i);default:return Vi(Ci(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const o=ND(r,i);if(a.isTwoDigitYear){const l=CY(a.year,o);return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),as(r,i)}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),as(r,i)}}class Jge extends oa{constructor(){super(...arguments);fr(this,"priority",130);fr(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return w5(n==="R"?4:n.length,r)}set(r,n,a){const i=fa(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),yh(i)}}class Qge extends oa{constructor(){super(...arguments);fr(this,"priority",130);fr(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return w5(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class eve extends oa{constructor(){super(...arguments);fr(this,"priority",120);fr(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Ci(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class tve extends oa{constructor(){super(...arguments);fr(this,"priority",120);fr(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Ci(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class rve extends oa{constructor(){super(...arguments);fr(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);fr(this,"priority",110)}parse(r,n,a){const i=o=>o-1;switch(n){case"M":return Vi(fi(Wi.month,r),i);case"MM":return Vi(Ci(2,r),i);case"Mo":return Vi(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class nve extends oa{constructor(){super(...arguments);fr(this,"priority",110);fr(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=o=>o-1;switch(n){case"L":return Vi(fi(Wi.month,r),i);case"LL":return Vi(Ci(2,r),i);case"Lo":return Vi(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function ave(e,t,r){const n=ur(e),a=ED(n,r)-t;return n.setDate(n.getDate()-a*7),n}class ive extends oa{constructor(){super(...arguments);fr(this,"priority",100);fr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return fi(Wi.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Ci(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return as(ave(r,a,i),i)}}function ove(e,t){const r=ur(e),n=kD(r)-t;return r.setDate(r.getDate()-n*7),r}class sve extends oa{constructor(){super(...arguments);fr(this,"priority",100);fr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return fi(Wi.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Ci(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return yh(ove(r,a))}}const lve=[31,28,31,30,31,30,31,31,30,31,30,31],cve=[31,29,31,30,31,30,31,31,30,31,30,31];class uve extends oa{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"subPriority",1);fr(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return fi(Wi.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Ci(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=TY(a),o=r.getMonth();return i?n>=1&&n<=cve[o]:n>=1&&n<=lve[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class dve extends oa{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"subpriority",1);fr(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return fi(Wi.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Ci(n.length,r)}}validate(r,n){const a=r.getFullYear();return TY(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function TD(e,t,r){var f,h,m,x;const n=Eh(),a=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((x=(m=n.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,i=ur(e),o=i.getDay(),l=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(o+u)%7:(l+u)%7-(o+u)%7;return Pa(i,d)}class fve extends oa{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=TD(r,a,i),r.setHours(0,0,0,0),r}}class hve extends oa{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Vi(Ci(n.length,r),o);case"eo":return Vi(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=TD(r,a,i),r.setHours(0,0,0,0),r}}class pve extends oa{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const o=s=>{const l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Vi(Ci(n.length,r),o);case"co":return Vi(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=TD(r,a,i),r.setHours(0,0,0,0),r}}function mve(e,t){const r=ur(e),n=Uge(r),a=t-n;return Pa(r,a)}class gve extends oa{constructor(){super(...arguments);fr(this,"priority",90);fr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Ci(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Vi(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Vi(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Vi(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Vi(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=mve(r,a),r.setHours(0,0,0,0),r}}class vve extends oa{constructor(){super(...arguments);fr(this,"priority",80);fr(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(CD(a),0,0,0),r}}class yve extends oa{constructor(){super(...arguments);fr(this,"priority",80);fr(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(CD(a),0,0,0),r}}class xve extends oa{constructor(){super(...arguments);fr(this,"priority",80);fr(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(CD(a),0,0,0),r}}class wve extends oa{constructor(){super(...arguments);fr(this,"priority",70);fr(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return fi(Wi.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ci(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class _ve extends oa{constructor(){super(...arguments);fr(this,"priority",70);fr(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return fi(Wi.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ci(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class bve extends oa{constructor(){super(...arguments);fr(this,"priority",70);fr(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return fi(Wi.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ci(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Sve extends oa{constructor(){super(...arguments);fr(this,"priority",70);fr(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return fi(Wi.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ci(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class Ave extends oa{constructor(){super(...arguments);fr(this,"priority",60);fr(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return fi(Wi.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Ci(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class kve extends oa{constructor(){super(...arguments);fr(this,"priority",50);fr(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return fi(Wi.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Ci(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class Nve extends oa{constructor(){super(...arguments);fr(this,"priority",30);fr(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Vi(Ci(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class Eve extends oa{constructor(){super(...arguments);fr(this,"priority",10);fr(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Wd(zd.basicOptionalMinutes,r);case"XX":return Wd(zd.basic,r);case"XXXX":return Wd(zd.basicOptionalSeconds,r);case"XXXXX":return Wd(zd.extendedOptionalSeconds,r);case"XXX":default:return Wd(zd.extended,r)}}set(r,n,a){return n.timestampIsSet?r:fa(r,r.getTime()-sf(r)-a)}}class Cve extends oa{constructor(){super(...arguments);fr(this,"priority",10);fr(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Wd(zd.basicOptionalMinutes,r);case"xx":return Wd(zd.basic,r);case"xxxx":return Wd(zd.basicOptionalSeconds,r);case"xxxxx":return Wd(zd.extendedOptionalSeconds,r);case"xxx":default:return Wd(zd.extended,r)}}set(r,n,a){return n.timestampIsSet?r:fa(r,r.getTime()-sf(r)-a)}}class Tve extends oa{constructor(){super(...arguments);fr(this,"priority",40);fr(this,"incompatibleTokens","*")}parse(r){return EY(r)}set(r,n,a){return[fa(r,a*1e3),{timestampIsSet:!0}]}}class Pve extends oa{constructor(){super(...arguments);fr(this,"priority",20);fr(this,"incompatibleTokens","*")}parse(r){return EY(r)}set(r,n,a){return[fa(r,a),{timestampIsSet:!0}]}}const Ove={G:new Yge,y:new Xge,Y:new Zge,R:new Jge,u:new Qge,Q:new eve,q:new tve,M:new rve,L:new nve,w:new ive,I:new sve,d:new uve,D:new dve,E:new fve,e:new hve,c:new pve,i:new gve,a:new vve,b:new yve,B:new xve,h:new wve,H:new _ve,K:new bve,k:new Sve,m:new Ave,s:new kve,S:new Nve,X:new Eve,x:new Cve,t:new Tve,T:new Pve},Dve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ive=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rve=/^'([^]*?)'?$/,Mve=/''/g,Fve=/\S/,Lve=/[a-zA-Z]/;function cL(e,t,r,n){var g,y,_,b;const a=Bge(),i=a.locale??Lw,o=a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,s=a.weekStartsOn??((b=(_=a.locale)==null?void 0:_.options)==null?void 0:b.weekStartsOn)??0;if(t==="")return e===""?ur(r):fa(r,NaN);const l={firstWeekContainsDate:o,weekStartsOn:s,locale:i},u=[new Kge],d=t.match(Ive).map(S=>{const C=S[0];if(C in s6){const E=s6[C];return E(S,i.formatLong)}return S}).join("").match(Dve),f=[];for(let S of d){AY(S)&&l6(S,t,e),SY(S)&&l6(S,t,e);const C=S[0],E=Ove[C];if(E){const{incompatibleTokens:O}=E;if(Array.isArray(O)){const I=f.find(L=>O.includes(L.token)||L.token===C);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${S}\` at the same time`)}else if(E.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);f.push({token:C,fullToken:S});const T=E.run(e,S,i.match,l);if(!T)return fa(r,NaN);u.push(T.setter),e=T.rest}else{if(C.match(Lve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(S==="''"?S="'":C==="'"&&(S=jve(S)),e.indexOf(S)===0)e=e.slice(S.length);else return fa(r,NaN)}}if(e.length>0&&Fve.test(e))return fa(r,NaN);const h=u.map(S=>S.priority).sort((S,C)=>C-S).filter((S,C,E)=>E.indexOf(S)===C).map(S=>u.filter(C=>C.priority===S).sort((C,E)=>E.subPriority-C.subPriority)).map(S=>S[0]);let m=ur(r);if(isNaN(m.getTime()))return fa(r,NaN);const x={};for(const S of h){if(!S.validate(m,l))return fa(r,NaN);const C=S.set(m,x,l);Array.isArray(C)?(m=C[0],Object.assign(x,C[1])):m=C}return fa(r,m)}function jve(e){return e.match(Rve)[1].replace(Mve,"'")}function $ve(e){return+ur(e)<Date.now()}function k4(e,t){const r=ur(e),n=ur(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Bve(e,t){const r=ur(e),n=ur(t);return r.getFullYear()===n.getFullYear()}function Cp(e){return nl(e,vY(e))}function g0(e,t){const r=+ur(e),[n,a]=[+ur(t.start),+ur(t.end)].sort((i,o)=>i-o);return r>=n&&r<=a}function vk(e,t){return Pa(e,-t)}function on(e,t){const n=Wve(e);let a;if(n.date){const l=Vve(n.date,2);a=Hve(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,s;if(n.time&&(o=Gve(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(s=Kve(n.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+s)}const ib={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Uve=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,qve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zve=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Wve(e){const t={},r=e.split(ib.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ib.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ib.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=ib.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Vve(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Hve(e,t){if(t===null)return new Date(NaN);const r=e.match(Uve);if(!r)return new Date(NaN);const n=!!r[4],a=Jy(r[1]),i=Jy(r[2])-1,o=Jy(r[3]),s=Jy(r[4]),l=Jy(r[5])-1;if(n)return Qve(t,s,l)?Yve(t,s,l):new Date(NaN);{const u=new Date(0);return!Zve(t,i,o)||!Jve(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Jy(e){return e?parseInt(e):1}function Gve(e){const t=e.match(qve);if(!t)return NaN;const r=yk(t[1]),n=yk(t[2]),a=yk(t[3]);return e1e(r,n,a)?r*A4+n*ux+a*1e3:NaN}function yk(e){return e&&parseFloat(e.replace(",","."))||0}function Kve(e){if(e==="Z")return 0;const t=e.match(zve);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return t1e(n,a)?r*(n*A4+a*ux):NaN}function Yve(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Xve=[31,null,31,30,31,30,31,31,30,31,30,31];function PY(e){return e%400===0||e%4===0&&e%100!==0}function Zve(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Xve[t]||(PY(e)?29:28))}function Jve(e,t){return t>=1&&t<=(PY(e)?366:365)}function Qve(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function e1e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function t1e(e,t){return t>=0&&t<=59}function xk(e,t){const r=ur(e),n=r.getFullYear(),a=r.getDate(),i=fa(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=$ge(i);return r.setMonth(t,Math.min(a,o)),r}function r1e(e,t){const r=ur(e);return r.setHours(t),r}function n1e(e,t){const r=ur(e);return r.setMinutes(t),r}function uL(e,t){const r=ur(e);return isNaN(+r)?fa(e,NaN):(r.setFullYear(t),r)}function u6(e,t){return ul(e,-t)}function dx(e,t){return mY(e,-t)}function a1e(e,t){return v1(e,-1)}function i1e({notifications:e,onClose:t,onMarkAsRead:r,onClearNotification:n}){const a=i=>{i.is_read||r(i.id)};return w(cr,{className:"fixed top-16 right-4 z-50 w-96 shadow-lg border bg-card text-card-foreground",children:[" ",w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(xr,{className:"text-lg font-medium",children:"Notifications"}),c(Le,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close notifications",children:c(im,{className:"h-4 w-4"})})]}),c(vr,{className:"p-0",children:w("div",{className:"max-h-[calc(100vh-10rem)] overflow-y-auto",children:[" ",e.length===0?c("p",{className:"text-sm text-muted-foreground text-center p-4",children:"No new notifications."}):e.map(i=>w("div",{className:Rt("flex flex-col border-b p-3 hover:bg-muted/50 cursor-pointer",i.is_read===!0?"opacity-70":"font-medium"),onClick:()=>a(i),role:"button",tabIndex:0,onKeyDown:o=>o.key==="Enter"&&a(i),children:[w("div",{className:"flex justify-between items-center w-full",children:[" ",c("span",{className:"text-sm flex-grow mr-2",children:i.message})," ",c(Le,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:o=>{o.stopPropagation(),n(i.id)},"aria-label":"Clear notification",children:c(im,{className:"h-3 w-3"})})]}),w("div",{className:"flex justify-between items-center mt-1",children:[c("span",{className:"text-xs text-muted-foreground",children:i.created_at?jge(new Date(i.created_at),{addSuffix:!0}):"Just now"}),i.is_read!==!0&&c("span",{title:"Mark as read",className:"text-primary"})]})]},i.id))]})})]})}const o1e=Ew("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zu({className:e,variant:t,...r}){return c("div",{className:Rt(o1e({variant:t}),e),...r})}const s1e=(e,t)=>{if(e){const r=e.split(" ");if(r.length>1)return`${r[0][0]}${r[r.length-1][0]}`.toUpperCase();if(r.length===1&&r[0].length>0)return r[0].substring(0,2).toUpperCase()}return t?t.substring(0,2).toUpperCase():"U"};function l1e({user:e}){const{toast:t}=vn(),r=Uo(),{user:n,signOut:a}=ii(),[i,o]=A.useState(""),[s,l]=A.useState(!1),{notifications:u,markAsRead:d,clearNotification:f}=O0e(),h=A.useMemo(()=>u.filter(T=>T.is_read!==!0).length,[u]),m=T=>{o(T.target.value)},x=T=>{if(T.key==="Enter"&&i.trim()){const I=i.trim();r(`/search?q=${encodeURIComponent(I)}`),o("")}},g=async()=>{try{await a(),t({title:"Logged out successfully"}),r("/login")}catch(T){console.error("Logout failed:",T),t({title:"Logout Failed",description:T.message||"An unexpected error occurred.",variant:"destructive"})}},y=()=>{l(T=>!T)},_=()=>{l(!1)};A.useEffect(()=>{const T=I=>{const L=document.getElementById("notification-panel"),U=document.getElementById("notification-trigger");L&&!L.contains(I.target)&&U&&!U.contains(I.target)&&_()};return s?document.addEventListener("mousedown",T):document.removeEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[s]);const b=e==null?void 0:e.display_name,S=e==null?void 0:e.avatar_url,C=e==null?void 0:e.email,[E,O]=A.useState("https://i.postimg.cc/j2qGSXwJ/facetslogo.png");return A.useEffect(()=>{const T=()=>{const L=localStorage.getItem("customClinicLogo");O(L||"https://i.postimg.cc/j2qGSXwJ/facetslogo.png")};T();const I=L=>{L.key==="customClinicLogo"&&T()};return window.addEventListener("storage",I),()=>{window.removeEventListener("storage",I)}},[]),w(Sr,{children:[c("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:w("div",{className:"container flex h-14 items-center",children:[c("div",{className:"mr-4 hidden md:flex",children:c("div",{className:"flex items-center",children:c(zi,{to:"/dashboard",className:"flex items-center space-x-2",children:c("img",{src:E,alt:"Facets Dental Logo",className:"h-10"})})})}),w("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:[c("div",{className:"w-full flex-1 md:w-auto md:flex-none",children:w("div",{className:"relative",children:[c(s4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c(ot,{placeholder:"Search...",className:"pl-8 md:w-[300px] lg:w-[400px]",value:i,onChange:m,onKeyDown:x})]})}),w("div",{className:"flex items-center gap-2",children:[w(Le,{id:"notification-trigger",variant:"ghost",size:"icon",className:"relative","aria-label":"Notifications",onClick:y,children:[c(a4,{className:"h-4 w-4"}),h>0&&c(Zu,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 justify-center rounded-full p-0 text-xs",children:h>9?"9+":h})]}),w(spe,{children:[c(lpe,{asChild:!0,children:c(Le,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:w(mD,{className:"h-8 w-8",children:[c(gD,{src:S||"https://syevxwuraxjpvkcclmjj.supabase.co/storage/v1/object/public/avatars/68f6a588-b802-4e33-8c6b-3de2d070d3bf-1744191950747.jpg",alt:b||C||"User"}),c(vD,{children:s1e(b,C)})]})})}),w(jK,{className:"w-56",align:"end",forceMount:!0,children:[c($K,{className:"font-normal",children:w("div",{className:"flex flex-col space-y-1",children:[c("p",{className:"text-sm font-medium leading-none",children:b||"User Name"}),c("p",{className:"text-xs leading-none text-muted-foreground",children:C||"user@example.com"})]})}),c(JP,{}),c(v2,{asChild:!0,children:c(zi,{to:"/profile",children:"Profile"})}),c(v2,{asChild:!0,children:c(zi,{to:"/settings",children:"Settings"})}),c(v2,{asChild:!0,children:c(zi,{to:"/payments-subscription",children:"Payments & Subscription"})}),c(JP,{}),c(v2,{onClick:g,className:"cursor-pointer",children:"Log out"})]})]})]})]})]})}),s&&c("div",{id:"notification-panel",className:"absolute top-0 right-0 z-50 mt-14 mr-4",children:c(i1e,{notifications:u,onClose:_,onMarkAsRead:d,onClearNotification:f})})]})}var N4="Collapsible",[c1e,OY]=Yi(N4),[u1e,PD]=c1e(N4),DY=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...s}=e,[l,u]=cl({prop:n,defaultProp:a??!1,onChange:o,caller:N4});return c(u1e,{scope:r,disabled:i,contentId:Il(),open:l,onOpenToggle:A.useCallback(()=>u(d=>!d),[u]),children:c(hr.div,{"data-state":DD(l),"data-disabled":i?"":void 0,...s,ref:t})})});DY.displayName=N4;var IY="CollapsibleTrigger",RY=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=PD(IY,r);return c(hr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":DD(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ut(e.onClick,a.onOpenToggle)})});RY.displayName=IY;var OD="CollapsibleContent",MY=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=PD(OD,e.__scopeCollapsible);return c(is,{present:r||a.open,children:({present:i})=>c(d1e,{...n,ref:t,present:i})})});MY.displayName=OD;var d1e=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=PD(OD,r),[s,l]=A.useState(n),u=A.useRef(null),d=zr(t,u),f=A.useRef(0),h=f.current,m=A.useRef(0),x=m.current,g=o.open||s,y=A.useRef(g),_=A.useRef(void 0);return A.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),ai(()=>{const b=u.current;if(b){_.current=_.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const S=b.getBoundingClientRect();f.current=S.height,m.current=S.width,y.current||(b.style.transitionDuration=_.current.transitionDuration,b.style.animationName=_.current.animationName),l(n)}},[o.open,n]),c(hr.div,{"data-state":DD(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&a})});function DD(e){return e?"open":"closed"}var f1e=DY,h1e=RY,p1e=MY,ad="Accordion",m1e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ID,g1e,v1e]=Cw(ad),[E4,TJe]=Yi(ad,[v1e,OY]),RD=OY(),FY=Qe.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return c(ID.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?c(_1e,{...i,ref:t}):c(w1e,{...a,ref:t})})});FY.displayName=ad;var[LY,y1e]=E4(ad),[jY,x1e]=E4(ad,{collapsible:!1}),w1e=Qe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[s,l]=cl({prop:r,defaultProp:n??"",onChange:a,caller:ad});return c(LY,{scope:e.__scopeAccordion,value:Qe.useMemo(()=>s?[s]:[],[s]),onItemOpen:l,onItemClose:Qe.useCallback(()=>i&&l(""),[i,l]),children:c(jY,{scope:e.__scopeAccordion,collapsible:i,children:c($Y,{...o,ref:t})})})}),_1e=Qe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,s]=cl({prop:r,defaultProp:n??[],onChange:a,caller:ad}),l=Qe.useCallback(d=>s((f=[])=>[...f,d]),[s]),u=Qe.useCallback(d=>s((f=[])=>f.filter(h=>h!==d)),[s]);return c(LY,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:c(jY,{scope:e.__scopeAccordion,collapsible:!0,children:c($Y,{...i,ref:t})})})}),[b1e,C4]=E4(ad),$Y=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,s=Qe.useRef(null),l=zr(s,t),u=g1e(r),f=yg(a)==="ltr",h=Ut(e.onKeyDown,m=>{var I;if(!m1e.includes(m.key))return;const x=m.target,g=u().filter(L=>{var U;return!((U=L.ref.current)!=null&&U.disabled)}),y=g.findIndex(L=>L.ref.current===x),_=g.length;if(y===-1)return;m.preventDefault();let b=y;const S=0,C=_-1,E=()=>{b=y+1,b>C&&(b=S)},O=()=>{b=y-1,b<S&&(b=C)};switch(m.key){case"Home":b=S;break;case"End":b=C;break;case"ArrowRight":i==="horizontal"&&(f?E():O());break;case"ArrowDown":i==="vertical"&&E();break;case"ArrowLeft":i==="horizontal"&&(f?O():E());break;case"ArrowUp":i==="vertical"&&O();break}const T=b%_;(I=g[T].ref.current)==null||I.focus()});return c(b1e,{scope:r,disabled:n,direction:a,orientation:i,children:c(ID.Slot,{scope:r,children:c(hr.div,{...o,"data-orientation":i,ref:l,onKeyDown:n?void 0:h})})})}),_5="AccordionItem",[S1e,MD]=E4(_5),BY=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=C4(_5,r),o=y1e(_5,r),s=RD(r),l=Il(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return c(S1e,{scope:r,open:u,disabled:d,triggerId:l,children:c(f1e,{"data-orientation":i.orientation,"data-state":HY(u),...s,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});BY.displayName=_5;var UY="AccordionHeader",qY=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=C4(ad,r),i=MD(UY,r);return c(hr.h3,{"data-orientation":a.orientation,"data-state":HY(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});qY.displayName=UY;var d6="AccordionTrigger",zY=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=C4(ad,r),i=MD(d6,r),o=x1e(d6,r),s=RD(r);return c(ID.ItemSlot,{scope:r,children:c(h1e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...s,...n,ref:t})})});zY.displayName=d6;var WY="AccordionContent",VY=Qe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=C4(ad,r),i=MD(WY,r),o=RD(r);return c(p1e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});VY.displayName=WY;function HY(e){return e?"open":"closed"}var A1e=FY,k1e=BY,N1e=qY,GY=zY,KY=VY;const FD=A1e,Ld=A.forwardRef(({className:e,...t},r)=>c(k1e,{ref:r,className:Rt("border-b",e),...t}));Ld.displayName="AccordionItem";const jd=A.forwardRef(({className:e,children:t,...r},n)=>c(N1e,{className:"flex",children:w(GY,{ref:n,className:Rt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,c(V8,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));jd.displayName=GY.displayName;const $d=A.forwardRef(({className:e,children:t,...r},n)=>c(KY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:c("div",{className:Rt("pb-4 pt-0",e),children:t})}));$d.displayName=KY.displayName;const E1e=[{name:"Dashboard",href:"/",icon:xce},{name:"Appointments",href:"/appointments",icon:yo},{name:"Patients",href:"/patients",icon:l4},{name:"Treatment Plans",href:"/treatment-plans",icon:JH},{name:"Patient Medical Record",href:"/patient-medical-records",icon:pce},{name:"Inventory",href:"/inventory",icon:ZH,children:[{name:"Purchases",href:"/purchases"},{name:"Urgent Purchase Entry",href:"/purchases/urgent"},{name:"Invoices",href:"/inventory/invoices"},{name:"Create Adjustment",href:"/inventory/create-adjustment"},{name:"Stock Take",href:"/inventory/stock-take"}]},{name:"Assets",href:"/assets",icon:BH},{name:"Reports",href:"/reports",icon:ice},{name:"Reminders",href:"/reminders",icon:a4},{name:"Settings",href:"/settings",icon:Pce},{name:"Inv. Approvals",href:"/inventory-approvals",icon:YH,roles:["admin","owner","doctor"]}],C1e=["Inventory","Assets","Reports","Reminders"];function T1e(){const e=km(),{user:t}=ii(),r=E1e.filter(n=>!t||!t.role?!1:n.roles&&Array.isArray(n.roles)?n.roles.includes(t.role):t.role==="admin"||t.role==="owner"?!0:t.role==="doctor"?!C1e.includes(n.name):!1);return!t||r.length===0?null:c("div",{className:"hidden border-r bg-background md:block md:w-64",children:w("div",{className:"flex h-full flex-col gap-2",children:[c("div",{className:"flex h-14 items-center border-b px-4",children:w(zi,{to:"/",className:"flex items-center gap-2 font-semibold",children:[c("img",{src:"https://i.postimg.cc/bwDhkb5H/dentalcare.png",alt:"Dental Care Logo",className:"h-12"})," "]})}),c("div",{className:"flex-1 overflow-auto py-2",children:c("nav",{className:"grid items-start px-2 text-sm font-medium",children:r.map(n=>{const a=n.icon,i=n.children&&n.children.some(o=>e.pathname.startsWith(o.href))||e.pathname.startsWith(n.href);if(n.children){const o=i?n.name:"";return c(FD,{type:"single",collapsible:!0,defaultValue:o,className:"w-full",children:w(Ld,{value:n.name,className:"border-b-0",children:[c(jd,{className:Rt("w-full justify-start gap-2 rounded-md px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground [&[data-state=open]>svg]:rotate-180",e.pathname===n.href?"bg-secondary text-secondary-foreground":"hover:bg-muted"),children:w(zi,{to:n.href,className:"flex items-center flex-grow gap-2",onClick:s=>s.stopPropagation(),children:[" ",c(a,{className:"h-4 w-4"}),c("span",{children:n.name})]})}),w($d,{className:"pt-1 pb-0 pl-7",children:[" ",c("nav",{className:"grid gap-1",children:n.children.map(s=>{const l=e.pathname===s.href;return c(zi,{to:s.href,children:c(Le,{variant:l?"secondary":"ghost",size:"sm",className:Rt("w-full justify-start gap-2 pl-2",{"bg-secondary text-secondary-foreground":l}),children:s.name})},s.href)})})]})]})},n.name)}return c(zi,{to:n.href,children:w(Le,{variant:i?"secondary":"ghost",className:Rt("w-full justify-start gap-2 rounded-md px-3 py-2 text-sm font-medium",{"bg-secondary text-secondary-foreground":i}),children:[c(a,{className:"h-4 w-4"}),n.name]})},n.href)})})})]})})}const YY=async()=>{const{data:e,error:t}=await Me.from("reminders").select("*").order("reminder_datetime",{ascending:!0});if(t)throw console.error("Error fetching reminders:",t),new Error("Failed to fetch reminders.");return e.map(r=>({...r,recurrence_config:typeof r.recurrence_config=="string"?JSON.parse(r.recurrence_config):r.recurrence_config||{type:"none"}}))},P1e=async e=>{const{data:t,error:r}=await Me.from("reminders").insert(e).select().single();if(r)throw console.error("Error creating reminder:",r),new Error("Failed to create reminder.");return t},XY=async(e,t)=>{const{data:r,error:n}=await Me.from("reminders").update(t).eq("id",e).select().single();if(n)throw console.error("Error updating reminder:",n),new Error("Failed to update reminder.");return r},O1e=async e=>{const{error:t}=await Me.from("reminders").delete().eq("id",e);if(t)throw console.error("Error deleting reminder:",t),new Error("Failed to delete reminder.")},ob=60*1e3;function ZY(){const{user:e}=ii(),{toast:t}=vn(),[r,n]=A.useState("Notification"in window?Notification.permission:"default"),a=A.useRef(new Map),[i,o]=A.useState(new Set),s=A.useRef(null);return A.useEffect(()=>{if(!("Notification"in window))return;const l=Notification.permission;n(l),l!=="granted"&&l!=="denied"&&Notification.requestPermission().then(u=>{n(u)})},[]),A.useEffect(()=>{if(!e)return;const l=setInterval(async()=>{try{const u=await YY(),d=new Date;u.forEach(f=>{var x;if(!f.is_active)return;let h=[];const m=new Date(f.reminder_datetime);if(((x=f.recurrence_config)==null?void 0:x.type)==="daily"){const g=D1e(f,d);g&&(h=I1e(f,g))}else(!f.recurrence_config||f.recurrence_config.type==="none")&&(m>=d&&Gb(d,m)<ob?h=[m]:$ve(m)&&Gb(d,m)<ob&&(h=[m]));h.forEach(g=>{const y=Gb(d,g),_=`${f.id}-${g.toISOString()}`,b=a.current.has(_);if(y>=0&&y<ob&&!b){"Notification"in window&&Notification.permission==="granted"&&new Notification("Dental Care Reminder",{body:f.message,icon:"/ransferent.svg",tag:_}),t({title:"Reminder Due",description:f.message,duration:1e4}),a.current.set(_,d.getTime()),o(C=>new Set(C).add(f.id)),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{o(new Set),s.current=null},6e4);const S=d.getTime()-24*60*60*1e3;for(const[C,E]of a.current.entries())E<S&&a.current.delete(C)}})})}catch(u){console.error("Error checking reminders for notifications:",u)}},ob);return()=>{clearInterval(l)}},[e,r,t]),A.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]),{permission:r,activeReminderIds:i}}function D1e(e,t){if(!e.recurrence_config||e.recurrence_config.type!=="daily")return null;const r=new Date(e.reminder_datetime),n=e.recurrence_config.interval||1,a=new Date(r);if(a.setHours(0,0,0,0),a>t)return null;let i=a;for(;;){const o=Pa(i,n);if(o>t)break;i=o}return i}function I1e(e,t){var s;const r=new Date(e.reminder_datetime),n=((s=e.recurrence_config)==null?void 0:s.times_per_day)||1;if(n<=0)return[];const a=[],i=new Date(t);i.setHours(0,0,0,0);let o=new Date(i);if(o.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),o<r&&o.toDateString()===r.toDateString()&&(o=r),n===1)o>=r&&o.toDateString()===t.toDateString()&&a.push(o);else{const l=864e5/n;for(let u=0;u<n;u++){const d=new Date(o.getTime()+u*l);d.getDate()===t.getDate()&&d>=r&&a.push(d)}}return a}const dL=e=>new Promise(t=>setTimeout(t,e)),fL=e=>{const t=new Date;if(t.setHours(0,0,0,0),e.expiry_date){const r=new Date(e.expiry_date);if(r.setHours(0,0,0,0),r<t)return"Expired"}return(e.quantity??0)<=(e.low_stock_threshold??0)?"Low Stock":"In Stock"},R1e=30;function M1e(){const{toast:e}=vn(),{user:t}=ii(),r=A.useRef(new Set),n=A.useRef(new Set),a=A.useRef(null),i=A.useCallback((s,l)=>{if(!("Notification"in window)){console.warn("This browser does not support desktop notification");return}const u=()=>{Notification.requestPermission().then(d=>{d==="granted"?new Notification(s,l):console.warn("Desktop notification permission denied.")})};Notification.permission==="granted"?new Notification(s,l):Notification.permission!=="denied"&&u()},[]),o=A.useCallback(async s=>{if(!t)return;const l=new Date;l.setHours(0,0,0,0);const u=new Date(l);u.setDate(l.getDate()+R1e),console.log(`[InventoryAlerts] Check running. Today (normalized): ${l.toISOString()}, Threshold Date: ${u.toISOString()}`);const d=new Set,f=new Set,h=[];for(const m of s){const x=fL(m),g=m.id;if(x==="Low Stock"){const y="low_stock",_=dx(new Date,12),{count:b,error:S}=await Me.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",g).eq("item_type","inventory").eq("notification_type",y).gte("created_at",_.toISOString());if(S&&console.error("Error checking recent low stock notifications:",S),!S&&b===0){console.log(`[InventoryAlerts] PASSED low stock check for item "${m.item_name}". Queueing notification.`),d.add(g);const C=`Item "${m.item_name}" is low on stock (${m.quantity??0} remaining).`,E=`/inventory?highlight=${g}`,O=`low-stock-${g}`;h.push({title:"Low Stock Alert",description:C,variant:"warning",tag:O}),i("Low Stock Alert",{body:C,tag:O});try{const{error:T}=await Me.from("notifications").insert({user_id:t.id,message:C,link_url:E,item_id:g,item_type:"inventory",notification_type:y});if(T)throw T}catch(T){console.error("Error inserting low stock notification:",T)}}else!S&&b&&b>0&&console.log(`[InventoryAlerts] Skipped low stock notification for item "${m.item_name}" (sent recently).`)}if(m.expiry_date){const y=new Date(m.expiry_date),_=new Date(y.getFullYear(),y.getMonth(),y.getDate());if(console.log(`[InventoryAlerts] Checking expiry for item "${m.item_name}" (ID: ${g}). Expiry Date (normalized): ${_.toISOString()}`),_>=l&&_<=u){const b="expiry_soon",S=dx(new Date,12),{count:C,error:E}=await Me.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",g).eq("item_type","inventory").eq("notification_type",b).gte("created_at",S.toISOString());if(E&&console.error("Error checking recent expiry notifications:",E),!E&&C===0){console.log(`[InventoryAlerts] PASSED expiry check for item "${m.item_name}". Queueing notification.`),f.add(g);const O=`Item "${m.item_name}" is expiring on ${_.toLocaleDateString()}.`,T=`/inventory?highlight=${g}`,I=`expiry-soon-${g}`;h.push({title:"Expiry Soon Alert",description:O,variant:"default",tag:I}),i("Expiry Soon Alert",{body:O,tag:I});try{const{error:L}=await Me.from("notifications").insert({user_id:t.id,message:O,link_url:T,item_id:g,item_type:"inventory",notification_type:b});if(L)throw L}catch(L){console.error("Error inserting expiry soon notification:",L)}}else!E&&C&&C>0&&console.log(`[InventoryAlerts] Skipped expiry soon notification for item "${m.item_name}" (sent recently).`)}}}if(d.size>0&&(r.current=new Set([...r.current,...d])),f.size>0&&(n.current=new Set([...n.current,...f])),h.length>0){console.log(`[InventoryAlerts] Processing ${h.length} queued toasts...`),await dL(2e3);for(const m of h)console.log(`[InventoryAlerts] >>> Showing toast: ${m.title} - ${m.description}`),e({title:m.title,description:m.description,variant:m.variant,duration:1/0}),console.log(`[InventoryAlerts] <<< Shown toast: ${m.title}`),await dL(2e3);console.log("[InventoryAlerts] Finished processing queued toasts.")}},[e,t,i]);return A.useEffect(()=>{t&&(async()=>{try{const{data:l,error:u}=await Me.from("inventory_items").select("*");if(u)throw u;l&&o(l)}catch(l){console.error("Error fetching initial inventory for alerts:",l)}})()},[o,t]),A.useEffect(()=>{if(!Me)return;const s=l=>{const u=l.new;u&&(o([u]),fL(u)==="In Stock"&&r.current.has(u.id)&&r.current.delete(u.id))};return a.current=Me.channel("inventory_items_alerts").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},s).subscribe((l,u)=>{l==="SUBSCRIBED"||(l==="CHANNEL_ERROR"||l==="TIMED_OUT"||l==="CLOSED"?console.error(`Inventory Alert Realtime subscription ${l}:`,u):l==="CHANNEL_ERROR"?console.error("Realtime channel error, attempting to resubscribe...",u):(l==="TIMED_OUT"||l==="CLOSED")&&console.warn(`Inventory Alert Realtime subscription ${l}.`,u))}),()=>{const l=a.current;l&&(Me.removeChannel(l).catch(u=>console.error("Error removing inventory alert channel:",u)),a.current=null)}},[Me,o,t]),null}const hL=e=>new Promise(t=>setTimeout(t,e)),F1e=30;function L1e(){console.log("[AssetAlerts] Hook initializing...");const{toast:e}=vn(),{user:t}=ii(),r=A.useRef(new Set),n=A.useRef(new Set),a=A.useRef(null),i=A.useCallback((s,l)=>{if(!("Notification"in window)){console.warn("This browser does not support desktop notification");return}const u=()=>{Notification.requestPermission().then(d=>{d==="granted"?new Notification(s,l):console.warn("Desktop notification permission denied.")})};Notification.permission==="granted"?new Notification(s,l):Notification.permission!=="denied"&&u()},[]),o=A.useCallback(async s=>{if(console.log("[AssetAlerts] checkAndNotifyAssets called with:",s),!t){console.log("[AssetAlerts] checkAndNotifyAssets skipped (no user).");return}const l=new Date;l.setHours(0,0,0,0);const u=new Date(l);u.setDate(l.getDate()+F1e),console.log(`[AssetAlerts] Check running. Today (normalized): ${l.toISOString()}, Threshold Date: ${u.toISOString()}`);const d=new Set,f=new Set,h=[];for(const m of s){const x=m.id;if(m.next_maintenance_due_date){const g=new Date(m.next_maintenance_due_date),y=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(console.log(`[AssetAlerts] Checking maintenance for asset "${m.asset_name}" (ID: ${x}). Due Date (normalized): ${y.toISOString()}`),y>=l&&y<=u){const _="maintenance_due",b=dx(new Date,12),{count:S,error:C}=await Me.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",x).eq("item_type","asset").eq("notification_type",_).gte("created_at",b.toISOString());if(C?console.error("Error checking recent maintenance notifications:",C):console.log(`[AssetAlerts] Maintenance Throttling Check Result for ${m.asset_name}: Count=${S}`),!C&&S===0){console.log(`[AssetAlerts] PASSED maintenance check for asset "${m.asset_name}". Triggering notification.`),d.add(x);const E=`Asset "${m.asset_name}" requires maintenance by ${y.toLocaleDateString()}.`,O=`/assets?highlight=${x}`,T=`maintenance-due-${x}`;h.push({title:"Maintenance Due Soon",description:E,variant:"default",tag:T}),i("Maintenance Due Soon",{body:E,tag:T});try{const{error:I}=await Me.from("notifications").insert({user_id:t.id,message:E,link_url:O,item_id:x,item_type:"asset",notification_type:_});if(I)throw I}catch(I){console.error("Error inserting maintenance notification:",I)}}else!C&&S&&S>0&&console.log(`[AssetAlerts] Skipped maintenance notification for asset "${m.asset_name}" (sent recently).`)}}if(m.warranty_expiry_date){const g=new Date(m.warranty_expiry_date),y=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(console.log(`[AssetAlerts] Checking warranty for asset "${m.asset_name}" (ID: ${x}). Expiry Date (normalized): ${y.toISOString()}`),y>=l&&y<=u){const _="warranty_expiry",b=dx(new Date,12),{count:S,error:C}=await Me.from("notifications").select("id",{count:"exact",head:!0}).eq("user_id",t.id).eq("item_id",x).eq("item_type","asset").eq("notification_type",_).gte("created_at",b.toISOString());if(C?console.error("Error checking recent warranty notifications:",C):console.log(`[AssetAlerts] Warranty Throttling Check Result for ${m.asset_name}: Count=${S}`),!C&&S===0){console.log(`[AssetAlerts] PASSED warranty check for asset "${m.asset_name}". Triggering notification.`),f.add(x);const E=`Warranty for asset "${m.asset_name}" expires on ${y.toLocaleDateString()}.`,O=`/assets?highlight=${x}`,T=`warranty-expiry-${x}`;h.push({title:"Warranty Expiring Soon",description:E,variant:"default",tag:T}),i("Warranty Expiring Soon",{body:E,tag:T});try{const{error:I}=await Me.from("notifications").insert({user_id:t.id,message:E,link_url:O,item_id:x,item_type:"asset",notification_type:_});if(I)throw I}catch(I){console.error("Error inserting warranty notification:",I)}}else!C&&S&&S>0&&console.log(`[AssetAlerts] Skipped warranty notification for asset "${m.asset_name}" (sent recently).`)}}}if(d.size>0&&(r.current=new Set([...r.current,...d])),f.size>0&&(n.current=new Set([...n.current,...f])),h.length>0){console.log(`[AssetAlerts] Processing ${h.length} queued toasts...`),await hL(2e3);for(const m of h)console.log(`[AssetAlerts] >>> Showing toast: ${m.title} - ${m.description}`),e({title:m.title,description:m.description,variant:m.variant,duration:1/0}),console.log(`[AssetAlerts] <<< Shown toast: ${m.title}`),await hL(2e3);console.log("[AssetAlerts] Finished processing queued toasts.")}},[e,t,i]);return A.useEffect(()=>{const s=async()=>{console.log("[AssetAlerts] Starting initial fetch...");try{const{data:l,error:u}=await Me.from("assets").select("*");if(u)throw console.error("Error fetching initial assets for alerts:",u),u;l?(console.log("[AssetAlerts] Initial fetch successful, data:",l),o(l)):console.log("[AssetAlerts] Initial fetch returned no data.")}catch{}};t&&(console.log("[AssetAlerts] User found, calling fetchInitialData."),s())},[o,t]),A.useEffect(()=>{if(!Me||!t)return;const s=u=>{console.log("[AssetAlerts] Asset change detected:",u);const d=u.new;d&&o([d])},l=`asset-alerts-channel-${t.id}`;return console.log(`[AssetAlerts] Attempting to subscribe to channel: ${l}`),a.current=Me.channel(l).on("postgres_changes",{event:"*",schema:"public",table:"assets"},s).subscribe((u,d)=>{console.log(`[AssetAlerts] Channel ${l} subscription status: ${u}`),u==="SUBSCRIBED"||(u==="CHANNEL_ERROR"||u==="TIMED_OUT"||u==="CLOSED")&&console.error(`[AssetAlerts] Asset Alert Realtime subscription ${u} on ${l}:`,d)}),()=>{const u=a.current;if(u){const d=u.topic;console.log(`[AssetAlerts] Attempting to unsubscribe from channel: ${d}`),Me.removeChannel(u).catch(f=>console.error(`[AssetAlerts] Error removing asset alert channel ${d}:`,f)).finally(()=>{a.current===u&&(a.current=null)})}}},[Me,o,t]),null}function j1e(){return ZY(),M1e(),L1e(),w("div",{className:"min-h-screen bg-background",children:[" ",w("div",{className:"flex h-screen",children:[c(T1e,{}),w("div",{className:"flex flex-col flex-1 overflow-hidden",children:[c(l1e,{}),c("main",{className:"flex-1 overflow-y-auto",children:c("div",{className:"container py-6",children:c(jH,{})})})]})]})]})}class wk extends Error{constructor(r,n,a){super(`Transaction failed during ${r}: ${n.message}`);fr(this,"operation");fr(this,"partialData");fr(this,"originalError");this.name="TransactionError",this.operation=r,this.originalError=n,this.partialData=a}}async function pL(e,t){const r=[];let n=!0,a;try{await Me.rpc("begin_transaction");for(let i=0;i<e.length;i++)try{const o=await e[i]();r.push(o)}catch(o){throw n=!1,a=new wk(`Operation ${i}`,o,r),t&&i>0,a}return await Me.rpc("commit_transaction"),{success:!0,data:r.length===1?r[0]:r}}catch(i){try{await Me.rpc("rollback_transaction")}catch(o){console.error("Transaction rollback failed:",o)}return{success:!1,error:i instanceof wk?i:new wk("Unknown",i)}}}class $1e{constructor(t=5*60*1e3){fr(this,"cache");fr(this,"defaultTTL");this.cache=new Map,this.defaultTTL=t}set(t,r,n){this.cache.set(t,{data:r,timestamp:Date.now()+(n??this.defaultTTL)})}get(t){const r=this.cache.get(t);if(r){if(r.timestamp<Date.now()){this.invalidate(t);return}return r.data}}invalidate(t){this.cache.delete(t)}invalidatePattern(t){this.cache.forEach((r,n)=>{t.test(n)&&this.invalidate(n)})}clear(){this.cache.clear()}}const Qt=new $1e;function LD(e,t){return Me.channel(`public:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},r=>{Qt.invalidatePattern(new RegExp(`^${e}`)),t(r)}).subscribe()}const Kt={storage:{async uploadFile(e,t){try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${r}`,{data:a,error:i}=await Me.storage.from("medical-records").upload(n,e,{cacheControl:"3600",upsert:!1});if(i)throw i;const{data:{publicUrl:o}}=Me.storage.from("medical-records").getPublicUrl(a.path);return{path:a.path,url:o,name:e.name,size:e.size,type:e.type}}catch(r){throw console.error("Error uploading file:",r),r}},async deleteFile(e,t){try{const{error:r}=await Me.storage.from(t).remove([e]);if(r)throw r;return!0}catch(r){throw console.error(`Error deleting file from bucket ${t}:`,r),r}},async uploadInventoryPhoto(e,t){const r="inventory-photos";try{const n=e.name.split(".").pop(),a=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${n}`,{data:i,error:o}=await Me.storage.from(r).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:s}}=Me.storage.from(r).getPublicUrl(i.path);return{path:i.path,url:s,name:e.name,size:e.size,type:e.type}}catch(n){throw console.error(`Error uploading to ${r}:`,n),n}},async uploadAssetPhoto(e,t){const r="asset-photos";try{const n=e.name.split(".").pop(),a=`${t}/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${n}`,{data:i,error:o}=await Me.storage.from(r).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw o;const{data:{publicUrl:s}}=Me.storage.from(r).getPublicUrl(i.path);return{path:i.path,url:s,name:e.name,size:e.size,type:e.type}}catch(n){throw console.error(`Error uploading to ${r}:`,n),n}}},staff:{async getAll(){const e=Qt.get("staff:all");if(e)return e;const{data:t,error:r}=await Me.from("staff").select("*").order("created_at",{ascending:!1});if(r)throw r;return Qt.set("staff:all",t),t||[]},async getDoctors(){const e=Qt.get("staff:doctors");if(e)return e;const{data:t,error:r}=await Me.from("staff").select("*").eq("role","doctor").order("created_at",{ascending:!1});if(r)throw r;return Qt.set("staff:doctors",t),t||[]},async getAvailableDoctors(e,t){try{const r=new Date(e),n=new Date(t),a=r.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),i=`${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`,o=`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`,s=await Kt.staff.getDoctors(),{data:l,error:u}=await Me.from("absences").select("staff_id").lt("start_time",t).gt("end_time",e);u&&console.error("Error fetching overlapping absences:",u);const d=new Set((l==null?void 0:l.map(h=>h.staff_id))||[]);return s.filter(h=>{if(d.has(h.id))return!1;try{let m=[];if(typeof h.working_hours=="string")m=JSON.parse(h.working_hours);else if(Array.isArray(h.working_hours))m=h.working_hours;else return!1;const x=m.find(y=>y.day.toLowerCase()===a);return!(!x||x.is_open===!1||!(i>=x.start&&o<=x.end))}catch(m){return console.error(`Error processing working hours for doctor ${h.id}:`,h.working_hours,m),!1}})}catch(r){return console.error("Error getting available doctors:",r),[]}},async create(e){typeof e.working_hours=="object"&&e.working_hours!==null&&(e.working_hours=JSON.stringify(e.working_hours));const{data:t,error:r}=await Me.from("staff").insert(e).select().single();if(r)throw r;return Qt.invalidatePattern(/^staff/),t},async update(e,t){const{data:r,error:n}=await Me.from("staff").update(t).eq("id",e).select().single();if(n)throw n;return Qt.invalidatePattern(/^staff/),r}},absences:{async getAll(){const e="absences:all",t=Qt.get(e);if(t)return t;try{const{data:r,error:n}=await Me.from("absences").select("*").order("start_time",{ascending:!1});if(n)throw n;if(!r)return[];const a=await Kt.staff.getAll(),i=new Map(a.map(s=>[s.id,s])),o=r.map(s=>{const l=s.staff_id?i.get(s.staff_id):null;return{...s,staff:l?{id:l.id,first_name:l.first_name,last_name:l.last_name}:null}});return Qt.set(e,o),o}catch(r){throw console.error("Error in api.absences.getAll:",r),r}},async create(e){if(!e.staff_id||!e.start_time||!e.end_time)throw new Error("Missing required fields for absence creation.");if(new Date(e.end_time)<=new Date(e.start_time))throw new Error("End time must be after start time.");const{data:t,error:r}=await Me.from("absences").insert(e).select().single();if(r)throw r;if(!t)throw new Error("Absence creation returned no data");return Qt.invalidate("absences:all"),t},async delete(e){const{error:t}=await Me.from("absences").delete().eq("id",e);if(t)throw t;Qt.invalidate("absences:all")}},patients:{async schedulePatientCommunication(e){const{data:t,error:r}=await Me.from("patient_communications").insert(e).select().single();if(r)throw r;return Qt.invalidate(`patient_communications:${e.patient_id}`),t},async getPatientCommunications(e){const t=`patient_communications:${e}`,r=Qt.get(t);if(r)return r;const{data:n,error:a}=await Me.from("patient_communications").select("*").eq("patient_id",e).order("created_at",{ascending:!1});if(a)throw a;return Qt.set(t,n),n||[]},async generateTreatmentPlan(e,t){var r,n;try{const[a,i]=await Promise.all([Kt.patients.getMedicalRecords(e),Kt.patients.getTreatmentPlans(e)]),o=[],s=[],l=await Me.auth.getSession(),u=(n=(r=l==null?void 0:l.data)==null?void 0:r.session)==null?void 0:n.access_token;if(!u)throw new Error("User not authenticated");const d=await fetch("/functions/v1/treatment-ai",{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify({patientId:e,currentIssue:t,medicalHistory:a,previousTreatments:i,assessments:o,diagnosticImages:s})});if(!d.ok)throw new Error("Failed to generate treatment plan");return await d.json()}catch(a){throw console.error("Error generating treatment plan:",a),a}},async getAll(){const e="patients:all",t=Qt.get("patients:all");if(t)return t;const{data:r,error:n}=await Me.from("patients").select("*").order("created_at",{ascending:!1});if(n)throw n;return Qt.set(e,r),r},async getById(e){const t=`patients:${e}`,r=Qt.get(t);if(r)return r;const{data:n,error:a}=await Me.from("patients").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&Qt.set(t,n),n},async search(e){const{data:t,error:r}=await Me.from("patients").select().or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,phone.ilike.%${e}%,registration_number.ilike.%${e}%`).order("created_at",{ascending:!1});if(r)throw r;return t},async create(e){const{data:t,error:r}=await Me.from("patients").insert(e).select().single();if(r)throw r;return Qt.invalidatePattern(/^patients/),t},async update(e,t){const{data:r,error:n}=await Me.from("patients").update(t).eq("id",e).select().single();if(n)throw n;return Qt.invalidate(`patients:${e}`),Qt.invalidate("patients:all"),r},async getMedicalRecords(e){const t=e?`medical_records:${e}`:"medical_records:all",r=Qt.get(t);if(r)return r;let n=Me.from("medical_records").select(`
          *,
          staff:created_by ( first_name, last_name ),
          medical_record_teeth (
            teeth ( id, description )
          )
        `).order("record_date",{ascending:!1});e&&(n=n.eq("patient_id",e));const{data:a,error:i}=await n;if(i)throw i;Qt.set(t,a);const o=(a==null?void 0:a.map(s=>{const l=Array.isArray(s.medical_record_teeth)?s.medical_record_teeth.map(d=>d.teeth).filter(d=>d!==null):[],u={...s};return delete u.medical_record_teeth,u.teeth=l,u}))||[];return console.log("API getMedicalRecords processedData:",o),o},async getTreatmentPlans(e=null){let t=Me.from("treatment_plans").select(`
          *,
          treatments (*),
          metadata:treatment_plan_metadata(*),
          visits:treatment_visits(*),
          teeth:treatment_plan_teeth(
            tooth_id
          )
        `).order("created_at",{ascending:!1});e&&(t=t.eq("patient_id",e));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching treatment plans:",n),n;return r},async createMedicalRecord(e,t){const n={...e,record_type:(s=>{switch(s){case"consultation":return"examination";case"diagnosis":return"examination";case"treatment":return"procedure";case"prescription":return"prescription";case"lab_result":return"lab_result";case"other":return"note";default:return"note"}})(e.record_type)};console.log("API inserting mapped record:",n);const{data:a,error:i}=await Me.from("medical_records").insert(n).select().single();if(i)throw console.error("Error creating medical record:",i),i;if(!a)throw new Error("Failed to create medical record: No data returned.");const o=a.id;if(t&&t.length>0){const s=t.map(u=>({medical_record_id:o,tooth_id:u})),{error:l}=await Me.from("medical_record_teeth").insert(s);if(l)throw console.error("Error linking teeth to medical record:",l),l}return e.patient_id&&Qt.invalidate(`medical_records:${e.patient_id}`),Qt.invalidate("medical_records:all"),a},async updateMedicalRecord(e,t){const{data:r,error:n}=await Me.from("medical_records").update(t).eq("id",e).select().single();if(n)throw n;return Qt.invalidate(`medical_records:${t.patient_id}`),Qt.invalidate("medical_records:all"),r},async deleteMedicalRecord(e){const{data:t}=await Me.from("medical_records").select("patient_id").eq("id",e).single(),{error:r}=await Me.from("medical_records").delete().eq("id",e);if(r)throw r;t&&Qt.invalidate(`medical_records:${t.patient_id}`),Qt.invalidate("medical_records:all")},async getPatientDentalHistoryTeeth(e){if(!e)return console.warn("getPatientDentalHistoryTeeth called without patientId"),[];const t=`patient_dental_history_teeth:${e}`,r=Qt.get(t);if(r)return r;const{data:n,error:a}=await Me.from("patient_dental_history_teeth").select("tooth_id, conditions").eq("patient_id",e);if(a)throw console.error(`Error fetching dental history teeth for patient ${e}:`,a),a;const i=(n||[]).map(o=>({tooth_id:o.tooth_id,conditions:Array.isArray(o.conditions)?o.conditions.filter(s=>typeof s=="string"):[]}));return Qt.set(t,i,60*1e3),console.log(`Fetched dental history teeth list for patient ${e}:`,JSON.stringify(i)),i},async savePatientDentalHistoryTeethWithConditions(e,t){if(!e)throw new Error("Patient ID is required to save dental history teeth with conditions.");console.log(`Saving dental history teeth map (with conditions) for patient ${e}:`,JSON.stringify(t));const r=Object.keys(t).map(Number),n=Me.from("patient_dental_history_teeth").delete().eq("patient_id",e);r.length>0&&n.not("tooth_id","in",`(${r.join(",")})`);const{error:a}=await n;if(a)throw console.error(`Error deleting old dental history teeth (with conditions) for patient ${e}:`,a),a;if(console.log(`Deleted stale dental history teeth (with conditions) for patient ${e}.`),r.length>0){const i=r.map(s=>{var l;return{patient_id:e,tooth_id:s,conditions:(l=t[s])!=null&&l.conditions&&Array.isArray(t[s].conditions)?t[s].conditions:["healthy"]}}),{error:o}=await Me.from("patient_dental_history_teeth").upsert(i,{onConflict:"patient_id, tooth_id"});if(o)throw console.error(`Error upserting dental history teeth (with conditions) for patient ${e}:`,o),o;console.log(`Upserted dental history teeth (with conditions) for patient ${e}.`)}else console.log(`No dental history teeth in map for patient ${e}, only performed delete (with conditions).`);return Qt.invalidate(`patient_dental_history_teeth:${e}`),{success:!0}},async getPatientDentalHistoryTeethMap(e){if(!e)return console.warn("getPatientDentalHistoryTeethMap called without patientId"),{};const{data:t,error:r}=await Me.from("patient_dental_history_teeth").select("tooth_id, conditions").eq("patient_id",e);if(r)throw console.error(`Error fetching dental history teeth map for patient ${e}:`,r),r;const n={};return t&&t.forEach(a=>{const i=Array.isArray(a.conditions)&&a.conditions.length>0?a.conditions:["healthy"];n[a.tooth_id]={conditions:i}}),console.log(`Fetched and formatted dental history teeth map for patient ${e}:`,JSON.stringify(n)),n},async getPatientToothConditions(e){if(!e)return console.warn("getPatientToothConditions called without patientId"),[];const t=`patient_tooth_conditions:${e}`,r=Qt.get(t);if(r)return r;const{data:n,error:a}=await Me.from("patient_tooth_conditions").select("*").eq("patient_id",e);if(a)throw console.error(`Error fetching tooth conditions for patient ${e}:`,a),a;const i=n||[];return Qt.set(t,i,60*1e3),i},async savePatientToothConditionsDetailed(e,t){if(!e)throw new Error("Patient ID is required for savePatientToothConditionsDetailed.");if(!Array.isArray(t))throw new Error("Invalid conditions input: must be an array.");console.log(`Executing savePatientToothConditionsDetailed for patient ${e} with conditions:`,t);const n=await pL([async()=>{console.log(`Transaction Step 1: Deleting existing conditions for patient ${e}`);const{error:a}=await Me.from("patient_tooth_conditions").delete().eq("patient_id",e);if(a)throw console.error(`Transaction Step 1 FAILED: Error deleting conditions for patient ${e}:`,a),a;return console.log(`Transaction Step 1 SUCCESS: Deleted existing conditions for patient ${e}`),!0},async()=>{if(t.length===0)return console.log(`Transaction Step 2: No new conditions to insert for patient ${e}. Skipping insert.`),[];const a=t.map(s=>({...s,patient_id:e}));console.log(`Transaction Step 2: Inserting ${a.length} new conditions for patient ${e}:`,a);const{data:i,error:o}=await Me.from("patient_tooth_conditions").insert(a).select();if(o)throw console.error(`Transaction Step 2 FAILED: Error inserting conditions for patient ${e}:`,o),o;return console.log(`Transaction Step 2 SUCCESS: Inserted conditions for patient ${e}. Result:`,i),i||[]}]);if(n.success)return console.log(`Transaction successful for patient ${e}.`),Qt.invalidate(`patient_tooth_conditions:${e}`),{success:!0,data:n.data?n.data[1]:[]};throw console.error(`Transaction failed for patient ${e}:`,n.error),n.error||new Error("Unknown transaction error saving tooth conditions.")},async createTreatmentPlan(e,t){const{data:r,error:n}=await Me.from("treatment_plans").insert(e).select().single();if(n)return console.error("Error creating treatment plan:",n),{error:n};if(!r)return{error:new Error("Failed to create treatment plan: No data returned.")};if(t&&t.length>0){const a=t.map(o=>({treatment_plan_id:r.id,tooth_id:o})),{error:i}=await Me.from("treatment_plan_teeth").insert(a);if(i)return console.error("Error linking teeth to treatment plan:",i),{error:i}}return{data:r,error:null}},async getVisitsByPlanId(e){if(!e)return console.warn("[api.patients.getVisitsByPlanId] planId is required, exiting."),[];console.log(`[api.patients.getVisitsByPlanId] Attempting for planId: ${e} (Querying 'treatments' table)`);const t=`treatments_as_visits:plan:${e}`,r=Qt.get(t);if(r)return console.log(`[api.patients.getVisitsByPlanId] Cache hit for planId: ${e}`,r),r;console.log(`[api.patients.getVisitsByPlanId] Cache miss for planId: ${e}`),console.log(`[api.patients.getVisitsByPlanId] PRE-SUPABASE call for planId: ${e} (Targeting 'treatments')`);let n,a;try{const o=await Me.from("treatments").select("id").eq("plan_id",e);n=o.data,a=o.error,console.log(`[api.patients.getVisitsByPlanId] POST-SUPABASE call for planId: ${e}. Response data from 'treatments':`,n,"Response error:",a)}catch(o){throw console.error(`[api.patients.getVisitsByPlanId] NATIVE ERROR during Supabase call for planId ${e} (Targeting 'treatments'):`,o),o}if(a)throw console.error(`[api.patients.getVisitsByPlanId] Supabase returned error for plan ${e} (Targeting 'treatments'):`,a),a;const i=n||[];return console.log(`[api.patients.getVisitsByPlanId] Result for planId ${e} from 'treatments' before caching and returning:`,i),Qt.set(t,i),i},async createTreatmentPlanMetadata(e){const{data:t,error:r}=await Me.from("treatment_plan_metadata").insert(e).select().single();return{data:t,error:r}},async createTreatmentVisit(e){const t={...e,scheduled_date:e.scheduled_date?e.scheduled_date.toISOString().split("T")[0]:null},{data:r,error:n}=await Me.from("treatment_visits").insert([t]).select().single();if(n)throw n;return r},async createTreatmentVisitsBatch(e){const{data:t,error:r}=await Me.from("treatment_visits").insert(e).select();return r?(console.error("Error in createTreatmentVisitsBatch:",r),{data:null,error:r}):{data:t,error:null}},async getTreatmentPlanDetails(e){const{data:t,error:r}=await Me.from("treatment_plans").select(`
          *,
          metadata:treatment_plan_metadata(*),
          visits:treatment_visits(*),
          teeth:treatment_plan_teeth(
            tooth_id
          )
        `).eq("id",e).single();return r?(console.error("Error fetching treatment plan details:",r),{error:r}):{data:t,error:null}},async updateTreatmentPlan(e,t){const{data:r,error:n}=await Me.from("treatment_plans").update(t).eq("id",e).select().single();if(n)throw n;return Qt.invalidatePattern(/^treatment_plans/),r},async deleteTreatmentPlan(e){const{data:t}=await Me.from("treatment_plans").select("patient_id").eq("id",e).single(),{error:r}=await Me.from("treatment_plans").delete().eq("id",e);if(r)throw r;t&&Qt.invalidate(`treatment_plans:${t.patient_id}`),Qt.invalidate("treatment_plans:all")},async createTreatmentPlanWithTreatments(e,t){const r=[async()=>{const{data:a,error:i}=await Me.from("treatment_plans").insert(e).select().single();if(i)throw i;if(!a)throw new Error("Treatment plan creation returned no data");return a},async a=>{if(!a||!a.id)throw new Error("Failed to get ID from created treatment plan");const i=t.map(l=>({...l,plan_id:a.id}));if(i.length===0)return[];const{data:o,error:s}=await Me.from("treatments").insert(i).select();if(s)throw s;if(!o)throw new Error("Treatment creation returned no data");return o}],n=await pL([()=>r[0](),()=>r[1]({})]);if(n.success&&n.data){const a=n.data[0];a&&a.patient_id&&(Qt.invalidate(`treatment_plans:${a.patient_id}`),Qt.invalidate("treatment_plans:all"))}return n},async createTreatment(e){const{data:t,error:r}=await Me.from("treatments").insert(e).select().single();if(r)throw r;return Qt.invalidatePattern(/^treatment_plans/),t},async updateTreatment(e,t){const{data:r,error:n}=await Me.from("treatments").update(t).eq("id",e).select().single();if(n)throw n;return Qt.invalidatePattern(/^treatment_plans/),r},async deleteTreatment(e){const{error:t}=await Me.from("treatments").delete().eq("id",e);if(t)throw t;Qt.invalidatePattern(/^treatment_plans/)},async uploadProfilePhoto(e,t){try{const r=await Kt.storage.uploadFile(e,t);return await Kt.patients.update(t,{profile_photo_url:r.url}),r}catch(r){throw console.error("Error uploading profile photo:",r),r}},async uploadSignature(e,t){try{const r=await Kt.storage.uploadFile(e,t);return await Kt.patients.update(t,{signature_url:r.url}),r}catch(r){throw console.error("Error uploading signature:",r),r}},async addDocument(e,t,r,n=""){try{const a=await Kt.storage.uploadFile(e,t),i=await Kt.patients.getById(t);if(!i)throw new Error("Patient not found");const o=Array.isArray(i.documents)?i.documents:[];return o.push({...a,docType:r,notes:n,dateAdded:new Date().toISOString()}),await Kt.patients.update(t,{documents:o}),a}catch(a){throw console.error("Error adding document:",a),a}},async removeDocument(e,t){try{const r=await Kt.patients.getById(e);if(!r)throw new Error("Patient not found");const n=(Array.isArray(r.documents)?r.documents:[]).filter(a=>a.path!==t);return await Kt.patients.update(e,{documents:n}),await Kt.storage.deleteFile(t,"medical-records"),!0}catch(r){throw console.error("Error removing document:",r),r}},async getTreatmentVisitById(e){const t=`treatment_visit:${e}`,r=Qt.get(t);if(r)return r;const{data:n,error:a}=await Me.from("treatment_visits").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw console.error("Error fetching treatment visit by ID:",a),a;return n&&Qt.set(t,n),n},async savePatientDentalHistoryTeethWithConditions(e,t){if(!e)throw new Error("Patient ID is required to save dental history teeth with conditions.");console.log(`Saving dental history teeth map (with conditions) for patient ${e}:`,JSON.stringify(t));const r=Object.keys(t).map(Number),n=Me.from("patient_dental_history_teeth").delete().eq("patient_id",e);r.length>0&&n.not("tooth_id","in",`(${r.join(",")})`);const{error:a}=await n;if(a)throw console.error(`Error deleting old dental history teeth (with conditions) for patient ${e}:`,a),a;if(console.log(`Deleted stale dental history teeth (with conditions) for patient ${e}.`),r.length>0){const i=r.map(s=>{var l;return{patient_id:e,tooth_id:s,conditions:(l=t[s])!=null&&l.conditions&&Array.isArray(t[s].conditions)?t[s].conditions:["healthy"]}}),{error:o}=await Me.from("patient_dental_history_teeth").upsert(i,{onConflict:"patient_id, tooth_id"});if(o)throw console.error(`Error upserting dental history teeth (with conditions) for patient ${e}:`,o),o;console.log(`Upserted dental history teeth (with conditions) for patient ${e}.`)}else console.log(`No dental history teeth in map for patient ${e}, only performed delete (with conditions).`);return Qt.invalidate(`patient_dental_history_teeth:${e}`),{success:!0}}},inventory:{async getAll(){const e="inventory:all",t=Qt.get(e);if(t)return t;const{data:r,error:n}=await Me.from("inventory_items").select("*").order("created_at",{ascending:!1});if(n)throw n;return Qt.set(e,r||[]),r||[]},async getById(e){const t=`inventory:${e}`,r=Qt.get(t);if(r)return r;const{data:n,error:a}=await Me.from("inventory_items").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&Qt.set(t,n),n},async create(e){const{data:t,error:r}=await Me.from("inventory_items").insert(e).select().single();if(r)throw r;return Qt.invalidatePattern(/^inventory/),t},async update(e,t){const{data:r,error:n}=await Me.from("inventory_items").update(t).eq("id",e).select().single();if(n)throw n;return Qt.invalidate(`inventory:${e}`),Qt.invalidate("inventory:all"),r},async delete(e){const t=await Kt.inventory.getById(e);if(t!=null&&t.photo_url)try{const a=new URL(t.photo_url).pathname.split("/inventory-photos/")[1];a&&await Kt.storage.deleteFile(a,"inventory-photos")}catch(n){console.error("Error parsing/deleting inventory photo URL:",n)}const{error:r}=await Me.from("inventory_items").delete().eq("id",e);if(r)throw r;Qt.invalidate(`inventory:${e}`),Qt.invalidate("inventory:all")},async uploadPhoto(e,t){const r=await Kt.storage.uploadInventoryPhoto(e,t);return await Kt.inventory.update(t,{photo_url:r.url}),r}},assets:{async getAll(){const e="assets:all",t=Qt.get(e);if(t)return t;const{data:r,error:n}=await Me.from("assets").select("*").order("created_at",{ascending:!1});if(n)throw n;return Qt.set(e,r||[]),r||[]},async getById(e){const t=`assets:${e}`,r=Qt.get(t);if(r)return r;const{data:n,error:a}=await Me.from("assets").select("*").eq("id",e).single();if(a&&a.code!=="PGRST116")throw a;return n&&Qt.set(t,n),n},async create(e){const{data:t,error:r}=await Me.from("assets").insert(e).select().single();if(r)throw r;return Qt.invalidatePattern(/^assets/),t},async update(e,t){const{data:r,error:n}=await Me.from("assets").update(t).eq("id",e).select().single();if(n)throw n;return Qt.invalidate(`assets:${e}`),Qt.invalidate("assets:all"),r},async delete(e){const t=await Kt.assets.getById(e);if(t!=null&&t.photo_url)try{const a=new URL(t.photo_url).pathname.split("/asset-photos/")[1];a&&await Kt.storage.deleteFile(a,"asset-photos")}catch(n){console.error("Error parsing/deleting asset photo URL:",n)}const{error:r}=await Me.from("assets").delete().eq("id",e);if(r)throw r;Qt.invalidate(`assets:${e}`),Qt.invalidate("assets:all")},async uploadPhoto(e,t){const r=await Kt.storage.uploadAssetPhoto(e,t);return await Kt.assets.update(t,{photo_url:r.url}),r}},communications:{async schedule(e){var t,r;try{const n=await Me.auth.getSession(),a=(r=(t=n==null?void 0:n.data)==null?void 0:t.session)==null?void 0:r.access_token;a||console.warn("No access token found for scheduling communication.");const i=await fetch("/functions/v1/patient-communication",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify(e)});if(!i.ok){const s=await i.json();throw new Error(s.error||`Failed to schedule communication: ${i.statusText}`)}const o=await i.json();return console.log("Communication scheduled successfully:",o),o}catch(n){throw console.error("Error scheduling communication:",n),n}},async cancelByAppointment(e){var t,r;try{const n=await Me.auth.getSession(),a=(r=(t=n==null?void 0:n.data)==null?void 0:t.session)==null?void 0:r.access_token;a||console.warn("No access token found for cancelling communication.");const i=await fetch("/functions/v1/patient-communication/cancel-by-appointment",{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({appointmentId:e})});if(!i.ok){const s=await i.json();throw new Error(s.error||`Failed to cancel communications: ${i.statusText}`)}const o=await i.json();return console.log(`Communications cancellation requested for appointment ${e}:`,o),o}catch(n){throw console.error(`Error cancelling communications for appointment ${e}:`,n),n}}},appointments:{async getAll(){const e="appointments:all",t=Qt.get("appointments:all");if(t)return t;const{data:r,error:n}=await Me.from("appointments").select(`
          *,
          patients (id, first_name, last_name, email, phone),
          staff (id, first_name, last_name, role) 
        `).order("start_time",{ascending:!0});if(n)throw n;return Qt.set(e,r),r||[]},async getByDateRange(e,t){const r=`appointments:range:${e}:${t}`,n=Qt.get("appointments:range");if(n)return n;const{data:a,error:i}=await Me.from("appointments").select(`
         *,
         patients (id, first_name, last_name, email, phone),
         staff (id, first_name, last_name, role, specialization)
       `).gte("start_time",e).lte("start_time",t).order("start_time",{ascending:!0});if(i)throw i;return Qt.set(r,a,60*1e3),a||[]},async getByPatientId(e){const t=`appointments:patient:${e}`,r=Qt.get(t);if(r)return r;const{data:n,error:a}=await Me.from("appointments").select(`
          *,
          patients (id, first_name, last_name),
          staff (id, first_name, last_name)
        `).eq("patient_id",e).order("start_time",{ascending:!1});if(a)throw a;return Qt.set(t,n||[],60*1e3),n||[]},async create(e){const{data:t,error:r}=await Me.from("appointments").insert(e).select().single();if(r)throw r;return Qt.invalidatePattern(/^appointments/),t},async update(e,t){const{data:r,error:n}=await Me.from("appointments").update(t).eq("id",e).select().single();if(n)throw n;return Qt.invalidatePattern(/^appointments/),r},async cancel(e){const{data:t,error:r}=await Me.from("appointments").update({status:"cancelled"}).eq("id",e).select().single();if(r)throw r;return Qt.invalidatePattern(/^appointments/),t},async getAppointmentsByTreatmentIds(e){if(!e||e.length===0)return[];const{data:t,error:r}=await Me.from("appointments").select("treatment_id, status").in("treatment_id",e);if(r)throw console.error("Error fetching appointments by treatment IDs:",r),r;return t||[]}},settings:{async get(){const e="clinic_settings",t=Qt.get(e);if(t)return t;const{data:r,error:n}=await Me.from("clinic_settings").select().order("created_at",{ascending:!1}).limit(1);if(n&&n.code!=="PGRST116")throw n;const a=(r==null?void 0:r[0])||{id:"",name:"DentalCare Pro",address:"123 Healthcare Avenue",phone:"+1234567890",email:"info@dentalcarepro.com",website:"https://dentalcarepro.com",working_hours:[{day:"monday",start:"09:00",end:"17:00",is_open:!0},{day:"tuesday",start:"09:00",end:"17:00",is_open:!0},{day:"wednesday",start:"09:00",end:"17:00",is_open:!0},{day:"thursday",start:"09:00",end:"17:00",is_open:!0},{day:"friday",start:"09:00",end:"17:00",is_open:!0},{day:"saturday",start:"10:00",end:"14:00",is_open:!1},{day:"sunday",start:"10:00",end:"14:00",is_open:!1}],notification_preferences:{reminder_time:"24h",system_updates:!0,sms_notifications:!0,email_notifications:!0,appointment_reminders:!0},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return Qt.set(e,a),a},async update(e){if(!e.id){const i={...e,name:e.name||"Default Clinic Name"},{data:o,error:s}=await Me.from("clinic_settings").insert(i).select().single();if(s)throw s;return Qt.invalidate("clinic_settings"),o}const{id:t,...r}=e,{data:n,error:a}=await Me.from("clinic_settings").update(r).eq("id",t).select().single();if(a)throw a;return Qt.invalidate("clinic_settings"),n}},async getTreatmentMatrixOptions(){const e="treatmentMatrixOptionsPairs",t=Qt.get(e);if(t)return t;try{const{data:r,error:n}=await Me.from("ai_treatment_planning_matrix").select("domain, condition").not("domain","is",null).not("condition","is",null);if(n)throw n;const a=r?Array.from(new Map(r.map(o=>[`${o.domain}-${o.condition}`,o])).values()):[];a.sort((o,s)=>o.domain<s.domain?-1:o.domain>s.domain?1:o.condition<s.condition?-1:o.condition>s.condition?1:0);const i=a;return Qt.set(e,i,60*60*1e3),i}catch(r){return console.error("Error fetching treatment matrix options pairs:",r),[]}},async getMatrixDetails(e,t){const r=`matrixDetails:${e}:${t}`,n=Qt.get(r);if(n!==void 0)return n;try{const{data:a,error:i}=await Me.from("ai_treatment_planning_matrix").select("*").eq("domain",e).eq("condition",t).limit(1).maybeSingle();if(i&&i.code!=="PGRST116")throw i;return Qt.set(r,a,5*60*1e3),a}catch(a){return console.error(`Error fetching matrix details for ${e}/${t}:`,a),null}},async getVisitsByPlanId(e){if(!e)return[];const{data:t,error:r}=await Me.from("treatment_visits").select("id").eq("treatment_plan_id",e);if(r)throw console.error(`Error fetching visits for plan ${e}:`,r),r;return t||[]},async uploadProfilePhoto(e,t){try{const r=await Kt.storage.uploadFile(e,t);return await Kt.patients.update(t,{profile_photo_url:r.url}),r}catch(r){throw console.error("Error uploading profile photo:",r),r}},async uploadSignature(e,t){try{const r=await Kt.storage.uploadFile(e,t);return await Kt.patients.update(t,{signature_url:r.url}),r}catch(r){throw console.error("Error uploading signature:",r),r}},async addDocument(e,t,r,n=""){try{const a=await Kt.storage.uploadFile(e,t),i=await Kt.patients.getById(t);if(!i)throw new Error("Patient not found");const o=Array.isArray(i.documents)?i.documents:[];return o.push({...a,docType:r,notes:n,dateAdded:new Date().toISOString()}),await Kt.patients.update(t,{documents:o}),a}catch(a){throw console.error("Error adding document:",a),a}},async removeDocument(e,t){try{const r=await Kt.patients.getById(e);if(!r)throw new Error("Patient not found");const n=(Array.isArray(r.documents)?r.documents:[]).filter(a=>a.path!==t);return await Kt.patients.update(e,{documents:n}),await Kt.storage.deleteFile(t,"medical-records"),!0}catch(r){throw console.error("Error removing document:",r),r}}};function ka({heading:e,text:t,children:r,className:n}){return w("div",{className:Rt("grid gap-1",n),children:[c("h1",{className:"text-2xl font-semibold tracking-tight",children:e}),t&&c("p",{className:"text-muted-foreground",children:t}),r]})}function f6(e,[t,r]){return Math.min(r,Math.max(t,e))}function T4(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var JY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),B1e="VisuallyHidden",P4=A.forwardRef((e,t)=>c(hr.span,{...e,ref:t,style:{...JY,...e.style}}));P4.displayName=B1e;var U1e=P4,q1e=[" ","Enter","ArrowUp","ArrowDown"],z1e=[" ","Enter"],X0="Select",[O4,D4,W1e]=Cw(X0),[uy,PJe]=Yi(X0,[W1e,Nm]),I4=Nm(),[V1e,Cm]=uy(X0),[H1e,G1e]=uy(X0),QY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:s,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:x}=e,g=I4(t),[y,_]=A.useState(null),[b,S]=A.useState(null),[C,E]=A.useState(!1),O=yg(u),[T,I]=cl({prop:n,defaultProp:a??!1,onChange:i,caller:X0}),[L,U]=cl({prop:o,defaultProp:s,onChange:l,caller:X0}),P=A.useRef(null),M=y?x||!!y.closest("form"):!0,[j,V]=A.useState(new Set),X=Array.from(j).map(te=>te.props.value).join(";");return c(m4,{...g,children:w(V1e,{required:m,scope:t,trigger:y,onTriggerChange:_,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:Il(),value:L,onValueChange:U,open:T,onOpenChange:I,dir:O,triggerPointerDownPosRef:P,disabled:h,children:[c(O4.Provider,{scope:t,children:c(H1e,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(te=>{V(z=>new Set(z).add(te))},[]),onNativeOptionRemove:A.useCallback(te=>{V(z=>{const G=new Set(z);return G.delete(te),G})},[]),children:r})}),M?w(SX,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:L,onChange:te=>U(te.target.value),disabled:h,form:x,children:[L===void 0?c("option",{value:""}):null,Array.from(j)]},X):null]})})};QY.displayName=X0;var eX="SelectTrigger",tX=A.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=I4(r),o=Cm(eX,r),s=o.disabled||n,l=zr(t,o.onTriggerChange),u=D4(r),d=A.useRef("touch"),[f,h,m]=kX(g=>{const y=u().filter(S=>!S.disabled),_=y.find(S=>S.value===o.value),b=NX(y,g,_);b!==void 0&&o.onValueChange(b.value)}),x=g=>{s||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c(Ow,{asChild:!0,...i,children:c(hr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":AX(o.value)?"":void 0,...a,ref:l,onClick:Ut(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:Ut(a.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:Ut(a.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&q1e.includes(g.key)&&(x(),g.preventDefault())})})})});tX.displayName=eX;var rX="SelectValue",nX=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...s}=e,l=Cm(rX,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=zr(t,l.onValueNodeChange);return ai(()=>{u(d)},[u,d]),c(hr.span,{...s,ref:f,style:{pointerEvents:"none"},children:AX(l.value)?c(Sr,{children:o}):i})});nX.displayName=rX;var K1e="SelectIcon",aX=A.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return c(hr.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});aX.displayName=K1e;var Y1e="SelectPortal",iX=e=>c(sy,{asChild:!0,...e});iX.displayName=Y1e;var Z0="SelectContent",oX=A.forwardRef((e,t)=>{const r=Cm(Z0,e.__scopeSelect),[n,a]=A.useState();if(ai(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ty.createPortal(c(sX,{scope:e.__scopeSelect,children:c(O4.Slot,{scope:e.__scopeSelect,children:c("div",{children:e.children})})}),i):null}return c(lX,{...e,ref:t})});oX.displayName=Z0;var Du=10,[sX,Tm]=uy(Z0),X1e="SelectContentImpl",Z1e=om("SelectContent.RemoveScroll"),lX=A.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:y,..._}=e,b=Cm(Z0,r),[S,C]=A.useState(null),[E,O]=A.useState(null),T=zr(t,oe=>C(oe)),[I,L]=A.useState(null),[U,P]=A.useState(null),M=D4(r),[j,V]=A.useState(!1),X=A.useRef(!1);A.useEffect(()=>{if(S)return y4(S)},[S]),u4();const te=A.useCallback(oe=>{const[de,...J]=M().map(ne=>ne.ref.current),[ue]=J.slice(-1),ge=document.activeElement;for(const ne of oe)if(ne===ge||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===de&&E&&(E.scrollTop=0),ne===ue&&E&&(E.scrollTop=E.scrollHeight),ne==null||ne.focus(),document.activeElement!==ge))return},[M,E]),z=A.useCallback(()=>te([I,S]),[te,I,S]);A.useEffect(()=>{j&&z()},[j,z]);const{onOpenChange:G,triggerPointerDownPosRef:q}=b;A.useEffect(()=>{if(S){let oe={x:0,y:0};const de=ue=>{var ge,ne;oe={x:Math.abs(Math.round(ue.pageX)-(((ge=q.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((ne=q.current)==null?void 0:ne.y)??0))}},J=ue=>{oe.x<=10&&oe.y<=10?ue.preventDefault():S.contains(ue.target)||G(!1),document.removeEventListener("pointermove",de),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",J,{capture:!0})}}},[S,G,q]),A.useEffect(()=>{const oe=()=>G(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[G]);const[Y,Z]=kX(oe=>{const de=M().filter(ge=>!ge.disabled),J=de.find(ge=>ge.ref.current===document.activeElement),ue=NX(de,oe,J);ue&&setTimeout(()=>ue.ref.current.focus())}),D=A.useCallback((oe,de,J)=>{const ue=!X.current&&!J;(b.value!==void 0&&b.value===de||ue)&&(L(oe),ue&&(X.current=!0))},[b.value]),K=A.useCallback(()=>S==null?void 0:S.focus(),[S]),Q=A.useCallback((oe,de,J)=>{const ue=!X.current&&!J;(b.value!==void 0&&b.value===de||ue)&&P(oe)},[b.value]),ie=n==="popper"?h6:cX,ae=ie===h6?{side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:y}:{};return c(sX,{scope:r,content:S,viewport:E,onViewportChange:O,itemRefCallback:D,selectedItem:I,onItemLeave:K,itemTextRefCallback:Q,focusSelectedItem:z,selectedItemText:U,position:n,isPositioned:j,searchRef:Y,children:c(Iw,{as:Z1e,allowPinchZoom:!0,children:c(Tw,{asChild:!0,trapped:b.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ut(a,oe=>{var de;(de=b.trigger)==null||de.focus({preventScroll:!0}),oe.preventDefault()}),children:c(xg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:c(ie,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:oe=>oe.preventDefault(),..._,...ae,onPlaced:()=>V(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ut(_.onKeyDown,oe=>{const de=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!de&&oe.key.length===1&&Z(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let ue=M().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ge=oe.target,ne=ue.indexOf(ge);ue=ue.slice(ne+1)}setTimeout(()=>te(ue)),oe.preventDefault()}})})})})})})});lX.displayName=X1e;var J1e="SelectItemAlignedPosition",cX=A.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Cm(Z0,r),o=Tm(Z0,r),[s,l]=A.useState(null),[u,d]=A.useState(null),f=zr(t,T=>d(T)),h=D4(r),m=A.useRef(!1),x=A.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:_,focusSelectedItem:b}=o,S=A.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&u&&g&&y&&_){const T=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),U=_.getBoundingClientRect();if(i.dir!=="rtl"){const ge=U.left-I.left,ne=L.left-ge,Ne=T.left-ne,Re=T.width+Ne,De=Math.max(Re,I.width),pe=window.innerWidth-Du,Je=f6(ne,[Du,Math.max(Du,pe-De)]);s.style.minWidth=Re+"px",s.style.left=Je+"px"}else{const ge=I.right-U.right,ne=window.innerWidth-L.right-ge,Ne=window.innerWidth-T.right-ne,Re=T.width+Ne,De=Math.max(Re,I.width),pe=window.innerWidth-Du,Je=f6(ne,[Du,Math.max(Du,pe-De)]);s.style.minWidth=Re+"px",s.style.right=Je+"px"}const P=h(),M=window.innerHeight-Du*2,j=g.scrollHeight,V=window.getComputedStyle(u),X=parseInt(V.borderTopWidth,10),te=parseInt(V.paddingTop,10),z=parseInt(V.borderBottomWidth,10),G=parseInt(V.paddingBottom,10),q=X+te+j+G+z,Y=Math.min(y.offsetHeight*5,q),Z=window.getComputedStyle(g),D=parseInt(Z.paddingTop,10),K=parseInt(Z.paddingBottom,10),Q=T.top+T.height/2-Du,ie=M-Q,ae=y.offsetHeight/2,oe=y.offsetTop+ae,de=X+te+oe,J=q-de;if(de<=Q){const ge=P.length>0&&y===P[P.length-1].ref.current;s.style.bottom="0px";const ne=u.clientHeight-g.offsetTop-g.offsetHeight,Ne=Math.max(ie,ae+(ge?K:0)+ne+z),Re=de+Ne;s.style.height=Re+"px"}else{const ge=P.length>0&&y===P[0].ref.current;s.style.top="0px";const Ne=Math.max(Q,X+g.offsetTop+(ge?D:0)+ae)+J;s.style.height=Ne+"px",g.scrollTop=de-Q+g.offsetTop}s.style.margin=`${Du}px 0`,s.style.minHeight=Y+"px",s.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,s,u,g,y,_,i.dir,n]);ai(()=>S(),[S]);const[C,E]=A.useState();ai(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const O=A.useCallback(T=>{T&&x.current===!0&&(S(),b==null||b(),x.current=!1)},[S,b]);return c(eye,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:O,children:c("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c(hr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});cX.displayName=J1e;var Q1e="SelectPopperPosition",h6=A.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Du,...i}=e,o=I4(r);return c(g4,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});h6.displayName=Q1e;var[eye,jD]=uy(Z0,{}),p6="SelectViewport",uX=A.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Tm(p6,r),o=jD(p6,r),s=zr(t,i.onViewportChange),l=A.useRef(0);return w(Sr,{children:[c("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c(O4.Slot,{scope:r,children:c(hr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ut(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const x=window.innerHeight-Du*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),_=Math.max(g,y);if(_<x){const b=_+m,S=Math.min(x,b),C=b-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});uX.displayName=p6;var dX="SelectGroup",[tye,rye]=uy(dX),nye=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Il();return c(tye,{scope:r,id:a,children:c(hr.div,{role:"group","aria-labelledby":a,...n,ref:t})})});nye.displayName=dX;var fX="SelectLabel",hX=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=rye(fX,r);return c(hr.div,{id:a.id,...n,ref:t})});hX.displayName=fX;var b5="SelectItem",[aye,pX]=uy(b5),mX=A.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,s=Cm(b5,r),l=Tm(b5,r),u=s.value===n,[d,f]=A.useState(i??""),[h,m]=A.useState(!1),x=zr(t,b=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,b,n,a)}),g=Il(),y=A.useRef("touch"),_=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c(aye,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:A.useCallback(b=>{f(S=>S||((b==null?void 0:b.textContent)??"").trim())},[]),children:c(O4.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:c(hr.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:Ut(o.onFocus,()=>m(!0)),onBlur:Ut(o.onBlur,()=>m(!1)),onClick:Ut(o.onClick,()=>{y.current!=="mouse"&&_()}),onPointerUp:Ut(o.onPointerUp,()=>{y.current==="mouse"&&_()}),onPointerDown:Ut(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:Ut(o.onPointerMove,b=>{var S;y.current=b.pointerType,a?(S=l.onItemLeave)==null||S.call(l):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ut(o.onPointerLeave,b=>{var S;b.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Ut(o.onKeyDown,b=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&b.key===" "||(z1e.includes(b.key)&&_(),b.key===" "&&b.preventDefault())})})})})});mX.displayName=b5;var x2="SelectItemText",gX=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Cm(x2,r),s=Tm(x2,r),l=pX(x2,r),u=G1e(x2,r),[d,f]=A.useState(null),h=zr(t,_=>f(_),l.onItemTextChange,_=>{var b;return(b=s.itemTextRefCallback)==null?void 0:b.call(s,_,l.value,l.disabled)}),m=d==null?void 0:d.textContent,x=A.useMemo(()=>c("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return ai(()=>(g(x),()=>y(x)),[g,y,x]),w(Sr,{children:[c(hr.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ty.createPortal(i.children,o.valueNode):null]})});gX.displayName=x2;var vX="SelectItemIndicator",yX=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return pX(vX,r).isSelected?c(hr.span,{"aria-hidden":!0,...n,ref:t}):null});yX.displayName=vX;var m6="SelectScrollUpButton",xX=A.forwardRef((e,t)=>{const r=Tm(m6,e.__scopeSelect),n=jD(m6,e.__scopeSelect),[a,i]=A.useState(!1),o=zr(t,n.onScrollButtonChange);return ai(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?c(_X,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});xX.displayName=m6;var g6="SelectScrollDownButton",wX=A.forwardRef((e,t)=>{const r=Tm(g6,e.__scopeSelect),n=jD(g6,e.__scopeSelect),[a,i]=A.useState(!1),o=zr(t,n.onScrollButtonChange);return ai(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?c(_X,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});wX.displayName=g6;var _X=A.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Tm("SelectScrollButton",r),o=A.useRef(null),s=D4(r),l=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),ai(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),c(hr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ut(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ut(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ut(a.onPointerLeave,()=>{l()})})}),iye="SelectSeparator",bX=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c(hr.div,{"aria-hidden":!0,...n,ref:t})});bX.displayName=iye;var v6="SelectArrow",oye=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=I4(r),i=Cm(v6,r),o=Tm(v6,r);return i.open&&o.position==="popper"?c(v4,{...a,...n,ref:t}):null});oye.displayName=v6;var sye="SelectBubbleInput",SX=A.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=A.useRef(null),i=zr(n,a),o=T4(t);return A.useEffect(()=>{const s=a.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(s,t),s.dispatchEvent(f)}},[o,t]),c(hr.select,{...r,style:{...JY,...r.style},ref:i,defaultValue:t})});SX.displayName=sye;function AX(e){return e===""||e===void 0}function kX(e){const t=Ni(e),r=A.useRef(""),n=A.useRef(0),a=A.useCallback(o=>{const s=r.current+o;t(s),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[t]),i=A.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function NX(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=lye(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function lye(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var cye=QY,EX=tX,uye=nX,dye=aX,fye=iX,CX=oX,hye=uX,TX=hX,PX=mX,pye=gX,mye=yX,OX=xX,DX=wX,IX=bX;const Ur=cye,qr=uye,jr=A.forwardRef(({className:e,children:t,...r},n)=>w(EX,{ref:n,className:Rt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,c(dye,{asChild:!0,children:c(V8,{className:"h-4 w-4 opacity-50"})})]}));jr.displayName=EX.displayName;const RX=A.forwardRef(({className:e,...t},r)=>c(OX,{ref:r,className:Rt("flex cursor-default items-center justify-center py-1",e),...t,children:c(hce,{className:"h-4 w-4"})}));RX.displayName=OX.displayName;const MX=A.forwardRef(({className:e,...t},r)=>c(DX,{ref:r,className:Rt("flex cursor-default items-center justify-center py-1",e),...t,children:c(V8,{className:"h-4 w-4"})}));MX.displayName=DX.displayName;const $r=A.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>c(fye,{children:w(CX,{ref:a,className:Rt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[c(RX,{}),c(hye,{className:Rt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c(MX,{})]})}));$r.displayName=CX.displayName;const gye=A.forwardRef(({className:e,...t},r)=>c(TX,{ref:r,className:Rt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));gye.displayName=TX.displayName;const gt=A.forwardRef(({className:e,children:t,...r},n)=>w(PX,{ref:n,className:Rt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[c("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c(mye,{children:c(p1,{className:"h-4 w-4"})})}),c(pye,{children:t})]}));gt.displayName=PX.displayName;const vye=A.forwardRef(({className:e,...t},r)=>c(IX,{ref:r,className:Rt("-mx-1 my-1 h-px bg-muted",e),...t}));vye.displayName=IX.displayName;var _k,mL;function jl(){if(mL)return _k;mL=1;var e=Array.isArray;return _k=e,_k}var bk,gL;function FX(){if(gL)return bk;gL=1;var e=typeof W_=="object"&&W_&&W_.Object===Object&&W_;return bk=e,bk}var Sk,vL;function pf(){if(vL)return Sk;vL=1;var e=FX(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Sk=r,Sk}var Ak,yL;function jw(){if(yL)return Ak;yL=1;var e=pf(),t=e.Symbol;return Ak=t,Ak}var kk,xL;function yye(){if(xL)return kk;xL=1;var e=jw(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var s=r.call(o,a),l=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(s?o[a]=l:delete o[a]),d}return kk=i,kk}var Nk,wL;function xye(){if(wL)return Nk;wL=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Nk=r,Nk}var Ek,_L;function Ch(){if(_L)return Ek;_L=1;var e=jw(),t=yye(),r=xye(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?a:n:i&&i in Object(s)?t(s):r(s)}return Ek=o,Ek}var Ck,bL;function Th(){if(bL)return Ck;bL=1;function e(t){return t!=null&&typeof t=="object"}return Ck=e,Ck}var Tk,SL;function dy(){if(SL)return Tk;SL=1;var e=Ch(),t=Th(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Tk=n,Tk}var Pk,AL;function $D(){if(AL)return Pk;AL=1;var e=jl(),t=dy(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Pk=a,Pk}var Ok,kL;function Pm(){if(kL)return Ok;kL=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Ok=e,Ok}var Dk,NL;function BD(){if(NL)return Dk;NL=1;var e=Ch(),t=Pm(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==a||l==r||l==i}return Dk=o,Dk}var Ik,EL;function wye(){if(EL)return Ik;EL=1;var e=pf(),t=e["__core-js_shared__"];return Ik=t,Ik}var Rk,CL;function _ye(){if(CL)return Rk;CL=1;var e=wye(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Rk=r,Rk}var Mk,TL;function LX(){if(TL)return Mk;TL=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Mk=r,Mk}var Fk,PL;function bye(){if(PL)return Fk;PL=1;var e=BD(),t=_ye(),r=Pm(),n=LX(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,d=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var m=e(h)?d:i;return m.test(n(h))}return Fk=f,Fk}var Lk,OL;function Sye(){if(OL)return Lk;OL=1;function e(t,r){return t==null?void 0:t[r]}return Lk=e,Lk}var jk,DL;function Sg(){if(DL)return jk;DL=1;var e=bye(),t=Sye();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return jk=r,jk}var $k,IL;function R4(){if(IL)return $k;IL=1;var e=Sg(),t=e(Object,"create");return $k=t,$k}var Bk,RL;function Aye(){if(RL)return Bk;RL=1;var e=R4();function t(){this.__data__=e?e(null):{},this.size=0}return Bk=t,Bk}var Uk,ML;function kye(){if(ML)return Uk;ML=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Uk=e,Uk}var qk,FL;function Nye(){if(FL)return qk;FL=1;var e=R4(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var s=o[i];return s===t?void 0:s}return n.call(o,i)?o[i]:void 0}return qk=a,qk}var zk,LL;function Eye(){if(LL)return zk;LL=1;var e=R4(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return zk=n,zk}var Wk,jL;function Cye(){if(jL)return Wk;jL=1;var e=R4(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return Wk=r,Wk}var Vk,$L;function Tye(){if($L)return Vk;$L=1;var e=Aye(),t=kye(),r=Nye(),n=Eye(),a=Cye();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Vk=i,Vk}var Hk,BL;function Pye(){if(BL)return Hk;BL=1;function e(){this.__data__=[],this.size=0}return Hk=e,Hk}var Gk,UL;function UD(){if(UL)return Gk;UL=1;function e(t,r){return t===r||t!==t&&r!==r}return Gk=e,Gk}var Kk,qL;function M4(){if(qL)return Kk;qL=1;var e=UD();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Kk=t,Kk}var Yk,zL;function Oye(){if(zL)return Yk;zL=1;var e=M4(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var s=i.length-1;return o==s?i.pop():r.call(i,o,1),--this.size,!0}return Yk=n,Yk}var Xk,WL;function Dye(){if(WL)return Xk;WL=1;var e=M4();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Xk=t,Xk}var Zk,VL;function Iye(){if(VL)return Zk;VL=1;var e=M4();function t(r){return e(this.__data__,r)>-1}return Zk=t,Zk}var Jk,HL;function Rye(){if(HL)return Jk;HL=1;var e=M4();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Jk=t,Jk}var Qk,GL;function F4(){if(GL)return Qk;GL=1;var e=Pye(),t=Oye(),r=Dye(),n=Iye(),a=Rye();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Qk=i,Qk}var eN,KL;function qD(){if(KL)return eN;KL=1;var e=Sg(),t=pf(),r=e(t,"Map");return eN=r,eN}var tN,YL;function Mye(){if(YL)return tN;YL=1;var e=Tye(),t=F4(),r=qD();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return tN=n,tN}var rN,XL;function Fye(){if(XL)return rN;XL=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return rN=e,rN}var nN,ZL;function L4(){if(ZL)return nN;ZL=1;var e=Fye();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return nN=t,nN}var aN,JL;function Lye(){if(JL)return aN;JL=1;var e=L4();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return aN=t,aN}var iN,QL;function jye(){if(QL)return iN;QL=1;var e=L4();function t(r){return e(this,r).get(r)}return iN=t,iN}var oN,e9;function $ye(){if(e9)return oN;e9=1;var e=L4();function t(r){return e(this,r).has(r)}return oN=t,oN}var sN,t9;function Bye(){if(t9)return sN;t9=1;var e=L4();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return sN=t,sN}var lN,r9;function zD(){if(r9)return lN;r9=1;var e=Mye(),t=Lye(),r=jye(),n=$ye(),a=Bye();function i(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,lN=i,lN}var cN,n9;function jX(){if(n9)return cN;n9=1;var e=zD(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,s=a?a.apply(this,o):o[0],l=i.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return i.cache=l.set(s,u)||l,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,cN=r,cN}var uN,a9;function Uye(){if(a9)return uN;a9=1;var e=jX(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return uN=r,uN}var dN,i9;function qye(){if(i9)return dN;i9=1;var e=Uye(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,s,l,u){i.push(l?u.replace(r,"$1"):s||o)}),i});return dN=n,dN}var fN,o9;function WD(){if(o9)return fN;o9=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return fN=e,fN}var hN,s9;function zye(){if(s9)return hN;s9=1;var e=jw(),t=WD(),r=jl(),n=dy(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return i?i.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return hN=o,hN}var pN,l9;function $X(){if(l9)return pN;l9=1;var e=zye();function t(r){return r==null?"":e(r)}return pN=t,pN}var mN,c9;function BX(){if(c9)return mN;c9=1;var e=jl(),t=$D(),r=qye(),n=$X();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return mN=a,mN}var gN,u9;function j4(){if(u9)return gN;u9=1;var e=dy();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return gN=t,gN}var vN,d9;function VD(){if(d9)return vN;d9=1;var e=BX(),t=j4();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return vN=r,vN}var yN,f9;function UX(){if(f9)return yN;f9=1;var e=VD();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return yN=t,yN}var Wye=UX();const hc=ia(Wye);var xN,h9;function Vye(){if(h9)return xN;h9=1;function e(t){return t==null}return xN=e,xN}var Hye=Vye();const cn=ia(Hye);var wN,p9;function Gye(){if(p9)return wN;p9=1;var e=Ch(),t=jl(),r=Th(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return wN=a,wN}var Kye=Gye();const J0=ia(Kye);var Yye=BD();const Hr=ia(Yye);var Xye=Pm();const fy=ia(Xye);var _N={exports:{}},ca={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m9;function Zye(){if(m9)return ca;m9=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function g(y){if(typeof y=="object"&&y!==null){var _=y.$$typeof;switch(_){case e:switch(y=y.type,y){case r:case a:case n:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case s:case o:case l:case h:case f:case i:return y;default:return _}}case t:return _}}}return ca.ContextConsumer=o,ca.ContextProvider=i,ca.Element=e,ca.ForwardRef=l,ca.Fragment=r,ca.Lazy=h,ca.Memo=f,ca.Portal=t,ca.Profiler=a,ca.StrictMode=n,ca.Suspense=u,ca.SuspenseList=d,ca.isAsyncMode=function(){return!1},ca.isConcurrentMode=function(){return!1},ca.isContextConsumer=function(y){return g(y)===o},ca.isContextProvider=function(y){return g(y)===i},ca.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},ca.isForwardRef=function(y){return g(y)===l},ca.isFragment=function(y){return g(y)===r},ca.isLazy=function(y){return g(y)===h},ca.isMemo=function(y){return g(y)===f},ca.isPortal=function(y){return g(y)===t},ca.isProfiler=function(y){return g(y)===a},ca.isStrictMode=function(y){return g(y)===n},ca.isSuspense=function(y){return g(y)===u},ca.isSuspenseList=function(y){return g(y)===d},ca.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===u||y===d||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===f||y.$$typeof===i||y.$$typeof===o||y.$$typeof===l||y.$$typeof===x||y.getModuleId!==void 0)},ca.typeOf=g,ca}var g9;function Jye(){return g9||(g9=1,_N.exports=Zye()),_N.exports}var Qye=Jye(),bN,v9;function qX(){if(v9)return bN;v9=1;var e=Ch(),t=Th(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return bN=n,bN}var SN,y9;function e2e(){if(y9)return SN;y9=1;var e=qX();function t(r){return e(r)&&r!=+r}return SN=t,SN}var t2e=e2e();const hy=ia(t2e);var r2e=qX();const n2e=ia(r2e);var al=function(t){return t===0?0:t>0?1:-1},D0=function(t){return J0(t)&&t.indexOf("%")===t.length-1},Ht=function(t){return n2e(t)&&!hy(t)},xo=function(t){return Ht(t)||J0(t)},a2e=0,Ag=function(t){var r=++a2e;return"".concat(t||"").concat(r)},il=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ht(t)&&!J0(t))return n;var i;if(D0(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return hy(i)&&(i=n),a&&i>r&&(i=r),i},Wp=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},i2e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},go=function(t,r){return Ht(t)&&Ht(r)?function(n){return t+n*(r-t)}:function(){return r}};function S5(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):hc(n,t))===r})}var o2e=function(t,r){return Ht(t)&&Ht(r)?t-r:J0(t)&&J0(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Jv(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function y6(e){"@babel/helpers - typeof";return y6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y6(e)}var s2e=["viewBox","children"],l2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],x9=["points","pathLength"],AN={svg:s2e,polygon:x9,polyline:x9},HD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],A5=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),!fy(n))return null;var a={};return Object.keys(n).forEach(function(i){HD.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},c2e=function(t,r,n){return function(a){return t(r,n,a),null}},Q0=function(t,r,n){if(!fy(t)||y6(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];HD.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=c2e(o,r,n))}),a},u2e=["children"],d2e=["children"];function w9(e,t){if(e==null)return{};var r=f2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x6(e){"@babel/helpers - typeof";return x6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x6(e)}var _9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uh=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},b9=null,kN=null,GD=function e(t){if(t===b9&&Array.isArray(kN))return kN;var r=[];return A.Children.forEach(t,function(n){cn(n)||(Qye.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),kN=r,b9=t,r};function pc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return uh(a)}):n=[uh(t)],GD(e).forEach(function(a){var i=hc(a,"type.displayName")||hc(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ec(e,t){var r=pc(e,t);return r&&r[0]}var S9=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ht(n)||n<=0||!Ht(a)||a<=0)},h2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],p2e=function(t){return t&&t.type&&J0(t.type)&&h2e.indexOf(t.type)>=0},zX=function(t){return t&&x6(t)==="object"&&"clipDot"in t},m2e=function(t,r,n,a){var i,o=(i=AN==null?void 0:AN[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Hr(t)&&(a&&o.includes(r)||l2e.includes(r))||n&&HD.includes(r)},Or=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(A.isValidElement(t)&&(a=t.props),!fy(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;m2e((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},w6=function e(t,r){if(t===r)return!0;var n=A.Children.count(t);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return A9(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!A9(i,o))return!1}return!0},A9=function(t,r){if(cn(t)&&cn(r))return!0;if(!cn(t)&&!cn(r)){var n=t.props||{},a=n.children,i=w9(n,u2e),o=r.props||{},s=o.children,l=w9(o,d2e);return a&&s?Jv(i,l)&&w6(a,s):!a&&!s?Jv(i,l):!1}return!1},k9=function(t,r){var n=[],a={};return GD(t).forEach(function(i,o){if(p2e(i))n.push(i);else if(i){var s=uh(i.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},g2e=function(t){var r=t&&t.type;return r&&_9[r]?_9[r]:null},v2e=function(t,r){return GD(r).indexOf(t)},y2e=["children","width","height","viewBox","className","style","title","desc"];function _6(){return _6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_6.apply(this,arguments)}function x2e(e,t){if(e==null)return{};var r=w2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b6(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,u=x2e(e,y2e),d=a||{width:r,height:n,x:0,y:0},f=un("recharts-surface",i);return Qe.createElement("svg",_6({},Or(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Qe.createElement("title",null,s),Qe.createElement("desc",null,l),t)}var _2e=["children","className"];function S6(){return S6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S6.apply(this,arguments)}function b2e(e,t){if(e==null)return{};var r=S2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var On=Qe.forwardRef(function(e,t){var r=e.children,n=e.className,a=b2e(e,_2e),i=un("recharts-layer",n);return Qe.createElement("g",S6({className:i},Or(a,!0),{ref:t}),r)}),Wu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},NN,N9;function A2e(){if(N9)return NN;N9=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return NN=e,NN}var EN,E9;function k2e(){if(E9)return EN;E9=1;var e=A2e();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return EN=t,EN}var CN,C9;function WX(){if(C9)return CN;C9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+a+i+"]");function l(u){return s.test(u)}return CN=l,CN}var TN,T9;function N2e(){if(T9)return TN;T9=1;function e(t){return t.split("")}return TN=e,TN}var PN,P9;function E2e(){if(P9)return PN;P9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",s="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",x=u+"?",g="["+i+"]?",y="(?:"+m+"(?:"+[d,f,h].join("|")+")"+g+x+")*",_=g+x+y,b="(?:"+[d+s+"?",s,f,h,o].join("|")+")",S=RegExp(l+"(?="+l+")|"+b+_,"g");function C(E){return E.match(S)||[]}return PN=C,PN}var ON,O9;function C2e(){if(O9)return ON;O9=1;var e=N2e(),t=WX(),r=E2e();function n(a){return t(a)?r(a):e(a)}return ON=n,ON}var DN,D9;function T2e(){if(D9)return DN;D9=1;var e=k2e(),t=WX(),r=C2e(),n=$X();function a(i){return function(o){o=n(o);var s=t(o)?r(o):void 0,l=s?s[0]:o.charAt(0),u=s?e(s,1).join(""):o.slice(1);return l[i]()+u}}return DN=a,DN}var IN,I9;function P2e(){if(I9)return IN;I9=1;var e=T2e(),t=e("toUpperCase");return IN=t,IN}var O2e=P2e();const $4=ia(O2e);function Ta(e){return function(){return e}}const VX=Math.cos,k5=Math.sin,id=Math.sqrt,N5=Math.PI,B4=2*N5,A6=Math.PI,k6=2*A6,S0=1e-6,D2e=k6-S0;function HX(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function I2e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HX;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class R2e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HX:I2e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,u=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>S0)if(!(Math.abs(f*l-u*d)>S0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=a-s,g=l*l+u*u,y=m*m+x*x,_=Math.sqrt(g),b=Math.sqrt(h),S=i*Math.tan((A6-Math.acos((g+h-y)/(2*_*b)))/2),C=S/b,E=S/_;Math.abs(C-1)>S0&&this._append`L${t+C*d},${r+C*f}`,this._append`A${i},${i},0,0,${+(f*m>d*x)},${this._x1=t+E*l},${this._y1=r+E*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),u=t+s,d=r+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>S0||Math.abs(this._y1-d)>S0)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%k6+k6),h>D2e?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>S0&&this._append`A${n},${n},0,${+(h>=A6)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function KD(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new R2e(t)}function YD(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GX(e){this._context=e}GX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function U4(e){return new GX(e)}function KX(e){return e[0]}function YX(e){return e[1]}function XX(e,t){var r=Ta(!0),n=null,a=U4,i=null,o=KD(s);e=typeof e=="function"?e:e===void 0?KX:Ta(e),t=typeof t=="function"?t:t===void 0?YX:Ta(t);function s(l){var u,d=(l=YD(l)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ta(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ta(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ta(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function sb(e,t,r){var n=null,a=Ta(!0),i=null,o=U4,s=null,l=KD(u);e=typeof e=="function"?e:e===void 0?KX:Ta(+e),t=typeof t=="function"?t:Ta(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?YX:Ta(+r);function u(f){var h,m,x,g=(f=YD(f)).length,y,_=!1,b,S=new Array(g),C=new Array(g);for(i==null&&(s=o(b=l())),h=0;h<=g;++h){if(!(h<g&&a(y=f[h],h,f))===_)if(_=!_)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=h-1;x>=m;--x)s.point(S[x],C[x]);s.lineEnd(),s.areaEnd()}_&&(S[h]=+e(y,h,f),C[h]=+t(y,h,f),s.point(n?+n(y,h,f):S[h],r?+r(y,h,f):C[h]))}if(b)return s=null,b+""||null}function d(){return XX().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ta(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ta(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ta(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ta(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ta(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ta(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ta(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class ZX{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function M2e(e){return new ZX(e,!0)}function F2e(e){return new ZX(e,!1)}const XD={draw(e,t){const r=id(t/N5);e.moveTo(r,0),e.arc(0,0,r,0,B4)}},L2e={draw(e,t){const r=id(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},JX=id(1/3),j2e=JX*2,$2e={draw(e,t){const r=id(t/j2e),n=r*JX;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},B2e={draw(e,t){const r=id(t),n=-r/2;e.rect(n,n,r,r)}},U2e=.8908130915292852,QX=k5(N5/10)/k5(7*N5/10),q2e=k5(B4/10)*QX,z2e=-VX(B4/10)*QX,W2e={draw(e,t){const r=id(t*U2e),n=q2e*r,a=z2e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=B4*i/5,s=VX(o),l=k5(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},RN=id(3),V2e={draw(e,t){const r=-id(t/(RN*3));e.moveTo(0,r*2),e.lineTo(-RN*r,-r),e.lineTo(RN*r,-r),e.closePath()}},Lc=-.5,jc=id(3)/2,N6=1/id(12),H2e=(N6/2+1)*3,G2e={draw(e,t){const r=id(t/H2e),n=r/2,a=r*N6,i=n,o=r*N6+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Lc*n-jc*a,jc*n+Lc*a),e.lineTo(Lc*i-jc*o,jc*i+Lc*o),e.lineTo(Lc*s-jc*l,jc*s+Lc*l),e.lineTo(Lc*n+jc*a,Lc*a-jc*n),e.lineTo(Lc*i+jc*o,Lc*o-jc*i),e.lineTo(Lc*s+jc*l,Lc*l-jc*s),e.closePath()}};function K2e(e,t){let r=null,n=KD(a);e=typeof e=="function"?e:Ta(e||XD),t=typeof t=="function"?t:Ta(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ta(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ta(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function E5(){}function C5(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function eZ(e){this._context=e}eZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:C5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y2e(e){return new eZ(e)}function tZ(e){this._context=e}tZ.prototype={areaStart:E5,areaEnd:E5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:C5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X2e(e){return new tZ(e)}function rZ(e){this._context=e}rZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:C5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z2e(e){return new rZ(e)}function nZ(e){this._context=e}nZ.prototype={areaStart:E5,areaEnd:E5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function J2e(e){return new nZ(e)}function R9(e){return e<0?-1:1}function M9(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(R9(i)+R9(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function F9(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function MN(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function T5(e){this._context=e}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:MN(this,this._t0,F9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,MN(this,F9(this,r=M9(this,e,t)),r);break;default:MN(this,this._t0,r=M9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function aZ(e){this._context=new iZ(e)}(aZ.prototype=Object.create(T5.prototype)).point=function(e,t){T5.prototype.point.call(this,t,e)};function iZ(e){this._context=e}iZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Q2e(e){return new T5(e)}function exe(e){return new aZ(e)}function oZ(e){this._context=e}oZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=L9(e),a=L9(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function L9(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function txe(e){return new oZ(e)}function q4(e,t){this._context=e,this._t=t}q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rxe(e){return new q4(e,.5)}function nxe(e){return new q4(e,0)}function axe(e){return new q4(e,1)}function x1(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function E6(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ixe(e,t){return e[t]}function oxe(e){const t=[];return t.key=e,t}function sxe(){var e=Ta([]),t=E6,r=x1,n=ixe;function a(i){var o=Array.from(e.apply(this,arguments),oxe),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=YD(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ta(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ta(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?E6:typeof i=="function"?i:Ta(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??x1,a):r},a}function lxe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}x1(e,t)}}function cxe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}x1(e,t)}}function uxe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,x=0;x<s;++x){var g=e[t[x]],y=g[n][1]||0,_=g[n-1][1]||0;m+=y-_}l+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,x1(e,t)}}function fx(e){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fx(e)}var dxe=["type","size","sizeType"];function C6(){return C6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C6.apply(this,arguments)}function j9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j9(Object(r),!0).forEach(function(n){fxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fxe(e,t,r){return t=hxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hxe(e){var t=pxe(e,"string");return fx(t)=="symbol"?t:t+""}function pxe(e,t){if(fx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mxe(e,t){if(e==null)return{};var r=gxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sZ={symbolCircle:XD,symbolCross:L2e,symbolDiamond:$2e,symbolSquare:B2e,symbolStar:W2e,symbolTriangle:V2e,symbolWye:G2e},vxe=Math.PI/180,yxe=function(t){var r="symbol".concat($4(t));return sZ[r]||XD},xxe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*vxe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wxe=function(t,r){sZ["symbol".concat($4(t))]=r},ZD=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=mxe(t,dxe),u=$9($9({},l),{},{type:n,size:i,sizeType:s}),d=function(){var y=yxe(n),_=K2e().type(y).size(xxe(i,s,n));return _()},f=u.className,h=u.cx,m=u.cy,x=Or(u,!0);return h===+h&&m===+m&&i===+i?Qe.createElement("path",C6({},x,{className:un("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};ZD.registerSymbol=wxe;function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function B9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B9(Object(r),!0).forEach(function(n){hx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cZ(n.key),n)}}function Axe(e,t,r){return t&&Sxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kxe(e,t,r){return t=P5(t),Nxe(e,lZ()?Reflect.construct(t,r||[],P5(e).constructor):t.apply(e,r))}function Nxe(e,t){if(t&&(w1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Exe(e)}function Exe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lZ=function(){return!!e})()}function P5(e){return P5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P5(e)}function Cxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T6(e,t)}function T6(e,t){return T6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T6(e,t)}function hx(e,t,r){return t=cZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cZ(e){var t=Txe(e,"string");return w1(t)=="symbol"?t:t+""}function Txe(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eu=32,JD=function(e){function t(){return bxe(this,t),kxe(this,t,arguments)}return Cxe(t,e),Axe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Eu/2,o=Eu/6,s=Eu/3,l=n.inactive?a:n.color;if(n.type==="plainline")return c("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Eu,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return c("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Eu,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return c("path",{stroke:"none",fill:l,d:"M0,".concat(Eu/8,"h").concat(Eu,"v").concat(Eu*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Qe.isValidElement(n.legendIcon)){var u=_xe({},n);return delete u.legendIcon,Qe.cloneElement(n.legendIcon,u)}return c(ZD,{fill:l,cx:i,cy:i,size:Eu,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Eu,height:Eu},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var g=m.formatter||l,y=un(hx(hx({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var _=Hr(m.value)?null:m.value;Wu(!Hr(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return w("li",{className:y,style:f,...Q0(n.props,m,x),children:[c(b6,{width:o,height:o,viewBox:d,style:h,children:n.renderIcon(m)}),c("span",{className:"recharts-legend-item-text",style:{color:b},children:g?g(_,m,x):_})]},"legend-item-".concat(x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return c("ul",{className:"recharts-default-legend",style:s,children:this.renderItems()})}}])}(A.PureComponent);hx(JD,"displayName","Legend");hx(JD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var FN,U9;function Pxe(){if(U9)return FN;U9=1;var e=F4();function t(){this.__data__=new e,this.size=0}return FN=t,FN}var LN,q9;function Oxe(){if(q9)return LN;q9=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return LN=e,LN}var jN,z9;function Dxe(){if(z9)return jN;z9=1;function e(t){return this.__data__.get(t)}return jN=e,jN}var $N,W9;function Ixe(){if(W9)return $N;W9=1;function e(t){return this.__data__.has(t)}return $N=e,$N}var BN,V9;function Rxe(){if(V9)return BN;V9=1;var e=F4(),t=qD(),r=zD(),n=200;function a(i,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([i,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(i,o),this.size=s.size,this}return BN=a,BN}var UN,H9;function uZ(){if(H9)return UN;H9=1;var e=F4(),t=Pxe(),r=Oxe(),n=Dxe(),a=Ixe(),i=Rxe();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,UN=o,UN}var qN,G9;function Mxe(){if(G9)return qN;G9=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return qN=t,qN}var zN,K9;function Fxe(){if(K9)return zN;K9=1;function e(t){return this.__data__.has(t)}return zN=e,zN}var WN,Y9;function dZ(){if(Y9)return WN;Y9=1;var e=zD(),t=Mxe(),r=Fxe();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,WN=n,WN}var VN,X9;function fZ(){if(X9)return VN;X9=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return VN=e,VN}var HN,Z9;function hZ(){if(Z9)return HN;Z9=1;function e(t,r){return t.has(r)}return HN=e,HN}var GN,J9;function pZ(){if(J9)return GN;J9=1;var e=dZ(),t=fZ(),r=hZ(),n=1,a=2;function i(o,s,l,u,d,f){var h=l&n,m=o.length,x=s.length;if(m!=x&&!(h&&x>m))return!1;var g=f.get(o),y=f.get(s);if(g&&y)return g==s&&y==o;var _=-1,b=!0,S=l&a?new e:void 0;for(f.set(o,s),f.set(s,o);++_<m;){var C=o[_],E=s[_];if(u)var O=h?u(E,C,_,s,o,f):u(C,E,_,o,s,f);if(O!==void 0){if(O)continue;b=!1;break}if(S){if(!t(s,function(T,I){if(!r(S,I)&&(C===T||d(C,T,l,u,f)))return S.push(I)})){b=!1;break}}else if(!(C===E||d(C,E,l,u,f))){b=!1;break}}return f.delete(o),f.delete(s),b}return GN=i,GN}var KN,Q9;function Lxe(){if(Q9)return KN;Q9=1;var e=pf(),t=e.Uint8Array;return KN=t,KN}var YN,ej;function jxe(){if(ej)return YN;ej=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return YN=e,YN}var XN,tj;function QD(){if(tj)return XN;tj=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return XN=e,XN}var ZN,rj;function $xe(){if(rj)return ZN;rj=1;var e=jw(),t=Lxe(),r=UD(),n=pZ(),a=jxe(),i=QD(),o=1,s=2,l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",m="[object RegExp]",x="[object Set]",g="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",b="[object DataView]",S=e?e.prototype:void 0,C=S?S.valueOf:void 0;function E(O,T,I,L,U,P,M){switch(I){case b:if(O.byteLength!=T.byteLength||O.byteOffset!=T.byteOffset)return!1;O=O.buffer,T=T.buffer;case _:return!(O.byteLength!=T.byteLength||!P(new t(O),new t(T)));case l:case u:case h:return r(+O,+T);case d:return O.name==T.name&&O.message==T.message;case m:case g:return O==T+"";case f:var j=a;case x:var V=L&o;if(j||(j=i),O.size!=T.size&&!V)return!1;var X=M.get(O);if(X)return X==T;L|=s,M.set(O,T);var te=n(j(O),j(T),L,U,P,M);return M.delete(O),te;case y:if(C)return C.call(O)==C.call(T)}return!1}return ZN=E,ZN}var JN,nj;function mZ(){if(nj)return JN;nj=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return JN=e,JN}var QN,aj;function Bxe(){if(aj)return QN;aj=1;var e=mZ(),t=jl();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return QN=r,QN}var eE,ij;function Uxe(){if(ij)return eE;ij=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var s=t[n];r(s,n,t)&&(o[i++]=s)}return o}return eE=e,eE}var tE,oj;function qxe(){if(oj)return tE;oj=1;function e(){return[]}return tE=e,tE}var rE,sj;function zxe(){if(sj)return rE;sj=1;var e=Uxe(),t=qxe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(s){return n.call(o,s)}))}:t;return rE=i,rE}var nE,lj;function Wxe(){if(lj)return nE;lj=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return nE=e,nE}var aE,cj;function Vxe(){if(cj)return aE;cj=1;var e=Ch(),t=Th(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return aE=n,aE}var iE,uj;function eI(){if(uj)return iE;uj=1;var e=Vxe(),t=Th(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return iE=i,iE}var w2={exports:{}},oE,dj;function Hxe(){if(dj)return oE;dj=1;function e(){return!1}return oE=e,oE}w2.exports;var fj;function gZ(){return fj||(fj=1,function(e,t){var r=pf(),n=Hxe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u}(w2,w2.exports)),w2.exports}var sE,hj;function tI(){if(hj)return sE;hj=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return sE=r,sE}var lE,pj;function rI(){if(pj)return lE;pj=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return lE=t,lE}var cE,mj;function Gxe(){if(mj)return cE;mj=1;var e=Ch(),t=rI(),r=Th(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",m="[object Set]",x="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",E="[object Int16Array]",O="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",U="[object Uint32Array]",P={};P[b]=P[S]=P[C]=P[E]=P[O]=P[T]=P[I]=P[L]=P[U]=!0,P[n]=P[a]=P[y]=P[i]=P[_]=P[o]=P[s]=P[l]=P[u]=P[d]=P[f]=P[h]=P[m]=P[x]=P[g]=!1;function M(j){return r(j)&&t(j.length)&&!!P[e(j)]}return cE=M,cE}var uE,gj;function vZ(){if(gj)return uE;gj=1;function e(t){return function(r){return t(r)}}return uE=e,uE}var _2={exports:{}};_2.exports;var vj;function Kxe(){return vj||(vj=1,function(e,t){var r=FX(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(_2,_2.exports)),_2.exports}var dE,yj;function yZ(){if(yj)return dE;yj=1;var e=Gxe(),t=vZ(),r=Kxe(),n=r&&r.isTypedArray,a=n?t(n):e;return dE=a,dE}var fE,xj;function Yxe(){if(xj)return fE;xj=1;var e=Wxe(),t=eI(),r=jl(),n=gZ(),a=tI(),i=yZ(),o=Object.prototype,s=o.hasOwnProperty;function l(u,d){var f=r(u),h=!f&&t(u),m=!f&&!h&&n(u),x=!f&&!h&&!m&&i(u),g=f||h||m||x,y=g?e(u.length,String):[],_=y.length;for(var b in u)(d||s.call(u,b))&&!(g&&(b=="length"||m&&(b=="offset"||b=="parent")||x&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,_)))&&y.push(b);return y}return fE=l,fE}var hE,wj;function Xxe(){if(wj)return hE;wj=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return hE=t,hE}var pE,_j;function xZ(){if(_j)return pE;_j=1;function e(t,r){return function(n){return t(r(n))}}return pE=e,pE}var mE,bj;function Zxe(){if(bj)return mE;bj=1;var e=xZ(),t=e(Object.keys,Object);return mE=t,mE}var gE,Sj;function Jxe(){if(Sj)return gE;Sj=1;var e=Xxe(),t=Zxe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var s in Object(i))n.call(i,s)&&s!="constructor"&&o.push(s);return o}return gE=a,gE}var vE,Aj;function $w(){if(Aj)return vE;Aj=1;var e=BD(),t=rI();function r(n){return n!=null&&t(n.length)&&!e(n)}return vE=r,vE}var yE,kj;function z4(){if(kj)return yE;kj=1;var e=Yxe(),t=Jxe(),r=$w();function n(a){return r(a)?e(a):t(a)}return yE=n,yE}var xE,Nj;function Qxe(){if(Nj)return xE;Nj=1;var e=Bxe(),t=zxe(),r=z4();function n(a){return e(a,r,t)}return xE=n,xE}var wE,Ej;function ewe(){if(Ej)return wE;Ej=1;var e=Qxe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,s,l,u,d){var f=s&t,h=e(i),m=h.length,x=e(o),g=x.length;if(m!=g&&!f)return!1;for(var y=m;y--;){var _=h[y];if(!(f?_ in o:n.call(o,_)))return!1}var b=d.get(i),S=d.get(o);if(b&&S)return b==o&&S==i;var C=!0;d.set(i,o),d.set(o,i);for(var E=f;++y<m;){_=h[y];var O=i[_],T=o[_];if(l)var I=f?l(T,O,_,o,i,d):l(O,T,_,i,o,d);if(!(I===void 0?O===T||u(O,T,s,l,d):I)){C=!1;break}E||(E=_=="constructor")}if(C&&!E){var L=i.constructor,U=o.constructor;L!=U&&"constructor"in i&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof U=="function"&&U instanceof U)&&(C=!1)}return d.delete(i),d.delete(o),C}return wE=a,wE}var _E,Cj;function twe(){if(Cj)return _E;Cj=1;var e=Sg(),t=pf(),r=e(t,"DataView");return _E=r,_E}var bE,Tj;function rwe(){if(Tj)return bE;Tj=1;var e=Sg(),t=pf(),r=e(t,"Promise");return bE=r,bE}var SE,Pj;function wZ(){if(Pj)return SE;Pj=1;var e=Sg(),t=pf(),r=e(t,"Set");return SE=r,SE}var AE,Oj;function nwe(){if(Oj)return AE;Oj=1;var e=Sg(),t=pf(),r=e(t,"WeakMap");return AE=r,AE}var kE,Dj;function awe(){if(Dj)return kE;Dj=1;var e=twe(),t=qD(),r=rwe(),n=wZ(),a=nwe(),i=Ch(),o=LX(),s="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",m=o(e),x=o(t),g=o(r),y=o(n),_=o(a),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=h||t&&b(new t)!=s||r&&b(r.resolve())!=u||n&&b(new n)!=d||a&&b(new a)!=f)&&(b=function(S){var C=i(S),E=C==l?S.constructor:void 0,O=E?o(E):"";if(O)switch(O){case m:return h;case x:return s;case g:return u;case y:return d;case _:return f}return C}),kE=b,kE}var NE,Ij;function iwe(){if(Ij)return NE;Ij=1;var e=uZ(),t=pZ(),r=$xe(),n=ewe(),a=awe(),i=jl(),o=gZ(),s=yZ(),l=1,u="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,m=h.hasOwnProperty;function x(g,y,_,b,S,C){var E=i(g),O=i(y),T=E?d:a(g),I=O?d:a(y);T=T==u?f:T,I=I==u?f:I;var L=T==f,U=I==f,P=T==I;if(P&&o(g)){if(!o(y))return!1;E=!0,L=!1}if(P&&!L)return C||(C=new e),E||s(g)?t(g,y,_,b,S,C):r(g,y,T,_,b,S,C);if(!(_&l)){var M=L&&m.call(g,"__wrapped__"),j=U&&m.call(y,"__wrapped__");if(M||j){var V=M?g.value():g,X=j?y.value():y;return C||(C=new e),S(V,X,_,b,C)}}return P?(C||(C=new e),n(g,y,_,b,S,C)):!1}return NE=x,NE}var EE,Rj;function nI(){if(Rj)return EE;Rj=1;var e=iwe(),t=Th();function r(n,a,i,o,s){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,s)}return EE=r,EE}var CE,Mj;function owe(){if(Mj)return CE;Mj=1;var e=uZ(),t=nI(),r=1,n=2;function a(i,o,s,l){var u=s.length,d=u,f=!l;if(i==null)return!d;for(i=Object(i);u--;){var h=s[u];if(f&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<d;){h=s[u];var m=h[0],x=i[m],g=h[1];if(f&&h[2]){if(x===void 0&&!(m in i))return!1}else{var y=new e;if(l)var _=l(x,g,m,i,o,y);if(!(_===void 0?t(g,x,r|n,l,y):_))return!1}}return!0}return CE=a,CE}var TE,Fj;function _Z(){if(Fj)return TE;Fj=1;var e=Pm();function t(r){return r===r&&!e(r)}return TE=t,TE}var PE,Lj;function swe(){if(Lj)return PE;Lj=1;var e=_Z(),t=z4();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],s=n[o];a[i]=[o,s,e(s)]}return a}return PE=r,PE}var OE,jj;function bZ(){if(jj)return OE;jj=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return OE=e,OE}var DE,$j;function lwe(){if($j)return DE;$j=1;var e=owe(),t=swe(),r=bZ();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return DE=n,DE}var IE,Bj;function cwe(){if(Bj)return IE;Bj=1;function e(t,r){return t!=null&&r in Object(t)}return IE=e,IE}var RE,Uj;function uwe(){if(Uj)return RE;Uj=1;var e=BX(),t=eI(),r=jl(),n=tI(),a=rI(),i=j4();function o(s,l,u){l=e(l,s);for(var d=-1,f=l.length,h=!1;++d<f;){var m=i(l[d]);if(!(h=s!=null&&u(s,m)))break;s=s[m]}return h||++d!=f?h:(f=s==null?0:s.length,!!f&&a(f)&&n(m,f)&&(r(s)||t(s)))}return RE=o,RE}var ME,qj;function dwe(){if(qj)return ME;qj=1;var e=cwe(),t=uwe();function r(n,a){return n!=null&&t(n,a,e)}return ME=r,ME}var FE,zj;function fwe(){if(zj)return FE;zj=1;var e=nI(),t=UX(),r=dwe(),n=$D(),a=_Z(),i=bZ(),o=j4(),s=1,l=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(h){var m=t(h,d);return m===void 0&&m===f?r(h,d):e(f,m,s|l)}}return FE=u,FE}var LE,Wj;function py(){if(Wj)return LE;Wj=1;function e(t){return t}return LE=e,LE}var jE,Vj;function hwe(){if(Vj)return jE;Vj=1;function e(t){return function(r){return r==null?void 0:r[t]}}return jE=e,jE}var $E,Hj;function pwe(){if(Hj)return $E;Hj=1;var e=VD();function t(r){return function(n){return e(n,r)}}return $E=t,$E}var BE,Gj;function mwe(){if(Gj)return BE;Gj=1;var e=hwe(),t=pwe(),r=$D(),n=j4();function a(i){return r(i)?e(n(i)):t(i)}return BE=a,BE}var UE,Kj;function mf(){if(Kj)return UE;Kj=1;var e=lwe(),t=fwe(),r=py(),n=jl(),a=mwe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return UE=i,UE}var qE,Yj;function SZ(){if(Yj)return qE;Yj=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return qE=e,qE}var zE,Xj;function gwe(){if(Xj)return zE;Xj=1;function e(t){return t!==t}return zE=e,zE}var WE,Zj;function vwe(){if(Zj)return WE;Zj=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return WE=e,WE}var VE,Jj;function ywe(){if(Jj)return VE;Jj=1;var e=SZ(),t=gwe(),r=vwe();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return VE=n,VE}var HE,Qj;function xwe(){if(Qj)return HE;Qj=1;var e=ywe();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return HE=t,HE}var GE,e$;function wwe(){if(e$)return GE;e$=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return GE=e,GE}var KE,t$;function _we(){if(t$)return KE;t$=1;function e(){}return KE=e,KE}var YE,r$;function bwe(){if(r$)return YE;r$=1;var e=wZ(),t=_we(),r=QD(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return YE=a,YE}var XE,n$;function Swe(){if(n$)return XE;n$=1;var e=dZ(),t=xwe(),r=wwe(),n=hZ(),a=bwe(),i=QD(),o=200;function s(l,u,d){var f=-1,h=t,m=l.length,x=!0,g=[],y=g;if(d)x=!1,h=r;else if(m>=o){var _=u?null:a(l);if(_)return i(_);x=!1,h=n,y=new e}else y=u?[]:g;e:for(;++f<m;){var b=l[f],S=u?u(b):b;if(b=d||b!==0?b:0,x&&S===S){for(var C=y.length;C--;)if(y[C]===S)continue e;u&&y.push(S),g.push(b)}else h(y,S,d)||(y!==g&&y.push(S),g.push(b))}return g}return XE=s,XE}var ZE,a$;function Awe(){if(a$)return ZE;a$=1;var e=mf(),t=Swe();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return ZE=r,ZE}var kwe=Awe();const i$=ia(kwe);function AZ(e,t,r){return t===!0?i$(e,r):Hr(t)?i$(e,t):e}function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}var Nwe=["ref"];function o$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(r),!0).forEach(function(n){W4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ewe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NZ(n.key),n)}}function Cwe(e,t,r){return t&&s$(e.prototype,t),r&&s$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Twe(e,t,r){return t=O5(t),Pwe(e,kZ()?Reflect.construct(t,r||[],O5(e).constructor):t.apply(e,r))}function Pwe(e,t){if(t&&(_1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Owe(e)}function Owe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kZ=function(){return!!e})()}function O5(e){return O5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O5(e)}function Dwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P6(e,t)}function P6(e,t){return P6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P6(e,t)}function W4(e,t,r){return t=NZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NZ(e){var t=Iwe(e,"string");return _1(t)=="symbol"?t:t+""}function Iwe(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rwe(e,t){if(e==null)return{};var r=Mwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fwe(e){return e.value}function Lwe(e,t){if(Qe.isValidElement(e))return Qe.cloneElement(e,t);if(typeof e=="function")return Qe.createElement(e,t);t.ref;var r=Rwe(t,Nwe);return c(JD,{...r})}var l$=1,Vu=function(e){function t(){var r;Ewe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Twe(this,t,[].concat(a)),W4(r,"lastBoundingBox",{width:-1,height:-1}),r}return Dwe(t,e),Cwe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>l$||Math.abs(a.height-this.lastBoundingBox.height)>l$)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Xf(Xf({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Xf(Xf({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return c("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m},children:Lwe(i,Xf(Xf({},this.props),{},{payload:AZ(d,u,Fwe)}))})}}],[{key:"getWithHeight",value:function(n,a){var i=Xf(Xf({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ht(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(A.PureComponent);W4(Vu,"displayName","Legend");W4(Vu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var JE,c$;function jwe(){if(c$)return JE;c$=1;var e=jw(),t=eI(),r=jl(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return JE=a,JE}var QE,u$;function EZ(){if(u$)return QE;u$=1;var e=mZ(),t=jwe();function r(n,a,i,o,s){var l=-1,u=n.length;for(i||(i=t),s||(s=[]);++l<u;){var d=n[l];a>0&&i(d)?a>1?r(d,a-1,i,o,s):e(s,d):o||(s[s.length]=d)}return s}return QE=r,QE}var eC,d$;function $we(){if(d$)return eC;d$=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),s=a(r),l=s.length;l--;){var u=s[t?l:++i];if(n(o[u],u,o)===!1)break}return r}}return eC=e,eC}var tC,f$;function Bwe(){if(f$)return tC;f$=1;var e=$we(),t=e();return tC=t,tC}var rC,h$;function CZ(){if(h$)return rC;h$=1;var e=Bwe(),t=z4();function r(n,a){return n&&e(n,a,t)}return rC=r,rC}var nC,p$;function Uwe(){if(p$)return nC;p$=1;var e=$w();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,s=n?o:-1,l=Object(a);(n?s--:++s<o)&&i(l[s],s,l)!==!1;);return a}}return nC=t,nC}var aC,m$;function aI(){if(m$)return aC;m$=1;var e=CZ(),t=Uwe(),r=t(e);return aC=r,aC}var iC,g$;function TZ(){if(g$)return iC;g$=1;var e=aI(),t=$w();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(s,l,u){o[++i]=a(s,l,u)}),o}return iC=r,iC}var oC,v$;function qwe(){if(v$)return oC;v$=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return oC=e,oC}var sC,y$;function zwe(){if(y$)return sC;y$=1;var e=dy();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,s=e(r),l=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!s&&r>n||s&&l&&d&&!u&&!f||i&&l&&d||!a&&d||!o)return 1;if(!i&&!s&&!f&&r<n||f&&a&&o&&!i&&!s||u&&a&&o||!l&&o||!d)return-1}return 0}return sC=t,sC}var lC,x$;function Wwe(){if(x$)return lC;x$=1;var e=zwe();function t(r,n,a){for(var i=-1,o=r.criteria,s=n.criteria,l=o.length,u=a.length;++i<l;){var d=e(o[i],s[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return lC=t,lC}var cC,w$;function Vwe(){if(w$)return cC;w$=1;var e=WD(),t=VD(),r=mf(),n=TZ(),a=qwe(),i=vZ(),o=Wwe(),s=py(),l=jl();function u(d,f,h){f.length?f=e(f,function(g){return l(g)?function(y){return t(y,g.length===1?g[0]:g)}:g}):f=[s];var m=-1;f=e(f,i(r));var x=n(d,function(g,y,_){var b=e(f,function(S){return S(g)});return{criteria:b,index:++m,value:g}});return a(x,function(g,y){return o(g,y,h)})}return cC=u,cC}var uC,_$;function Hwe(){if(_$)return uC;_$=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return uC=e,uC}var dC,b$;function Gwe(){if(b$)return dC;b$=1;var e=Hwe(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,s=-1,l=t(o.length-a,0),u=Array(l);++s<l;)u[s]=o[a+s];s=-1;for(var d=Array(a+1);++s<a;)d[s]=o[s];return d[a]=i(u),e(n,this,d)}}return dC=r,dC}var fC,S$;function Kwe(){if(S$)return fC;S$=1;function e(t){return function(){return t}}return fC=e,fC}var hC,A$;function PZ(){if(A$)return hC;A$=1;var e=Sg(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return hC=t,hC}var pC,k$;function Ywe(){if(k$)return pC;k$=1;var e=Kwe(),t=PZ(),r=py(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return pC=n,pC}var mC,N$;function Xwe(){if(N$)return mC;N$=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var s=r(),l=t-(s-o);if(o=s,l>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return mC=n,mC}var gC,E$;function Zwe(){if(E$)return gC;E$=1;var e=Ywe(),t=Xwe(),r=t(e);return gC=r,gC}var vC,C$;function Jwe(){if(C$)return vC;C$=1;var e=py(),t=Gwe(),r=Zwe();function n(a,i){return r(t(a,i,e),a+"")}return vC=n,vC}var yC,T$;function V4(){if(T$)return yC;T$=1;var e=UD(),t=$w(),r=tI(),n=Pm();function a(i,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?t(s)&&r(o,s.length):l=="string"&&o in s)?e(s[o],i):!1}return yC=a,yC}var xC,P$;function Qwe(){if(P$)return xC;P$=1;var e=EZ(),t=Vwe(),r=Jwe(),n=V4(),a=r(function(i,o){if(i==null)return[];var s=o.length;return s>1&&n(i,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return xC=a,xC}var e_e=Qwe();const iI=ia(e_e);function px(e){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},px(e)}function O6(){return O6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O6.apply(this,arguments)}function t_e(e,t){return i_e(e)||a_e(e,t)||n_e(e,t)||r_e()}function r_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n_e(e,t){if(e){if(typeof e=="string")return O$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O$(e,t)}}function O$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function i_e(e){if(Array.isArray(e))return e}function D$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(r),!0).forEach(function(n){o_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o_e(e,t,r){return t=s_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s_e(e){var t=l_e(e,"string");return px(t)=="symbol"?t:t+""}function l_e(e,t){if(px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c_e(e){return Array.isArray(e)&&xo(e[0])&&xo(e[1])?e.join(" ~ "):e}var u_e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,g=t.label,y=t.labelFormatter,_=t.accessibilityLayer,b=_===void 0?!1:_,S=function(){if(d&&d.length){var M={padding:0,margin:0},j=(h?iI(d,h):d).map(function(V,X){if(V.type==="none")return null;var te=wC({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),z=V.formatter||f||c_e,G=V.value,q=V.name,Y=G,Z=q;if(z&&Y!=null&&Z!=null){var D=z(G,q,V,X,d);if(Array.isArray(D)){var K=t_e(D,2);Y=K[0],Z=K[1]}else Y=D}return Qe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:te},xo(Z)?Qe.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,xo(Z)?Qe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Qe.createElement("span",{className:"recharts-tooltip-item-value"},Y),Qe.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return Qe.createElement("ul",{className:"recharts-tooltip-item-list",style:M},j)}return null},C=wC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=wC({margin:0},u),O=!cn(g),T=O?g:"",I=un("recharts-default-tooltip",m),L=un("recharts-tooltip-label",x);O&&y&&d!==void 0&&d!==null&&(T=y(g,d));var U=b?{role:"status","aria-live":"assertive"}:{};return Qe.createElement("div",O6({className:I,style:C},U),Qe.createElement("p",{className:L,style:E},Qe.isValidElement(T)?T:"".concat(T)),S())};function mx(e){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mx(e)}function lb(e,t,r){return t=d_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_e(e){var t=f_e(e,"string");return mx(t)=="symbol"?t:t+""}function f_e(e,t){if(mx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qy="recharts-tooltip-wrapper",h_e={visibility:"hidden"};function p_e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return un(Qy,lb(lb(lb(lb({},"".concat(Qy,"-right"),Ht(r)&&t&&Ht(t.x)&&r>=t.x),"".concat(Qy,"-left"),Ht(r)&&t&&Ht(t.x)&&r<t.x),"".concat(Qy,"-bottom"),Ht(n)&&t&&Ht(t.y)&&n>=t.y),"".concat(Qy,"-top"),Ht(n)&&t&&Ht(t.y)&&n<t.y))}function I$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&Ht(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=l[n];return h<m?Math.max(f,l[n]):Math.max(d,l[n])}var x=f+s,g=l[n]+u;return x>g?Math.max(d,l[n]):Math.max(f,l[n])}function m_e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function g_e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=I$({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=I$({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=m_e({translateX:d,translateY:f,useTranslate3d:s})):u=h_e,{cssProperties:u,cssClasses:p_e({translateX:d,translateY:f,coordinate:r})}}function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function R$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(r),!0).forEach(function(n){I6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DZ(n.key),n)}}function x_e(e,t,r){return t&&y_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w_e(e,t,r){return t=D5(t),__e(e,OZ()?Reflect.construct(t,r||[],D5(e).constructor):t.apply(e,r))}function __e(e,t){if(t&&(b1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_e(e)}function b_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OZ=function(){return!!e})()}function D5(e){return D5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D5(e)}function S_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D6(e,t)}function D6(e,t){return D6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D6(e,t)}function I6(e,t,r){return t=DZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=A_e(e,"string");return b1(t)=="symbol"?t:t+""}function A_e(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F$=1,k_e=function(e){function t(){var r;v_e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=w_e(this,t,[].concat(a)),I6(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),I6(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return S_e(t,e),x_e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>F$||Math.abs(n.height-this.state.lastBoundingBox.height)>F$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,x=a.position,g=a.reverseDirection,y=a.useTranslate3d,_=a.viewBox,b=a.wrapperStyle,S=g_e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:_}),C=S.cssClasses,E=S.cssProperties,O=M$(M$({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return c("div",{tabIndex:-1,className:C,style:O,ref:function(I){n.wrapperNode=I},children:u})}}])}(A.PureComponent),N_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Om={isSsr:N_e()};function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function L$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(r),!0).forEach(function(n){oI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RZ(n.key),n)}}function T_e(e,t,r){return t&&C_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P_e(e,t,r){return t=I5(t),O_e(e,IZ()?Reflect.construct(t,r||[],I5(e).constructor):t.apply(e,r))}function O_e(e,t){if(t&&(S1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D_e(e)}function D_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IZ=function(){return!!e})()}function I5(e){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I5(e)}function I_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R6(e,t)}function R6(e,t){return R6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R6(e,t)}function oI(e,t,r){return t=RZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=R_e(e,"string");return S1(t)=="symbol"?t:t+""}function R_e(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function M_e(e){return e.dataKey}function F_e(e,t){return Qe.isValidElement(e)?Qe.cloneElement(e,t):typeof e=="function"?Qe.createElement(e,t):c(u_e,{...t})}var Ga=function(e){function t(){return E_e(this,t),P_e(this,t,arguments)}return I_e(t,e),T_e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,x=a.payload,g=a.payloadUniqBy,y=a.position,_=a.reverseDirection,b=a.useTranslate3d,S=a.viewBox,C=a.wrapperStyle,E=x??[];f&&E.length&&(E=AZ(x.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),g,M_e));var O=E.length>0;return c(k_e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:O,offset:m,position:y,reverseDirection:_,useTranslate3d:b,viewBox:S,wrapperStyle:C,children:F_e(u,j$(j$({},this.props),{},{payload:E}))})}}])}(A.PureComponent);oI(Ga,"displayName","Tooltip");oI(Ga,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Om.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _C,$$;function L_e(){if($$)return _C;$$=1;var e=pf(),t=function(){return e.Date.now()};return _C=t,_C}var bC,B$;function j_e(){if(B$)return bC;B$=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return bC=t,bC}var SC,U$;function $_e(){if(U$)return SC;U$=1;var e=j_e(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return SC=r,SC}var AC,q$;function MZ(){if(q$)return AC;q$=1;var e=$_e(),t=Pm(),r=dy(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?s(u.slice(2),f?2:8):a.test(u)?n:+u}return AC=l,AC}var kC,z$;function B_e(){if(z$)return kC;z$=1;var e=Pm(),t=L_e(),r=MZ(),n="Expected a function",a=Math.max,i=Math.min;function o(s,l,u){var d,f,h,m,x,g,y=0,_=!1,b=!1,S=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(u)&&(_=!!u.leading,b="maxWait"in u,h=b?a(r(u.maxWait)||0,l):h,S="trailing"in u?!!u.trailing:S);function C(j){var V=d,X=f;return d=f=void 0,y=j,m=s.apply(X,V),m}function E(j){return y=j,x=setTimeout(I,l),_?C(j):m}function O(j){var V=j-g,X=j-y,te=l-V;return b?i(te,h-X):te}function T(j){var V=j-g,X=j-y;return g===void 0||V>=l||V<0||b&&X>=h}function I(){var j=t();if(T(j))return L(j);x=setTimeout(I,O(j))}function L(j){return x=void 0,S&&d?C(j):(d=f=void 0,m)}function U(){x!==void 0&&clearTimeout(x),y=0,d=g=f=x=void 0}function P(){return x===void 0?m:L(t())}function M(){var j=t(),V=T(j);if(d=arguments,f=this,g=j,V){if(x===void 0)return E(g);if(b)return clearTimeout(x),x=setTimeout(I,l),C(g)}return x===void 0&&(x=setTimeout(I,l)),m}return M.cancel=U,M.flush=P,M}return kC=o,kC}var NC,W$;function U_e(){if(W$)return NC;W$=1;var e=B_e(),t=Pm(),r="Expected a function";function n(a,i,o){var s=!0,l=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(a,i,{leading:s,maxWait:i,trailing:l})}return NC=n,NC}var q_e=U_e();const FZ=ia(q_e);function gx(e){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gx(e)}function V$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V$(Object(r),!0).forEach(function(n){z_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z_e(e,t,r){return t=W_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W_e(e){var t=V_e(e,"string");return gx(t)=="symbol"?t:t+""}function V_e(e,t){if(gx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H_e(e,t){return X_e(e)||Y_e(e,t)||K_e(e,t)||G_e()}function G_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K_e(e,t){if(e){if(typeof e=="string")return H$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H$(e,t)}}function H$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function X_e(e){if(Array.isArray(e))return e}var ks=A.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,g=x===void 0?0:x,y=e.id,_=e.className,b=e.onResize,S=e.style,C=S===void 0?{}:S,E=A.useRef(null),O=A.useRef();O.current=b,A.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=A.useState({containerWidth:a.width,containerHeight:a.height}),I=H_e(T,2),L=I[0],U=I[1],P=A.useCallback(function(j,V){U(function(X){var te=Math.round(j),z=Math.round(V);return X.containerWidth===te&&X.containerHeight===z?X:{containerWidth:te,containerHeight:z}})},[]);A.useEffect(function(){var j=function(q){var Y,Z=q[0].contentRect,D=Z.width,K=Z.height;P(D,K),(Y=O.current)===null||Y===void 0||Y.call(O,D,K)};g>0&&(j=FZ(j,g,{trailing:!0,leading:!1}));var V=new ResizeObserver(j),X=E.current.getBoundingClientRect(),te=X.width,z=X.height;return P(te,z),V.observe(E.current),function(){V.disconnect()}},[P,g]);var M=A.useMemo(function(){var j=L.containerWidth,V=L.containerHeight;if(j<0||V<0)return null;Wu(D0(o)||D0(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Wu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=D0(o)?j:o,te=D0(l)?V:l;r&&r>0&&(X?te=X/r:te&&(X=te*r),h&&te>h&&(te=h)),Wu(X>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,te,o,l,d,f,r);var z=!Array.isArray(m)&&uh(m.type).endsWith("Chart");return Qe.Children.map(m,function(G){return Qe.isValidElement(G)?A.cloneElement(G,cb({width:X,height:te},z?{style:cb({height:"100%",width:"100%",maxHeight:te,maxWidth:X},G.props.style)}:{})):G})},[r,m,l,h,f,d,L,o]);return c("div",{id:y?"".concat(y):void 0,className:un("recharts-responsive-container",_),style:cb(cb({},C),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E,children:M})}),Vc=function(t){return null};Vc.displayName="Cell";function vx(e){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vx(e)}function G$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(r),!0).forEach(function(n){Z_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z_e(e,t,r){return t=J_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J_e(e){var t=Q_e(e,"string");return vx(t)=="symbol"?t:t+""}function Q_e(e,t){if(vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sv={widthCache:{},cacheCount:0},ebe=2e3,tbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K$="recharts_measurement_span";function rbe(e){var t=M6({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var F2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Om.isSsr)return{width:0,height:0};var n=rbe(r),a=JSON.stringify({text:t,copyStyle:n});if(Sv.widthCache[a])return Sv.widthCache[a];try{var i=document.getElementById(K$);i||(i=document.createElement("span"),i.setAttribute("id",K$),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=M6(M6({},tbe),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return Sv.widthCache[a]=l,++Sv.cacheCount>ebe&&(Sv.cacheCount=0,Sv.widthCache={}),l}catch{return{width:0,height:0}}},nbe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function yx(e){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(e)}function R5(e,t){return sbe(e)||obe(e,t)||ibe(e,t)||abe()}function abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ibe(e,t){if(e){if(typeof e=="string")return Y$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y$(e,t)}}function Y$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function obe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function sbe(e){if(Array.isArray(e))return e}function lbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ube(n.key),n)}}function cbe(e,t,r){return t&&X$(e.prototype,t),r&&X$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ube(e){var t=dbe(e,"string");return yx(t)=="symbol"?t:t+""}function dbe(e,t){if(yx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pbe=Object.keys(LZ),Bv="NaN";function mbe(e,t){return e*LZ[t]}var ub=function(){function e(t,r){lbe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!fbe.test(r)&&(this.num=NaN,this.unit=""),pbe.includes(r)&&(this.num=mbe(t,r),this.unit="px")}return cbe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=hbe.exec(r))!==null&&n!==void 0?n:[],i=R5(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function jZ(e){if(e.includes(Bv))return Bv;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Z$.exec(t))!==null&&r!==void 0?r:[],a=R5(n,4),i=a[1],o=a[2],s=a[3],l=ub.parse(i??""),u=ub.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Bv;t=t.replace(Z$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=J$.exec(t))!==null&&f!==void 0?f:[],m=R5(h,4),x=m[1],g=m[2],y=m[3],_=ub.parse(x??""),b=ub.parse(y??""),S=g==="+"?_.add(b):_.subtract(b);if(S.isNaN())return Bv;t=t.replace(J$,S.toString())}return t}var Q$=/\(([^()]*)\)/;function gbe(e){for(var t=e;t.includes("(");){var r=Q$.exec(t),n=R5(r,2),a=n[1];t=t.replace(Q$,jZ(a))}return t}function vbe(e){var t=e.replace(/\s+/g,"");return t=gbe(t),t=jZ(t),t}function ybe(e){try{return vbe(e)}catch{return Bv}}function EC(e){var t=ybe(e.slice(5,-1));return t===Bv?"":t}var xbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wbe=["dx","dy","angle","className","breakAll"];function eB(e,t){if(e==null)return{};var r=_be(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _be(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tB(e,t){return kbe(e)||Abe(e,t)||Sbe(e,t)||bbe()}function bbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sbe(e,t){if(e){if(typeof e=="string")return rB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rB(e,t)}}function rB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Abe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function kbe(e){if(Array.isArray(e))return e}var $Z=/[ \f\n\r\t\v\u2028\u2029]+/,BZ=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];cn(r)||(n?i=r.toString().split(""):i=r.toString().split($Z));var o=i.map(function(l){return{word:l,width:F2(l,a).width}}),s=n?0:F2(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Nbe=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,u=t.breakAll,d=Ht(o),f=s,h=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(te,z){var G=z.word,q=z.width,Y=te[te.length-1];if(Y&&(a==null||i||Y.width+q+n<Number(a)))Y.words.push(G),Y.width+=q+n;else{var Z={words:[G],width:q};te.push(Z)}return te},[])},m=h(r),x=function(X){return X.reduce(function(te,z){return te.width>z.width?te:z})};if(!d)return m;for(var g="…",y=function(X){var te=f.slice(0,X),z=BZ({breakAll:u,style:l,children:te+g}).wordsWithComputedWidth,G=h(z),q=G.length>o||x(G).width>Number(a);return[q,G]},_=0,b=f.length-1,S=0,C;_<=b&&S<=f.length-1;){var E=Math.floor((_+b)/2),O=E-1,T=y(O),I=tB(T,2),L=I[0],U=I[1],P=y(E),M=tB(P,1),j=M[0];if(!L&&!j&&(_=E+1),L&&j&&(b=E-1),!L&&j){C=U;break}S++}return C||m},nB=function(t){var r=cn(t)?[]:t.toString().split($Z);return[{words:r}]},Ebe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Om.isSsr){var l,u,d=BZ({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return nB(a);return Nbe({breakAll:o,children:a,maxLines:s,style:i},l,u,r,n)}return nB(a)},aB="#808080",eg=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,g=x===void 0?"end":x,y=t.fill,_=y===void 0?aB:y,b=eB(t,xbe),S=A.useMemo(function(){return Ebe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),C=b.dx,E=b.dy,O=b.angle,T=b.className,I=b.breakAll,L=eB(b,wbe);if(!xo(n)||!xo(i))return null;var U=n+(Ht(C)?C:0),P=i+(Ht(E)?E:0),M;switch(g){case"start":M=EC("calc(".concat(u,")"));break;case"middle":M=EC("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=EC("calc(".concat(S.length-1," * -").concat(s,")"));break}var j=[];if(f){var V=S[0].width,X=b.width;j.push("scale(".concat((Ht(X)?X/V:1)/V,")"))}return O&&j.push("rotate(".concat(O,", ").concat(U,", ").concat(P,")")),j.length&&(L.transform=j.join(" ")),c("text",{...Or(L,!0),x:U,y:P,className:un("recharts-text",T),textAnchor:m,fill:_.includes("url")?aB:_,children:S.map(function(te,z){var G=te.words.join(I?"":" ");return c("tspan",{x:U,dy:z===0?M:s,children:G},"".concat(G,"-").concat(z))})})};function Qp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sI(e){let t,r,n;e.length!==2?(t=Qp,r=(s,l)=>Qp(e(s),l),n=(s,l)=>e(s)-l):(t=e===Qp||e===Cbe?e:Tbe,r=e,n=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function Tbe(){return 0}function UZ(e){return e===null?NaN:+e}function*Pbe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Obe=sI(Qp),Bw=Obe.right;sI(UZ).center;class iB extends Map{constructor(t,r=Rbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(oB(this,t))}has(t){return super.has(oB(this,t))}set(t,r){return super.set(Dbe(this,t),r)}delete(t){return super.delete(Ibe(this,t))}}function oB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Dbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Ibe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Rbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Mbe(e=Qp){if(e===Qp)return qZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Fbe=Math.sqrt(50),Lbe=Math.sqrt(10),jbe=Math.sqrt(2);function M5(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Fbe?10:i>=Lbe?5:i>=jbe?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?M5(e,t,r*2):[s,l,u]}function F6(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?M5(t,e,r):M5(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function L6(e,t,r){return t=+t,e=+e,r=+r,M5(e,t,r)[2]}function j6(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?L6(t,e,r):L6(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function sB(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lB(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zZ(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?qZ:Mbe(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/l+h)),x=Math.min(n,Math.floor(t+(l-u)*f/l+h));zZ(e,t,m,x,a)}const i=e[t];let o=r,s=n;for(e2(e,r,t),a(e[n],i)>0&&e2(e,r,n);o<s;){for(e2(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?e2(e,r,s):(++s,e2(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function e2(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $be(e,t,r){if(e=Float64Array.from(Pbe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return lB(e);if(t>=1)return sB(e);var n,a=(n-1)*t,i=Math.floor(a),o=sB(zZ(e,i).subarray(0,i+1)),s=lB(e.subarray(i+1));return o+(s-o)*(a-i)}}function Bbe(e,t,r=UZ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function Ube(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ru(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ph(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $6=Symbol("implicit");function lI(){var e=new iB,t=[],r=[],n=$6;function a(i){let o=e.get(i);if(o===void 0){if(n!==$6)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new iB;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return lI(t,r).unknown(n)},ru.apply(a,arguments),a}function xx(){var e=lI().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,x=m?a:n,g=m?n:a;i=(g-x)/Math.max(1,h-l+u*2),s&&(i=Math.floor(i)),x+=(g-x-i*(h-l))*d,o=i*(1-l),s&&(x=Math.round(x),o=Math.round(o));var y=Ube(h).map(function(_){return x+i*_});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return xx(t(),[n,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},ru.apply(f(),arguments)}function WZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WZ(t())},e}function L2(){return WZ(xx.apply(null,arguments).paddingInner(1))}function cI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function VZ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Uw(){}var wx=.7,F5=1/wx,Qv="\\s*([+-]?\\d+)\\s*",_x="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qbe=/^#([0-9a-f]{3,8})$/,zbe=new RegExp(`^rgb\\(${Qv},${Qv},${Qv}\\)$`),Wbe=new RegExp(`^rgb\\(${Jd},${Jd},${Jd}\\)$`),Vbe=new RegExp(`^rgba\\(${Qv},${Qv},${Qv},${_x}\\)$`),Hbe=new RegExp(`^rgba\\(${Jd},${Jd},${Jd},${_x}\\)$`),Gbe=new RegExp(`^hsl\\(${_x},${Jd},${Jd}\\)$`),Kbe=new RegExp(`^hsla\\(${_x},${Jd},${Jd},${_x}\\)$`),cB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cI(Uw,bx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uB,formatHex:uB,formatHex8:Ybe,formatHsl:Xbe,formatRgb:dB,toString:dB});function uB(){return this.rgb().formatHex()}function Ybe(){return this.rgb().formatHex8()}function Xbe(){return HZ(this).formatHsl()}function dB(){return this.rgb().formatRgb()}function bx(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fB(t):r===3?new Tl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?db(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?db(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zbe.exec(e))?new Tl(t[1],t[2],t[3],1):(t=Wbe.exec(e))?new Tl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vbe.exec(e))?db(t[1],t[2],t[3],t[4]):(t=Hbe.exec(e))?db(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Gbe.exec(e))?mB(t[1],t[2]/100,t[3]/100,1):(t=Kbe.exec(e))?mB(t[1],t[2]/100,t[3]/100,t[4]):cB.hasOwnProperty(e)?fB(cB[e]):e==="transparent"?new Tl(NaN,NaN,NaN,0):null}function fB(e){return new Tl(e>>16&255,e>>8&255,e&255,1)}function db(e,t,r,n){return n<=0&&(e=t=r=NaN),new Tl(e,t,r,n)}function Zbe(e){return e instanceof Uw||(e=bx(e)),e?(e=e.rgb(),new Tl(e.r,e.g,e.b,e.opacity)):new Tl}function B6(e,t,r,n){return arguments.length===1?Zbe(e):new Tl(e,t,r,n??1)}function Tl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cI(Tl,B6,VZ(Uw,{brighter(e){return e=e==null?F5:Math.pow(F5,e),new Tl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wx:Math.pow(wx,e),new Tl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tl($0(this.r),$0(this.g),$0(this.b),L5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hB,formatHex:hB,formatHex8:Jbe,formatRgb:pB,toString:pB}));function hB(){return`#${I0(this.r)}${I0(this.g)}${I0(this.b)}`}function Jbe(){return`#${I0(this.r)}${I0(this.g)}${I0(this.b)}${I0((isNaN(this.opacity)?1:this.opacity)*255)}`}function pB(){const e=L5(this.opacity);return`${e===1?"rgb(":"rgba("}${$0(this.r)}, ${$0(this.g)}, ${$0(this.b)}${e===1?")":`, ${e})`}`}function L5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function I0(e){return e=$0(e),(e<16?"0":"")+e.toString(16)}function mB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ju(e,t,r,n)}function HZ(e){if(e instanceof ju)return new ju(e.h,e.s,e.l,e.opacity);if(e instanceof Uw||(e=bx(e)),!e)return new ju;if(e instanceof ju)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new ju(o,s,l,e.opacity)}function Qbe(e,t,r,n){return arguments.length===1?HZ(e):new ju(e,t,r,n??1)}function ju(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cI(ju,Qbe,VZ(Uw,{brighter(e){return e=e==null?F5:Math.pow(F5,e),new ju(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wx:Math.pow(wx,e),new ju(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Tl(CC(e>=240?e-240:e+120,a,n),CC(e,a,n),CC(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ju(gB(this.h),fb(this.s),fb(this.l),L5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=L5(this.opacity);return`${e===1?"hsl(":"hsla("}${gB(this.h)}, ${fb(this.s)*100}%, ${fb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gB(e){return e=(e||0)%360,e<0?e+360:e}function fb(e){return Math.max(0,Math.min(1,e||0))}function CC(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const uI=e=>()=>e;function e5e(e,t){return function(r){return e+r*t}}function t5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function r5e(e){return(e=+e)==1?GZ:function(t,r){return r-t?t5e(t,r,e):uI(isNaN(t)?r:t)}}function GZ(e,t){var r=t-e;return r?e5e(e,r):uI(isNaN(e)?t:e)}const vB=function e(t){var r=r5e(t);function n(a,i){var o=r((a=B6(a)).r,(i=B6(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),u=GZ(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function n5e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function a5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function i5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=my(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function o5e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function j5(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function s5e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=my(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var U6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TC=new RegExp(U6.source,"g");function l5e(e){return function(){return e}}function c5e(e){return function(t){return e(t)+""}}function u5e(e,t){var r=U6.lastIndex=TC.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=U6.exec(e))&&(a=TC.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:j5(n,a)})),r=TC.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?c5e(l[0].x):l5e(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function my(e,t){var r=typeof t,n;return t==null||r==="boolean"?uI(t):(r==="number"?j5:r==="string"?(n=bx(t))?(t=n,vB):u5e:t instanceof bx?vB:t instanceof Date?o5e:a5e(t)?n5e:Array.isArray(t)?i5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s5e:j5)(e,t)}function dI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function d5e(e,t){t===void 0&&(t=e,e=my);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function f5e(e){return function(){return e}}function $5(e){return+e}var yB=[0,1];function ol(e){return e}function q6(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:f5e(isNaN(t)?NaN:.5)}function h5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function p5e(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=q6(a,n),i=r(o,i)):(n=q6(n,a),i=r(i,o)),function(s){return i(n(s))}}function m5e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=q6(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=Bw(e,s,1,n)-1;return i[l](a[l](s))}}function qw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function H4(){var e=yB,t=yB,r=my,n,a,i,o=ol,s,l,u;function d(){var h=Math.min(e.length,t.length);return o!==ol&&(o=h5e(e[0],e[h-1])),s=h>2?m5e:p5e,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(n),j5)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,$5),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=dI,d()},f.clamp=function(h){return arguments.length?(o=h?!0:ol,d()):o!==ol},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function fI(){return H4()(ol,ol)}function g5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function B5(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function A1(e){return e=B5(Math.abs(e)),e?e[1]:NaN}function v5e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function y5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var x5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sx(e){if(!(t=x5e.exec(e)))throw new Error("invalid format: "+e);var t;return new hI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sx.prototype=hI.prototype;function hI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function w5e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var KZ;function _5e(e,t){var r=B5(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(KZ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+B5(e,Math.max(0,t+i-1))[0]}function xB(e,t){var r=B5(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:g5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xB(e*100,t),r:xB,s:_5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _B(e){return e}var bB=Array.prototype.map,SB=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function b5e(e){var t=e.grouping===void 0||e.thousands===void 0?_B:v5e(bB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_B:y5e(bB.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Sx(f);var h=f.fill,m=f.align,x=f.sign,g=f.symbol,y=f.zero,_=f.width,b=f.comma,S=f.precision,C=f.trim,E=f.type;E==="n"?(b=!0,E="g"):wB[E]||(S===void 0&&(S=12),C=!0,E="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var O=g==="$"?r:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=g==="$"?n:/[%p]/.test(E)?o:"",I=wB[E],L=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function U(P){var M=O,j=T,V,X,te;if(E==="c")j=I(P)+j,P="";else{P=+P;var z=P<0||1/P<0;if(P=isNaN(P)?l:I(Math.abs(P),S),C&&(P=w5e(P)),z&&+P==0&&x!=="+"&&(z=!1),M=(z?x==="("?x:s:x==="-"||x==="("?"":x)+M,j=(E==="s"?SB[8+KZ/3]:"")+j+(z&&x==="("?")":""),L){for(V=-1,X=P.length;++V<X;)if(te=P.charCodeAt(V),48>te||te>57){j=(te===46?a+P.slice(V+1):P.slice(V))+j,P=P.slice(0,V);break}}}b&&!y&&(P=t(P,1/0));var G=M.length+P.length+j.length,q=G<_?new Array(_-G+1).join(h):"";switch(b&&y&&(P=t(q+P,q.length?_-j.length:1/0),q=""),m){case"<":P=M+P+j+q;break;case"=":P=M+q+P+j;break;case"^":P=q.slice(0,G=q.length>>1)+M+P+j+q.slice(G);break;default:P=q+M+P+j;break}return i(P)}return U.toString=function(){return f+""},U}function d(f,h){var m=u((f=Sx(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(A1(h)/3)))*3,g=Math.pow(10,-x),y=SB[8+x/3];return function(_){return m(g*_)+y}}return{format:u,formatPrefix:d}}var hb,pI,YZ;S5e({thousands:",",grouping:[3],currency:["$",""]});function S5e(e){return hb=b5e(e),pI=hb.format,YZ=hb.formatPrefix,hb}function A5e(e){return Math.max(0,-A1(Math.abs(e)))}function k5e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(A1(t)/3)))*3-A1(Math.abs(e)))}function N5e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,A1(t)-A1(e))+1}function XZ(e,t,r,n){var a=j6(e,t,r),i;switch(n=Sx(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=k5e(a,o))&&(n.precision=i),YZ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=N5e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=A5e(a))&&(n.precision=i-(n.type==="%")*2);break}}return pI(n)}function Dm(e){var t=e.domain;return e.ticks=function(r){var n=t();return F6(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return XZ(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=L6(o,s,r),u===l)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function U5(){var e=fI();return e.copy=function(){return qw(e,U5())},ru.apply(e,arguments),Dm(e)}function ZZ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$5),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ZZ(e).unknown(t)},e=arguments.length?Array.from(e,$5):[0,1],Dm(r)}function JZ(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function AB(e){return Math.log(e)}function kB(e){return Math.exp(e)}function E5e(e){return-Math.log(-e)}function C5e(e){return-Math.exp(-e)}function T5e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function P5e(e){return e===10?T5e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function O5e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NB(e){return(t,r)=>-e(-t,r)}function mI(e){const t=e(AB,kB),r=t.domain;let n=10,a,i;function o(){return a=O5e(n),i=P5e(n),r()[0]<0?(a=NB(a),i=NB(i),e(E5e,C5e)):e(AB,kB),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),x,g;const y=s==null?10:+s;let _=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(g=h<0?x/i(-h):x*i(h),!(g<u)){if(g>d)break;_.push(g)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(g=h>0?x/i(-h):x*i(h),!(g<u)){if(g>d)break;_.push(g)}_.length*2<y&&(_=F6(u,d,y))}else _=F6(h,m,Math.min(m-h,y)).map(i);return f?_.reverse():_},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Sx(l)).precision==null&&(l.trim=!0),l=pI(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(JZ(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function QZ(){const e=mI(H4()).domain([1,10]);return e.copy=()=>qw(e,QZ()).base(e.base()),ru.apply(e,arguments),e}function EB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function CB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gI(e){var t=1,r=e(EB(t),CB(t));return r.constant=function(n){return arguments.length?e(EB(t=+n),CB(t)):t},Dm(r)}function eJ(){var e=gI(H4());return e.copy=function(){return qw(e,eJ()).constant(e.constant())},ru.apply(e,arguments)}function TB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function D5e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function I5e(e){return e<0?-e*e:e*e}function vI(e){var t=e(ol,ol),r=1;function n(){return r===1?e(ol,ol):r===.5?e(D5e,I5e):e(TB(r),TB(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Dm(t)}function yI(){var e=vI(H4());return e.copy=function(){return qw(e,yI()).exponent(e.exponent())},ru.apply(e,arguments),e}function R5e(){return yI.apply(null,arguments).exponent(.5)}function PB(e){return Math.sign(e)*e*e}function M5e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tJ(){var e=fI(),t=[0,1],r=!1,n;function a(i){var o=M5e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(PB(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,$5)).map(PB)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return tJ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ru.apply(a,arguments),Dm(a)}function rJ(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Bbe(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Bw(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qp),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return rJ().domain(e).range(t).unknown(n)},ru.apply(i,arguments)}function nJ(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Bw(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return nJ().domain([e,t]).range(a).unknown(i)},ru.apply(Dm(o),arguments)}function aJ(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Bw(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return aJ().domain(e).range(t).unknown(r)},ru.apply(a,arguments)}const PC=new Date,OC=new Date;function _o(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>_o(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(PC.setTime(+i),OC.setTime(+o),e(PC),e(OC),Math.floor(r(PC,OC))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const q5=_o(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);q5.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_o(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):q5);q5.range;const ih=1e3,Kc=ih*60,oh=Kc*60,xh=oh*24,xI=xh*7,OB=xh*30,DC=xh*365,R0=_o(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ih)},(e,t)=>(t-e)/ih,e=>e.getUTCSeconds());R0.range;const wI=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ih)},(e,t)=>{e.setTime(+e+t*Kc)},(e,t)=>(t-e)/Kc,e=>e.getMinutes());wI.range;const _I=_o(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kc)},(e,t)=>(t-e)/Kc,e=>e.getUTCMinutes());_I.range;const bI=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ih-e.getMinutes()*Kc)},(e,t)=>{e.setTime(+e+t*oh)},(e,t)=>(t-e)/oh,e=>e.getHours());bI.range;const SI=_o(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oh)},(e,t)=>(t-e)/oh,e=>e.getUTCHours());SI.range;const zw=_o(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kc)/xh,e=>e.getDate()-1);zw.range;const G4=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xh,e=>e.getUTCDate()-1);G4.range;const iJ=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xh,e=>Math.floor(e/xh));iJ.range;function kg(e){return _o(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kc)/xI)}const K4=kg(0),z5=kg(1),F5e=kg(2),L5e=kg(3),k1=kg(4),j5e=kg(5),$5e=kg(6);K4.range;z5.range;F5e.range;L5e.range;k1.range;j5e.range;$5e.range;function Ng(e){return _o(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/xI)}const Y4=Ng(0),W5=Ng(1),B5e=Ng(2),U5e=Ng(3),N1=Ng(4),q5e=Ng(5),z5e=Ng(6);Y4.range;W5.range;B5e.range;U5e.range;N1.range;q5e.range;z5e.range;const AI=_o(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());AI.range;const kI=_o(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kI.range;const wh=_o(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wh.range;const _h=_o(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_h.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_h.range;function oJ(e,t,r,n,a,i){const o=[[R0,1,ih],[R0,5,5*ih],[R0,15,15*ih],[R0,30,30*ih],[i,1,Kc],[i,5,5*Kc],[i,15,15*Kc],[i,30,30*Kc],[a,1,oh],[a,3,3*oh],[a,6,6*oh],[a,12,12*oh],[n,1,xh],[n,2,2*xh],[r,1,xI],[t,1,OB],[t,3,3*OB],[e,1,DC]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),x=m?m.range(u,+d+1):[];return h?x.reverse():x}function l(u,d,f){const h=Math.abs(d-u)/f,m=sI(([,,y])=>y).right(o,h);if(m===o.length)return e.every(j6(u/DC,d/DC,f));if(m===0)return q5.every(Math.max(j6(u,d,f),1));const[x,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(g)}return[s,l]}const[W5e,V5e]=oJ(_h,kI,Y4,iJ,SI,_I),[H5e,G5e]=oJ(wh,AI,K4,zw,bI,wI);function IC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function RC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function t2(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function K5e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=r2(a),d=n2(a),f=r2(i),h=n2(i),m=r2(o),x=n2(o),g=r2(s),y=n2(s),_=r2(l),b=n2(l),S={a:z,A:G,b:q,B:Y,c:null,d:LB,e:LB,f:vSe,g:ESe,G:TSe,H:pSe,I:mSe,j:gSe,L:sJ,m:ySe,M:xSe,p:Z,q:D,Q:BB,s:UB,S:wSe,u:_Se,U:bSe,V:SSe,w:ASe,W:kSe,x:null,X:null,y:NSe,Y:CSe,Z:PSe,"%":$B},C={a:K,A:Q,b:ie,B:ae,c:null,d:jB,e:jB,f:RSe,g:WSe,G:HSe,H:OSe,I:DSe,j:ISe,L:cJ,m:MSe,M:FSe,p:oe,q:de,Q:BB,s:UB,S:LSe,u:jSe,U:$Se,V:BSe,w:USe,W:qSe,x:null,X:null,y:zSe,Y:VSe,Z:GSe,"%":$B},E={a:U,A:P,b:M,B:j,c:V,d:MB,e:MB,f:uSe,g:RB,G:IB,H:FB,I:FB,j:oSe,L:cSe,m:iSe,M:sSe,p:L,q:aSe,Q:fSe,s:hSe,S:lSe,u:Q5e,U:eSe,V:tSe,w:J5e,W:rSe,x:X,X:te,y:RB,Y:IB,Z:nSe,"%":dSe};S.x=O(r,S),S.X=O(n,S),S.c=O(t,S),C.x=O(r,C),C.X=O(n,C),C.c=O(t,C);function O(J,ue){return function(ge){var ne=[],Ne=-1,Re=0,De=J.length,pe,Je,mt;for(ge instanceof Date||(ge=new Date(+ge));++Ne<De;)J.charCodeAt(Ne)===37&&(ne.push(J.slice(Re,Ne)),(Je=DB[pe=J.charAt(++Ne)])!=null?pe=J.charAt(++Ne):Je=pe==="e"?" ":"0",(mt=ue[pe])&&(pe=mt(ge,Je)),ne.push(pe),Re=Ne+1);return ne.push(J.slice(Re,Ne)),ne.join("")}}function T(J,ue){return function(ge){var ne=t2(1900,void 0,1),Ne=I(ne,J,ge+="",0),Re,De;if(Ne!=ge.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ue&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Re=RC(t2(ne.y,0,1)),De=Re.getUTCDay(),Re=De>4||De===0?W5.ceil(Re):W5(Re),Re=G4.offset(Re,(ne.V-1)*7),ne.y=Re.getUTCFullYear(),ne.m=Re.getUTCMonth(),ne.d=Re.getUTCDate()+(ne.w+6)%7):(Re=IC(t2(ne.y,0,1)),De=Re.getDay(),Re=De>4||De===0?z5.ceil(Re):z5(Re),Re=zw.offset(Re,(ne.V-1)*7),ne.y=Re.getFullYear(),ne.m=Re.getMonth(),ne.d=Re.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),De="Z"in ne?RC(t2(ne.y,0,1)).getUTCDay():IC(t2(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(De+5)%7:ne.w+ne.U*7-(De+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,RC(ne)):IC(ne)}}function I(J,ue,ge,ne){for(var Ne=0,Re=ue.length,De=ge.length,pe,Je;Ne<Re;){if(ne>=De)return-1;if(pe=ue.charCodeAt(Ne++),pe===37){if(pe=ue.charAt(Ne++),Je=E[pe in DB?ue.charAt(Ne++):pe],!Je||(ne=Je(J,ge,ne))<0)return-1}else if(pe!=ge.charCodeAt(ne++))return-1}return ne}function L(J,ue,ge){var ne=u.exec(ue.slice(ge));return ne?(J.p=d.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function U(J,ue,ge){var ne=m.exec(ue.slice(ge));return ne?(J.w=x.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function P(J,ue,ge){var ne=f.exec(ue.slice(ge));return ne?(J.w=h.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function M(J,ue,ge){var ne=_.exec(ue.slice(ge));return ne?(J.m=b.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function j(J,ue,ge){var ne=g.exec(ue.slice(ge));return ne?(J.m=y.get(ne[0].toLowerCase()),ge+ne[0].length):-1}function V(J,ue,ge){return I(J,t,ue,ge)}function X(J,ue,ge){return I(J,r,ue,ge)}function te(J,ue,ge){return I(J,n,ue,ge)}function z(J){return o[J.getDay()]}function G(J){return i[J.getDay()]}function q(J){return l[J.getMonth()]}function Y(J){return s[J.getMonth()]}function Z(J){return a[+(J.getHours()>=12)]}function D(J){return 1+~~(J.getMonth()/3)}function K(J){return o[J.getUTCDay()]}function Q(J){return i[J.getUTCDay()]}function ie(J){return l[J.getUTCMonth()]}function ae(J){return s[J.getUTCMonth()]}function oe(J){return a[+(J.getUTCHours()>=12)]}function de(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ue=O(J+="",S);return ue.toString=function(){return J},ue},parse:function(J){var ue=T(J+="",!1);return ue.toString=function(){return J},ue},utcFormat:function(J){var ue=O(J+="",C);return ue.toString=function(){return J},ue},utcParse:function(J){var ue=T(J+="",!0);return ue.toString=function(){return J},ue}}}var DB={"-":"",_:" ",0:"0"},qo=/^\s*\d+/,Y5e=/^%/,X5e=/[\\^$*+?|[\]().{}]/g;function Jn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Z5e(e){return e.replace(X5e,"\\$&")}function r2(e){return new RegExp("^(?:"+e.map(Z5e).join("|")+")","i")}function n2(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function J5e(e,t,r){var n=qo.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Q5e(e,t,r){var n=qo.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function eSe(e,t,r){var n=qo.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tSe(e,t,r){var n=qo.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rSe(e,t,r){var n=qo.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function IB(e,t,r){var n=qo.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function RB(e,t,r){var n=qo.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nSe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aSe(e,t,r){var n=qo.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iSe(e,t,r){var n=qo.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function MB(e,t,r){var n=qo.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function oSe(e,t,r){var n=qo.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function FB(e,t,r){var n=qo.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function sSe(e,t,r){var n=qo.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lSe(e,t,r){var n=qo.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cSe(e,t,r){var n=qo.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uSe(e,t,r){var n=qo.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dSe(e,t,r){var n=Y5e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function fSe(e,t,r){var n=qo.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hSe(e,t,r){var n=qo.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function LB(e,t){return Jn(e.getDate(),t,2)}function pSe(e,t){return Jn(e.getHours(),t,2)}function mSe(e,t){return Jn(e.getHours()%12||12,t,2)}function gSe(e,t){return Jn(1+zw.count(wh(e),e),t,3)}function sJ(e,t){return Jn(e.getMilliseconds(),t,3)}function vSe(e,t){return sJ(e,t)+"000"}function ySe(e,t){return Jn(e.getMonth()+1,t,2)}function xSe(e,t){return Jn(e.getMinutes(),t,2)}function wSe(e,t){return Jn(e.getSeconds(),t,2)}function _Se(e){var t=e.getDay();return t===0?7:t}function bSe(e,t){return Jn(K4.count(wh(e)-1,e),t,2)}function lJ(e){var t=e.getDay();return t>=4||t===0?k1(e):k1.ceil(e)}function SSe(e,t){return e=lJ(e),Jn(k1.count(wh(e),e)+(wh(e).getDay()===4),t,2)}function ASe(e){return e.getDay()}function kSe(e,t){return Jn(z5.count(wh(e)-1,e),t,2)}function NSe(e,t){return Jn(e.getFullYear()%100,t,2)}function ESe(e,t){return e=lJ(e),Jn(e.getFullYear()%100,t,2)}function CSe(e,t){return Jn(e.getFullYear()%1e4,t,4)}function TSe(e,t){var r=e.getDay();return e=r>=4||r===0?k1(e):k1.ceil(e),Jn(e.getFullYear()%1e4,t,4)}function PSe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jn(t/60|0,"0",2)+Jn(t%60,"0",2)}function jB(e,t){return Jn(e.getUTCDate(),t,2)}function OSe(e,t){return Jn(e.getUTCHours(),t,2)}function DSe(e,t){return Jn(e.getUTCHours()%12||12,t,2)}function ISe(e,t){return Jn(1+G4.count(_h(e),e),t,3)}function cJ(e,t){return Jn(e.getUTCMilliseconds(),t,3)}function RSe(e,t){return cJ(e,t)+"000"}function MSe(e,t){return Jn(e.getUTCMonth()+1,t,2)}function FSe(e,t){return Jn(e.getUTCMinutes(),t,2)}function LSe(e,t){return Jn(e.getUTCSeconds(),t,2)}function jSe(e){var t=e.getUTCDay();return t===0?7:t}function $Se(e,t){return Jn(Y4.count(_h(e)-1,e),t,2)}function uJ(e){var t=e.getUTCDay();return t>=4||t===0?N1(e):N1.ceil(e)}function BSe(e,t){return e=uJ(e),Jn(N1.count(_h(e),e)+(_h(e).getUTCDay()===4),t,2)}function USe(e){return e.getUTCDay()}function qSe(e,t){return Jn(W5.count(_h(e)-1,e),t,2)}function zSe(e,t){return Jn(e.getUTCFullYear()%100,t,2)}function WSe(e,t){return e=uJ(e),Jn(e.getUTCFullYear()%100,t,2)}function VSe(e,t){return Jn(e.getUTCFullYear()%1e4,t,4)}function HSe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?N1(e):N1.ceil(e),Jn(e.getUTCFullYear()%1e4,t,4)}function GSe(){return"+0000"}function $B(){return"%"}function BB(e){return+e}function UB(e){return Math.floor(+e/1e3)}var Av,dJ,fJ;KSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KSe(e){return Av=K5e(e),dJ=Av.format,Av.parse,fJ=Av.utcFormat,Av.utcParse,Av}function YSe(e){return new Date(e)}function XSe(e){return e instanceof Date?+e:+new Date(+e)}function NI(e,t,r,n,a,i,o,s,l,u){var d=fI(),f=d.invert,h=d.domain,m=u(".%L"),x=u(":%S"),g=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),b=u("%b %d"),S=u("%B"),C=u("%Y");function E(O){return(l(O)<O?m:s(O)<O?x:o(O)<O?g:i(O)<O?y:n(O)<O?a(O)<O?_:b:r(O)<O?S:C)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?h(Array.from(O,XSe)):h().map(YSe)},d.ticks=function(O){var T=h();return e(T[0],T[T.length-1],O??10)},d.tickFormat=function(O,T){return T==null?E:u(T)},d.nice=function(O){var T=h();return(!O||typeof O.range!="function")&&(O=t(T[0],T[T.length-1],O??10)),O?h(JZ(T,O)):d},d.copy=function(){return qw(d,NI(e,t,r,n,a,i,o,s,l,u))},d}function ZSe(){return ru.apply(NI(H5e,G5e,wh,AI,K4,zw,bI,wI,R0,dJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JSe(){return ru.apply(NI(W5e,V5e,_h,kI,Y4,G4,SI,_I,R0,fJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X4(){var e=0,t=1,r,n,a,i,o=ol,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,x;return arguments.length?([m,x]=h,o=f(m,x),u):[o(0),o(1)]}}return u.range=d(my),u.rangeRound=d(dI),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Im(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hJ(){var e=Dm(X4()(ol));return e.copy=function(){return Im(e,hJ())},Ph.apply(e,arguments)}function pJ(){var e=mI(X4()).domain([1,10]);return e.copy=function(){return Im(e,pJ()).base(e.base())},Ph.apply(e,arguments)}function mJ(){var e=gI(X4());return e.copy=function(){return Im(e,mJ()).constant(e.constant())},Ph.apply(e,arguments)}function EI(){var e=vI(X4());return e.copy=function(){return Im(e,EI()).exponent(e.exponent())},Ph.apply(e,arguments)}function QSe(){return EI.apply(null,arguments).exponent(.5)}function gJ(){var e=[],t=ol;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bw(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qp),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>$be(e,i/n))},r.copy=function(){return gJ(t).domain(e)},Ph.apply(r,arguments)}function Z4(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,u=ol,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?s:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function x(g){return function(y){var _,b,S;return arguments.length?([_,b,S]=y,u=d5e(g,[_,b,S]),m):[u(0),u(.5),u(1)]}}return m.range=x(my),m.rangeRound=x(dI),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),i=g(t),o=g(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function vJ(){var e=Dm(Z4()(ol));return e.copy=function(){return Im(e,vJ())},Ph.apply(e,arguments)}function yJ(){var e=mI(Z4()).domain([.1,1,10]);return e.copy=function(){return Im(e,yJ()).base(e.base())},Ph.apply(e,arguments)}function xJ(){var e=gI(Z4());return e.copy=function(){return Im(e,xJ()).constant(e.constant())},Ph.apply(e,arguments)}function CI(){var e=vI(Z4());return e.copy=function(){return Im(e,CI()).exponent(e.exponent())},Ph.apply(e,arguments)}function e4e(){return CI.apply(null,arguments).exponent(.5)}const qB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xx,scaleDiverging:vJ,scaleDivergingLog:yJ,scaleDivergingPow:CI,scaleDivergingSqrt:e4e,scaleDivergingSymlog:xJ,scaleIdentity:ZZ,scaleImplicit:$6,scaleLinear:U5,scaleLog:QZ,scaleOrdinal:lI,scalePoint:L2,scalePow:yI,scaleQuantile:rJ,scaleQuantize:nJ,scaleRadial:tJ,scaleSequential:hJ,scaleSequentialLog:pJ,scaleSequentialPow:EI,scaleSequentialQuantile:gJ,scaleSequentialSqrt:QSe,scaleSequentialSymlog:mJ,scaleSqrt:R5e,scaleSymlog:eJ,scaleThreshold:aJ,scaleTime:ZSe,scaleUtc:JSe,tickFormat:XZ},Symbol.toStringTag,{value:"Module"}));var MC,zB;function J4(){if(zB)return MC;zB=1;var e=dy();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var s=r[i],l=n(s);if(l!=null&&(u===void 0?l===l&&!e(l):a(l,u)))var u=l,d=s}return d}return MC=t,MC}var FC,WB;function wJ(){if(WB)return FC;WB=1;function e(t,r){return t>r}return FC=e,FC}var LC,VB;function t4e(){if(VB)return LC;VB=1;var e=J4(),t=wJ(),r=py();function n(a){return a&&a.length?e(a,r,t):void 0}return LC=n,LC}var r4e=t4e();const Hp=ia(r4e);var jC,HB;function _J(){if(HB)return jC;HB=1;function e(t,r){return t<r}return jC=e,jC}var $C,GB;function n4e(){if(GB)return $C;GB=1;var e=J4(),t=_J(),r=py();function n(a){return a&&a.length?e(a,r,t):void 0}return $C=n,$C}var a4e=n4e();const Q4=ia(a4e);var BC,KB;function i4e(){if(KB)return BC;KB=1;var e=WD(),t=mf(),r=TZ(),n=jl();function a(i,o){var s=n(i)?e:r;return s(i,t(o,3))}return BC=a,BC}var UC,YB;function o4e(){if(YB)return UC;YB=1;var e=EZ(),t=i4e();function r(n,a){return e(t(n,a),1)}return UC=r,UC}var s4e=o4e();const l4e=ia(s4e);var qC,XB;function c4e(){if(XB)return qC;XB=1;var e=nI();function t(r,n){return e(r,n)}return qC=t,qC}var u4e=c4e();const tg=ia(u4e);var gy=1e9,d4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PI,ni=!0,Qc="[DecimalError] ",B0=Qc+"Invalid argument: ",TI=Qc+"Exponent out of range: ",vy=Math.floor,A0=Math.pow,f4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sc,Io=1e7,Wa=7,bJ=9007199254740991,V5=vy(bJ/Wa),br={};br.absoluteValue=br.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};br.comparedTo=br.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};br.decimalPlaces=br.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};br.dividedBy=br.div=function(e){return dh(this,new this.constructor(e))};br.dividedToIntegerBy=br.idiv=function(e){var t=this,r=t.constructor;return Aa(dh(t,new r(e),0,1),r.precision)};br.equals=br.eq=function(e){return!this.cmp(e)};br.exponent=function(){return so(this)};br.greaterThan=br.gt=function(e){return this.cmp(e)>0};br.greaterThanOrEqualTo=br.gte=function(e){return this.cmp(e)>=0};br.isInteger=br.isint=function(){return this.e>this.d.length-2};br.isNegative=br.isneg=function(){return this.s<0};br.isPositive=br.ispos=function(){return this.s>0};br.isZero=function(){return this.s===0};br.lessThan=br.lt=function(e){return this.cmp(e)<0};br.lessThanOrEqualTo=br.lte=function(e){return this.cmp(e)<1};br.logarithm=br.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sc))throw Error(Qc+"NaN");if(r.s<1)throw Error(Qc+(r.s?"NaN":"-Infinity"));return r.eq(sc)?new n(0):(ni=!1,t=dh(Ax(r,i),Ax(e,i),i),ni=!0,Aa(t,a))};br.minus=br.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kJ(t,e):SJ(t,(e.s=-e.s,e))};br.modulo=br.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Qc+"NaN");return r.s?(ni=!1,t=dh(r,e,0,1).times(e),ni=!0,r.minus(t)):Aa(new n(r),a)};br.naturalExponential=br.exp=function(){return AJ(this)};br.naturalLogarithm=br.ln=function(){return Ax(this)};br.negated=br.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};br.plus=br.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SJ(t,e):kJ(t,(e.s=-e.s,e))};br.precision=br.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(B0+e);if(t=so(a)+1,n=a.d.length-1,r=n*Wa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};br.squareRoot=br.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Qc+"NaN")}for(e=so(s),ni=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Vd(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=vy((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(dh(s,i,o+2)).times(.5),Vd(i.d).slice(0,o)===(t=Vd(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Aa(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return ni=!0,Aa(n,r)};br.times=br.mul=function(e){var t,r,n,a,i,o,s,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=m.length,l<u&&(i=h,h=m,m=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+m[n]*h[a-n-1]+t,i[a--]=s%Io|0,t=s/Io|0;i[a]=(i[a]+t)%Io|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ni?Aa(e,f.precision):e};br.toDecimalPlaces=br.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(lf(e,0,gy),t===void 0?t=n.rounding:lf(t,0,8),Aa(r,e+so(r)+1,t))};br.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=rg(n,!0):(lf(e,0,gy),t===void 0?t=a.rounding:lf(t,0,8),n=Aa(new a(n),e+1,t),r=rg(n,!0,e+1)),r};br.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?rg(a):(lf(e,0,gy),t===void 0?t=i.rounding:lf(t,0,8),n=Aa(new i(a),e+so(a)+1,t),r=rg(n.abs(),!1,e+so(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};br.toInteger=br.toint=function(){var e=this,t=e.constructor;return Aa(new t(e),so(e)+1,t.rounding)};br.toNumber=function(){return+this};br.toPower=br.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(sc);if(s=new l(s),!s.s){if(e.s<1)throw Error(Qc+"Infinity");return s}if(s.eq(sc))return s;if(n=l.precision,e.eq(sc))return Aa(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=bJ){for(a=new l(sc),t=Math.ceil(n/Wa+4),ni=!1;r%2&&(a=a.times(s),JB(a.d,t)),r=vy(r/2),r!==0;)s=s.times(s),JB(s.d,t);return ni=!0,e.s<0?new l(sc).div(a):Aa(a,n)}}else if(i<0)throw Error(Qc+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,ni=!1,a=e.times(Ax(s,n+u)),ni=!0,a=AJ(a),a.s=i,a};br.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=so(a),n=rg(a,r<=i.toExpNeg||r>=i.toExpPos)):(lf(e,1,gy),t===void 0?t=i.rounding:lf(t,0,8),a=Aa(new i(a),e,t),r=so(a),n=rg(a,e<=r||r<=i.toExpNeg,e)),n};br.toSignificantDigits=br.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(lf(e,1,gy),t===void 0?t=n.rounding:lf(t,0,8)),Aa(new n(r),e,t)};br.toString=br.valueOf=br.val=br.toJSON=br[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=so(e),r=e.constructor;return rg(e,t<=r.toExpNeg||t>=r.toExpPos)};function SJ(e,t){var r,n,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ni?Aa(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=u.length):(n=u,a=o,s=l.length),o=Math.ceil(f/Wa),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Io|0,l[i]%=Io;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,ni?Aa(t,f):t}function lf(e,t,r){if(e!==~~e||e<t||e>r)throw Error(B0+e)}function Vd(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Wa-n.length,r&&(i+=Bp(r)),i+=n;o=e[t],n=o+"",r=Wa-n.length,r&&(i+=Bp(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var dh=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Io|0,o=i/Io|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Io+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,u,d,f,h,m,x,g,y,_,b,S,C,E,O,T,I,L=n.constructor,U=n.s==a.s?1:-1,P=n.d,M=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(Qc+"Division by zero");for(l=n.e-a.e,T=M.length,E=P.length,m=new L(U),x=m.d=[],u=0;M[u]==(P[u]||0);)++u;if(M[u]>(P[u]||0)&&--l,i==null?b=i=L.precision:o?b=i+(so(n)-so(a))+1:b=i,b<0)return new L(0);if(b=b/Wa+2|0,u=0,T==1)for(d=0,M=M[0],b++;(u<E||d)&&b--;u++)S=d*Io+(P[u]||0),x[u]=S/M|0,d=S%M|0;else{for(d=Io/(M[0]+1)|0,d>1&&(M=e(M,d),P=e(P,d),T=M.length,E=P.length),C=T,g=P.slice(0,T),y=g.length;y<T;)g[y++]=0;I=M.slice(),I.unshift(0),O=M[0],M[1]>=Io/2&&++O;do d=0,s=t(M,g,T,y),s<0?(_=g[0],T!=y&&(_=_*Io+(g[1]||0)),d=_/O|0,d>1?(d>=Io&&(d=Io-1),f=e(M,d),h=f.length,y=g.length,s=t(f,g,h,y),s==1&&(d--,r(f,T<h?I:M,h))):(d==0&&(s=d=1),f=M.slice()),h=f.length,h<y&&f.unshift(0),r(g,f,y),s==-1&&(y=g.length,s=t(M,g,T,y),s<1&&(d++,r(g,T<y?I:M,y))),y=g.length):s===0&&(d++,g=[0]),x[u++]=d,s&&g[0]?g[y++]=P[C]||0:(g=[P[C]],y=1);while((C++<E||g[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=l,Aa(m,o?i+so(m)+1:i)}}();function AJ(e,t){var r,n,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(so(e)>16)throw Error(TI+so(e));if(!e.s)return new d(sc);for(ni=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(A0(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(sc),d.precision=s;;){if(a=Aa(a.times(e),s),r=r.times(++l),o=i.plus(dh(a,r,s)),Vd(o.d).slice(0,s)===Vd(i.d).slice(0,s)){for(;u--;)i=Aa(i.times(i),s);return d.precision=f,t==null?(ni=!0,Aa(i,f)):i}i=o}}function so(e){for(var t=e.e*Wa,r=e.d[0];r>=10;r/=10)t++;return t}function zC(e,t,r){if(t>e.LN10.sd())throw ni=!0,r&&(e.precision=r),Error(Qc+"LN10 precision limit exceeded");return Aa(new e(e.LN10),t)}function Bp(e){for(var t="";e--;)t+="0";return t}function Ax(e,t){var r,n,a,i,o,s,l,u,d,f=1,h=10,m=e,x=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Qc+(m.s?"NaN":"-Infinity"));if(m.eq(sc))return new g(0);if(t==null?(ni=!1,u=y):u=t,m.eq(10))return t==null&&(ni=!0),zC(g,u);if(u+=h,g.precision=u,r=Vd(x),n=r.charAt(0),i=so(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Vd(m.d),n=r.charAt(0),f++;i=so(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return l=zC(g,u+2,y).times(i+""),m=Ax(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=y,t==null?(ni=!0,Aa(m,y)):m;for(s=o=m=dh(m.minus(sc),m.plus(sc),u),d=Aa(m.times(m),u),a=3;;){if(o=Aa(o.times(d),u),l=s.plus(dh(o,new g(a),u)),Vd(l.d).slice(0,u)===Vd(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(zC(g,u+2,y).times(i+""))),s=dh(s,new g(f),u),g.precision=y,t==null?(ni=!0,Aa(s,y)):s;s=l,a+=2}}function ZB(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=vy(r/Wa),e.d=[],n=(r+1)%Wa,r<0&&(n+=Wa),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Wa;n<a;)e.d.push(+t.slice(n,n+=Wa));t=t.slice(n),n=Wa-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ni&&(e.e>V5||e.e<-V5))throw Error(TI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Aa(e,t,r){var n,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Wa,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Wa),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Wa,a=n-Wa+o}if(r!==void 0&&(i=A0(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?u/A0(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=so(e),f.length=1,t=t-i-1,f[0]=A0(10,(Wa-t%Wa)%Wa),e.e=vy(-t/Wa)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=A0(10,Wa-n),f[d]=a>0?(u/A0(10,o-a)%A0(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Io&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Io)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ni&&(e.e>V5||e.e<-V5))throw Error(TI+so(e));return e}function kJ(e,t){var r,n,a,i,o,s,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ni?Aa(t,m):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),a=Math.max(Math.ceil(m/Wa),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Io-1;--l[i],l[a]+=Io}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ni?Aa(t,m):t):new h(0)}function rg(e,t,r){var n,a=so(e),i=Vd(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Bp(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bp(-a-1)+i,r&&(n=r-o)>0&&(i+=Bp(n))):a>=o?(i+=Bp(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Bp(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Bp(n))),e.s<0?"-"+i:i}function JB(e,t){if(e.length>t)return e.length=t,!0}function NJ(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(B0+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ZB(o,i.toString())}else if(typeof i!="string")throw Error(B0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,f4e.test(i))ZB(o,i);else throw Error(B0+i)}if(a.prototype=br,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=NJ,a.config=a.set=h4e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function h4e(e){if(!e||typeof e!="object")throw Error(Qc+"Object expected");var t,r,n,a=["precision",1,gy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(vy(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(B0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(B0+r+": "+n);return this}var PI=NJ(d4e);sc=new PI(1);const wa=PI;function p4e(e){return y4e(e)||v4e(e)||g4e(e)||m4e()}function m4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g4e(e,t){if(e){if(typeof e=="string")return z6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z6(e,t)}}function v4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function y4e(e){if(Array.isArray(e))return z6(e)}function z6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x4e=function(t){return t},EJ={},CJ=function(t){return t===EJ},QB=function(t){return function r(){return arguments.length===0||arguments.length===1&&CJ(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},w4e=function e(t,r){return t===1?r:QB(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==EJ}).length;return o>=t?r.apply(void 0,a):e(t-o,QB(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(function(f){return CJ(f)?l.shift():f});return r.apply(void 0,p4e(d).concat(l))}))})},e3=function(t){return w4e(t.length,t)},W6=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},_4e=e3(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),b4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return x4e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},V6=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},TJ=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function S4e(e){var t;return e===0?t=1:t=Math.floor(new wa(e).abs().log(10).toNumber())+1,t}function A4e(e,t,r){for(var n=new wa(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var k4e=e3(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),N4e=e3(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),E4e=e3(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const t3={rangeStep:A4e,getDigitCount:S4e,interpolateNumber:k4e,uninterpolateNumber:N4e,uninterpolateTruncation:E4e};function H6(e){return P4e(e)||T4e(e)||PJ(e)||C4e()}function C4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function P4e(e){if(Array.isArray(e))return G6(e)}function kx(e,t){return I4e(e)||D4e(e,t)||PJ(e,t)||O4e()}function O4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJ(e,t){if(e){if(typeof e=="string")return G6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G6(e,t)}}function G6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D4e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function I4e(e){if(Array.isArray(e))return e}function OJ(e){var t=kx(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function DJ(e,t,r){if(e.lte(0))return new wa(0);var n=t3.getDigitCount(e.toNumber()),a=new wa(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new wa(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new wa(Math.ceil(l))}function R4e(e,t,r){var n=1,a=new wa(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new wa(10).pow(t3.getDigitCount(e)-1),a=new wa(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new wa(Math.floor(e)))}else e===0?a=new wa(Math.floor((t-1)/2)):r||(a=new wa(Math.floor(e)));var o=Math.floor((t-1)/2),s=b4e(_4e(function(l){return a.add(new wa(l-o).mul(n)).toNumber()}),W6);return s(0,t)}function IJ(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new wa(0),tickMin:new wa(0),tickMax:new wa(0)};var i=DJ(new wa(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new wa(0):(o=new wa(e).add(t).div(2),o=o.sub(new wa(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new wa(t).sub(o).div(i).toNumber()),u=s+l+1;return u>r?IJ(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,s=t>0?s:s+(r-u)),{step:i,tickMin:o.sub(new wa(s).mul(i)),tickMax:o.add(new wa(l).mul(i))})}function M4e(e){var t=kx(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=OJ([r,n]),l=kx(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(H6(W6(0,a-1).map(function(){return 1/0}))):[].concat(H6(W6(0,a-1).map(function(){return-1/0})),[d]);return r>n?V6(f):f}if(u===d)return R4e(u,a,i);var h=IJ(u,d,o,i),m=h.step,x=h.tickMin,g=h.tickMax,y=t3.rangeStep(x,g.add(new wa(.1).mul(m)),m);return r>n?V6(y):y}function F4e(e,t){var r=kx(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=OJ([n,a]),s=kx(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=DJ(new wa(u).sub(l).div(d-1),i,0),h=[].concat(H6(t3.rangeStep(new wa(l),new wa(u).sub(new wa(.99).mul(f)),f)),[u]);return n>a?V6(h):h}var L4e=TJ(M4e),j4e=TJ(F4e),$4e="Invariant failed";function ng(e,t){throw new Error($4e)}var B4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function H5(){return H5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H5.apply(this,arguments)}function U4e(e,t){return V4e(e)||W4e(e,t)||z4e(e,t)||q4e()}function q4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z4e(e,t){if(e){if(typeof e=="string")return eU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eU(e,t)}}function eU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function V4e(e){if(Array.isArray(e))return e}function H4e(e,t){if(e==null)return{};var r=G4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FJ(n.key),n)}}function X4e(e,t,r){return t&&Y4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z4e(e,t,r){return t=G5(t),J4e(e,RJ()?Reflect.construct(t,r||[],G5(e).constructor):t.apply(e,r))}function J4e(e,t){if(t&&(E1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4e(e)}function Q4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RJ=function(){return!!e})()}function G5(e){return G5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G5(e)}function e3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K6(e,t)}function K6(e,t){return K6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K6(e,t)}function MJ(e,t,r){return t=FJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FJ(e){var t=t3e(e,"string");return E1(t)=="symbol"?t:t+""}function t3e(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ww=function(e){function t(){return K4e(this,t),Z4e(this,t,arguments)}return e3e(t,e),X4e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=H4e(n,B4e),m=Or(h,!1);this.props.direction==="x"&&d.type!=="number"&&ng();var x=l.map(function(g){var y=u(g,s),_=y.x,b=y.y,S=y.value,C=y.errorVal;if(!C)return null;var E=[],O,T;if(Array.isArray(C)){var I=U4e(C,2);O=I[0],T=I[1]}else O=T=C;if(i==="vertical"){var L=d.scale,U=b+a,P=U+o,M=U-o,j=L(S-O),V=L(S+T);E.push({x1:V,y1:P,x2:V,y2:M}),E.push({x1:j,y1:U,x2:V,y2:U}),E.push({x1:j,y1:P,x2:j,y2:M})}else if(i==="horizontal"){var X=f.scale,te=_+a,z=te-o,G=te+o,q=X(S-O),Y=X(S+T);E.push({x1:z,y1:Y,x2:G,y2:Y}),E.push({x1:te,y1:q,x2:te,y2:Y}),E.push({x1:z,y1:q,x2:G,y2:q})}return Qe.createElement(On,H5({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),E.map(function(Z){return Qe.createElement("line",H5({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Qe.createElement(On,{className:"recharts-errorBars"},x)}}])}(Qe.Component);MJ(Ww,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MJ(Ww,"displayName","ErrorBar");function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(e)}function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(n){r3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r3e(e,t,r){return t=n3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3e(e){var t=a3e(e,"string");return Nx(t)=="symbol"?t:t+""}function a3e(e,t){if(Nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LJ=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ec(r,Vu);if(!o)return null;var s=Vu.defaultProps,l=s!==void 0?v0(v0({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return d.concat(x.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?v0(v0({},h),f.props):{},x=m.dataKey,g=m.name,y=m.legendType,_=m.hide;return{inactive:_,dataKey:x,type:l.iconType||y||"square",color:OI(f),value:g||x,payload:m}}),v0(v0(v0({},l),Vu.getWithHeight(o,a)),{},{payload:u,item:o})};function Ex(e){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ex(e)}function rU(e){return l3e(e)||s3e(e)||o3e(e)||i3e()}function i3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3e(e,t){if(e){if(typeof e=="string")return Y6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y6(e,t)}}function s3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l3e(e){if(Array.isArray(e))return Y6(e)}function Y6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(r),!0).forEach(function(n){e1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e1(e,t,r){return t=c3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c3e(e){var t=u3e(e,"string");return Ex(t)=="symbol"?t:t+""}function u3e(e,t){if(Ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(e,t,r){return cn(e)||cn(t)?r:xo(t)?hc(e,t,r):Hr(t)?t(e):r}function j2(e,t,r,n){var a=l4e(e,function(s){return qi(s,t)});if(r==="number"){var i=a.filter(function(s){return Ht(s)||parseFloat(s)});return i.length?[Q4(i),Hp(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!cn(s)}):a;return o.map(function(s){return xo(s)||s instanceof Date?s:""})}var d3e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,h=u>=s-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(al(f-d)!==al(h-f)){var x=[];if(al(h-f)===al(l[1]-l[0])){m=h;var g=f+l[1]-l[0];x[0]=Math.min(g,(g+d)/2),x[1]=Math.max(g,(g+d)/2)}else{m=d;var y=h+l[1]-l[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var _=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>_[0]&&t<=_[1]||t>=x[0]&&t<=x[1]){o=a[u].index;break}}else{var b=Math.min(d,h),S=Math.max(d,h);if(t>(b+f)/2&&t<=(S+f)/2){o=a[u].index;break}}}else for(var C=0;C<s;C++)if(C===0&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<s-1&&t>(n[C].coordinate+n[C-1].coordinate)/2&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C===s-1&&t>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},OI=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Si(Si({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},f3e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,u=s.length;l<u;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var x=d[f[h]],g=x.items,y=x.cateAxisId,_=g.filter(function(T){return uh(T.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,S=b!==void 0?Si(Si({},b),_[0].props):_[0].props,C=S.barSize,E=S[y];o[E]||(o[E]=[]);var O=cn(C)?r:C;o[E].push({item:_[0],stackList:_.slice(1),barSize:cn(O)?void 0:il(O,n,0)})}}return o},h3e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=il(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/l,x=o.reduce(function(C,E){return C+E.barSize||0},0);x+=(l-1)*u,x>=a&&(x-=(l-1)*u,u=0),x>=a&&m>0&&(h=!0,m*=.9,x=l*m);var g=(a-x)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(C,E){var O={item:E.item,position:{offset:y.offset+y.size+u,size:h?m:E.barSize}},T=[].concat(rU(C),[O]);return y=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){T.push({item:I,position:y})}),T},f)}else{var _=il(n,a,0,!0);a-2*_-(l-1)*u<=0&&(u=0);var b=(a-2*_-(l-1)*u)/l;b>1&&(b>>=0);var S=s===+s?Math.min(b,s):b;d=o.reduce(function(C,E,O){var T=[].concat(rU(C),[{item:E.item,position:{offset:_+(b+u)*O+(b-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){T.push({item:I,position:T[T.length-1].position})}),T},f)}return d},p3e=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=LJ({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,x=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&Ht(t[m]))return Si(Si({},t),{},e1({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&Ht(t[x]))return Si(Si({},t),{},e1({},x,t[x]+(h||0)))}return t},m3e=function(t,r,n){return cn(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},jJ=function(t,r,n,a,i){var o=r.props.children,s=pc(o,Ww).filter(function(u){return m3e(a,i,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=qi(d,n);if(cn(f))return u;var h=Array.isArray(f)?[Q4(f),Hp(f)]:[f,f],m=l.reduce(function(x,g){var y=qi(d,g,0),_=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(_,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},g3e=function(t,r,n,a,i){var o=r.map(function(s){return jJ(t,s,n,i,a)}).filter(function(s){return!cn(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},$J=function(t,r,n,a,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&jJ(t,l,u,a)||j2(t,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},BJ=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},UJ=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},sh=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?al(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!hy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},WC=new WeakMap,pb=function(t,r){if(typeof r!="function")return t;WC.has(t)||WC.set(t,new WeakMap);var n=WC.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},qJ=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:xx(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:U5(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:L2(),realScaleType:"point"}:i==="category"?{scale:xx(),realScaleType:"band"}:{scale:U5(),realScaleType:"linear"};if(J0(a)){var l="scale".concat($4(a));return{scale:(qB[l]||L2)(),realScaleType:qB[l]?l:"point"}}return Hr(a)?{scale:a}:{scale:L2(),realScaleType:"point"}},aU=1e-4,zJ=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-aU,o=Math.max(a[0],a[1])+aU,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},v3e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},y3e=function(t,r){if(!r||r.length!==2||!Ht(r[0])||!Ht(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ht(t[0])||t[0]<n)&&(i[0]=n),(!Ht(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},x3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=hy(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},w3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=hy(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},_3e={sign:x3e,expand:lxe,none:x1,silhouette:cxe,wiggle:uxe,positive:w3e},b3e=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=_3e[n],o=sxe().keys(a).value(function(s,l){return+qi(s,l,0)}).order(E6).offset(i);return o(t)},S3e=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Si(Si({},h.type.defaultProps),h.props):h.props,g=x.stackId,y=x.hide;if(y)return f;var _=x[n],b=f[_]||{hasStack:!1,stackGroups:{}};if(xo(g)){var S=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(h),b.hasStack=!0,b.stackGroups[g]=S}else b.stackGroups[Ag("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Si(Si({},f),{},e1({},_,b))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var _=m.stackGroups[y];return Si(Si({},g),{},e1({},y,{numericAxisId:n,cateAxisId:a,items:_.items,stackedData:b3e(t,_.items,i)}))},x)}return Si(Si({},f),{},e1({},h,m))},d)},WJ=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=L4e(u,i,s);return t.domain([Q4(d),Hp(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=j4e(f,i,s);return{niceTicks:h}}return null};function K5(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!cn(a[t.dataKey])){var s=S5(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=qi(a,cn(o)?t.dataKey:o);return cn(l)?null:t.scale(l)}var iU=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=qi(o,r.dataKey,r.domain[s]);return cn(l)?null:r.scale(l)-i/2+a},A3e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},k3e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Si(Si({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(xo(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},N3e=function(t){return t.reduce(function(r,n){return[Q4(n.concat([r[0]]).filter(Ht)),Hp(n.concat([r[1]]).filter(Ht))]},[1/0,-1/0])},VJ=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(u,d){var f=N3e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},oU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X6=function(t,r,n){if(Hr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ht(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(oU.test(t[0])){var i=+oU.exec(t[0])[1];a[0]=r[0]-i}else Hr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ht(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(sU.test(t[1])){var o=+sU.exec(t[1])[1];a[1]=r[1]+o}else Hr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Y5=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=iI(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},lU=function(t,r,n){return!t||!t.length||tg(t,hc(n,"type.defaultProps.domain"))?r:t},HJ=function(t,r){var n=t.type.defaultProps?Si(Si({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Si(Si({},Or(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:OI(t),value:qi(r,a),type:l,payload:r,chartType:u,hide:d})};function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}function cU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(r),!0).forEach(function(n){GJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GJ(e,t,r){return t=E3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3e(e){var t=C3e(e,"string");return Cx(t)=="symbol"?t:t+""}function C3e(e,t){if(Cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T3e(e,t){return I3e(e)||D3e(e,t)||O3e(e,t)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3e(e,t){if(e){if(typeof e=="string")return uU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uU(e,t)}}function uU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function I3e(e){if(Array.isArray(e))return e}var X5=Math.PI/180,R3e=function(t){return t*180/Math.PI},Oa=function(t,r,n,a){return{x:t+Math.cos(-X5*a)*n,y:r+Math.sin(-X5*a)*n}},KJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},M3e=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.startAngle,u=t.endAngle,d=il(t.cx,o,o/2),f=il(t.cy,s,s/2),h=KJ(o,s,n),m=il(t.innerRadius,h,0),x=il(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(y,_){var b=r[_],S=b.domain,C=b.reversed,E;if(cn(b.range))a==="angleAxis"?E=[l,u]:a==="radiusAxis"&&(E=[m,x]),C&&(E=[E[1],E[0]]);else{E=b.range;var O=E,T=T3e(O,2);l=T[0],u=T[1]}var I=qJ(b,i),L=I.realScaleType,U=I.scale;U.domain(S).range(E),zJ(U);var P=WJ(U,rh(rh({},b),{},{realScaleType:L})),M=rh(rh(rh({},b),P),{},{range:E,radius:x,realScaleType:L,scale:U,cx:d,cy:f,innerRadius:m,outerRadius:x,startAngle:l,endAngle:u});return rh(rh({},y),{},GJ({},_,M))},{})},F3e=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},L3e=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=F3e({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:s,angle:R3e(u),angleInRadian:u}},j3e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},$3e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},dU=function(t,r){var n=t.x,a=t.y,i=L3e({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=j3e(r),f=d.startAngle,h=d.endAngle,m=s,x;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}return x?rh(rh({},r),{},{radius:o,angle:$3e(m,r)}):null},YJ=function(t){return!A.isValidElement(t)&&!Hr(t)&&typeof t!="boolean"?t.className:""};function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}var B3e=["offset"];function U3e(e){return V3e(e)||W3e(e)||z3e(e)||q3e()}function q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3e(e,t){if(e){if(typeof e=="string")return Z6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z6(e,t)}}function W3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V3e(e){if(Array.isArray(e))return Z6(e)}function Z6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H3e(e,t){if(e==null)return{};var r=G3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(r),!0).forEach(function(n){K3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K3e(e,t,r){return t=Y3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y3e(e){var t=X3e(e,"string");return Tx(t)=="symbol"?t:t+""}function X3e(e,t){if(Tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z3e=function(t){var r=t.value,n=t.formatter,a=cn(t.children)?r:t.children;return Hr(n)?n(a):a},J3e=function(t,r){var n=al(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Q3e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,x=l.endAngle,g=l.clockWise,y=(f+h)/2,_=J3e(m,x),b=_>=0?1:-1,S,C;a==="insideStart"?(S=m+b*o,C=g):a==="insideEnd"?(S=x-b*o,C=!g):a==="end"&&(S=x+b*o,C=g),C=_<=0?C:!C;var E=Oa(u,d,y,S),O=Oa(u,d,y,S+(C?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),I=cn(t.id)?Ag("recharts-radial-line-"):t.id;return w("text",{...n,dominantBaseline:"central",className:un("recharts-radial-bar-label",s),children:[c("defs",{children:c("path",{id:I,d:T})}),c("textPath",{xlinkHref:"#".concat(I),children:r})]})},eAe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Oa(o,s,u+n,h),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,_=Oa(o,s,y,h),b=_.x,S=_.y;return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},tAe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",x=f>0?"start":"end",g=u>=0?1:-1,y=g*a,_=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var S={x:s+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:m};return mo(mo({},S),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var C={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:x};return mo(mo({},C),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var E={x:s-y,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return mo(mo({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(i==="right"){var O={x:s+u+y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return mo(mo({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:d}:{})}var T=n?{width:u,height:d}:{};return i==="insideLeft"?mo({x:s+y,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideRight"?mo({x:s+u-y,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},T):i==="insideTop"?mo({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:x},T):i==="insideBottom"?mo({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},T):i==="insideTopLeft"?mo({x:s+y,y:l+h,textAnchor:b,verticalAnchor:x},T):i==="insideTopRight"?mo({x:s+u-y,y:l+h,textAnchor:_,verticalAnchor:x},T):i==="insideBottomLeft"?mo({x:s+y,y:l+d-h,textAnchor:b,verticalAnchor:m},T):i==="insideBottomRight"?mo({x:s+u-y,y:l+d-h,textAnchor:_,verticalAnchor:m},T):fy(i)&&(Ht(i.x)||D0(i.x))&&(Ht(i.y)||D0(i.y))?mo({x:s+il(i.x,u),y:l+il(i.y,d),textAnchor:"end",verticalAnchor:"end"},T):mo({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},rAe=function(t){return"cx"in t&&Ht(t.cx)};function Lo(e){var t=e.offset,r=t===void 0?5:t,n=H3e(e,B3e),a=mo({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||cn(s)&&cn(l)&&!A.isValidElement(u)&&!Hr(u))return null;if(A.isValidElement(u))return A.cloneElement(u,a);var m;if(Hr(u)){if(m=A.createElement(u,a),A.isValidElement(m))return m}else m=Z3e(a);var x=rAe(i),g=Or(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Q3e(a,m,g);var y=x?eAe(a):tAe(a);return c(eg,{className:un("recharts-label",f),...g,...y,breakAll:h,children:m})}Lo.displayName="Label";var XJ=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,x=t.left,g=t.width,y=t.height,_=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ht(g)&&Ht(y)){if(Ht(f)&&Ht(h))return{x:f,y:h,width:g,height:y};if(Ht(m)&&Ht(x))return{x:m,y:x,width:g,height:y}}return Ht(f)&&Ht(h)?{x:f,y:h,width:0,height:0}:Ht(r)&&Ht(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:_}:t.viewBox?t.viewBox:{}},nAe=function(t,r){return t?t===!0?c(Lo,{viewBox:r},"label-implicit"):xo(t)?c(Lo,{viewBox:r,value:t},"label-implicit"):A.isValidElement(t)?t.type===Lo?A.cloneElement(t,{key:"label-implicit",viewBox:r}):c(Lo,{content:t,viewBox:r},"label-implicit"):Hr(t)?c(Lo,{content:t,viewBox:r},"label-implicit"):fy(t)?A.createElement(Lo,{viewBox:r,...t,key:"label-implicit"}):null:null},aAe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=XJ(t),o=pc(a,Lo).map(function(l,u){return A.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=nAe(t.label,r||i);return[s].concat(U3e(o))};Lo.parseViewBox=XJ;Lo.renderCallByParent=aAe;var VC,hU;function iAe(){if(hU)return VC;hU=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return VC=e,VC}var oAe=iAe();const sAe=ia(oAe);function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}var lAe=["valueAccessor"],cAe=["data","dataKey","clockWise","id","textBreakAll"];function uAe(e){return pAe(e)||hAe(e)||fAe(e)||dAe()}function dAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(e,t){if(e){if(typeof e=="string")return J6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J6(e,t)}}function hAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pAe(e){if(Array.isArray(e))return J6(e)}function J6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pU(Object(r),!0).forEach(function(n){mAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mAe(e,t,r){return t=gAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gAe(e){var t=vAe(e,"string");return Px(t)=="symbol"?t:t+""}function vAe(e,t){if(Px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gU(e,t){if(e==null)return{};var r=yAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xAe=function(t){return Array.isArray(t.value)?sAe(t.value):t.value};function Qd(e){var t=e.valueAccessor,r=t===void 0?xAe:t,n=gU(e,lAe),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=gU(n,cAe);return!a||!a.length?null:c(On,{className:"recharts-label-list",children:a.map(function(d,f){var h=cn(i)?r(d,f):qi(d&&d.payload,i),m=cn(s)?{}:{id:"".concat(s,"-").concat(f)};return A.createElement(Lo,{...Or(d,!0),...u,...m,parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Lo.parseViewBox(cn(o)?d:mU(mU({},d),{},{clockWise:o})),key:"label-".concat(f),index:f})})})}Qd.displayName="LabelList";function wAe(e,t){return e?e===!0?c(Qd,{data:t},"labelList-implicit"):Qe.isValidElement(e)||Hr(e)?c(Qd,{data:t,content:e},"labelList-implicit"):fy(e)?A.createElement(Qd,{data:t,...e,key:"labelList-implicit"}):null:null}function _Ae(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=pc(n,Qd).map(function(o,s){return A.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=wAe(e.label,t);return[i].concat(uAe(a))}Qd.renderCallByParent=_Ae;function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}function Q6(){return Q6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q6.apply(this,arguments)}function vU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(r),!0).forEach(function(n){bAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bAe(e,t,r){return t=SAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SAe(e){var t=AAe(e,"string");return Ox(t)=="symbol"?t:t+""}function AAe(e,t){if(Ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kAe=function(t,r){var n=al(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},mb=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/X5,h=u?i:i+o*f,m=Oa(r,n,d,h),x=Oa(r,n,a,h),g=u?i-o*f:i,y=Oa(r,n,d*Math.cos(f*X5),g);return{center:m,circleTangency:x,lineTangency:y,theta:f}},ZJ=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=kAe(o,s),u=o+l,d=Oa(r,n,i,o),f=Oa(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Oa(r,n,a,o),x=Oa(r,n,a,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},NAe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=al(d-u),h=mb({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,x=h.lineTangency,g=h.theta,y=mb({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),_=y.circleTangency,b=y.lineTangency,S=y.theta,C=l?Math.abs(u-d):Math.abs(u-d)-g-S;if(C<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ZJ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var O=mb({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=O.circleTangency,I=O.lineTangency,L=O.theta,U=mb({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=U.circleTangency,M=U.lineTangency,j=U.theta,V=l?Math.abs(u-d):Math.abs(u-d)-L-j;if(V<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},EAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JJ=function(t){var r=yU(yU({},EAe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=un("recharts-sector",h),x=o-i,g=il(s,x,0,!0),y;return g>0&&Math.abs(d-f)<360?y=NAe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):y=ZJ({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),Qe.createElement("path",Q6({},Or(r,!0),{className:m,d:y,role:"img"}))};function Dx(e){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dx(e)}function eO(){return eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eO.apply(this,arguments)}function xU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(r),!0).forEach(function(n){CAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CAe(e,t,r){return t=TAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TAe(e){var t=PAe(e,"string");return Dx(t)=="symbol"?t:t+""}function PAe(e,t){if(Dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _U={curveBasisClosed:X2e,curveBasisOpen:Z2e,curveBasis:Y2e,curveBumpX:M2e,curveBumpY:F2e,curveLinearClosed:J2e,curveLinear:U4,curveMonotoneX:Q2e,curveMonotoneY:exe,curveNatural:txe,curveStep:rxe,curveStepAfter:axe,curveStepBefore:nxe},gb=function(t){return t.x===+t.x&&t.y===+t.y},a2=function(t){return t.x},i2=function(t){return t.y},OAe=function(t,r){if(Hr(t))return t;var n="curve".concat($4(t));return(n==="curveMonotone"||n==="curveBump")&&r?_U["".concat(n).concat(r==="vertical"?"Y":"X")]:_U[n]||U4},DAe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=OAe(n,s),f=u?i.filter(function(g){return gb(g)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return gb(g)}):o,x=f.map(function(g,y){return wU(wU({},g),{},{base:m[y]})});return s==="vertical"?h=sb().y(i2).x1(a2).x0(function(g){return g.base.x}):h=sb().x(a2).y1(i2).y0(function(g){return g.base.y}),h.defined(gb).curve(d),h(x)}return s==="vertical"&&Ht(o)?h=sb().y(i2).x1(a2).x0(o):Ht(o)?h=sb().x(a2).y1(i2).y0(o):h=XX().x(a2).y(i2),h.defined(gb).curve(d),h(f)},U0=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?DAe(t):a;return Qe.createElement("path",eO({},Or(t,!1),A5(t),{className:un("recharts-curve",r),d:o,ref:i}))},HC={exports:{}},GC,bU;function IAe(){if(bU)return GC;bU=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return GC=e,GC}var KC,SU;function RAe(){if(SU)return KC;SU=1;var e=IAe();function t(){}function r(){}return r.resetWarningCache=t,KC=function(){function n(o,s,l,u,d,f){if(f!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},KC}var AU;function MAe(){return AU||(AU=1,HC.exports=RAe()()),HC.exports}var FAe=MAe();const ua=ia(FAe);var LAe=Object.getOwnPropertyNames,jAe=Object.getOwnPropertySymbols,$Ae=Object.prototype.hasOwnProperty;function kU(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function vb(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function NU(e){return LAe(e).concat(jAe(e))}var BAe=Object.hasOwn||function(e,t){return $Ae.call(e,t)};function Eg(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var UAe="__v",qAe="__o",zAe="_owner",EU=Object.getOwnPropertyDescriptor,CU=Object.keys;function WAe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function VAe(e,t){return Eg(e.getTime(),t.getTime())}function HAe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function GAe(e,t){return e===t}function TU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var h=o.value,m=s.value;if(r.equals(h[0],m[0],l,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var KAe=Eg;function YAe(e,t,r){var n=CU(e),a=n.length;if(CU(t).length!==a)return!1;for(;a-- >0;)if(!QJ(e,t,r,n[a]))return!1;return!0}function o2(e,t,r){var n=NU(e),a=n.length;if(NU(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!QJ(e,t,r,i)||(o=EU(e,i),s=EU(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function XAe(e,t){return Eg(e.valueOf(),t.valueOf())}function ZAe(e,t){return e.source===t.source&&e.flags===t.flags}function PU(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function JAe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function QAe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function QJ(e,t,r,n){return(n===zAe||n===qAe||n===UAe)&&(e.$$typeof||t.$$typeof)?!0:BAe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var eke="[object Arguments]",tke="[object Boolean]",rke="[object Date]",nke="[object Error]",ake="[object Map]",ike="[object Number]",oke="[object Object]",ske="[object RegExp]",lke="[object Set]",cke="[object String]",uke="[object URL]",dke=Array.isArray,OU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,DU=Object.assign,fke=Object.prototype.toString.call.bind(Object.prototype.toString);function hke(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(x,g,y){if(x===g)return!0;if(x==null||g==null)return!1;var _=typeof x;if(_!==typeof g)return!1;if(_!=="object")return _==="number"?o(x,g,y):_==="function"?a(x,g,y):!1;var b=x.constructor;if(b!==g.constructor)return!1;if(b===Object)return s(x,g,y);if(dke(x))return t(x,g,y);if(OU!=null&&OU(x))return f(x,g,y);if(b===Date)return r(x,g,y);if(b===RegExp)return u(x,g,y);if(b===Map)return i(x,g,y);if(b===Set)return d(x,g,y);var S=fke(x);return S===rke?r(x,g,y):S===ske?u(x,g,y):S===ake?i(x,g,y):S===lke?d(x,g,y):S===oke?typeof x.then!="function"&&typeof g.then!="function"&&s(x,g,y):S===uke?h(x,g,y):S===nke?n(x,g,y):S===eke?s(x,g,y):S===tke||S===ike||S===cke?l(x,g,y):!1}}function pke(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?o2:WAe,areDatesEqual:VAe,areErrorsEqual:HAe,areFunctionsEqual:GAe,areMapsEqual:n?kU(TU,o2):TU,areNumbersEqual:KAe,areObjectsEqual:n?o2:YAe,arePrimitiveWrappersEqual:XAe,areRegExpsEqual:ZAe,areSetsEqual:n?kU(PU,o2):PU,areTypedArraysEqual:n?o2:JAe,areUrlsEqual:QAe};if(r&&(a=DU({},a,r(a))),t){var i=vb(a.areArraysEqual),o=vb(a.areMapsEqual),s=vb(a.areObjectsEqual),l=vb(a.areSetsEqual);a=DU({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function mke(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function gke(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(l,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var vke=Rm();Rm({strict:!0});Rm({circular:!0});Rm({circular:!0,strict:!0});Rm({createInternalComparator:function(){return Eg}});Rm({strict:!0,createInternalComparator:function(){return Eg}});Rm({circular:!0,createInternalComparator:function(){return Eg}});Rm({circular:!0,createInternalComparator:function(){return Eg},strict:!0});function Rm(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=pke(e),l=hke(s),u=n?n(l):mke(l);return gke({circular:r,comparator:l,createState:a,equals:u,strict:o})}function yke(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function IU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):yke(a)};requestAnimationFrame(n)}function tO(e){"@babel/helpers - typeof";return tO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tO(e)}function xke(e){return Ske(e)||bke(e)||_ke(e)||wke()}function wke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ke(e,t){if(e){if(typeof e=="string")return RU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RU(e,t)}}function RU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ske(e){if(Array.isArray(e))return e}function Ake(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=xke(o),l=s[0],u=s.slice(1);if(typeof l=="number"){IU(a.bind(null,u),l);return}a(l),IU(a.bind(null,u));return}tO(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}function MU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MU(Object(r),!0).forEach(function(n){eQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eQ(e,t,r){return t=kke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kke(e){var t=Nke(e,"string");return Ix(t)==="symbol"?t:String(t)}function Nke(e,t){if(Ix(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ix(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eke=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Cke=function(t){return t},Tke=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$2=function(t,r){return Object.keys(r).reduce(function(n,a){return FU(FU({},n),{},eQ({},a,t(a,r[a])))},{})},LU=function(t,r,n){return t.map(function(a){return"".concat(Tke(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Pke(e,t){return Ike(e)||Dke(e,t)||tQ(e,t)||Oke()}function Oke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Ike(e){if(Array.isArray(e))return e}function Rke(e){return Lke(e)||Fke(e)||tQ(e)||Mke()}function Mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(e,t){if(e){if(typeof e=="string")return rO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rO(e,t)}}function Fke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lke(e){if(Array.isArray(e))return rO(e)}function rO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z5=1e-4,rQ=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},nQ=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},jU=function(t,r){return function(n){var a=rQ(t,r);return nQ(a,n)}},jke=function(t,r){return function(n){var a=rQ(t,r),i=[].concat(Rke(a.map(function(o,s){return o*s}).slice(1)),[0]);return nQ(i,n)}},$U=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=Pke(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=jU(a,o),h=jU(i,s),m=jke(a,o),x=function(_){return _>1?1:_<0?0:_},g=function(_){for(var b=_>1?1:_,S=b,C=0;C<8;++C){var E=f(S)-b,O=m(S);if(Math.abs(E-b)<Z5||O<Z5)return h(S);S=x(S-E/O)}return h(S)};return g.isStepper=!1,g},$ke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var m=-(d-f)*n,x=h*i,g=h+(m-x)*s/1e3,y=h*s/1e3+d;return Math.abs(y-f)<Z5&&Math.abs(g)<Z5?[f,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},Bke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $U(a);case"spring":return $ke();default:if(a.split("(")[0]==="cubic-bezier")return $U(a)}return typeof a=="function"?a:null};function Rx(e){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(e)}function BU(e){return zke(e)||qke(e)||aQ(e)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zke(e){if(Array.isArray(e))return aO(e)}function UU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UU(Object(r),!0).forEach(function(n){nO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nO(e,t,r){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wke(e){var t=Vke(e,"string");return Rx(t)==="symbol"?t:String(t)}function Vke(e,t){if(Rx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hke(e,t){return Yke(e)||Kke(e,t)||aQ(e,t)||Gke()}function Gke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQ(e,t){if(e){if(typeof e=="string")return aO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(e,t)}}function aO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Yke(e){if(Array.isArray(e))return e}var J5=function(t,r,n){return t+(r-t)*n},iO=function(t){var r=t.from,n=t.to;return r!==n},Xke=function e(t,r,n){var a=$2(function(i,o){if(iO(o)){var s=t(o.from,o.to,o.velocity),l=Hke(s,2),u=l[0],d=l[1];return Qo(Qo({},o),{},{from:u,velocity:d})}return o},r);return n<1?$2(function(i,o){return iO(o)?Qo(Qo({},o),{},{velocity:J5(o.velocity,a[i].velocity,n),from:J5(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Zke=function(e,t,r,n,a){var i=Eke(e,t),o=i.reduce(function(y,_){return Qo(Qo({},y),{},nO({},_,[e[_],t[_]]))},{}),s=i.reduce(function(y,_){return Qo(Qo({},y),{},nO({},_,{from:e[_],velocity:0,to:t[_]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return $2(function(_,b){return b.from},s)},m=function(){return!Object.values(s).filter(iO).length},x=function(_){u||(u=_);var b=_-u,S=b/r.dt;s=Xke(r,s,S),a(Qo(Qo(Qo({},e),t),h())),u=_,m()||(l=requestAnimationFrame(f))},g=function(_){d||(d=_);var b=(_-d)/n,S=$2(function(E,O){return J5.apply(void 0,BU(O).concat([r(b)]))},o);if(a(Qo(Qo(Qo({},e),t),S)),b<1)l=requestAnimationFrame(f);else{var C=$2(function(E,O){return J5.apply(void 0,BU(O).concat([r(1)]))},o);a(Qo(Qo(Qo({},e),t),C))}};return f=r.isStepper?x:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}var Jke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Qke(e,t){if(e==null)return{};var r=eNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eNe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function YC(e){return aNe(e)||nNe(e)||rNe(e)||tNe()}function tNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rNe(e,t){if(e){if(typeof e=="string")return oO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(e,t)}}function nNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aNe(e){if(Array.isArray(e))return oO(e)}function oO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qU(Object(r),!0).forEach(function(n){b2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b2(e,t,r){return t=iQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iQ(n.key),n)}}function sNe(e,t,r){return t&&oNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iQ(e){var t=lNe(e,"string");return C1(t)==="symbol"?t:String(t)}function lNe(e,t){if(C1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(C1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sO(e,t)}function sO(e,t){return sO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sO(e,t)}function uNe(e){var t=dNe();return function(){var n=Q5(e),a;if(t){var i=Q5(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return lO(this,a)}}function lO(e,t){if(t&&(C1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cO(e)}function cO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q5(e){return Q5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q5(e)}var Ju=function(e){cNe(r,e);var t=uNe(r);function r(n,a){var i;iNe(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(cO(i)),i.changeStyle=i.changeStyle.bind(cO(i)),!s||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),lO(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},lO(i);i.state={style:l?b2({},l,u):u}}else i.state={style:{}};return i}return sNe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(s){if(!o){var m={style:l?b2({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(vke(a.to,d)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||u?f:a.to;if(this.state&&h){var y={style:l?b2({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(y)}this.runAnimation(Cu(Cu({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=Zke(o,s,Bke(u),l,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([h,d,x,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,y,_){if(_===0)return g;var b=y.duration,S=y.easing,C=S===void 0?"ease":S,E=y.style,O=y.properties,T=y.onAnimationEnd,I=_>0?o[_-1]:y,L=O||Object.keys(E);if(typeof C=="function"||C==="spring")return[].concat(YC(g),[i.runJSAnimation.bind(i,{from:I.style,to:E,duration:b,easing:C}),b]);var U=LU(L,b,C),P=Cu(Cu(Cu({},I.style),E),{},{transition:U});return[].concat(YC(g),[P,b,T]).filter(Cke)};return this.manager.start([l].concat(YC(o.reduce(m,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Ake());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=s?b2({},s,l):l,y=LU(Object.keys(g),o,u);x.start([d,i,Cu(Cu({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=Qke(a,Jke),u=A.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(m){var x=m.props,g=x.style,y=g===void 0?{}:g,_=x.className,b=A.cloneElement(m,Cu(Cu({},l),{},{style:Cu(Cu({},y),d),className:_}));return b};return u===1?f(A.Children.only(i)):c("div",{children:A.Children.map(i,function(h){return f(h)})})}}]),r}(A.PureComponent);Ju.displayName="Animate";Ju.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ju.propTypes={from:ua.oneOfType([ua.object,ua.string]),to:ua.oneOfType([ua.object,ua.string]),attributeName:ua.string,duration:ua.number,begin:ua.number,easing:ua.oneOfType([ua.string,ua.func]),steps:ua.arrayOf(ua.shape({duration:ua.number.isRequired,style:ua.object.isRequired,easing:ua.oneOfType([ua.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ua.func]),properties:ua.arrayOf("string"),onAnimationEnd:ua.func})),children:ua.oneOfType([ua.node,ua.func]),isActive:ua.bool,canBegin:ua.bool,onAnimationEnd:ua.func,shouldReAnimate:ua.bool,onAnimationStart:ua.func,onAnimationReStart:ua.func};function Mx(e){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(e)}function fNe(e,t){return gNe(e)||mNe(e,t)||pNe(e,t)||hNe()}function hNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pNe(e,t){if(e){if(typeof e=="string")return zU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zU(e,t)}}function zU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function gNe(e){if(Array.isArray(e))return e}function WU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WU(Object(r),!0).forEach(function(n){vNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vNe(e,t,r){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yNe(e){var t=xNe(e,"string");return Mx(t)=="symbol"?t:t+""}function xNe(e,t){if(Mx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HU=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+l*x,",").concat(r,`
            L `).concat(t+n-l*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*x,`
            L `).concat(t+n,",").concat(r+a-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-l*x,",").concat(r+a,`
            L `).concat(t+l*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+a-s*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},wNe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},_Ne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DI=function(t){var r=VU(VU({},_Ne),t),n=A.useRef(),a=A.useState(-1),i=fNe(a,2),o=i[0],s=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&s(C)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,y=r.animationBegin,_=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=un("recharts-rectangle",m);return b?c(Ju,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:x,isActive:b,children:function(C){var E=C.width,O=C.height,T=C.x,I=C.y;return c(Ju,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:_,easing:x,children:c("path",{...Or(r,!0),className:S,d:HU(T,I,E,O,h),ref:n})})}}):c("path",{...Or(r,!0),className:S,d:HU(l,u,d,f,h)})},bNe=["points","className","baseLinePoints","connectNulls"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(this,arguments)}function SNe(e,t){if(e==null)return{};var r=ANe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ANe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GU(e){return CNe(e)||ENe(e)||NNe(e)||kNe()}function kNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NNe(e,t){if(e){if(typeof e=="string")return uO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uO(e,t)}}function ENe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CNe(e){if(Array.isArray(e))return uO(e)}function uO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var KU=function(t){return t&&t.x===+t.x&&t.y===+t.y},TNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){KU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),KU(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},B2=function(t,r){var n=TNe(t);r&&(n=[n.reduce(function(i,o){return[].concat(GU(i),GU(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},PNe=function(t,r,n){var a=B2(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(B2(r.reverse(),n).slice(1))},ONe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=SNe(t,bNe);if(!r||!r.length)return null;var s=un("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=PNe(r,a,i);return Qe.createElement("g",{className:s},Qe.createElement("path",Uv({},Or(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?Qe.createElement("path",Uv({},Or(o,!0),{fill:"none",d:B2(r,i)})):null,l?Qe.createElement("path",Uv({},Or(o,!0),{fill:"none",d:B2(a,i)})):null)}var d=B2(r,i);return Qe.createElement("path",Uv({},Or(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function dO(){return dO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dO.apply(this,arguments)}var Vw=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=un("recharts-dot",i);return r===+r&&n===+n&&a===+a?Qe.createElement("circle",dO({},Or(t,!1),A5(t),{className:o,cx:r,cy:n,r:a})):null};function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}var DNe=["x","y","top","left","width","height","className"];function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fO.apply(this,arguments)}function YU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function INe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YU(Object(r),!0).forEach(function(n){RNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RNe(e,t,r){return t=MNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MNe(e){var t=FNe(e,"string");return Fx(t)=="symbol"?t:t+""}function FNe(e,t){if(Fx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LNe(e,t){if(e==null)return{};var r=jNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $Ne=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},BNe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,x=t.className,g=LNe(t,DNe),y=INe({x:n,y:i,top:s,left:u,width:f,height:m},g);return!Ht(n)||!Ht(i)||!Ht(f)||!Ht(m)||!Ht(s)||!Ht(u)?null:Qe.createElement("path",fO({},Or(y,!0),{className:un("recharts-cross",x),d:$Ne(n,i,f,m,s,u)}))},XC,XU;function UNe(){if(XU)return XC;XU=1;var e=J4(),t=wJ(),r=mf();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return XC=n,XC}var qNe=UNe();const zNe=ia(qNe);var ZC,ZU;function WNe(){if(ZU)return ZC;ZU=1;var e=J4(),t=mf(),r=_J();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return ZC=n,ZC}var VNe=WNe();const HNe=ia(VNe);var GNe=["cx","cy","angle","ticks","axisLine"],KNe=["ticks","tick","angle","tickFormatter","stroke"];function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function JU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JU(Object(r),!0).forEach(function(n){r3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QU(e,t){if(e==null)return{};var r=YNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sQ(n.key),n)}}function ZNe(e,t,r){return t&&eq(e.prototype,t),r&&eq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JNe(e,t,r){return t=eS(t),QNe(e,oQ()?Reflect.construct(t,r||[],eS(e).constructor):t.apply(e,r))}function QNe(e,t){if(t&&(T1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eEe(e)}function eEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oQ=function(){return!!e})()}function eS(e){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eS(e)}function tEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hO(e,t)}function hO(e,t){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hO(e,t)}function r3(e,t,r){return t=sQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQ(e){var t=rEe(e,"string");return T1(t)=="symbol"?t:t+""}function rEe(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n3=function(e){function t(){return XNe(this,t),JNe(this,t,arguments)}return tEe(t,e),ZNe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return Oa(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=zNe(s,function(d){return d.coordinate||0}),u=HNe(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=QU(n,GNe),d=s.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),f=Oa(a,i,d[0],o),h=Oa(a,i,d[1],o),m=y0(y0(y0({},Or(u,!1)),{},{fill:"none"},Or(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return c("line",{className:"recharts-polar-radius-axis-line",...m})}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,u=a.stroke,d=QU(a,KNe),f=this.getTickTextAnchor(),h=Or(d,!1),m=Or(o,!1),x=i.map(function(g,y){var _=n.getTickValueCoord(g),b=y0(y0(y0(y0({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:y},_),{},{payload:g});return c(On,{className:un("recharts-polar-radius-axis-tick",YJ(o)),...Q0(n.props,g,y),children:t.renderTickItem(o,b,l?l(g.value,y):g.value)},"tick-".concat(g.coordinate))});return c(On,{className:"recharts-polar-radius-axis-ticks",children:x})}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:w(On,{className:un("recharts-polar-radius-axis",this.props.className),children:[i&&this.renderAxisLine(),o&&this.renderTicks(),Lo.renderCallByParent(this.props,this.getViewBox())]})}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Qe.isValidElement(n)?o=Qe.cloneElement(n,a):Hr(n)?o=n(a):o=c(eg,{...a,className:"recharts-polar-radius-axis-tick-value",children:i}),o}}])}(A.PureComponent);r3(n3,"displayName","PolarRadiusAxis");r3(n3,"axisType","radiusAxis");r3(n3,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tq(Object(r),!0).forEach(function(n){a3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cQ(n.key),n)}}function aEe(e,t,r){return t&&rq(e.prototype,t),r&&rq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iEe(e,t,r){return t=tS(t),oEe(e,lQ()?Reflect.construct(t,r||[],tS(e).constructor):t.apply(e,r))}function oEe(e,t){if(t&&(P1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sEe(e)}function sEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lQ=function(){return!!e})()}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(e)}function lEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pO(e,t)}function pO(e,t){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pO(e,t)}function a3(e,t,r){return t=cQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQ(e){var t=cEe(e,"string");return P1(t)=="symbol"?t:t+""}function cEe(e,t){if(P1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(P1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uEe=Math.PI/180,dEe=1e-5,i3=function(e){function t(){return nEe(this,t),iEe(this,t,arguments)}return lEe(t,e),aEe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=Oa(i,o,s,n.coordinate),h=Oa(i,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*uEe),o;return i>dEe?o=a==="outer"?"start":"end":i<-1e-5?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=x0(x0({},Or(this.props,!1)),{},{fill:"none"},Or(s,!1));if(l==="circle")return c(Vw,{className:"recharts-polar-angle-axis-line",...u,cx:a,cy:i,r:o});var d=this.props.ticks,f=d.map(function(h){return Oa(a,i,o,h.coordinate)});return c(ONe,{className:"recharts-polar-angle-axis-line",...u,points:f})}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,u=a.stroke,d=Or(this.props,!1),f=Or(o,!1),h=x0(x0({},d),{},{fill:"none"},Or(s,!1)),m=i.map(function(x,g){var y=n.getTickLineCoord(x),_=n.getTickTextAnchor(x),b=x0(x0(x0({textAnchor:_},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:x,x:y.x2,y:y.y2});return w(On,{className:un("recharts-polar-angle-axis-tick",YJ(o)),...Q0(n.props,x,g),children:[s&&c("line",{className:"recharts-polar-angle-axis-tick-line",...h,...y}),o&&t.renderTickItem(o,b,l?l(x.value,g):x.value)]},"tick-".concat(x.coordinate))});return c(On,{className:"recharts-polar-angle-axis-ticks",children:m})}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:w(On,{className:un("recharts-polar-angle-axis",this.props.className),children:[o&&this.renderAxisLine(),this.renderTicks()]})}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Qe.isValidElement(n)?o=Qe.cloneElement(n,a):Hr(n)?o=n(a):o=c(eg,{...a,className:"recharts-polar-angle-axis-tick-value",children:i}),o}}])}(A.PureComponent);a3(i3,"displayName","PolarAngleAxis");a3(i3,"axisType","angleAxis");a3(i3,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var JC,nq;function fEe(){if(nq)return JC;nq=1;var e=xZ(),t=e(Object.getPrototypeOf,Object);return JC=t,JC}var QC,aq;function hEe(){if(aq)return QC;aq=1;var e=Ch(),t=fEe(),r=Th(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,s=i.hasOwnProperty,l=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var h=s.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==l}return QC=u,QC}var pEe=hEe();const mEe=ia(pEe);var eT,iq;function gEe(){if(iq)return eT;iq=1;var e=Ch(),t=Th(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return eT=n,eT}var vEe=gEe();const yEe=ia(vEe);function Lx(e){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(e)}function xEe(e,t){return SEe(e)||bEe(e,t)||_Ee(e,t)||wEe()}function wEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(e,t){if(e){if(typeof e=="string")return oq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oq(e,t)}}function oq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function SEe(e){if(Array.isArray(e))return e}function sq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sq(Object(r),!0).forEach(function(n){AEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AEe(e,t,r){return t=kEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kEe(e){var t=NEe(e,"string");return Lx(t)=="symbol"?t:t+""}function NEe(e,t){if(Lx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cq=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},EEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CEe=function(t){var r=lq(lq({},EEe),t),n=A.useRef(),a=A.useState(-1),i=xEe(a,2),o=i[0],s=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,y=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=un("recharts-trapezoid",m);return _?c(Ju,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:x,isActive:_,children:function(S){var C=S.upperWidth,E=S.lowerWidth,O=S.height,T=S.x,I=S.y;return c(Ju,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:x,children:c("path",{...Or(r,!0),className:b,d:cq(T,I,C,E,O),ref:n})})}}):c("g",{children:c("path",{...Or(r,!0),className:b,d:cq(l,u,d,f,h)})})},TEe=["option","shapeType","propTransformer","activeClassName","isActive"];function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function PEe(e,t){if(e==null)return{};var r=OEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uq(Object(r),!0).forEach(function(n){DEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DEe(e,t,r){return t=IEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IEe(e){var t=REe(e,"string");return jx(t)=="symbol"?t:t+""}function REe(e,t){if(jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MEe(e,t){return rS(rS({},t),e)}function FEe(e,t){return e==="symbols"}function dq(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return c(DI,{...r});case"trapezoid":return c(CEe,{...r});case"sector":return c(JJ,{...r});case"symbols":if(FEe(t))return c(ZD,{...r});break;default:return null}}function LEe(e){return A.isValidElement(e)?e.props:e}function uQ(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?MEe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=PEe(e,TEe),u;if(A.isValidElement(t))u=A.cloneElement(t,rS(rS({},l),LEe(t)));else if(Hr(t))u=t(l);else if(mEe(t)&&!yEe(t)){var d=a(t,l);u=c(dq,{shapeType:r,elementProps:d})}else{var f=l;u=c(dq,{shapeType:r,elementProps:f})}return s?c(On,{className:o,children:u}):u}function o3(e,t){return t!=null&&"trapezoids"in e.props}function s3(e,t){return t!=null&&"sectors"in e.props}function $x(e,t){return t!=null&&"points"in e.props}function jEe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function $Ee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function BEe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function UEe(e,t){var r;return o3(e,t)?r=jEe:s3(e,t)?r=$Ee:$x(e,t)&&(r=BEe),r}function qEe(e,t){var r;return o3(e,t)?r="trapezoids":s3(e,t)?r="sectors":$x(e,t)&&(r="points"),r}function zEe(e,t){if(o3(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(s3(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $x(e,t)?t.payload:{}}function WEe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=qEe(r,t),i=zEe(r,t),o=n.filter(function(l,u){var d=tg(i,l),f=r.props[a].filter(function(x){var g=UEe(r,t);return g(x,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),s=n.indexOf(o[o.length-1]);return s}var Kb;function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fq(Object(r),!0).forEach(function(n){Hc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fQ(n.key),n)}}function HEe(e,t,r){return t&&hq(e.prototype,t),r&&hq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GEe(e,t,r){return t=nS(t),KEe(e,dQ()?Reflect.construct(t,r||[],nS(e).constructor):t.apply(e,r))}function KEe(e,t){if(t&&(O1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YEe(e)}function YEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dQ=function(){return!!e})()}function nS(e){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nS(e)}function XEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mO(e,t)}function mO(e,t){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mO(e,t)}function Hc(e,t,r){return t=fQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=ZEe(e,"string");return O1(t)=="symbol"?t:t+""}function ZEe(e,t){if(O1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Is=function(e){function t(r){var n;return VEe(this,t),n=GEe(this,t,[r]),Hc(n,"pieRef",null),Hc(n,"sectorRefs",[]),Hc(n,"id",Ag("recharts-pie-")),Hc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Hr(a)&&a()}),Hc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Hr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return XEe(t,e),HEe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,u=i.valueKey,d=Or(this.props,!1),f=Or(o,!1),h=Or(s,!1),m=o&&o.offsetRadius||20,x=n.map(function(g,y){var _=(g.startAngle+g.endAngle)/2,b=Oa(g.cx,g.cy,g.outerRadius+m,_),S=Ca(Ca(Ca(Ca({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(b.x,g.cx)},b),C=Ca(Ca(Ca(Ca({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:y,points:[Oa(g.cx,g.cy,g.outerRadius,_),b]}),E=l;return cn(l)&&cn(u)?E="value":cn(l)&&(E=u),w(On,{children:[s&&t.renderLabelLineItem(s,C,"line"),t.renderLabelItem(o,S,qi(g,E))]},"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y))});return c(On,{className:"recharts-pie-labels",children:x})}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,m=f?o:h,x=Ca(Ca({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return A.createElement(On,{ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector",...Q0(a.props,u,d),key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)},c(uQ,{option:m,isActive:f,shapeType:"sector",...x}))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return c(Ju,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd,children:function(x){var g=x.t,y=[],_=i&&i[0],b=_.startAngle;return i.forEach(function(S,C){var E=h&&h[C],O=C>0?hc(S,"paddingAngle",0):0;if(E){var T=go(E.endAngle-E.startAngle,S.endAngle-S.startAngle),I=Ca(Ca({},S),{},{startAngle:b+O,endAngle:b+T(g)+O});y.push(I),b=I.endAngle}else{var L=S.endAngle,U=S.startAngle,P=go(0,L-U),M=P(g),j=Ca(Ca({},S),{},{startAngle:b+O,endAngle:b+M+O});y.push(j),b=j.endAngle}}),c(On,{children:n.renderSectorsStatically(y)})}},"pie-".concat(d,"-").concat(m))}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!tg(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Ht(u)||!Ht(d)||!Ht(f)||!Ht(h))return null;var g=un("recharts-pie",s);return w(On,{tabIndex:this.props.rootTabIndex,className:g,ref:function(_){n.pieRef=_},children:[this.renderSectors(),l&&this.renderLabels(o),Lo.renderCallByParent(this.props,null,!1),(!m||x)&&Qd.renderCallByParent(this.props,o,!1)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Qe.isValidElement(n))return Qe.cloneElement(n,a);if(Hr(n))return n(a);var o=un("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return A.createElement(U0,{...a,key:i,type:"linear",className:o})}},{key:"renderLabelItem",value:function(n,a,i){if(Qe.isValidElement(n))return Qe.cloneElement(n,a);var o=i;if(Hr(n)&&(o=n(a),Qe.isValidElement(o)))return o;var s=un("recharts-pie-label-text",typeof n!="boolean"&&!Hr(n)?n.className:"");return c(eg,{...a,alignmentBaseline:"middle",className:s,children:o})}}])}(A.PureComponent);Kb=Is;Hc(Is,"displayName","Pie");Hc(Is,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Om.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Hc(Is,"parseDeltaAngle",function(e,t){var r=al(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Hc(Is,"getRealPieData",function(e){var t=e.data,r=e.children,n=Or(e,!1),a=pc(r,Vc);return t&&t.length?t.map(function(i,o){return Ca(Ca(Ca({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ca(Ca({},n),i.props)}):[]});Hc(Is,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=KJ(a,i),s=n+il(e.cx,a,a/2),l=r+il(e.cy,i,i/2),u=il(e.innerRadius,o,0),d=il(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Hc(Is,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ca(Ca({},t.type.defaultProps),t.props):t.props,a=Kb.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),x=Kb.parseCoordinateOfPie(n,r),g=Kb.parseDeltaAngle(o,s),y=Math.abs(g),_=u;cn(u)&&cn(f)?(Wu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):cn(u)&&(Wu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var b=a.filter(function(I){return qi(I,_,0)!==0}).length,S=(y>=360?b:b-1)*l,C=y-b*m-S,E=a.reduce(function(I,L){var U=qi(L,_,0);return I+(Ht(U)?U:0)},0),O;if(E>0){var T;O=a.map(function(I,L){var U=qi(I,_,0),P=qi(I,d,L),M=(Ht(U)?U:0)/E,j;L?j=T.endAngle+al(g)*l*(U!==0?1:0):j=o;var V=j+al(g)*((U!==0?m:0)+M*C),X=(j+V)/2,te=(x.innerRadius+x.outerRadius)/2,z=[{name:P,value:U,payload:I,dataKey:_,type:h}],G=Oa(x.cx,x.cy,te,X);return T=Ca(Ca(Ca({percent:M,cornerRadius:i,name:P,tooltipPayload:z,midAngle:X,middleRadius:te,tooltipPosition:G},I),x),{},{value:qi(I,_),startAngle:j,endAngle:V,payload:I,paddingAngle:al(g)*l}),T})}return Ca(Ca({},x),{},{sectors:O,data:a})});var tT,pq;function JEe(){if(pq)return tT;pq=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var s=-1,l=t(e((a-n)/(i||1)),0),u=Array(l);l--;)u[o?l:++s]=n,n+=i;return u}return tT=r,tT}var rT,mq;function hQ(){if(mq)return rT;mq=1;var e=MZ(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-1/0){var i=a<0?-1:1;return i*r}return a===a?a:0}return rT=n,rT}var nT,gq;function QEe(){if(gq)return nT;gq=1;var e=JEe(),t=V4(),r=hQ();function n(a){return function(i,o,s){return s&&typeof s!="number"&&t(i,o,s)&&(o=s=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),s=s===void 0?i<o?1:-1:r(s),e(i,o,s,a)}}return nT=n,nT}var aT,vq;function eCe(){if(vq)return aT;vq=1;var e=QEe(),t=e();return aT=t,aT}var tCe=eCe();const aS=ia(tCe);function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yq(Object(r),!0).forEach(function(n){pQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pQ(e,t,r){return t=rCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rCe(e){var t=nCe(e,"string");return Bx(t)=="symbol"?t:t+""}function nCe(e,t){if(Bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aCe=["Webkit","Moz","O","ms"],iCe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=aCe.reduce(function(i,o){return xq(xq({},i),{},pQ({},o+n,r))},{});return a[t]=r,a};function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wq(Object(r),!0).forEach(function(n){Ql(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gQ(n.key),n)}}function sCe(e,t,r){return t&&_q(e.prototype,t),r&&_q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lCe(e,t,r){return t=iS(t),cCe(e,mQ()?Reflect.construct(t,r||[],iS(e).constructor):t.apply(e,r))}function cCe(e,t){if(t&&(D1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uCe(e)}function uCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mQ=function(){return!!e})()}function iS(e){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iS(e)}function dCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gO(e,t)}function gO(e,t){return gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gO(e,t)}function Ql(e,t,r){return t=gQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=fCe(e,"string");return D1(t)=="symbol"?t:t+""}function fCe(e,t){if(D1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hCe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=L2().domain(aS(0,l)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},bq=function(t){return t.changedTouches&&!!t.changedTouches.length},I1=function(e){function t(r){var n;return oCe(this,t),n=lCe(this,t,[r]),Ql(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ql(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ql(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),Ql(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ql(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ql(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ql(n,"handleSlideDragStart",function(a){var i=bq(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return dCe(t,e),sCe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),x=t.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:x===d?d:x-x%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=qi(i[n],s,n);return Hr(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,x=l.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var y=this.getIndex({startX:o+g,endX:s+g});(y.startIndex!==h||y.endIndex!==m)&&x&&x(y),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=bq(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,x=d.onChange,g=d.gap,y=d.data,_={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),_[o]=u+b;var S=this.getIndex(_),C=S.startIndex,E=S.endIndex,O=function(){var I=y.length-1;return o==="startX"&&(s>l?C%g===0:E%g===0)||s<l&&E===I||o==="endX"&&(s>l?E%g===0:C%g===0)||s>l&&E===I};this.setState(Ql(Ql({},o,u+b),"brushMoveStartX",n.pageX),function(){x&&O()&&x(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var m=s[h];a==="startX"&&m>=u||a==="endX"&&m<=l||this.setState(Ql({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return c("rect",{stroke:u,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=A.Children.only(u);return f?Qe.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,x=l.data,g=l.startIndex,y=l.endIndex,_=Math.max(n,this.props.x),b=iT(iT({},Or(this.props,!1)),{},{x:_,y:u,width:d,height:f}),S=m||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return c(On,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"},children:t.renderTraveller(h,b)})}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return c("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,x={pointerEvents:"none",fill:u};return w(On,{className:"recharts-brush-texts",children:[c(eg,{textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+s/2,...x,children:this.getTextOfTick(a)}),c(eg,{textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:o+s/2,...x,children:this.getTextOfTick(i)})]})}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,g=h.isTextActive,y=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ht(s)||!Ht(l)||!Ht(u)||!Ht(d)||u<=0||d<=0)return null;var S=un("recharts-brush",i),C=Qe.Children.count(o)===1,E=iCe("userSelect","none");return w(On,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E,children:[this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||y||_||b||f)&&this.renderText()]})}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(i+s/2)-1;return w(Sr,{children:[c("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),c("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),c("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"})]})}},{key:"renderTraveller",value:function(n,a){var i;return Qe.isValidElement(n)?i=Qe.cloneElement(n,a):Hr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return iT({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?hCe({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(A.PureComponent);Ql(I1,"displayName","Brush");Ql(I1,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oT,Sq;function pCe(){if(Sq)return oT;Sq=1;var e=aI();function t(r,n){var a;return e(r,function(i,o,s){return a=n(i,o,s),!a}),!!a}return oT=t,oT}var sT,Aq;function mCe(){if(Aq)return sT;Aq=1;var e=fZ(),t=mf(),r=pCe(),n=jl(),a=V4();function i(o,s,l){var u=n(o)?e:r;return l&&a(o,s,l)&&(s=void 0),u(o,t(s,3))}return sT=i,sT}var gCe=mCe();const vCe=ia(gCe);var ef=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},lT,kq;function yCe(){if(kq)return lT;kq=1;var e=PZ();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return lT=t,lT}var cT,Nq;function xCe(){if(Nq)return cT;Nq=1;var e=yCe(),t=CZ(),r=mf();function n(a,i){var o={};return i=r(i,3),t(a,function(s,l,u){e(o,l,i(s,l,u))}),o}return cT=n,cT}var wCe=xCe();const _Ce=ia(wCe);var uT,Eq;function bCe(){if(Eq)return uT;Eq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return uT=e,uT}var dT,Cq;function SCe(){if(Cq)return dT;Cq=1;var e=aI();function t(r,n){var a=!0;return e(r,function(i,o,s){return a=!!n(i,o,s),a}),a}return dT=t,dT}var fT,Tq;function ACe(){if(Tq)return fT;Tq=1;var e=bCe(),t=SCe(),r=mf(),n=jl(),a=V4();function i(o,s,l){var u=n(o)?e:t;return l&&a(o,s,l)&&(s=void 0),u(o,r(s,3))}return fT=i,fT}var kCe=ACe();const vQ=ia(kCe);var NCe=["x","y"];function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}function vO(){return vO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vO.apply(this,arguments)}function Pq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pq(Object(r),!0).forEach(function(n){ECe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ECe(e,t,r){return t=CCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CCe(e){var t=TCe(e,"string");return Ux(t)=="symbol"?t:t+""}function TCe(e,t){if(Ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PCe(e,t){if(e==null)return{};var r=OCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DCe(e,t){var r=e.x,n=e.y,a=PCe(e,NCe),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return s2(s2(s2(s2(s2({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Oq(e){return Qe.createElement(uQ,vO({shapeType:"rectangle",propTransformer:DCe,activeClassName:"recharts-active-bar"},e))}var ICe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||ng(),r)}},RCe=["value","background"],yQ;function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function MCe(e,t){if(e==null)return{};var r=FCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dq(Object(r),!0).forEach(function(n){Gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wQ(n.key),n)}}function jCe(e,t,r){return t&&Iq(e.prototype,t),r&&Iq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ce(e,t,r){return t=oS(t),BCe(e,xQ()?Reflect.construct(t,r||[],oS(e).constructor):t.apply(e,r))}function BCe(e,t){if(t&&(R1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UCe(e)}function UCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xQ=function(){return!!e})()}function oS(e){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oS(e)}function qCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yO(e,t)}function yO(e,t){return yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yO(e,t)}function Gp(e,t,r){return t=wQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=zCe(e,"string");return R1(t)=="symbol"?t:t+""}function zCe(e,t){if(R1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(R1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eu=function(e){function t(){var r;LCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$Ce(this,t,[].concat(a)),Gp(r,"state",{isAnimationFinished:!1}),Gp(r,"id",Ag("recharts-bar-")),Gp(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Gp(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return qCe(t,e),jCe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Or(this.props,!1);return n&&n.map(function(f,h){var m=h===l,x=m?u:o,g=to(to(to({},d),f),{},{isActive:m,option:x,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return A.createElement(On,{className:"recharts-bar-rectangle",...Q0(a.props,f,h),key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)},c(Oq,{...g}))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return c(Ju,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(m){var x=m.t,g=i.map(function(y,_){var b=h&&h[_];if(b){var S=go(b.x,y.x),C=go(b.y,y.y),E=go(b.width,y.width),O=go(b.height,y.height);return to(to({},y),{},{x:S(x),y:C(x),width:E(x),height:O(x)})}if(o==="horizontal"){var T=go(0,y.height),I=T(x);return to(to({},y),{},{y:y.y+y.height-I,height:I})}var L=go(0,y.width),U=L(x);return to(to({},y),{},{width:U})});return c(On,{children:n.renderRectanglesStatically(g)})}},"bar-".concat(f))}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!tg(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=Or(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=MCe(u,RCe);if(!f)return null;var m=to(to(to(to(to({},h),{},{fill:"#eee"},f),l),Q0(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return c(Oq,{option:n.props.background,isActive:d===s,...m},"background-bar-".concat(d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=pc(d,Ww);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,_){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:qi(y,_)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return c(On,{...x,children:f.map(function(g){return Qe.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})})})}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,_=un("recharts-bar",o),b=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,C=b||S,E=cn(g)?this.id:g;return w(On,{className:_,children:[b||S?c("defs",{children:c("clipPath",{id:"clipPath-".concat(E),children:c("rect",{x:b?u:u-f/2,y:S?d:d-h/2,width:b?f:f*2,height:S?h:h*2})})}):null,w(On,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(E,")"):null,children:[x?this.renderBackground():null,this.renderRectangles()]}),this.renderErrorBar(C,E),(!m||y)&&Qd.renderCallByParent(this.props,i)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(A.PureComponent);yQ=eu;Gp(eu,"displayName","Bar");Gp(eu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Om.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gp(eu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=v3e(n,r);if(!m)return null;var x=t.layout,g=r.type.defaultProps,y=g!==void 0?to(to({},g),r.props):r.props,_=y.dataKey,b=y.children,S=y.minPointSize,C=x==="horizontal"?o:i,E=u?C.scale.domain():null,O=A3e({numericAxis:C}),T=pc(b,Vc),I=f.map(function(L,U){var P,M,j,V,X,te;u?P=y3e(u[d+U],E):(P=qi(L,_),Array.isArray(P)||(P=[O,P]));var z=ICe(S,yQ.defaultProps.minPointSize)(P[1],U);if(x==="horizontal"){var G,q=[o.scale(P[0]),o.scale(P[1])],Y=q[0],Z=q[1];M=iU({axis:i,ticks:s,bandSize:a,offset:m.offset,entry:L,index:U}),j=(G=Z??Y)!==null&&G!==void 0?G:void 0,V=m.size;var D=Y-Z;if(X=Number.isNaN(D)?0:D,te={x:M,y:o.y,width:V,height:o.height},Math.abs(z)>0&&Math.abs(X)<Math.abs(z)){var K=al(X||z)*(Math.abs(z)-Math.abs(X));j-=K,X+=K}}else{var Q=[i.scale(P[0]),i.scale(P[1])],ie=Q[0],ae=Q[1];if(M=ie,j=iU({axis:o,ticks:l,bandSize:a,offset:m.offset,entry:L,index:U}),V=ae-ie,X=m.size,te={x:i.x,y:j,width:i.width,height:X},Math.abs(z)>0&&Math.abs(V)<Math.abs(z)){var oe=al(V||z)*(Math.abs(z)-Math.abs(V));V+=oe}}return to(to(to({},L),{},{x:M,y:j,width:V,height:X,value:u?P:P[1],payload:L,background:te},T&&T[U]&&T[U].props),{},{tooltipPayload:[HJ(r,L)],tooltipPosition:{x:M+V/2,y:j+X/2}})});return to({data:I,layout:x},h)});function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}function WCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_Q(n.key),n)}}function VCe(e,t,r){return t&&Rq(e.prototype,t),r&&Rq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mq(Object(r),!0).forEach(function(n){l3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l3(e,t,r){return t=_Q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=HCe(e,"string");return qx(t)=="symbol"?t:t+""}function HCe(e,t){if(qx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var II=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!ec(u,eu);return d.reduce(function(m,x){var g=r[x],y=g.orientation,_=g.domain,b=g.padding,S=b===void 0?{}:b,C=g.mirror,E=g.reversed,O="".concat(y).concat(C?"Mirror":""),T,I,L,U,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=_[1]-_[0],j=1/0,V=g.categoricalDomain.sort(o2e);if(V.forEach(function(Q,ie){ie>0&&(j=Math.min((Q||0)-(V[ie-1]||0),j))}),Number.isFinite(j)){var X=j/M,te=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(T=X*te/2),g.padding==="no-gap"){var z=il(t.barCategoryGap,X*te),G=X*te/2;T=G-z-(G-z)/te*z}}}a==="xAxis"?I=[n.left+(S.left||0)+(T||0),n.left+n.width-(S.right||0)-(T||0)]:a==="yAxis"?I=l==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(T||0),n.top+n.height-(S.bottom||0)-(T||0)]:I=g.range,E&&(I=[I[1],I[0]]);var q=qJ(g,i,h),Y=q.scale,Z=q.realScaleType;Y.domain(_).range(I),zJ(Y);var D=WJ(Y,Mu(Mu({},g),{},{realScaleType:Z}));a==="xAxis"?(P=y==="top"&&!C||y==="bottom"&&C,L=n.left,U=f[O]-P*g.height):a==="yAxis"&&(P=y==="left"&&!C||y==="right"&&C,L=f[O]-P*g.width,U=n.top);var K=Mu(Mu(Mu({},g),D),{},{realScaleType:Z,x:L,y:U,scale:Y,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return K.bandSize=Y5(K,D),!g.hide&&a==="xAxis"?f[O]+=(P?-1:1)*K.height:g.hide||(f[O]+=(P?-1:1)*K.width),Mu(Mu({},m),{},l3({},x,K))},{})},bQ=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},GCe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return bQ({x:r,y:n},{x:a,y:i})},SQ=function(){function e(t){WCe(this,e),this.scale=t}return VCe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();l3(SQ,"EPS",1e-4);var RI=function(t){var r=Object.keys(t).reduce(function(n,a){return Mu(Mu({},n),{},l3({},a,SQ.create(t[a])))},{});return Mu(Mu({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return _Ce(a,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return vQ(a,function(i,o){return r[o].isInRange(i)})}})};function KCe(e){return(e%180+180)%180}var YCe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=KCe(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},hT,Fq;function XCe(){if(Fq)return hT;Fq=1;var e=mf(),t=$w(),r=z4();function n(a){return function(i,o,s){var l=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(l[f],f,l)}}var d=a(i,o,s);return d>-1?l[u?i[d]:d]:void 0}}return hT=n,hT}var pT,Lq;function ZCe(){if(Lq)return pT;Lq=1;var e=hQ();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return pT=t,pT}var mT,jq;function JCe(){if(jq)return mT;jq=1;var e=SZ(),t=mf(),r=ZCe(),n=Math.max;function a(i,o,s){var l=i==null?0:i.length;if(!l)return-1;var u=s==null?0:r(s);return u<0&&(u=n(l+u,0)),e(i,t(o,3),u)}return mT=a,mT}var gT,$q;function QCe(){if($q)return gT;$q=1;var e=XCe(),t=JCe(),r=e(t);return gT=r,gT}var eTe=QCe();const tTe=ia(eTe);var rTe=jX();const nTe=ia(rTe);var aTe=nTe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),MI=A.createContext(void 0),FI=A.createContext(void 0),AQ=A.createContext(void 0),kQ=A.createContext({}),NQ=A.createContext(void 0),EQ=A.createContext(0),CQ=A.createContext(0),Bq=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,u=t.height,d=aTe(i);return c(MI.Provider,{value:n,children:c(FI.Provider,{value:a,children:c(kQ.Provider,{value:i,children:c(AQ.Provider,{value:d,children:c(NQ.Provider,{value:o,children:c(EQ.Provider,{value:u,children:c(CQ.Provider,{value:l,children:s})})})})})})})},iTe=function(){return A.useContext(NQ)},TQ=function(t){var r=A.useContext(MI);r==null&&ng();var n=r[t];return n==null&&ng(),n},oTe=function(){var t=A.useContext(MI);return Wp(t)},sTe=function(){var t=A.useContext(FI),r=tTe(t,function(n){return vQ(n.domain,Number.isFinite)});return r||Wp(t)},PQ=function(t){var r=A.useContext(FI);r==null&&ng();var n=r[t];return n==null&&ng(),n},lTe=function(){var t=A.useContext(AQ);return t},cTe=function(){return A.useContext(kQ)},LI=function(){return A.useContext(CQ)},jI=function(){return A.useContext(EQ)};function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function uTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DQ(n.key),n)}}function fTe(e,t,r){return t&&dTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hTe(e,t,r){return t=sS(t),pTe(e,OQ()?Reflect.construct(t,r||[],sS(e).constructor):t.apply(e,r))}function pTe(e,t){if(t&&(M1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mTe(e)}function mTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OQ=function(){return!!e})()}function sS(e){return sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sS(e)}function gTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xO(e,t)}function xO(e,t){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xO(e,t)}function Uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uq(Object(r),!0).forEach(function(n){$I(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $I(e,t,r){return t=DQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DQ(e){var t=vTe(e,"string");return M1(t)=="symbol"?t:t+""}function vTe(e,t){if(M1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yTe(e,t){return bTe(e)||_Te(e,t)||wTe(e,t)||xTe()}function xTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wTe(e,t){if(e){if(typeof e=="string")return zq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zq(e,t)}}function zq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Te(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function bTe(e){if(Array.isArray(e))return e}function wO(){return wO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wO.apply(this,arguments)}var STe=function(t,r){var n;return Qe.isValidElement(t)?n=Qe.cloneElement(t,r):Hr(t)?n=t(r):n=Qe.createElement("line",wO({},r,{className:"recharts-reference-line-line"})),n},ATe=function(t,r,n,a,i,o,s,l,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var x=u.y,g=t.y.apply(x,{position:o});if(ef(u,"discard")&&!t.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?y.reverse():y}if(r){var _=u.x,b=t.x.apply(_,{position:o});if(ef(u,"discard")&&!t.x.isInRange(b))return null;var S=[{x:b,y:f+m},{x:b,y:f}];return s==="top"?S.reverse():S}if(a){var C=u.segment,E=C.map(function(O){return t.apply(O,{position:o})});return ef(u,"discard")&&vCe(E,function(O){return!t.isInRange(O)})?null:E}return null};function kTe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,u=iTe(),d=TQ(a),f=PQ(i),h=lTe();if(!u||!h)return null;Wu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=RI({x:d.scale,y:f.scale}),x=xo(t),g=xo(r),y=n&&n.length===2,_=ATe(m,x,g,y,h,e.position,d.orientation,f.orientation,e);if(!_)return null;var b=yTe(_,2),S=b[0],C=S.x,E=S.y,O=b[1],T=O.x,I=O.y,L=ef(e,"hidden")?"url(#".concat(u,")"):void 0,U=qq(qq({clipPath:L},Or(e,!0)),{},{x1:C,y1:E,x2:T,y2:I});return Qe.createElement(On,{className:un("recharts-reference-line",s)},STe(o,U),Lo.renderCallByParent(e,GCe({x1:C,y1:E,x2:T,y2:I})))}var BI=function(e){function t(){return uTe(this,t),hTe(this,t,arguments)}return gTe(t,e),fTe(t,[{key:"render",value:function(){return Qe.createElement(kTe,this.props)}}])}(Qe.Component);$I(BI,"displayName","ReferenceLine");$I(BI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _O(){return _O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_O.apply(this,arguments)}function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function Wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wq(Object(r),!0).forEach(function(n){c3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ETe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RQ(n.key),n)}}function CTe(e,t,r){return t&&ETe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TTe(e,t,r){return t=lS(t),PTe(e,IQ()?Reflect.construct(t,r||[],lS(e).constructor):t.apply(e,r))}function PTe(e,t){if(t&&(F1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(e)}function OTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IQ=function(){return!!e})()}function lS(e){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lS(e)}function DTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bO(e,t)}function bO(e,t){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bO(e,t)}function c3(e,t,r){return t=RQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=ITe(e,"string");return F1(t)=="symbol"?t:t+""}function ITe(e,t){if(F1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(F1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RTe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=RI({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return ef(t,"discard")&&!o.isInRange(s)?null:s},u3=function(e){function t(){return NTe(this,t),TTe(this,t,arguments)}return DTe(t,e),CTe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=xo(a),d=xo(i);if(Wu(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=RTe(this.props);if(!f)return null;var h=f.x,m=f.y,x=this.props,g=x.shape,y=x.className,_=ef(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=Vq(Vq({clipPath:_},Or(this.props,!0)),{},{cx:h,cy:m});return Qe.createElement(On,{className:un("recharts-reference-dot",y)},t.renderDot(g,b),Lo.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(Qe.Component);c3(u3,"displayName","ReferenceDot");c3(u3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});c3(u3,"renderDot",function(e,t){var r;return Qe.isValidElement(e)?r=Qe.cloneElement(e,t):Hr(e)?r=e(t):r=Qe.createElement(Vw,_O({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function SO(){return SO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SO.apply(this,arguments)}function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}function Hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hq(Object(r),!0).forEach(function(n){d3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FQ(n.key),n)}}function LTe(e,t,r){return t&&FTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jTe(e,t,r){return t=cS(t),$Te(e,MQ()?Reflect.construct(t,r||[],cS(e).constructor):t.apply(e,r))}function $Te(e,t){if(t&&(L1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BTe(e)}function BTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MQ=function(){return!!e})()}function cS(e){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cS(e)}function UTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AO(e,t)}function d3(e,t,r){return t=FQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FQ(e){var t=qTe(e,"string");return L1(t)=="symbol"?t:t+""}function qTe(e,t){if(L1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(L1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zTe=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=RI({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ef(i,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:bQ(m,x)},f3=function(e){function t(){return MTe(this,t),jTe(this,t,arguments)}return UTe(t,e),LTe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Wu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xo(a),h=xo(i),m=xo(o),x=xo(s),g=this.props.shape;if(!f&&!h&&!m&&!x&&!g)return null;var y=zTe(f,h,m,x,this.props);if(!y&&!g)return null;var _=ef(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Qe.createElement(On,{className:un("recharts-reference-area",l)},t.renderRect(g,Gq(Gq({clipPath:_},Or(this.props,!0)),y)),Lo.renderCallByParent(this.props,y))}}])}(Qe.Component);d3(f3,"displayName","ReferenceArea");d3(f3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});d3(f3,"renderRect",function(e,t){var r;return Qe.isValidElement(e)?r=Qe.cloneElement(e,t):Hr(e)?r=e(t):r=Qe.createElement(DI,SO({},t,{className:"recharts-reference-area-rect"})),r});function LQ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function WTe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return YCe(n,r)}function VTe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function uS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function HTe(e,t){return LQ(e,t+1)}function GTe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,u=1,d=o,f=function(){var x=n==null?void 0:n[l];if(x===void 0)return{v:LQ(n,u)};var g=l,y,_=function(){return y===void 0&&(y=r(x,g)),y},b=x.coordinate,S=l===0||uS(e,b,_,d,s);S||(l=0,d=o,u+=1),S&&(d=b+e*(_()/2+a),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}function Kq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kq(Object(r),!0).forEach(function(n){KTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KTe(e,t,r){return t=YTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YTe(e){var t=XTe(e,"string");return zx(t)=="symbol"?t:t+""}function XTe(e,t){if(zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZTe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,u=function(h){var m=i[h],x,g=function(){return x===void 0&&(x=r(m,h)),x};if(h===o-1){var y=e*(m.coordinate+e*g()/2-l);i[h]=m=Ss(Ss({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Ss(Ss({},m),{},{tickCoord:m.coordinate});var _=uS(e,m.tickCoord,g,s,l);_&&(l=m.tickCoord-e*(g()/2+a),i[h]=Ss(Ss({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function JTe(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,u=t.end;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);o[s-1]=d=Ss(Ss({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=uS(e,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Ss(Ss({},d),{},{isShow:!0}))}for(var x=i?s-1:s,g=function(b){var S=o[b],C,E=function(){return C===void 0&&(C=r(S,b)),C};if(b===0){var O=e*(S.coordinate-e*E()/2-l);o[b]=S=Ss(Ss({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else o[b]=S=Ss(Ss({},S),{},{tickCoord:S.coordinate});var T=uS(e,S.tickCoord,E,l,u);T&&(l=S.tickCoord+e*(E()/2+a),o[b]=Ss(Ss({},S),{},{isShow:!0}))},y=0;y<x;y++)g(y);return o}function UI(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ht(l)||Om.isSsr)return HTe(a,typeof l=="number"&&Ht(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",x=d&&m==="width"?F2(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(S,C){var E=Hr(u)?u(S.value,C):S.value;return m==="width"?WTe(F2(E,{fontSize:t,letterSpacing:r}),x,f):F2(E,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?al(a[1].coordinate-a[0].coordinate):1,_=VTe(i,y,m);return l==="equidistantPreserveStart"?GTe(y,_,g,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=JTe(y,_,g,a,o,l==="preserveStartEnd"):h=ZTe(y,_,g,a,o),h.filter(function(b){return b.isShow}))}var QTe=["viewBox"],ePe=["viewBox"],tPe=["ticks"];function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function Yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yq(Object(r),!0).forEach(function(n){qI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vT(e,t){if(e==null)return{};var r=rPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$Q(n.key),n)}}function aPe(e,t,r){return t&&Xq(e.prototype,t),r&&Xq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iPe(e,t,r){return t=dS(t),oPe(e,jQ()?Reflect.construct(t,r||[],dS(e).constructor):t.apply(e,r))}function oPe(e,t){if(t&&(j1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sPe(e)}function sPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jQ=function(){return!!e})()}function dS(e){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dS(e)}function lPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kO(e,t)}function kO(e,t){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kO(e,t)}function qI(e,t,r){return t=$Q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Q(e){var t=cPe(e,"string");return j1(t)=="symbol"?t:t+""}function cPe(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yy=function(e){function t(r){var n;return nPe(this,t),n=iPe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return lPe(t,e),aPe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=vT(n,QTe),s=this.props,l=s.viewBox,u=vT(s,ePe);return!Jv(i,l)||!Jv(o,u)||!Jv(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,x,g,y,_,b,S=f?-1:1,C=n.tickSize||d,E=Ht(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,y=o+ +!f*l,g=y-S*C,b=g-S*h,_=E;break;case"left":g=y=n.coordinate,x=i+ +!f*s,m=x-S*C,_=m-S*h,b=E;break;case"right":g=y=n.coordinate,x=i+ +f*s,m=x+S*C,_=m+S*h,b=E;break;default:m=x=n.coordinate,y=o+ +f*l,g=y+S*C,b=g+S*h,_=E;break}return{line:{x1:m,y1:g,x2:x,y2:y},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Js(Js(Js({},Or(this.props,!1)),Or(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Js(Js({},f),{},{x1:a,y1:i+h*s,x2:a+o,y2:i+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Js(Js({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+s})}return c("line",{...f,className:un("recharts-cartesian-axis-line",hc(d,"className"))})}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=UI(Js(Js({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Or(this.props,!1),_=Or(d,!1),b=Js(Js({},y),{},{fill:"none"},Or(l,!1)),S=m.map(function(C,E){var O=o.getTickLineCoord(C),T=O.line,I=O.tick,L=Js(Js(Js(Js({textAnchor:x,verticalAnchor:g},y),{},{stroke:"none",fill:u},_),I),{},{index:E,payload:C,visibleTicksCount:m.length,tickFormatter:f});return w(On,{className:"recharts-cartesian-axis-tick",...Q0(o.props,C,E),children:[l&&c("line",{...b,...T,className:un("recharts-cartesian-axis-tick-line",hc(l,"className"))}),d&&t.renderTickItem(d,L,"".concat(Hr(f)?f(C.value,E):C.value).concat(h||""))]},"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord))});return c("g",{className:"recharts-cartesian-axis-ticks",children:S})}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=vT(f,tPe),x=h;return Hr(l)&&(x=h&&h.length>0?l(this.props):l(m)),o<=0||s<=0||!x||!x.length?null:w(On,{className:un("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y},children:[i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Lo.renderCallByParent(this.props)]})}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Qe.isValidElement(n)?o=Qe.cloneElement(n,a):Hr(n)?o=n(a):o=c(eg,{...a,className:"recharts-cartesian-axis-tick-value",children:i}),o}}])}(A.Component);qI(yy,"displayName","CartesianAxis");qI(yy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uPe=["x1","y1","x2","y2","key"],dPe=["offset"];function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function Zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zq(Object(r),!0).forEach(function(n){fPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fPe(e,t,r){return t=hPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hPe(e){var t=pPe(e,"string");return ag(t)=="symbol"?t:t+""}function pPe(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function Jq(e,t){if(e==null)return{};var r=mPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gPe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return Qe.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BQ(e,t){var r;if(Qe.isValidElement(e))r=Qe.cloneElement(e,t);else if(Hr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=Jq(t,uPe),u=Or(l,!1);u.offset;var d=Jq(u,dPe);r=Qe.createElement("line",M0({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function vPe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Cs(Cs({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return BQ(a,u)});return Qe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function yPe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var u=Cs(Cs({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return BQ(a,u)});return Qe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function xPe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],g=x?a+o-h:d[m+1]-h;if(g<=0)return null;var y=m%t.length;return Qe.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Qe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function wPe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],g=x?i+s-h:d[m+1]-h;if(g<=0)return null;var y=m%n.length;return Qe.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:l,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Qe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var _Pe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return UJ(UI(Cs(Cs(Cs({},yy.defaultProps),n),{},{ticks:sh(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},bPe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return UJ(UI(Cs(Cs(Cs({},yy.defaultProps),n),{},{ticks:sh(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},kv={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zI(e){var t,r,n,a,i,o,s=LI(),l=jI(),u=cTe(),d=Cs(Cs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:kv.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:kv.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:kv.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:kv.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:kv.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:kv.verticalFill,x:Ht(e.x)?e.x:u.left,y:Ht(e.y)?e.y:u.top,width:Ht(e.width)?e.width:u.width,height:Ht(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,x=d.height,g=d.syncWithTicks,y=d.horizontalValues,_=d.verticalValues,b=oTe(),S=sTe();if(!Ht(m)||m<=0||!Ht(x)||x<=0||!Ht(f)||f!==+f||!Ht(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||_Pe,E=d.horizontalCoordinatesGenerator||bPe,O=d.horizontalPoints,T=d.verticalPoints;if((!O||!O.length)&&Hr(E)){var I=y&&y.length,L=E({yAxis:S?Cs(Cs({},S),{},{ticks:I?y:S.ticks}):void 0,width:s,height:l,offset:u},I?!0:g);Wu(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ag(L),"]")),Array.isArray(L)&&(O=L)}if((!T||!T.length)&&Hr(C)){var U=_&&_.length,P=C({xAxis:b?Cs(Cs({},b),{},{ticks:U?_:b.ticks}):void 0,width:s,height:l,offset:u},U?!0:g);Wu(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ag(P),"]")),Array.isArray(P)&&(T=P)}return Qe.createElement("g",{className:"recharts-cartesian-grid"},Qe.createElement(gPe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Qe.createElement(vPe,M0({},d,{offset:u,horizontalPoints:O,xAxis:b,yAxis:S})),Qe.createElement(yPe,M0({},d,{offset:u,verticalPoints:T,xAxis:b,yAxis:S})),Qe.createElement(xPe,M0({},d,{horizontalPoints:O})),Qe.createElement(wPe,M0({},d,{verticalPoints:T})))}zI.displayName="CartesianGrid";var SPe=["type","layout","connectNulls","ref"],APe=["key"];function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function Qq(e,t){if(e==null)return{};var r=kPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ez(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ez(Object(r),!0).forEach(function(n){Fu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nv(e){return TPe(e)||CPe(e)||EPe(e)||NPe()}function NPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EPe(e,t){if(e){if(typeof e=="string")return NO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(e,t)}}function CPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TPe(e){if(Array.isArray(e))return NO(e)}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qQ(n.key),n)}}function OPe(e,t,r){return t&&tz(e.prototype,t),r&&tz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DPe(e,t,r){return t=fS(t),IPe(e,UQ()?Reflect.construct(t,r||[],fS(e).constructor):t.apply(e,r))}function IPe(e,t){if(t&&($1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RPe(e)}function RPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UQ=function(){return!!e})()}function fS(e){return fS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fS(e)}function MPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EO(e,t)}function EO(e,t){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EO(e,t)}function Fu(e,t,r){return t=qQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=FPe(e,"string");return $1(t)=="symbol"?t:t+""}function FPe(e,t){if($1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dm=function(e){function t(){var r;PPe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=DPe(this,t,[].concat(a)),Fu(r,"state",{isAnimationFinished:!0,totalLength:0}),Fu(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Fu(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(_,b){return _+b});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/u),f=o%u,h=s-o,m=[],x=0,g=0;x<l.length;g+=l[x],++x)if(g+l[x]>f){m=[].concat(Nv(l.slice(0,x)),[f-g]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(Nv(t.repeat(l,d)),Nv(m),y).map(function(_){return"".concat(_,"px")}).join(", ")}),Fu(r,"id",Ag("recharts-line-")),Fu(r,"pathRef",function(o){r.mainCurve=o}),Fu(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Fu(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return MPe(t,e),OPe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=pc(d,Ww);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:qi(g.payload,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return c(On,{...m,children:f.map(function(x){return Qe.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})})})}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=Or(this.props,!1),h=Or(l,!0),m=u.map(function(g,y){var _=Zl(Zl(Zl({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(l,_)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return c(On,{className:"recharts-line-dots",...x,children:m},"dots")}},{key:"renderCurveStatically",value:function(n,a,i,o){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=Qq(s,SPe),h=Zl(Zl(Zl({},Or(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:d});return c(U0,{...h,pathRef:this.pathRef})}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=o.animateNewValues,g=o.width,y=o.height,_=this.state,b=_.prevPoints,S=_.totalLength;return c(Ju,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(C){var E=C.t;if(b){var O=b.length/s.length,T=s.map(function(M,j){var V=Math.floor(j*O);if(b[V]){var X=b[V],te=go(X.x,M.x),z=go(X.y,M.y);return Zl(Zl({},M),{},{x:te(E),y:z(E)})}if(x){var G=go(g*2,M.x),q=go(y/2,M.y);return Zl(Zl({},M),{},{x:G(E),y:q(E)})}return Zl(Zl({},M),{},{x:M.x,y:M.y})});return i.renderCurveStatically(T,n,a)}var I=go(0,S),L=I(E),U;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});U=i.getStrokeDasharray(L,S,P)}else U=i.generateSimpleStrokeDasharray(S,L);return i.renderCurveStatically(s,n,a,{strokeDasharray:U})}},"line-".concat(m))}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,s=i.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&o&&o.length&&(!u&&d>0||!tg(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,x=a.height,g=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,S=un("recharts-line",l),C=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,O=C||E,T=cn(y)?this.id:y,I=(n=Or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=I.r,U=L===void 0?3:L,P=I.strokeWidth,M=P===void 0?2:P,j=zX(o)?o:{},V=j.clipDot,X=V===void 0?!0:V,te=U*2+M;return w(On,{className:S,children:[C||E?w("defs",{children:[c("clipPath",{id:"clipPath-".concat(T),children:c("rect",{x:C?h:h-m/2,y:E?f:f-x/2,width:C?m:m*2,height:E?x:x*2})}),!X&&c("clipPath",{id:"clipPath-dots-".concat(T),children:c("rect",{x:h-te/2,y:f-te/2,width:m+te,height:x+te})})]}):null,!b&&this.renderCurve(O,T),this.renderErrorBar(O,T),(b||o)&&this.renderDots(O,X,T),(!g||_)&&Qd.renderCallByParent(this.props,s)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Nv(n),[0]):n,o=[],s=0;s<a;++s)o=[].concat(Nv(o),Nv(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Qe.isValidElement(n))i=Qe.cloneElement(n,a);else if(Hr(n))i=n(a);else{var o=a.key,s=Qq(a,APe),l=un("recharts-line-dot",typeof n!="boolean"?n.className:"");i=c(Vw,{...s,className:l},o)}return i}}])}(A.PureComponent);Fu(dm,"displayName","Line");Fu(dm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Om.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Fu(dm,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,m){var x=qi(h,o);return d==="horizontal"?{x:K5({axis:r,ticks:a,bandSize:s,entry:h,index:m}),y:cn(x)?null:n.scale(x),value:x,payload:h}:{x:cn(x)?null:r.scale(x),y:K5({axis:n,ticks:i,bandSize:s,entry:h,index:m}),value:x,payload:h}});return Zl({points:f,layout:d},u)});var LPe=["layout","type","stroke","connectNulls","isRange","ref"],jPe=["key"],zQ;function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function WQ(e,t){if(e==null)return{};var r=$Pe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Pe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rz(Object(r),!0).forEach(function(n){Hd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HQ(n.key),n)}}function UPe(e,t,r){return t&&nz(e.prototype,t),r&&nz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qPe(e,t,r){return t=hS(t),zPe(e,VQ()?Reflect.construct(t,r||[],hS(e).constructor):t.apply(e,r))}function zPe(e,t){if(t&&(B1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WPe(e)}function WPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VQ=function(){return!!e})()}function hS(e){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hS(e)}function VPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CO(e,t)}function CO(e,t){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CO(e,t)}function Hd(e,t,r){return t=HQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HQ(e){var t=HPe(e,"string");return B1(t)=="symbol"?t:t+""}function HPe(e,t){if(B1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(B1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oh=function(e){function t(){var r;BPe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=qPe(this,t,[].concat(a)),Hd(r,"state",{isAnimationFinished:!0}),Hd(r,"id",Ag("recharts-area-")),Hd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Hr(o)&&o()}),Hd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Hr(o)&&o()}),r}return VPe(t,e),UPe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Or(this.props,!1),m=Or(u,!0),x=d.map(function(y,_){var b=jp(jp(jp({key:"dot-".concat(_),r:3},h),m),{},{index:_,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return c(On,{className:"recharts-area-dots",...g,children:x})}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=Hp(o.map(function(h){return h.y||0}));return Ht(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Hp(i.map(function(h){return h.y||0})),f)),Ht(f)?c("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=Hp(o.map(function(h){return h.x||0}));return Ht(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Hp(i.map(function(h){return h.x||0})),f)),Ht(f)?c("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var s=this.props,l=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var m=WQ(s,LPe);return w(On,{clipPath:i?"url(#clipPath-".concat(o,")"):null,children:[c(U0,{...Or(m,!0),points:n,connectNulls:f,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"}),d!=="none"&&c(U0,{...Or(this.props,!1),className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n}),d!=="none"&&h&&c(U0,{...Or(this.props,!1),className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:a})]})}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=this.state,g=x.prevPoints,y=x.prevBaseLine;return c(Ju,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(_){var b=_.t;if(g){var S=g.length/s.length,C=s.map(function(I,L){var U=Math.floor(L*S);if(g[U]){var P=g[U],M=go(P.x,I.x),j=go(P.y,I.y);return jp(jp({},I),{},{x:M(b),y:j(b)})}return I}),E;if(Ht(l)&&typeof l=="number"){var O=go(y,l);E=O(b)}else if(cn(l)||hy(l)){var T=go(y,0);E=T(b)}else E=l.map(function(I,L){var U=Math.floor(L*S);if(y[U]){var P=y[U],M=go(P.x,I.x),j=go(P.y,I.y);return jp(jp({},I),{},{x:M(b),y:j(b)})}return I});return i.renderAreaStatically(C,E,n,a)}return w(On,{children:[c("defs",{children:c("clipPath",{id:"animationClipPath-".concat(a),children:i.renderClipRect(b)})}),c(On,{clipPath:"url(#animationClipPath-".concat(a,")"),children:i.renderAreaStatically(s,l,n,a)})]})}},"area-".concat(m))}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,s=i.baseLine,l=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!tg(d,o)||!tg(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,x=a.height,g=a.isAnimationActive,y=a.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,S=un("recharts-area",l),C=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,O=C||E,T=cn(y)?this.id:y,I=(n=Or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=I.r,U=L===void 0?3:L,P=I.strokeWidth,M=P===void 0?2:P,j=zX(o)?o:{},V=j.clipDot,X=V===void 0?!0:V,te=U*2+M;return w(On,{className:S,children:[C||E?w("defs",{children:[c("clipPath",{id:"clipPath-".concat(T),children:c("rect",{x:C?d:d-m/2,y:E?u:u-x/2,width:C?m:m*2,height:E?x:x*2})}),!X&&c("clipPath",{id:"clipPath-dots-".concat(T),children:c("rect",{x:d-te/2,y:u-te/2,width:m+te,height:x+te})})]}):null,b?null:this.renderArea(O,T),(o||b)&&this.renderDots(O,X,T),(!g||_)&&Qd.renderCallByParent(this.props,s)]})}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(A.PureComponent);zQ=Oh;Hd(Oh,"displayName","Area");Hd(Oh,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Om.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Hd(Oh,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=o??i;if(Ht(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Hd(Oh,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,x=u&&u.length,g=zQ.getBaseValue(t,r,n,a),y=m==="horizontal",_=!1,b=f.map(function(C,E){var O;x?O=u[d+E]:(O=qi(C,l),Array.isArray(O)?_=!0:O=[g,O]);var T=O[1]==null||x&&qi(C,l)==null;return y?{x:K5({axis:n,ticks:i,bandSize:s,entry:C,index:E}),y:T?null:a.scale(O[1]),value:O,payload:C}:{x:T?null:n.scale(O[1]),y:K5({axis:a,ticks:o,bandSize:s,entry:C,index:E}),value:O,payload:C}}),S;return x||_?S=b.map(function(C){var E=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:E!=null&&C.y!=null?a.scale(E):null}:{x:E!=null?n.scale(E):null,y:C.y}}):S=y?a.scale(g):n.scale(g),jp({points:b,baseLine:S,layout:m,isRange:_},h)});Hd(Oh,"renderDotItem",function(e,t){var r;if(Qe.isValidElement(e))r=Qe.cloneElement(e,t);else if(Hr(e))r=e(t);else{var n=un("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=WQ(t,jPe);r=A.createElement(Vw,{...i,key:a,className:n})}return r});function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function GPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YQ(n.key),n)}}function YPe(e,t,r){return t&&KPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XPe(e,t,r){return t=pS(t),ZPe(e,GQ()?Reflect.construct(t,r||[],pS(e).constructor):t.apply(e,r))}function ZPe(e,t){if(t&&(U1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JPe(e)}function JPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GQ=function(){return!!e})()}function pS(e){return pS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pS(e)}function QPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TO(e,t)}function TO(e,t){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TO(e,t)}function KQ(e,t,r){return t=YQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=e6e(e,"string");return U1(t)=="symbol"?t:t+""}function e6e(e,t){if(U1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(U1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function PO(){return PO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PO.apply(this,arguments)}function t6e(e){var t=e.xAxisId,r=LI(),n=jI(),a=TQ(t);return a==null?null:Qe.createElement(yy,PO({},a,{className:un("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return sh(o,!0)}}))}var Pl=function(e){function t(){return GPe(this,t),XPe(this,t,arguments)}return QPe(t,e),YPe(t,[{key:"render",value:function(){return Qe.createElement(t6e,this.props)}}])}(Qe.Component);KQ(Pl,"displayName","XAxis");KQ(Pl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function q1(e){"@babel/helpers - typeof";return q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q1(e)}function r6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JQ(n.key),n)}}function a6e(e,t,r){return t&&n6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i6e(e,t,r){return t=mS(t),o6e(e,XQ()?Reflect.construct(t,r||[],mS(e).constructor):t.apply(e,r))}function o6e(e,t){if(t&&(q1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s6e(e)}function s6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XQ=function(){return!!e})()}function mS(e){return mS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mS(e)}function l6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OO(e,t)}function OO(e,t){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OO(e,t)}function ZQ(e,t,r){return t=JQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=c6e(e,"string");return q1(t)=="symbol"?t:t+""}function c6e(e,t){if(q1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DO(){return DO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DO.apply(this,arguments)}var u6e=function(t){var r=t.yAxisId,n=LI(),a=jI(),i=PQ(r);return i==null?null:Qe.createElement(yy,DO({},i,{className:un("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return sh(s,!0)}}))},Ol=function(e){function t(){return r6e(this,t),i6e(this,t,arguments)}return l6e(t,e),a6e(t,[{key:"render",value:function(){return Qe.createElement(u6e,this.props)}}])}(Qe.Component);ZQ(Ol,"displayName","YAxis");ZQ(Ol,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function az(e){return p6e(e)||h6e(e)||f6e(e)||d6e()}function d6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f6e(e,t){if(e){if(typeof e=="string")return IO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IO(e,t)}}function h6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p6e(e){if(Array.isArray(e))return IO(e)}function IO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RO=function(t,r,n,a,i){var o=pc(t,BI),s=pc(t,u3),l=[].concat(az(o),az(s)),u=pc(t,f3),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(g,y){if(y.props[d]===n&&ef(y.props,"extendDomain")&&Ht(y.props[f])){var _=y.props[f];return[Math.min(g[0],_),Math.max(g[1],_)]}return g},h)),u.length){var m="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===n&&ef(y.props,"extendDomain")&&Ht(y.props[m])&&Ht(y.props[x])){var _=y.props[m],b=y.props[x];return[Math.min(g[0],_,b),Math.max(g[1],_,b)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,y){return Ht(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},yT={exports:{}},iz;function m6e(){return iz||(iz=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,h),x=r?r+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],m]:l._events[x].push(m):(l._events[x]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,x){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],_=arguments.length,b,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,x),!0}for(S=1,b=new Array(_-1);S<_;S++)b[S-1]=arguments[S];y.fn.apply(y.context,b)}else{var C=y.length,E;for(S=0;S<C;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),_){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,f);break;case 4:y[S].fn.call(y[S].context,d,f,h);break;default:if(!b)for(E=1,b=new Array(_-1);E<_;E++)b[E-1]=arguments[E];y[S].fn.apply(y[S].context,b)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,m);else{for(var g=0,y=[],_=x.length;g<_;g++)(x[g].fn!==d||h&&!x[g].once||f&&x[g].context!==f)&&y.push(x[g]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(yT)),yT.exports}var g6e=m6e();const v6e=ia(g6e);var xT=new v6e,wT="recharts.syncMouseEvents";function Wx(e){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(e)}function y6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QQ(n.key),n)}}function w6e(e,t,r){return t&&x6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _T(e,t,r){return t=QQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=_6e(e,"string");return Wx(t)=="symbol"?t:t+""}function _6e(e,t){if(Wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b6e=function(){function e(){y6e(this,e),_T(this,"activeIndex",0),_T(this,"coordinateList",[]),_T(this,"layout","horizontal")}return w6e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function S6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ht(n)&&Ht(a))return!0}return!1}function A6e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function eee(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Oa(t,r,n,a),s=Oa(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function k6e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Oa(s,l,u,f),m=Oa(s,l,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return eee(t);return[{x:n,y:a},{x:i,y:o}]}function Vx(e){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(e)}function oz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oz(Object(r),!0).forEach(function(n){N6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N6e(e,t,r){return t=E6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E6e(e){var t=C6e(e,"string");return Vx(t)=="symbol"?t:t+""}function C6e(e,t){if(Vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T6e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var x,g=U0;if(h==="ScatterChart")x=o,g=BNe;else if(h==="BarChart")x=A6e(f,o,l,d),g=DI;else if(f==="radial"){var y=eee(o),_=y.cx,b=y.cy,S=y.radius,C=y.startAngle,E=y.endAngle;x={cx:_,cy:b,startAngle:C,endAngle:E,innerRadius:S,outerRadius:S},g=JJ}else x={points:k6e(f,o,l)},g=U0;var O=yb(yb(yb(yb({stroke:"#ccc",pointerEvents:"none"},l),x),Or(m,!1)),{},{payload:s,payloadIndex:u,className:un("recharts-tooltip-cursor",m.className)});return A.isValidElement(m)?A.cloneElement(m,O):A.createElement(g,O)}var P6e=["item"],O6e=["children","className","width","height","style","compact","title","desc"];function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function sz(e,t){return R6e(e)||I6e(e,t)||ree(e,t)||D6e()}function D6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function R6e(e){if(Array.isArray(e))return e}function lz(e,t){if(e==null)return{};var r=M6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nee(n.key),n)}}function j6e(e,t,r){return t&&L6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $6e(e,t,r){return t=gS(t),B6e(e,tee()?Reflect.construct(t,r||[],gS(e).constructor):t.apply(e,r))}function B6e(e,t){if(t&&(z1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U6e(e)}function U6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tee=function(){return!!e})()}function gS(e){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gS(e)}function q6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MO(e,t)}function MO(e,t){return MO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MO(e,t)}function W1(e){return V6e(e)||W6e(e)||ree(e)||z6e()}function z6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(e,t){if(e){if(typeof e=="string")return FO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FO(e,t)}}function W6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V6e(e){if(Array.isArray(e))return FO(e)}function FO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cz(Object(r),!0).forEach(function(n){Wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wr(e,t,r){return t=nee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nee(e){var t=H6e(e,"string");return z1(t)=="symbol"?t:t+""}function H6e(e,t){if(z1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G6e={xAxis:["bottom","top"],yAxis:["left","right"]},K6e={width:"100%",height:"100%"},aee={x:0,y:0};function xb(e){return e}var Y6e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},X6e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return Ct(Ct(Ct({},a),Oa(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,u=a.angle;return Ct(Ct(Ct({},a),Oa(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return aee},h3=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(W1(s),W1(u)):s},[]);return o.length>0?o:t&&t.length&&Ht(a)&&Ht(i)?t.slice(a,i+1):[]};function iee(e){return e==="number"?[0,"auto"]:void 0}var LO=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=h3(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;h=S5(m,o.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(W1(l),[HJ(u,h)]):l},[])},uz=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=Y6e(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=d3e(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=LO(t,r,d,f),m=X6e(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Z6e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=BJ(d,i);return n.reduce(function(x,g){var y,_=g.type.defaultProps!==void 0?Ct(Ct({},g.type.defaultProps),g.props):g.props,b=_.type,S=_.dataKey,C=_.allowDataOverflow,E=_.allowDuplicatedCategory,O=_.scale,T=_.ticks,I=_.includeHidden,L=_[o];if(x[L])return x;var U=h3(t.data,{graphicalItems:a.filter(function(D){var K,Q=o in D.props?D.props[o]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[o];return Q===L}),dataStartIndex:l,dataEndIndex:u}),P=U.length,M,j,V;S6e(_.domain,C,b)&&(M=X6(_.domain,null,C),m&&(b==="number"||O!=="auto")&&(V=j2(U,S,"category")));var X=iee(b);if(!M||M.length===0){var te,z=(te=_.domain)!==null&&te!==void 0?te:X;if(S){if(M=j2(U,S,b),b==="category"&&m){var G=i2e(M);E&&G?(j=M,M=aS(0,P)):E||(M=lU(z,M,g).reduce(function(D,K){return D.indexOf(K)>=0?D:[].concat(W1(D),[K])},[]))}else if(b==="category")E?M=M.filter(function(D){return D!==""&&!cn(D)}):M=lU(z,M,g).reduce(function(D,K){return D.indexOf(K)>=0||K===""||cn(K)?D:[].concat(W1(D),[K])},[]);else if(b==="number"){var q=g3e(U,a.filter(function(D){var K,Q,ie=o in D.props?D.props[o]:(K=D.type.defaultProps)===null||K===void 0?void 0:K[o],ae="hide"in D.props?D.props.hide:(Q=D.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ie===L&&(I||!ae)}),S,i,d);q&&(M=q)}m&&(b==="number"||O!=="auto")&&(V=j2(U,S,"category"))}else m?M=aS(0,P):s&&s[L]&&s[L].hasStack&&b==="number"?M=h==="expand"?[0,1]:VJ(s[L].stackGroups,l,u):M=$J(U,a.filter(function(D){var K=o in D.props?D.props[o]:D.type.defaultProps[o],Q="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return K===L&&(I||!Q)}),b,d,!0);if(b==="number")M=RO(f,M,L,i,T),z&&(M=X6(z,M,C));else if(b==="category"&&z){var Y=z,Z=M.every(function(D){return Y.indexOf(D)>=0});Z&&(M=Y)}}return Ct(Ct({},x),{},Wr({},L,Ct(Ct({},_),{},{axisType:i,domain:M,categoricalDomain:V,duplicateDomain:j,originalDomain:(y=_.domain)!==null&&y!==void 0?y:X,isCategorical:m,layout:d})))},{})},J6e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=h3(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=h.length,x=BJ(d,i),g=-1;return n.reduce(function(y,_){var b=_.type.defaultProps!==void 0?Ct(Ct({},_.type.defaultProps),_.props):_.props,S=b[o],C=iee("number");if(!y[S]){g++;var E;return x?E=aS(0,m):s&&s[S]&&s[S].hasStack?(E=VJ(s[S].stackGroups,l,u),E=RO(f,E,S,i)):(E=X6(C,$J(h,n.filter(function(O){var T,I,L=o in O.props?O.props[o]:(T=O.type.defaultProps)===null||T===void 0?void 0:T[o],U="hide"in O.props?O.props.hide:(I=O.type.defaultProps)===null||I===void 0?void 0:I.hide;return L===S&&!U}),"number",d),a.defaultProps.allowDataOverflow),E=RO(f,E,S,i)),Ct(Ct({},y),{},Wr({},S,Ct(Ct({axisType:i},a.defaultProps),{},{hide:!0,orientation:hc(G6e,"".concat(i,".").concat(g%2),null),domain:E,originalDomain:C,isCategorical:x,layout:d})))}return y},{})},Q6e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=pc(d,i),m={};return h&&h.length?m=Z6e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=J6e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},eOe=function(t){var r=Wp(t),n=sh(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:iI(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Y5(r,n)}},dz=function(t){var r=t.children,n=t.defaultShowTooltip,a=ec(r,I1),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},tOe=function(t){return!t||!t.length?!1:t.some(function(r){var n=uh(r&&r.type);return n&&n.indexOf("Bar")>=0})},fz=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rOe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=ec(f,I1),x=ec(f,Vu),g=Object.keys(l).reduce(function(E,O){var T=l[O],I=T.orientation;return!T.mirror&&!T.hide?Ct(Ct({},E),{},Wr({},I,E[I]+T.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(E,O){var T=o[O],I=T.orientation;return!T.mirror&&!T.hide?Ct(Ct({},E),{},Wr({},I,hc(E,"".concat(I))+T.height)):E},{top:h.top||0,bottom:h.bottom||0}),_=Ct(Ct({},y),g),b=_.bottom;m&&(_.bottom+=m.props.height||I1.defaultProps.height),x&&r&&(_=p3e(_,a,n,r));var S=u-_.left-_.right,C=d-_.top-_.bottom;return Ct(Ct({brushBottom:b},_),{},{width:Math.max(S,0),height:Math.max(C,0)})},nOe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},p3=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(_,b){var S=b.graphicalItems,C=b.stackGroups,E=b.offset,O=b.updateId,T=b.dataStartIndex,I=b.dataEndIndex,L=_.barSize,U=_.layout,P=_.barGap,M=_.barCategoryGap,j=_.maxBarSize,V=fz(U),X=V.numericAxisName,te=V.cateAxisName,z=tOe(S),G=[];return S.forEach(function(q,Y){var Z=h3(_.data,{graphicalItems:[q],dataStartIndex:T,dataEndIndex:I}),D=q.type.defaultProps!==void 0?Ct(Ct({},q.type.defaultProps),q.props):q.props,K=D.dataKey,Q=D.maxBarSize,ie=D["".concat(X,"Id")],ae=D["".concat(te,"Id")],oe={},de=l.reduce(function(lt,_e){var Ce=b["".concat(_e.axisType,"Map")],We=D["".concat(_e.axisType,"Id")];Ce&&Ce[We]||_e.axisType==="zAxis"||ng();var ft=Ce[We];return Ct(Ct({},lt),{},Wr(Wr({},_e.axisType,ft),"".concat(_e.axisType,"Ticks"),sh(ft)))},oe),J=de[te],ue=de["".concat(te,"Ticks")],ge=C&&C[ie]&&C[ie].hasStack&&k3e(q,C[ie].stackGroups),ne=uh(q.type).indexOf("Bar")>=0,Ne=Y5(J,ue),Re=[],De=z&&f3e({barSize:L,stackGroups:C,totalSize:nOe(de,te)});if(ne){var pe,Je,mt=cn(Q)?j:Q,dt=(pe=(Je=Y5(J,ue,!0))!==null&&Je!==void 0?Je:mt)!==null&&pe!==void 0?pe:0;Re=h3e({barGap:P,barCategoryGap:M,bandSize:dt!==Ne?dt:Ne,sizeList:De[ae],maxBarSize:mt}),dt!==Ne&&(Re=Re.map(function(lt){return Ct(Ct({},lt),{},{position:Ct(Ct({},lt.position),{},{offset:lt.position.offset-dt/2})})}))}var Tt=q&&q.type&&q.type.getComposedData;Tt&&G.push({props:Ct(Ct({},Tt(Ct(Ct({},de),{},{displayedData:Z,props:_,dataKey:K,item:q,bandSize:Ne,barPosition:Re,offset:E,stackedData:ge,layout:U,dataStartIndex:T,dataEndIndex:I}))),{},Wr(Wr(Wr({key:q.key||"item-".concat(Y)},X,de[X]),te,de[te]),"animationId",O)),childIndex:v2e(q,_.children),item:q})}),G},m=function(_,b){var S=_.props,C=_.dataStartIndex,E=_.dataEndIndex,O=_.updateId;if(!S9({props:S}))return null;var T=S.children,I=S.layout,L=S.stackOffset,U=S.data,P=S.reverseStackOrder,M=fz(I),j=M.numericAxisName,V=M.cateAxisName,X=pc(T,n),te=S3e(U,X,"".concat(j,"Id"),"".concat(V,"Id"),L,P),z=l.reduce(function(D,K){var Q="".concat(K.axisType,"Map");return Ct(Ct({},D),{},Wr({},Q,Q6e(S,Ct(Ct({},K),{},{graphicalItems:X,stackGroups:K.axisType===j&&te,dataStartIndex:C,dataEndIndex:E}))))},{}),G=rOe(Ct(Ct({},z),{},{props:S,graphicalItems:X}),b==null?void 0:b.legendBBox);Object.keys(z).forEach(function(D){z[D]=d(S,z[D],G,D.replace("Map",""),r)});var q=z["".concat(V,"Map")],Y=eOe(q),Z=h(S,Ct(Ct({},z),{},{dataStartIndex:C,dataEndIndex:E,updateId:O,graphicalItems:X,stackGroups:te,offset:G}));return Ct(Ct({formattedGraphicalItems:Z,graphicalItems:X,offset:G,stackGroups:te},Y),z)},x=function(y){function _(b){var S,C,E;return F6e(this,_),E=$6e(this,_,[b]),Wr(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Wr(E,"accessibilityManager",new b6e),Wr(E,"handleLegendBBoxUpdate",function(O){if(O){var T=E.state,I=T.dataStartIndex,L=T.dataEndIndex,U=T.updateId;E.setState(Ct({legendBBox:O},m({props:E.props,dataStartIndex:I,dataEndIndex:L,updateId:U},Ct(Ct({},E.state),{},{legendBBox:O}))))}}),Wr(E,"handleReceiveSyncEvent",function(O,T,I){if(E.props.syncId===O){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),Wr(E,"handleBrushChange",function(O){var T=O.startIndex,I=O.endIndex;if(T!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var L=E.state.updateId;E.setState(function(){return Ct({dataStartIndex:T,dataEndIndex:I},m({props:E.props,dataStartIndex:T,dataEndIndex:I,updateId:L},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:I})}}),Wr(E,"handleMouseEnter",function(O){var T=E.getMouseInfo(O);if(T){var I=Ct(Ct({},T),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var L=E.props.onMouseEnter;Hr(L)&&L(I,O)}}),Wr(E,"triggeredAfterMouseMove",function(O){var T=E.getMouseInfo(O),I=T?Ct(Ct({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var L=E.props.onMouseMove;Hr(L)&&L(I,O)}),Wr(E,"handleItemMouseEnter",function(O){E.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Wr(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Wr(E,"handleMouseMove",function(O){O.persist(),E.throttleTriggeredAfterMouseMove(O)}),Wr(E,"handleMouseLeave",function(O){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseLeave;Hr(I)&&I(T,O)}),Wr(E,"handleOuterEvent",function(O){var T=g2e(O),I=hc(E.props,"".concat(T));if(T&&Hr(I)){var L,U;/.*touch.*/i.test(T)?U=E.getMouseInfo(O.changedTouches[0]):U=E.getMouseInfo(O),I((L=U)!==null&&L!==void 0?L:{},O)}}),Wr(E,"handleClick",function(O){var T=E.getMouseInfo(O);if(T){var I=Ct(Ct({},T),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var L=E.props.onClick;Hr(L)&&L(I,O)}}),Wr(E,"handleMouseDown",function(O){var T=E.props.onMouseDown;if(Hr(T)){var I=E.getMouseInfo(O);T(I,O)}}),Wr(E,"handleMouseUp",function(O){var T=E.props.onMouseUp;if(Hr(T)){var I=E.getMouseInfo(O);T(I,O)}}),Wr(E,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Wr(E,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseDown(O.changedTouches[0])}),Wr(E,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&E.handleMouseUp(O.changedTouches[0])}),Wr(E,"handleDoubleClick",function(O){var T=E.props.onDoubleClick;if(Hr(T)){var I=E.getMouseInfo(O);T(I,O)}}),Wr(E,"handleContextMenu",function(O){var T=E.props.onContextMenu;if(Hr(T)){var I=E.getMouseInfo(O);T(I,O)}}),Wr(E,"triggerSyncEvent",function(O){E.props.syncId!==void 0&&xT.emit(wT,E.props.syncId,O,E.eventEmitterSymbol)}),Wr(E,"applySyncEvent",function(O){var T=E.props,I=T.layout,L=T.syncMethod,U=E.state.updateId,P=O.dataStartIndex,M=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)E.setState(Ct({dataStartIndex:P,dataEndIndex:M},m({props:E.props,dataStartIndex:P,dataEndIndex:M,updateId:U},E.state)));else if(O.activeTooltipIndex!==void 0){var j=O.chartX,V=O.chartY,X=O.activeTooltipIndex,te=E.state,z=te.offset,G=te.tooltipTicks;if(!z)return;if(typeof L=="function")X=L(G,O);else if(L==="value"){X=-1;for(var q=0;q<G.length;q++)if(G[q].value===O.activeLabel){X=q;break}}var Y=Ct(Ct({},z),{},{x:z.left,y:z.top}),Z=Math.min(j,Y.x+Y.width),D=Math.min(V,Y.y+Y.height),K=G[X]&&G[X].value,Q=LO(E.state,E.props.data,X),ie=G[X]?{x:I==="horizontal"?G[X].coordinate:Z,y:I==="horizontal"?D:G[X].coordinate}:aee;E.setState(Ct(Ct({},O),{},{activeLabel:K,activeCoordinate:ie,activePayload:Q,activeTooltipIndex:X}))}else E.setState(O)}),Wr(E,"renderCursor",function(O){var T,I=E.state,L=I.isTooltipActive,U=I.activeCoordinate,P=I.activePayload,M=I.offset,j=I.activeTooltipIndex,V=I.tooltipAxisBandSize,X=E.getTooltipEventType(),te=(T=O.props.active)!==null&&T!==void 0?T:L,z=E.props.layout,G=O.key||"_recharts-cursor";return c(T6e,{activeCoordinate:U,activePayload:P,activeTooltipIndex:j,chartName:r,element:O,isActive:te,layout:z,offset:M,tooltipAxisBandSize:V,tooltipEventType:X},G)}),Wr(E,"renderPolarAxis",function(O,T,I){var L=hc(O,"type.axisType"),U=hc(E.state,"".concat(L,"Map")),P=O.type.defaultProps,M=P!==void 0?Ct(Ct({},P),O.props):O.props,j=U&&U[M["".concat(L,"Id")]];return A.cloneElement(O,Ct(Ct({},j),{},{className:un(L,j.className),key:O.key||"".concat(T,"-").concat(I),ticks:sh(j,!0)}))}),Wr(E,"renderPolarGrid",function(O){var T=O.props,I=T.radialLines,L=T.polarAngles,U=T.polarRadius,P=E.state,M=P.radiusAxisMap,j=P.angleAxisMap,V=Wp(M),X=Wp(j),te=X.cx,z=X.cy,G=X.innerRadius,q=X.outerRadius;return A.cloneElement(O,{polarAngles:Array.isArray(L)?L:sh(X,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(U)?U:sh(V,!0).map(function(Y){return Y.coordinate}),cx:te,cy:z,innerRadius:G,outerRadius:q,key:O.key||"polar-grid",radialLines:I})}),Wr(E,"renderLegend",function(){var O=E.state.formattedGraphicalItems,T=E.props,I=T.children,L=T.width,U=T.height,P=E.props.margin||{},M=L-(P.left||0)-(P.right||0),j=LJ({children:I,formattedGraphicalItems:O,legendWidth:M,legendContent:u});if(!j)return null;var V=j.item,X=lz(j,P6e);return A.cloneElement(V,Ct(Ct({},X),{},{chartWidth:L,chartHeight:U,margin:P,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Wr(E,"renderTooltip",function(){var O,T=E.props,I=T.children,L=T.accessibilityLayer,U=ec(I,Ga);if(!U)return null;var P=E.state,M=P.isTooltipActive,j=P.activeCoordinate,V=P.activePayload,X=P.activeLabel,te=P.offset,z=(O=U.props.active)!==null&&O!==void 0?O:M;return A.cloneElement(U,{viewBox:Ct(Ct({},te),{},{x:te.left,y:te.top}),active:z,label:X,payload:z?V:[],coordinate:j,accessibilityLayer:L})}),Wr(E,"renderBrush",function(O){var T=E.props,I=T.margin,L=T.data,U=E.state,P=U.offset,M=U.dataStartIndex,j=U.dataEndIndex,V=U.updateId;return A.cloneElement(O,{key:O.key||"_recharts-brush",onChange:pb(E.handleBrushChange,O.props.onChange),data:L,x:Ht(O.props.x)?O.props.x:P.left,y:Ht(O.props.y)?O.props.y:P.top+P.height+P.brushBottom-(I.bottom||0),width:Ht(O.props.width)?O.props.width:P.width,startIndex:M,endIndex:j,updateId:"brush-".concat(V)})}),Wr(E,"renderReferenceElement",function(O,T,I){if(!O)return null;var L=E,U=L.clipPathId,P=E.state,M=P.xAxisMap,j=P.yAxisMap,V=P.offset,X=O.type.defaultProps||{},te=O.props,z=te.xAxisId,G=z===void 0?X.xAxisId:z,q=te.yAxisId,Y=q===void 0?X.yAxisId:q;return A.cloneElement(O,{key:O.key||"".concat(T,"-").concat(I),xAxis:M[G],yAxis:j[Y],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:U})}),Wr(E,"renderActivePoints",function(O){var T=O.item,I=O.activePoint,L=O.basePoint,U=O.childIndex,P=O.isRange,M=[],j=T.props.key,V=T.item.type.defaultProps!==void 0?Ct(Ct({},T.item.type.defaultProps),T.item.props):T.item.props,X=V.activeDot,te=V.dataKey,z=Ct(Ct({index:U,dataKey:te,cx:I.x,cy:I.y,r:4,fill:OI(T.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Or(X,!1)),A5(X));return M.push(_.renderActiveDot(X,z,"".concat(j,"-activePoint-").concat(U))),L?M.push(_.renderActiveDot(X,Ct(Ct({},z),{},{cx:L.x,cy:L.y}),"".concat(j,"-basePoint-").concat(U))):P&&M.push(null),M}),Wr(E,"renderGraphicChild",function(O,T,I){var L=E.filterFormatItem(O,T,I);if(!L)return null;var U=E.getTooltipEventType(),P=E.state,M=P.isTooltipActive,j=P.tooltipAxis,V=P.activeTooltipIndex,X=P.activeLabel,te=E.props.children,z=ec(te,Ga),G=L.props,q=G.points,Y=G.isRange,Z=G.baseLine,D=L.item.type.defaultProps!==void 0?Ct(Ct({},L.item.type.defaultProps),L.item.props):L.item.props,K=D.activeDot,Q=D.hide,ie=D.activeBar,ae=D.activeShape,oe=!!(!Q&&M&&z&&(K||ie||ae)),de={};U!=="axis"&&z&&z.props.trigger==="click"?de={onClick:pb(E.handleItemMouseEnter,O.props.onClick)}:U!=="axis"&&(de={onMouseLeave:pb(E.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:pb(E.handleItemMouseEnter,O.props.onMouseEnter)});var J=A.cloneElement(O,Ct(Ct({},L.props),de));function ue(_e){return typeof j.dataKey=="function"?j.dataKey(_e.payload):null}if(oe)if(V>=0){var ge,ne;if(j.dataKey&&!j.allowDuplicatedCategory){var Ne=typeof j.dataKey=="function"?ue:"payload.".concat(j.dataKey.toString());ge=S5(q,Ne,X),ne=Y&&Z&&S5(Z,Ne,X)}else ge=q==null?void 0:q[V],ne=Y&&Z&&Z[V];if(ae||ie){var Re=O.props.activeIndex!==void 0?O.props.activeIndex:V;return[A.cloneElement(O,Ct(Ct(Ct({},L.props),de),{},{activeIndex:Re})),null,null]}if(!cn(ge))return[J].concat(W1(E.renderActivePoints({item:L,activePoint:ge,basePoint:ne,childIndex:V,isRange:Y})))}else{var De,pe=(De=E.getItemByXY(E.state.activeCoordinate))!==null&&De!==void 0?De:{graphicalItem:J},Je=pe.graphicalItem,mt=Je.item,dt=mt===void 0?O:mt,Tt=Je.childIndex,lt=Ct(Ct(Ct({},L.props),de),{},{activeIndex:Tt});return[A.cloneElement(dt,lt),null,null]}return Y?[J,null,null]:[J,null]}),Wr(E,"renderCustomized",function(O,T,I){return A.cloneElement(O,Ct(Ct({key:"recharts-customized-".concat(I)},E.props),E.state))}),Wr(E,"renderMap",{CartesianGrid:{handler:xb,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:xb},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:xb},YAxis:{handler:xb},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=b.id)!==null&&S!==void 0?S:Ag("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=FZ(E.triggeredAfterMouseMove,(C=b.throttleDelay)!==null&&C!==void 0?C:1e3/60),E.state={},E}return q6e(_,y),j6e(_,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,E=S.data,O=S.height,T=S.layout,I=ec(C,Ga);if(I){var L=I.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,P=LO(this.state,E,L,U),M=this.state.tooltipTicks[L].coordinate,j=(this.state.offset.top+O)/2,V=T==="horizontal",X=V?{x:M,y:j}:{y:M,x:j},te=this.state.formattedGraphicalItems.find(function(G){var q=G.item;return q.type.name==="Scatter"});te&&(X=Ct(Ct({},X),te.props.points[L].tooltipPosition),P=te.props.points[L].tooltipPayload);var z={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:U,activePayload:P,activeCoordinate:X};this.setState(z),this.renderCursor(I),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,O;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){w6([ec(S.children,Ga)],[ec(this.props.children,Ga)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ec(this.props.children,Ga);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return s.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,E=C.getBoundingClientRect(),O=nbe(E),T={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},I=E.width/C.offsetWidth||1,L=this.inRange(T.chartX,T.chartY,I);if(!L)return null;var U=this.state,P=U.xAxisMap,M=U.yAxisMap,j=this.getTooltipEventType(),V=uz(this.state,this.props.data,this.props.layout,L);if(j!=="axis"&&P&&M){var X=Wp(P).scale,te=Wp(M).scale,z=X&&X.invert?X.invert(T.chartX):null,G=te&&te.invert?te.invert(T.chartY):null;return Ct(Ct({},T),{},{xValue:z,yValue:G},V)}return V?Ct(Ct({},T),V):null}},{key:"inRange",value:function(S,C){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,T=S/E,I=C/E;if(O==="horizontal"||O==="vertical"){var L=this.state.offset,U=T>=L.left&&T<=L.left+L.width&&I>=L.top&&I<=L.top+L.height;return U?{x:T,y:I}:null}var P=this.state,M=P.angleAxisMap,j=P.radiusAxisMap;if(M&&j){var V=Wp(M);return dU({x:T,y:I},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),E=ec(S,Ga),O={};E&&C==="axis"&&(E.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=A5(this.props,this.handleOuterEvent);return Ct(Ct({},T),O)}},{key:"addListener",value:function(){xT.on(wT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xT.removeListener(wT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,E){for(var O=this.state.formattedGraphicalItems,T=0,I=O.length;T<I;T++){var L=O[T];if(L.item===S||L.props.key===S.key||C===uh(L.item.type)&&E===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,E=C.left,O=C.top,T=C.height,I=C.width;return c("defs",{children:c("clipPath",{id:S,children:c("rect",{x:E,y:O,height:T,width:I})})})}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,E){var O=sz(E,2),T=O[0],I=O[1];return Ct(Ct({},C),{},Wr({},T,I.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,E){var O=sz(E,2),T=O[0],I=O[1];return Ct(Ct({},C),{},Wr({},T,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,E=C.formattedGraphicalItems,O=C.activeItem;if(E&&E.length)for(var T=0,I=E.length;T<I;T++){var L=E[T],U=L.props,P=L.item,M=P.type.defaultProps!==void 0?Ct(Ct({},P.type.defaultProps),P.props):P.props,j=uh(P.type);if(j==="Bar"){var V=(U.data||[]).find(function(G){return wNe(S,G)});if(V)return{graphicalItem:L,payload:V}}else if(j==="RadialBar"){var X=(U.data||[]).find(function(G){return dU(S,G)});if(X)return{graphicalItem:L,payload:X}}else if(o3(L,O)||s3(L,O)||$x(L,O)){var te=WEe({graphicalItem:L,activeTooltipItem:O,itemData:M.data}),z=M.activeIndex===void 0?te:M.activeIndex;return{graphicalItem:Ct(Ct({},L),{},{childIndex:z}),payload:$x(L,O)?M.data[te]:L.props.data[te]}}}return null}},{key:"render",value:function(){var S=this;if(!S9(this))return null;var C=this.props,E=C.children,O=C.className,T=C.width,I=C.height,L=C.style,U=C.compact,P=C.title,M=C.desc,j=lz(C,O6e),V=Or(j,!1);if(U)return c(Bq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:w(b6,{...V,width:T,height:I,title:P,desc:M,children:[this.renderClipPath(),k9(E,this.renderMap)]})});if(this.props.accessibilityLayer){var X,te;V.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,V.role=(te=this.props.role)!==null&&te!==void 0?te:"application",V.onKeyDown=function(G){S.accessibilityManager.keyboardEvent(G)},V.onFocus=function(){S.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return c(Bq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId,children:w("div",{className:un("recharts-wrapper",O),style:Ct({position:"relative",cursor:"default",width:T,height:I},L),...z,ref:function(q){S.container=q},children:[w(b6,{...V,width:T,height:I,title:P,desc:M,style:K6e,children:[this.renderClipPath(),k9(E,this.renderMap)]}),this.renderLegend(),this.renderTooltip()]})})}}])}(A.Component);Wr(x,"displayName",r),Wr(x,"defaultProps",Ct({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Wr(x,"getDerivedStateFromProps",function(y,_){var b=y.dataKey,S=y.data,C=y.children,E=y.width,O=y.height,T=y.layout,I=y.stackOffset,L=y.margin,U=_.dataStartIndex,P=_.dataEndIndex;if(_.updateId===void 0){var M=dz(y);return Ct(Ct(Ct({},M),{},{updateId:0},m(Ct(Ct({props:y},M),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:S,prevWidth:E,prevHeight:O,prevLayout:T,prevStackOffset:I,prevMargin:L,prevChildren:C})}if(b!==_.prevDataKey||S!==_.prevData||E!==_.prevWidth||O!==_.prevHeight||T!==_.prevLayout||I!==_.prevStackOffset||!Jv(L,_.prevMargin)){var j=dz(y),V={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},X=Ct(Ct({},uz(_,S,T)),{},{updateId:_.updateId+1}),te=Ct(Ct(Ct({},j),V),X);return Ct(Ct(Ct({},te),m(Ct({props:y},te),_)),{},{prevDataKey:b,prevData:S,prevWidth:E,prevHeight:O,prevLayout:T,prevStackOffset:I,prevMargin:L,prevChildren:C})}if(!w6(C,_.prevChildren)){var z,G,q,Y,Z=ec(C,I1),D=Z&&(z=(G=Z.props)===null||G===void 0?void 0:G.startIndex)!==null&&z!==void 0?z:U,K=Z&&(q=(Y=Z.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&q!==void 0?q:P,Q=D!==U||K!==P,ie=!cn(S),ae=ie&&!Q?_.updateId:_.updateId+1;return Ct(Ct({updateId:ae},m(Ct(Ct({props:y},_),{},{updateId:ae,dataStartIndex:D,dataEndIndex:K}),_)),{},{prevChildren:C,dataStartIndex:D,dataEndIndex:K})}return null}),Wr(x,"renderActiveDot",function(y,_,b){var S;return A.isValidElement(y)?S=A.cloneElement(y,_):Hr(y)?S=y(_):S=c(Vw,{..._}),c(On,{className:"recharts-active-dot",children:S},b)});var g=A.forwardRef(function(_,b){return c(x,{..._,ref:b})});return g.displayName=x.displayName,g},oee=p3({chartName:"LineChart",GraphicalChild:dm,axisComponents:[{axisType:"xAxis",AxisComp:Pl},{axisType:"yAxis",AxisComp:Ol}],formatAxisMap:II}),Hx=p3({chartName:"BarChart",GraphicalChild:eu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pl},{axisType:"yAxis",AxisComp:Ol}],formatAxisMap:II}),Kp=p3({chartName:"PieChart",GraphicalChild:Is,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:i3},{axisType:"radiusAxis",AxisComp:n3}],formatAxisMap:M3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),see=p3({chartName:"AreaChart",GraphicalChild:Oh,axisComponents:[{axisType:"xAxis",AxisComp:Pl},{axisType:"yAxis",AxisComp:Ol}],formatAxisMap:II});const Ev=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],aOe=({revenueData:e=[],appointmentTypeData:t=[],dailyAppointmentData:r=[],treatmentStatusData:n=[],profitEstimationData:a={conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:i=0,dailyVisitors:o=0,revenueChangePercentage:s=0,dailyAppointmentsChangePercentage:l=0,overallTreatmentProgress:u=0,patientAgeData:d=[],appointmentStatusData:f=[],treatmentPlanStatusData:h=[],upcomingWeeklyAppointmentTrendData:m=[]})=>{const x=t.reduce((S,C)=>S+C.value,0),g=f.reduce((S,C)=>S+C.value,0),y=h.reduce((S,C)=>S+C.value,0),_=["#FBBF24","#34D399","#F87171","#9CA3AF"],b=["#60A5FA","#34D399","#FBBF24","#F87171"];return w("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:[w(cr,{className:"col-span-1 md:col-span-2 xl:col-span-2",children:[w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[w("div",{children:[w(xr,{className:"text-3xl font-bold",children:["₹",i?i.toLocaleString():"0"]}),c("p",{className:"text-xs text-muted-foreground",children:"Overall Revenue / Appointments"})]}),w("div",{className:"flex items-center space-x-2",children:[w("span",{className:`text-xs flex items-center ${s>=0?"text-green-500":"text-red-500"}`,children:[c(Ice,{className:"h-3 w-3 mr-1"})," ",s>=0?"+":"",s.toFixed(2),"%"]}),w(Ur,{defaultValue:"monthly",children:[c(jr,{className:"w-[110px] h-8 text-xs",children:c(qr,{placeholder:"Select"})}),w($r,{children:[c(gt,{value:"monthly",children:"Monthly"}),c(gt,{value:"yearly",children:"Yearly"})]})]})]})]}),c(vr,{className:"pl-2 pr-6",children:c(ks,{width:"100%",height:250,children:w(oee,{data:e,children:[c(Pl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Ol,{hide:!0}),c(Ga,{contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(S,C)=>[`${S} ${C==="uv"?"Appointments":"Revenue"}`,null]}),c(dm,{type:"monotone",dataKey:"uv",name:"Appointments",stroke:"#60A5FA",strokeWidth:2,dot:{r:4,fill:"#60A5FA",stroke:"#fff",strokeWidth:2},activeDot:{r:6}}),c(dm,{type:"monotone",dataKey:"pv",name:"Revenue",stroke:"#4F46E5",strokeWidth:2,dot:!1})]})})})]}),w(cr,{children:[w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Appointment Types"}),w(Ur,{defaultValue:"monthly",children:[c(jr,{className:"w-[110px] h-8 text-xs",children:c(qr,{placeholder:"Select"})}),w($r,{children:[c(gt,{value:"monthly",children:"Monthly"}),c(gt,{value:"yearly",children:"Yearly"})]})]})]}),w(vr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:t.map((S,C)=>c(Vc,{fill:Ev[C%Ev.length],stroke:Ev[C%Ev.length]},`cell-${C}`))}),c(Ga,{formatter:(S,C)=>[`${S} (${(S/x*100).toFixed(1)}%)`,C]})]})}),c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:t.map((S,C)=>w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:Ev[C%Ev.length]}}),S.name," ",(S.value/x*100).toFixed(1),"%"]},`legend-${C}`))})]})]}),w(cr,{children:[w(yr,{className:"pb-2",children:[c("div",{className:"flex flex-row items-center justify-between space-y-0",children:c(xr,{className:"text-sm font-medium",children:"Appointments Trend"})}),c("p",{className:"text-xs text-muted-foreground",children:"Total scheduled appointments per day over the next 7 days"})]}),c(vr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:150,children:w(Hx,{data:m,children:[c(Pl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Ol,{allowDecimals:!1,axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"}}),c(Ga,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:S=>[`${S} Appointments`,null]}),c(eu,{dataKey:"value",name:"Appointments",fill:"#22C55E",radius:[4,4,0,0],barSize:12})]})})})]}),w(cr,{children:[w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Treatment Plan Status"}),c(Le,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0",children:c(bce,{className:"h-4 w-4"})})]}),w(vr,{children:[w("div",{className:"flex items-center justify-between mb-4",children:[w("div",{className:"flex items-center space-x-3",children:[c("div",{className:"p-2 bg-indigo-100 rounded-lg",children:c(T2,{className:"h-5 w-5 text-indigo-600"})}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Overall Progress"}),c("p",{className:"text-xs text-muted-foreground",children:"Across Active Plans"})]})]}),w("div",{className:"text-lg font-semibold",children:[u.toFixed(0),"%"]})]}),c(ks,{width:"100%",height:100,children:w(see,{data:n,margin:{top:5,right:0,left:0,bottom:0},children:[c("defs",{children:w("linearGradient",{id:"colorStatus",x1:"0",y1:"0",x2:"0",y2:"1",children:[c("stop",{offset:"5%",stopColor:"#4F46E5",stopOpacity:.1}),c("stop",{offset:"95%",stopColor:"#4F46E5",stopOpacity:0})]})}),c(Pl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Ol,{hide:!0,domain:[0,100]})," ",c(Ga,{formatter:S=>[`${S}% Complete`,null]}),c(Oh,{type:"monotone",dataKey:"value",name:"Completion Rate",stroke:"#4F46E5",fillOpacity:1,fill:"url(#colorStatus)",strokeWidth:2,dot:{r:4,fill:"#4F46E5",stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})})]})]}),w(cr,{children:[w(yr,{className:"pb-4",children:[c(xr,{className:"text-sm font-medium",children:"Profit Estimation"}),c("p",{className:"text-xs text-muted-foreground",children:"Based on completed treatments"})]}),w(vr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:120,children:w(Kp,{children:[w(Is,{data:[{name:"Conversion",value:a.conversionRate},{name:"Remaining",value:100-a.conversionRate}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,startAngle:90,endAngle:90+360*(a.conversionRate/100),dataKey:"value",stroke:"none",children:[c(Vc,{fill:"#4F46E5"}),c(Vc,{fill:"#E5E7EB"})]}),c("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"10",fill:"#6B7280",children:"Conversion"}),w("text",{x:"50%",y:"65%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"18",fontWeight:"bold",fill:"#111827",children:[a.conversionRate.toFixed(0),"%"]})]})}),w("div",{className:"flex justify-around w-full mt-4 text-xs border-t pt-4",children:[w("div",{className:"text-center",children:[c("p",{className:"text-muted-foreground",children:"Est. Sales"}),c("p",{className:"font-semibold",children:a.estimatedSales.toLocaleString()})]}),w("div",{className:"text-center",children:[c("p",{className:"text-muted-foreground",children:"Est. Profit"}),w("p",{className:"font-semibold",children:["₹",a.estimatedProfit.toLocaleString()]})]})]})]})]}),w(cr,{children:[c(yr,{className:"pb-2",children:c(xr,{className:"text-sm font-medium",children:"Patient Age Distribution"})}),c(vr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:200,children:w(Hx,{data:d,layout:"vertical",barCategoryGap:"20%",children:[c(Pl,{type:"number",hide:!0}),c(Ol,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,style:{fontSize:"12px"},width:60}),c(Ga,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(eu,{dataKey:"value",name:"Patients",fill:"#8B5CF6",radius:[0,4,4,0],barSize:10})]})})})]}),w(cr,{children:[c(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(xr,{className:"text-sm font-medium",children:"Appointment Status"})}),w(vr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:f,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:f.map((S,C)=>c(Vc,{fill:_[C%_.length],stroke:_[C%_.length]},`cell-apt-status-${C}`))}),c(Ga,{formatter:(S,C)=>[`${S} (${g>0?(S/g*100).toFixed(1):0}%)`,C]})]})}),c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:f.map((S,C)=>w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:_[C%_.length]}}),S.name," (",g>0?(S.value/g*100).toFixed(1):0,"%)"]},`legend-apt-status-${C}`))})]})]}),w(cr,{children:[c(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(xr,{className:"text-sm font-medium",children:"Treatment Plan Status"})}),w(vr,{className:"flex flex-col items-center",children:[c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:h,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:h.map((S,C)=>c(Vc,{fill:b[C%b.length],stroke:b[C%b.length]},`cell-tp-status-${C}`))}),c(Ga,{formatter:(S,C)=>[`${S} (${y>0?(S/y*100).toFixed(1):0}%)`,C]})]})}),c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:h.map((S,C)=>w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:b[C%b.length]}}),S.name," (",y>0?(S.value/y*100).toFixed(1):0,"%)"]},`legend-tp-status-${C}`))})]})]})]})};function iOe(){const e=Uo(),[t,r]=A.useState({todaysAppointmentsCount:0,totalPatients:0,avgWaitTime:0,treatmentSuccessRate:0,appointmentsChange:0,patientsChange:0,waitTimeChange:0,successRateChange:0}),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState(!0),[u,d]=A.useState({revenueData:[],appointmentTypeData:[],dailyAppointmentData:[],treatmentStatusData:[],profitEstimationData:{conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:0,dailyVisitors:0,patientAgeData:[],appointmentStatusData:[],treatmentPlanStatusData:[],upcomingWeeklyAppointmentTrendData:[]});A.useEffect(()=>{f();const m=["appointments","patients","treatment_plans","treatments","medical_records"].map(x=>LD(x,g=>{console.log(`Dashboard detected change in ${x}:`,g),f()}));return()=>{m.forEach(x=>x.unsubscribe())}},[]);const f=async()=>{try{l(!0);const h=new Date,m=Cl(h),x=Zv(h),g=Bo(u6(h,5)),y=um(h),_=Cl(Pa(h,-6)),b=Zv(h),S=Zv(Pa(h,6)),[C,E,O,T]=await Promise.all([Kt.patients.getAll(),Kt.patients.getTreatmentPlans(null),Kt.patients.getMedicalRecords(null),Kt.appointments.getAll()]),I=C.length,U=T.filter(Ge=>{if(!Ge.start_time)return!1;const Pt=on(Ge.start_time);return g0(Pt,{start:m,end:x})}).length;let P=0,M=0;E.forEach(Ge=>{Ge.treatments&&Ge.treatments.length>0&&(M+=Ge.treatments.length,P+=Ge.treatments.filter(Pt=>Pt.status==="completed").length)});const j=M>0?Math.round(P/M*100):0;r({todaysAppointmentsCount:U,totalPatients:I,avgWaitTime:15,treatmentSuccessRate:j,appointmentsChange:0,patientsChange:0,waitTimeChange:0,successRateChange:0});const q=T.filter(Ge=>Ge.status==="scheduled"&&Ge.start_time&&on(Ge.start_time)>=m).sort((Ge,Pt)=>(Ge.start_time?on(Ge.start_time).getTime():0)-(Pt.start_time?on(Pt.start_time).getTime():0)).slice(0,5).map(Ge=>({id:Ge.id,patient:Ge.patients?`${Ge.patients.first_name} ${Ge.patients.last_name}`:"Unknown Patient",time:Ge.start_time?Vt(on(Ge.start_time),"h:mm a"):"No time",date:Ge.start_time?Vt(on(Ge.start_time),"MMM d"):"No date",type:Ge.type||"Appointment",status:Ge.status}));a(q);const Y=T.filter(Ge=>Ge.status==="completed").map(Ge=>{var Pt;return{type:"appointment",title:`Completed ${((Pt=Ge.staff)==null?void 0:Pt.role)||"Appointment"} for ${Ge.patients?`${Ge.patients.first_name} ${Ge.patients.last_name}`:"Unknown Patient"}`,time:Ge.start_time?on(Ge.start_time):Ge.updated_at?on(Ge.updated_at):new Date,icon:T2}}),Z=E.flatMap(Ge=>Ge.treatments||[]).filter(Ge=>!!Ge&&!!Ge.updated_at).map(Ge=>({type:"treatment",title:`Updated ${Ge.type} treatment`,time:Ge.updated_at?on(Ge.updated_at):Ge.created_at?on(Ge.created_at):new Date,icon:yo})),D=O.map(Ge=>({type:"record",title:"Added Medical Record",time:Ge.created_at?on(Ge.created_at):new Date,icon:Yc})),K=[...Y,...Z,...D].sort((Ge,Pt)=>Pt.time.getTime()-Ge.time.getTime()).slice(0,5);o(K);const Q={},ie=new Intl.DateTimeFormat("en",{month:"short"});for(let Ge=0;Ge<6;Ge++){const Pt=u6(h,Ge),An=Vt(Pt,"yyyy-MM");Q[An]={count:0,revenue:0}}T.forEach(Ge=>{if(Ge.start_time){const Pt=on(Ge.start_time);if(g0(Pt,{start:g,end:y})){const An=Vt(Pt,"yyyy-MM");Q[An]&&(Q[An].count+=1)}}});const ae=Object.keys(Q).map(Ge=>({name:ie.format(on(Ge+"-01")),uv:Q[Ge].count,pv:Q[Ge].revenue,monthKey:Ge})).sort((Ge,Pt)=>Ge.monthKey.localeCompare(Pt.monthKey)),oe=ae.reduce((Ge,Pt)=>Ge+(Pt.pv||0),0),de=0,J=ae.map(({name:Ge,uv:Pt,pv:An})=>({name:Ge,uv:Pt,pv:An})),ue=Bo(h),ge=um(h),ne={};T.forEach(Ge=>{var An;const Pt=((An=Ge.staff)==null?void 0:An.role)||"General";if(Ge.start_time){const ha=on(Ge.start_time);g0(ha,{start:ue,end:ge})&&(ne[Pt]=(ne[Pt]||0)+1)}});const Ne=Object.entries(ne).map(([Ge,Pt])=>({name:Ge,value:Pt})),Re=V0e({start:m,end:x}),De={};Re.forEach(Ge=>{De[Vt(Ge,"HH")]=0}),T.forEach(Ge=>{if(Ge.start_time){const Pt=on(Ge.start_time);if(g0(Pt,{start:m,end:x})){const An=Vt(Pt,"HH");De[An]=(De[An]||0)+1}}});const Je=["00","04","08","12","14","16","18"].map(Ge=>({name:Ge,value:De[Ge]||0})),mt=Object.values(De).reduce((Ge,Pt)=>Ge+Pt,0),dt=0,Tt=M2({start:_,end:b}),lt={},_e=new Intl.DateTimeFormat("en",{weekday:"short"});Tt.forEach(Ge=>{lt[Vt(Ge,"yyyy-MM-dd")]={completed:0,total:0}}),E.forEach(Ge=>{(Ge.treatments||[]).forEach(Pt=>{if(Pt.updated_at){const An=on(Pt.updated_at);if(g0(An,{start:_,end:b})){const ha=Vt(An,"yyyy-MM-dd");lt[ha]&&(lt[ha].total+=1,Pt.status==="completed"&&(lt[ha].completed+=1))}}})});const Ce=Object.keys(lt).map(Ge=>{const Pt=lt[Ge],An=Pt.total>0?Math.round(Pt.completed/Pt.total*100):0;return{name:_e.format(on(Ge)),value:An,dayKey:Ge}}).sort((Ge,Pt)=>Ge.dayKey.localeCompare(Pt.dayKey)),We=Ce.length>0?Math.round(Ce.reduce((Ge,Pt)=>Ge+(Pt.value||0),0)/Ce.length):0,ft=Ce.map(({name:Ge,value:Pt})=>({name:Ge,value:Pt})),Ve={conversionRate:j,estimatedSales:P,estimatedProfit:0},_t={"0-18":0,"19-35":0,"36-50":0,"51-65":0,"65+":0,Unknown:0};C.forEach(Ge=>{const Pt=Ge.age;Pt==null?_t.Unknown++:Pt<=18?_t["0-18"]++:Pt<=35?_t["19-35"]++:Pt<=50?_t["36-50"]++:Pt<=65?_t["51-65"]++:_t["65+"]++});const At=Object.entries(_t).map(([Ge,Pt])=>({name:Ge,value:Pt})),ut={};T.forEach(Ge=>{const Pt=Ge.status||"Unknown";ut[Pt]=(ut[Pt]||0)+1});const wr=Object.entries(ut).map(([Ge,Pt])=>({name:Ge.charAt(0).toUpperCase()+Ge.slice(1),value:Pt})),nr=M2({start:_,end:b}),Jr={},dn=new Intl.DateTimeFormat("en",{weekday:"short"});nr.forEach(Ge=>{Jr[Vt(Ge,"yyyy-MM-dd")]=0}),T.forEach(Ge=>{if(Ge.start_time){const Pt=on(Ge.start_time);if(g0(Pt,{start:_,end:b})){const An=Vt(Pt,"yyyy-MM-dd");Jr.hasOwnProperty(An)&&Jr[An]++}}});const Pi=Object.keys(Jr).map(Ge=>({name:dn.format(on(Ge)),value:Jr[Ge],dayKey:Ge})).sort((Ge,Pt)=>Ge.dayKey.localeCompare(Pt.dayKey)).map(({name:Ge,value:Pt})=>({name:Ge,value:Pt})),fn=M2({start:m,end:S}),oi={};fn.forEach(Ge=>{oi[Vt(Ge,"yyyy-MM-dd")]=0}),T.forEach(Ge=>{if(Ge.start_time&&Ge.status==="scheduled"){const Pt=on(Ge.start_time);if(g0(Pt,{start:m,end:S})){const An=Vt(Pt,"yyyy-MM-dd");oi.hasOwnProperty(An)&&oi[An]++}}});const Ja=Object.keys(oi).map(Ge=>({name:dn.format(on(Ge)),value:oi[Ge],dayKey:Ge})).sort((Ge,Pt)=>Ge.dayKey.localeCompare(Pt.dayKey)).map(({name:Ge,value:Pt})=>({name:Ge,value:Pt})),Qa={};E.forEach(Ge=>{const Pt=Ge.status||"Unknown";Qa[Pt]=(Qa[Pt]||0)+1});const Dn=Object.entries(Qa).map(([Ge,Pt])=>({name:Ge.charAt(0).toUpperCase()+Ge.slice(1),value:Pt}));d({revenueData:J,appointmentTypeData:Ne,dailyAppointmentData:Je,treatmentStatusData:ft,profitEstimationData:Ve,totalRevenue:oe,dailyVisitors:mt,revenueChangePercentage:de,dailyAppointmentsChangePercentage:dt,overallTreatmentProgress:We,patientAgeData:At,appointmentStatusData:wr,treatmentPlanStatusData:Dn,upcomingWeeklyAppointmentTrendData:Ja}),l(!1)}catch(h){console.error("Error fetching dashboard data:",h),l(!1)}};return w("div",{className:"space-y-6",children:[c(ka,{heading:"Dashboard",text:"Overview of your dental practice"}),w("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[w(cr,{children:[w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Today's Appointments"}),c(yo,{className:"h-4 w-4 text-muted-foreground"})]}),w(vr,{children:[c("div",{className:"text-2xl font-bold",children:t.todaysAppointmentsCount}),t.appointmentsChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.appointmentsChange>0?c(G_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(H_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.appointmentsChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.appointmentsChange),"%"]}),c("span",{className:"ml-1",children:"from last week"})]})]})]}),w(cr,{children:[w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Active Patients"}),c(l4,{className:"h-4 w-4 text-muted-foreground"})]}),w(vr,{children:[c("div",{className:"text-2xl font-bold",children:t.totalPatients}),t.patientsChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.patientsChange>0?c(G_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(H_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.patientsChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.patientsChange),"%"]}),c("span",{className:"ml-1",children:"from last month"})]})]})]}),w(cr,{children:[w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Avg. Wait Time"}),c(Yc,{className:"h-4 w-4 text-muted-foreground"})]}),w(vr,{children:[w("div",{className:"text-2xl font-bold",children:[t.avgWaitTime,"m"]}),t.waitTimeChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.waitTimeChange<0?c(H_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(G_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.waitTimeChange<0?"text-emerald-500":"text-red-500",children:[Math.abs(t.waitTimeChange),"%"]}),c("span",{className:"ml-1",children:t.waitTimeChange<0?"improved":"worse"})]})]})]}),w(cr,{children:[w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Treatment Success"}),c(T2,{className:"h-4 w-4 text-muted-foreground"})]}),w(vr,{children:[w("div",{className:"text-2xl font-bold",children:[t.treatmentSuccessRate,"%"]}),t.successRateChange!==0&&w("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.successRateChange>0?c(G_,{className:"mr-1 h-4 w-4 text-emerald-500"}):c(H_,{className:"mr-1 h-4 w-4 text-red-500"}),w("span",{className:t.successRateChange>0?"text-emerald-500":"text-red-500",children:[Math.abs(t.successRateChange),"%"]}),c("span",{className:"ml-1",children:"from last quarter"})]})]})]})]}),w("div",{className:"grid gap-4 md:grid-cols-2",children:[w(cr,{children:[c(yr,{children:w("div",{className:"flex items-center justify-between",children:[c(xr,{children:"Upcoming Appointments"}),w(Le,{variant:"ghost",size:"sm",className:"text-sm",onClick:()=>e("/appointments"),children:["View all",c(nm,{className:"ml-1 h-4 w-4"})]})]})}),c(vr,{children:s?c("div",{className:"py-8 text-center text-muted-foreground",children:"Loading appointments..."}):n.length>0?c("div",{className:"space-y-4",children:n.map(h=>w("div",{className:"flex items-center rounded-lg border p-4",children:[c("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary/10",children:c(ao,{className:"h-5 w-5 text-primary"})}),w("div",{className:"ml-4 flex-1",children:[c("p",{className:"text-sm font-medium",children:h.patient}),c("p",{className:"text-sm text-muted-foreground",children:h.type})]}),w("div",{className:"text-right",children:[c("p",{className:"text-sm font-medium",children:h.date}),c("p",{className:"text-sm text-muted-foreground",children:h.time})]})]},h.id))}):c("div",{className:"py-8 text-center text-muted-foreground",children:"No upcoming appointments"})})]}),w(cr,{children:[c(yr,{children:w("div",{className:"flex items-center justify-between",children:[c(xr,{children:"Recent Activity"}),w(Le,{variant:"ghost",size:"sm",className:"text-sm",onClick:()=>e("/appointments"),children:["View all",c(nm,{className:"ml-1 h-4 w-4"})]})]})}),c(vr,{children:s?c("div",{className:"py-8 text-center text-muted-foreground",children:"Loading activity..."}):i.length>0?c("div",{className:"space-y-8",children:i.map((h,m)=>{const x=h.icon||T2;return w("div",{className:"flex items-start",children:[c("div",{className:`flex h-9 w-9 items-center justify-center rounded-full ${h.type==="appointment"?"bg-emerald-100":h.type==="treatment"?"bg-blue-100":"bg-purple-100"}`,children:c(x,{className:`h-5 w-5 ${h.type==="appointment"?"text-emerald-600":h.type==="treatment"?"text-blue-600":"text-purple-600"}`})}),w("div",{className:"ml-4",children:[c("p",{className:"text-sm",children:h.title}),c("p",{className:"text-sm text-muted-foreground",children:Vt(h.time,"MMM d, h:mm a")})]})]},m)})}):c("div",{className:"py-8 text-center text-muted-foreground",children:"No recent activity"})})]})]}),w("div",{className:"mt-6",children:[" ",c(aOe,{revenueData:u.revenueData||[],appointmentTypeData:u.appointmentTypeData||[],dailyAppointmentData:u.dailyAppointmentData||[],treatmentStatusData:u.treatmentStatusData||[],profitEstimationData:u.profitEstimationData||{conversionRate:0,estimatedSales:0,estimatedProfit:0},totalRevenue:u.totalRevenue,dailyVisitors:u.dailyVisitors,revenueChangePercentage:0,dailyAppointmentsChangePercentage:0,overallTreatmentProgress:u.overallTreatmentProgress,patientAgeData:u.patientAgeData||[],appointmentStatusData:u.appointmentStatusData||[],treatmentPlanStatusData:u.treatmentPlanStatusData||[],upcomingWeeklyAppointmentTrendData:u.upcomingWeeklyAppointmentTrendData||[]})]})]})}function oOe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var m3=e=>{const{present:t,children:r}=e,n=sOe(t),a=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),i=zr(n.ref,lOe(a));return typeof r=="function"||n.isPresent?A.cloneElement(a,{ref:i}):null};m3.displayName="Presence";function sOe(e){const[t,r]=A.useState(),n=A.useRef(null),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[s,l]=oOe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=wb(n.current);i.current=s==="mounted"?u:"none"},[s]),ai(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=wb(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),ai(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=wb(n.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=wb(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:A.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function wb(e){return(e==null?void 0:e.animationName)||"none"}function lOe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var g3="Dialog",[lee,cee]=Yi(g3),[cOe,od]=lee(g3),uee=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,s=A.useRef(null),l=A.useRef(null),[u,d]=cl({prop:n,defaultProp:a??!1,onChange:i,caller:g3});return c(cOe,{scope:t,triggerRef:s,contentRef:l,contentId:Il(),titleId:Il(),descriptionId:Il(),open:u,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};uee.displayName=g3;var dee="DialogTrigger",fee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(dee,r),i=zr(t,a.triggerRef);return c(hr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":HI(a.open),...n,ref:i,onClick:Ut(e.onClick,a.onOpenToggle)})});fee.displayName=dee;var WI="DialogPortal",[uOe,hee]=lee(WI,{forceMount:void 0}),pee=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=od(WI,t);return c(uOe,{scope:t,forceMount:r,children:A.Children.map(n,o=>c(m3,{present:r||i.open,children:c(sy,{asChild:!0,container:a,children:o})}))})};pee.displayName=WI;var vS="DialogOverlay",mee=A.forwardRef((e,t)=>{const r=hee(vS,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=od(vS,e.__scopeDialog);return i.modal?c(m3,{present:n||i.open,children:c(fOe,{...a,ref:t})}):null});mee.displayName=vS;var dOe=om("DialogOverlay.RemoveScroll"),fOe=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(vS,r);return c(Iw,{as:dOe,allowPinchZoom:!0,shards:[a.contentRef],children:c(hr.div,{"data-state":HI(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ig="DialogContent",gee=A.forwardRef((e,t)=>{const r=hee(ig,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=od(ig,e.__scopeDialog);return c(m3,{present:n||i.open,children:i.modal?c(hOe,{...a,ref:t}):c(pOe,{...a,ref:t})})});gee.displayName=ig;var hOe=A.forwardRef((e,t)=>{const r=od(ig,e.__scopeDialog),n=A.useRef(null),a=zr(t,r.contentRef,n);return A.useEffect(()=>{const i=n.current;if(i)return y4(i)},[]),c(vee,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ut(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&i.preventDefault()}),onFocusOutside:Ut(e.onFocusOutside,i=>i.preventDefault())})}),pOe=A.forwardRef((e,t)=>{const r=od(ig,e.__scopeDialog),n=A.useRef(!1),a=A.useRef(!1);return c(vee,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),vee=A.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,s=od(ig,r),l=A.useRef(null),u=zr(t,l);return u4(),w(Sr,{children:[c(Tw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c(xg,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":HI(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),w(Sr,{children:[c(gOe,{titleId:s.titleId}),c(yOe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),VI="DialogTitle",yee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(VI,r);return c(hr.h2,{id:a.titleId,...n,ref:t})});yee.displayName=VI;var xee="DialogDescription",wee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(xee,r);return c(hr.p,{id:a.descriptionId,...n,ref:t})});wee.displayName=xee;var _ee="DialogClose",bee=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=od(_ee,r);return c(hr.button,{type:"button",...n,ref:t,onClick:Ut(e.onClick,()=>a.onOpenChange(!1))})});bee.displayName=_ee;function HI(e){return e?"open":"closed"}var See="DialogTitleWarning",[mOe,Aee]=Sue(See,{contentName:ig,titleName:VI,docsSlug:"dialog"}),gOe=({titleId:e})=>{const t=Aee(See),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},vOe="DialogDescriptionWarning",yOe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Aee(vOe).contentName}}.`;return A.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},kee=uee,Nee=fee,Eee=pee,GI=mee,KI=gee,YI=yee,XI=wee,v3=bee;const Za=kee,Hw=Nee,xOe=Eee,y3=v3,Cee=A.forwardRef(({className:e,...t},r)=>c(GI,{ref:r,className:Rt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Cee.displayName=GI.displayName;const Da=A.forwardRef(({className:e,children:t,...r},n)=>w(xOe,{children:[c(Cee,{}),w(KI,{ref:n,className:Rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[c(oo,{children:r["aria-describedby"]}),t,w(v3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c(im,{className:"h-4 w-4"}),c("span",{className:"sr-only",children:"Close"})]})]})]}));Da.displayName=KI.displayName;const Ia=({className:e,...t})=>c("div",{className:Rt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ia.displayName="DialogHeader";const lo=({className:e,...t})=>c("div",{className:Rt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lo.displayName="DialogFooter";const Ra=A.forwardRef(({className:e,...t},r)=>c(YI,{ref:r,className:Rt("text-lg font-semibold leading-none tracking-tight",e),...t}));Ra.displayName=YI.displayName;const oo=A.forwardRef(({className:e,...t},r)=>c(XI,{ref:r,className:Rt("text-sm text-muted-foreground",e),...t}));oo.displayName=XI.displayName;var wOe="Label",Tee=A.forwardRef((e,t)=>c(hr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Tee.displayName=wOe;var Pee=Tee;const _Oe=Ew("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yt=A.forwardRef(({className:e,...t},r)=>c(Pee,{ref:r,className:Rt(_Oe(),e),...t}));Yt.displayName=Pee.displayName;const Yr=A.forwardRef(({className:e,...t},r)=>c("textarea",{className:Rt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Yr.displayName="Textarea";var x3="Tabs",[bOe,OJe]=Yi(x3,[ly]),Oee=ly(),[SOe,ZI]=bOe(x3),Dee=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:s,activationMode:l="automatic",...u}=e,d=yg(s),[f,h]=cl({prop:n,onChange:a,defaultProp:i??"",caller:x3});return c(SOe,{scope:r,baseId:Il(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:c(hr.div,{dir:d,"data-orientation":o,...u,ref:t})})});Dee.displayName=x3;var Iee="TabsList",Ree=A.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=ZI(Iee,r),o=Oee(r);return c(iD,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:c(hr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Ree.displayName=Iee;var Mee="TabsTrigger",Fee=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=ZI(Mee,r),s=Oee(r),l=$ee(o.baseId,n),u=Bee(o.baseId,n),d=n===o.value;return c(oD,{asChild:!0,...s,focusable:!a,active:d,children:c(hr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:t,onMouseDown:Ut(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ut(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ut(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});Fee.displayName=Mee;var Lee="TabsContent",jee=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,s=ZI(Lee,r),l=$ee(s.baseId,n),u=Bee(s.baseId,n),d=n===s.value,f=A.useRef(d);return A.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c(is,{present:a||d,children:({present:h})=>c(hr.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});jee.displayName=Lee;function $ee(e,t){return`${e}-trigger-${t}`}function Bee(e,t){return`${e}-content-${t}`}var AOe=Dee,Uee=Ree,qee=Fee,zee=jee;const Cg=AOe,Tg=A.forwardRef(({className:e,...t},r)=>c(Uee,{ref:r,className:Rt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Tg.displayName=Uee.displayName;const sl=A.forwardRef(({className:e,...t},r)=>c(qee,{ref:r,className:Rt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));sl.displayName=qee.displayName;const ki=A.forwardRef(({className:e,...t},r)=>c(zee,{ref:r,className:Rt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ki.displayName=zee.displayName;var[w3,DJe]=Yi("Tooltip",[Nm]),_3=Nm(),Wee="TooltipProvider",kOe=700,jO="tooltip.open",[NOe,JI]=w3(Wee),Vee=e=>{const{__scopeTooltip:t,delayDuration:r=kOe,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=A.useRef(!0),s=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c(NOe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:A.useCallback(u=>{s.current=u},[]),disableHoverableContent:a,children:i})};Vee.displayName=Wee;var Gx="Tooltip",[EOe,b3]=w3(Gx),Hee=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:s}=e,l=JI(Gx,e.__scopeTooltip),u=_3(t),[d,f]=A.useState(null),h=Il(),m=A.useRef(0),x=o??l.disableHoverableContent,g=s??l.delayDuration,y=A.useRef(!1),[_,b]=cl({prop:n,defaultProp:a??!1,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(jO))):l.onClose(),i==null||i(T)},caller:Gx}),S=A.useMemo(()=>_?y.current?"delayed-open":"instant-open":"closed",[_]),C=A.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,b(!0)},[b]),E=A.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),O=A.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0),m.current=0},g)},[g,b]);return A.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c(m4,{...u,children:c(EOe,{scope:t,contentId:h,open:_,stateAttribute:S,trigger:d,onTriggerChange:f,onTriggerEnter:A.useCallback(()=>{l.isOpenDelayedRef.current?O():C()},[l.isOpenDelayedRef,O,C]),onTriggerLeave:A.useCallback(()=>{x?E():(window.clearTimeout(m.current),m.current=0)},[E,x]),onOpen:C,onClose:E,disableHoverableContent:x,children:r})})};Hee.displayName=Gx;var $O="TooltipTrigger",Gee=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=b3($O,r),i=JI($O,r),o=_3(r),s=A.useRef(null),l=zr(t,s,a.onTriggerChange),u=A.useRef(!1),d=A.useRef(!1),f=A.useCallback(()=>u.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c(Ow,{asChild:!0,...o,children:c(hr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:Ut(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ut(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ut(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ut(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ut(e.onBlur,a.onClose),onClick:Ut(e.onClick,a.onClose)})})});Gee.displayName=$O;var COe="TooltipPortal",[IJe,TOe]=w3(COe,{forceMount:void 0}),V1="TooltipContent",Kee=A.forwardRef((e,t)=>{const r=TOe(V1,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=b3(V1,e.__scopeTooltip);return c(is,{present:n||o.open,children:o.disableHoverableContent?c(Yee,{side:a,...i,ref:t}):c(POe,{side:a,...i,ref:t})})}),POe=A.forwardRef((e,t)=>{const r=b3(V1,e.__scopeTooltip),n=JI(V1,e.__scopeTooltip),a=A.useRef(null),i=zr(t,a),[o,s]=A.useState(null),{trigger:l,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=A.useCallback(()=>{s(null),f(!1)},[f]),m=A.useCallback((x,g)=>{const y=x.currentTarget,_={x:x.clientX,y:x.clientY},b=MOe(_,y.getBoundingClientRect()),S=FOe(_,b),C=LOe(g.getBoundingClientRect()),E=$Oe([...S,...C]);s(E),f(!0)},[f]);return A.useEffect(()=>()=>h(),[h]),A.useEffect(()=>{if(l&&d){const x=y=>m(y,d),g=y=>m(y,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),A.useEffect(()=>{if(o){const x=g=>{const y=g.target,_={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),S=!jOe(_,o);b?h():S&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,u,h]),c(Yee,{...e,ref:i})}),[OOe,DOe]=w3(Gx,{isInside:!1}),IOe=tG("TooltipContent"),Yee=A.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...s}=e,l=b3(V1,r),u=_3(r),{onClose:d}=l;return A.useEffect(()=>(document.addEventListener(jO,d),()=>document.removeEventListener(jO,d)),[d]),A.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c(xg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:w(g4,{"data-state":l.stateAttribute,...u,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c(IOe,{children:n}),c(OOe,{scope:r,isInside:!0,children:c(U1e,{id:l.contentId,role:"tooltip",children:a||n})})]})})});Kee.displayName=V1;var Xee="TooltipArrow",ROe=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=_3(r);return DOe(Xee,r).isInside?null:c(v4,{...a,...n,ref:t})});ROe.displayName=Xee;function MOe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function FOe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function LOe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function jOe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const s=t[i],l=t[o],u=s.x,d=s.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function $Oe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),BOe(t)}function BOe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var UOe=Vee,qOe=Hee,zOe=Gee,Zee=Kee;const Yb=UOe,Xb=qOe,Zb=zOe,U2=A.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c(Zee,{ref:n,sideOffset:t,className:Rt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));U2.displayName=Zee.displayName;var Gw=e=>e.type==="checkbox",F0=e=>e instanceof Date,el=e=>e==null;const Jee=e=>typeof e=="object";var Gi=e=>!el(e)&&!Array.isArray(e)&&Jee(e)&&!F0(e),Qee=e=>Gi(e)&&e.target?Gw(e.target)?e.target.checked:e.target.value:e,WOe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ete=(e,t)=>e.has(WOe(t)),VOe=e=>{const t=e.constructor&&e.constructor.prototype;return Gi(t)&&t.hasOwnProperty("isPrototypeOf")},QI=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ui(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(QI&&(e instanceof Blob||n))&&(r||Gi(e)))if(t=r?[]:{},!r&&!VOe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ui(e[a]));else return e;return t}var Kw=e=>Array.isArray(e)?e.filter(Boolean):[],Va=e=>e===void 0,rr=(e,t,r)=>{if(!t||!Gi(e))return r;const n=Kw(t.split(/[,[\].]+?/)).reduce((a,i)=>el(a)?a:a[i],e);return Va(n)||n===e?Va(e[t])?r:e[t]:n},rc=e=>typeof e=="boolean",eR=e=>/^\w*$/.test(e),tte=e=>Kw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Yn=(e,t,r)=>{let n=-1;const a=eR(t)?[t]:tte(t),i=a.length,o=i-1;for(;++n<i;){const s=a[n];let l=r;if(n!==o){const u=e[s];l=Gi(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}};const yS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rte=Qe.createContext(null),nu=()=>Qe.useContext(rte),nte=e=>{const{children:t,...r}=e;return c(rte.Provider,{value:r,children:t})};var ate=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Gc.all&&(t._proxyFormState[o]=!n||Gc.all),r&&(r[o]=!0),e[o]}});return a},BO=e=>el(e)||!Jee(e);function ah(e,t){if(BO(e)||BO(t))return e===t;if(F0(e)&&F0(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(F0(i)&&F0(o)||Gi(i)&&Gi(o)||Array.isArray(i)&&Array.isArray(o)?!ah(i,o):i!==o)return!1}}return!0}const ite=(e,t)=>{const r=A.useRef(t);ah(t,r.current)||(r.current=t),A.useEffect(e,r.current)};function HOe(e){const t=nu(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,s]=Qe.useState(r._formState),l=Qe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ite(()=>r._subscribe({name:a,formState:l.current,exact:i,callback:u=>{!n&&s({...r._formState,...u})}}),[a,n,i]),Qe.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Qe.useMemo(()=>ate(o,r,l.current,!1),[o,r])}var Gd=e=>typeof e=="string",ote=(e,t,r,n,a)=>Gd(e)?(n&&t.watch.add(e),rr(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),rr(r,i))):(n&&(t.watchAll=!0),r);function GOe(e){const t=nu(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},[s,l]=Qe.useState(r._getWatch(n,a));return ite(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:u=>!i&&l(ote(n,r._names,u.values||r._formValues,!1,a))}),[n,a,i,o]),Qe.useEffect(()=>r._removeUnmounted()),s}function KOe(e){const t=nu(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=ete(a._names.array,r),s=GOe({control:a,name:r,defaultValue:rr(a._formValues,r,rr(a._defaultValues,r,e.defaultValue)),exact:!0}),l=HOe({control:a,name:r,exact:!0}),u=Qe.useRef(e),d=Qe.useRef(a.register(r,{...e.rules,value:s,...rc(e.disabled)?{disabled:e.disabled}:{}})),f=Qe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!rr(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!rr(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!rr(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!rr(l.validatingFields,r)},error:{enumerable:!0,get:()=>rr(l.errors,r)}}),[l,r]),h=Qe.useCallback(y=>d.current.onChange({target:{value:Qee(y),name:r},type:yS.CHANGE}),[r]),m=Qe.useCallback(()=>d.current.onBlur({target:{value:rr(a._formValues,r),name:r},type:yS.BLUR}),[r,a._formValues]),x=Qe.useCallback(y=>{const _=rr(a._fields,r);_&&y&&(_._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:b=>y.setCustomValidity(b),reportValidity:()=>y.reportValidity()})},[a._fields,r]),g=Qe.useMemo(()=>({name:r,value:s,...rc(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:h,onBlur:m,ref:x}),[r,n,l.disabled,h,m,x,s]);return Qe.useEffect(()=>{const y=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...rc(u.current.disabled)?{disabled:u.current.disabled}:{}});const _=(b,S)=>{const C=rr(a._fields,b);C&&C._f&&(C._f.mount=S)};if(_(r,!0),y){const b=ui(rr(a._options.defaultValues,r));Yn(a._defaultValues,r,b),Va(rr(a._formValues,r))&&Yn(a._formValues,r,b)}return!o&&a.register(r),()=>{(o?y&&!a._state.action:y)?a.unregister(r):_(r,!1)}},[r,a,o,i]),Qe.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),Qe.useMemo(()=>({field:g,formState:l,fieldState:f}),[g,l,f])}const Up=e=>e.render(KOe(e));var ste=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Dl=e=>Array.isArray(e)?e:[e],hz=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},As=e=>Gi(e)&&!Object.keys(e).length,tR=e=>e.type==="file",$u=e=>typeof e=="function",xS=e=>{if(!QI)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},lte=e=>e.type==="select-multiple",rR=e=>e.type==="radio",YOe=e=>rR(e)||Gw(e),bT=e=>xS(e)&&e.isConnected;function XOe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Va(e)?n++:e[t[n++]];return e}function ZOe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Va(e[t]))return!1;return!0}function eo(e,t){const r=Array.isArray(t)?t:eR(t)?[t]:tte(t),n=r.length===1?e:XOe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Gi(n)&&As(n)||Array.isArray(n)&&ZOe(n))&&eo(e,r.slice(0,-1)),e}var cte=e=>{for(const t in e)if($u(e[t]))return!0;return!1};function wS(e,t={}){const r=Array.isArray(e);if(Gi(e)||r)for(const n in e)Array.isArray(e[n])||Gi(e[n])&&!cte(e[n])?(t[n]=Array.isArray(e[n])?[]:{},wS(e[n],t[n])):el(e[n])||(t[n]=!0);return t}function ute(e,t,r){const n=Array.isArray(e);if(Gi(e)||n)for(const a in e)Array.isArray(e[a])||Gi(e[a])&&!cte(e[a])?Va(t)||BO(r[a])?r[a]=Array.isArray(e[a])?wS(e[a],[]):{...wS(e[a])}:ute(e[a],el(t)?{}:t[a],r[a]):r[a]=!ah(e[a],t[a]);return r}var l2=(e,t)=>ute(e,t,wS(t));const pz={value:!1,isValid:!1},mz={value:!0,isValid:!0};var dte=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Va(e[0].attributes.value)?Va(e[0].value)||e[0].value===""?mz:{value:e[0].value,isValid:!0}:mz:pz}return pz},fte=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Va(e)?e:t?e===""?NaN:e&&+e:r&&Gd(e)?new Date(e):n?n(e):e;const gz={isValid:!1,value:null};var hte=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,gz):gz;function vz(e){const t=e.ref;return tR(t)?t.files:rR(t)?hte(e.refs).value:lte(t)?[...t.selectedOptions].map(({value:r})=>r):Gw(t)?dte(e.refs).value:fte(Va(t.value)?e.ref.value:t.value,e)}var JOe=(e,t,r,n)=>{const a={};for(const i of e){const o=rr(t,i);o&&Yn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},_S=e=>e instanceof RegExp,c2=e=>Va(e)?e:_S(e)?e.source:Gi(e)?_S(e.value)?e.value.source:e.value:e,qv=e=>({isOnSubmit:!e||e===Gc.onSubmit,isOnBlur:e===Gc.onBlur,isOnChange:e===Gc.onChange,isOnAll:e===Gc.all,isOnTouch:e===Gc.onTouched});const yz="AsyncFunction";var QOe=e=>!!e&&!!e.validate&&!!($u(e.validate)&&e.validate.constructor.name===yz||Gi(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===yz)),e8e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),UO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const t1=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=rr(e,a);if(i){const{_f:o,...s}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(t1(s,t))break}else if(Gi(s)&&t1(s,t))break}}};function xz(e,t,r){const n=rr(e,r);if(n||eR(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=rr(t,i),s=rr(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(s&&s.type)return{name:i,error:s};a.pop()}return{name:r}}var t8e=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return As(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Gc.all))},r8e=(e,t,r)=>!e||!t||e===t||Dl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),n8e=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,a8e=(e,t)=>!Kw(rr(e,t)).length&&eo(e,t),pte=(e,t,r)=>{const n=Dl(rr(e,r));return Yn(n,"root",t[r]),Yn(e,r,n),e},Jb=e=>Gd(e);function wz(e,t,r="validate"){if(Jb(e)||Array.isArray(e)&&e.every(Jb)||rc(e)&&!e)return{type:r,message:Jb(e)?e:"",ref:t}}var Cv=e=>Gi(e)&&!_S(e)?e:{value:e,message:""},qO=async(e,t,r,n,a,i)=>{const{ref:o,refs:s,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:x,name:g,valueAsNumber:y,mount:_}=e._f,b=rr(r,g);if(!_||t.has(g))return{};const S=s?s[0]:o,C=M=>{a&&S.reportValidity&&(S.setCustomValidity(rc(M)?"":M||""),S.reportValidity())},E={},O=rR(o),T=Gw(o),I=O||T,L=(y||tR(o))&&Va(o.value)&&Va(b)||xS(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,U=ste.bind(null,g,n,E),P=(M,j,V,X=Zf.maxLength,te=Zf.minLength)=>{const z=M?j:V;E[g]={type:M?X:te,message:z,ref:o,...U(M?X:te,z)}};if(i?!Array.isArray(b)||!b.length:l&&(!I&&(L||el(b))||rc(b)&&!b||T&&!dte(s).isValid||O&&!hte(s).isValid)){const{value:M,message:j}=Jb(l)?{value:!!l,message:l}:Cv(l);if(M&&(E[g]={type:Zf.required,message:j,ref:S,...U(Zf.required,j)},!n))return C(j),E}if(!L&&(!el(f)||!el(h))){let M,j;const V=Cv(h),X=Cv(f);if(!el(b)&&!isNaN(b)){const te=o.valueAsNumber||b&&+b;el(V.value)||(M=te>V.value),el(X.value)||(j=te<X.value)}else{const te=o.valueAsDate||new Date(b),z=Y=>new Date(new Date().toDateString()+" "+Y),G=o.type=="time",q=o.type=="week";Gd(V.value)&&b&&(M=G?z(b)>z(V.value):q?b>V.value:te>new Date(V.value)),Gd(X.value)&&b&&(j=G?z(b)<z(X.value):q?b<X.value:te<new Date(X.value))}if((M||j)&&(P(!!M,V.message,X.message,Zf.max,Zf.min),!n))return C(E[g].message),E}if((u||d)&&!L&&(Gd(b)||i&&Array.isArray(b))){const M=Cv(u),j=Cv(d),V=!el(M.value)&&b.length>+M.value,X=!el(j.value)&&b.length<+j.value;if((V||X)&&(P(V,M.message,j.message),!n))return C(E[g].message),E}if(m&&!L&&Gd(b)){const{value:M,message:j}=Cv(m);if(_S(M)&&!b.match(M)&&(E[g]={type:Zf.pattern,message:j,ref:o,...U(Zf.pattern,j)},!n))return C(j),E}if(x){if($u(x)){const M=await x(b,r),j=wz(M,S);if(j&&(E[g]={...j,...U(Zf.validate,j.message)},!n))return C(j.message),E}else if(Gi(x)){let M={};for(const j in x){if(!As(M)&&!n)break;const V=wz(await x[j](b,r),S,j);V&&(M={...V,...U(j,V.message)},C(V.message),n&&(E[g]=M))}if(!As(M)&&(E[g]={ref:S,...M},!n))return E}}return C(!0),E};const i8e={mode:Gc.onSubmit,reValidateMode:Gc.onChange,shouldFocusError:!0};function o8e(e={}){let t={...i8e,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:$u(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Gi(t.defaultValues)||Gi(t.values)?ui(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:ui(a),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:hz(),state:hz()},m=qv(t.mode),x=qv(t.reValidateMode),g=t.criteriaMode===Gc.all,y=_e=>Ce=>{clearTimeout(u),u=setTimeout(_e,Ce)},_=async _e=>{if(!t.disabled&&(d.isValid||f.isValid||_e)){const Ce=t.resolver?As((await L()).errors):await P(n,!0);Ce!==r.isValid&&h.state.next({isValid:Ce})}},b=(_e,Ce)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((_e||Array.from(s.mount)).forEach(We=>{We&&(Ce?Yn(r.validatingFields,We,Ce):eo(r.validatingFields,We))}),h.state.next({validatingFields:r.validatingFields,isValidating:!As(r.validatingFields)}))},S=(_e,Ce=[],We,ft,vt=!0,Fe=!0)=>{if(ft&&We&&!t.disabled){if(o.action=!0,Fe&&Array.isArray(rr(n,_e))){const Ve=We(rr(n,_e),ft.argA,ft.argB);vt&&Yn(n,_e,Ve)}if(Fe&&Array.isArray(rr(r.errors,_e))){const Ve=We(rr(r.errors,_e),ft.argA,ft.argB);vt&&Yn(r.errors,_e,Ve),a8e(r.errors,_e)}if((d.touchedFields||f.touchedFields)&&Fe&&Array.isArray(rr(r.touchedFields,_e))){const Ve=We(rr(r.touchedFields,_e),ft.argA,ft.argB);vt&&Yn(r.touchedFields,_e,Ve)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=l2(a,i)),h.state.next({name:_e,isDirty:j(_e,Ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Yn(i,_e,Ce)},C=(_e,Ce)=>{Yn(r.errors,_e,Ce),h.state.next({errors:r.errors})},E=_e=>{r.errors=_e,h.state.next({errors:r.errors,isValid:!1})},O=(_e,Ce,We,ft)=>{const vt=rr(n,_e);if(vt){const Fe=rr(i,_e,Va(We)?rr(a,_e):We);Va(Fe)||ft&&ft.defaultChecked||Ce?Yn(i,_e,Ce?Fe:vz(vt._f)):te(_e,Fe),o.mount&&_()}},T=(_e,Ce,We,ft,vt)=>{let Fe=!1,Ve=!1;const _t={name:_e};if(!t.disabled){if(!We||ft){(d.isDirty||f.isDirty)&&(Ve=r.isDirty,r.isDirty=_t.isDirty=j(),Fe=Ve!==_t.isDirty);const At=ah(rr(a,_e),Ce);Ve=!!rr(r.dirtyFields,_e),At?eo(r.dirtyFields,_e):Yn(r.dirtyFields,_e,!0),_t.dirtyFields=r.dirtyFields,Fe=Fe||(d.dirtyFields||f.dirtyFields)&&Ve!==!At}if(We){const At=rr(r.touchedFields,_e);At||(Yn(r.touchedFields,_e,We),_t.touchedFields=r.touchedFields,Fe=Fe||(d.touchedFields||f.touchedFields)&&At!==We)}Fe&&vt&&h.state.next(_t)}return Fe?_t:{}},I=(_e,Ce,We,ft)=>{const vt=rr(r.errors,_e),Fe=(d.isValid||f.isValid)&&rc(Ce)&&r.isValid!==Ce;if(t.delayError&&We?(l=y(()=>C(_e,We)),l(t.delayError)):(clearTimeout(u),l=null,We?Yn(r.errors,_e,We):eo(r.errors,_e)),(We?!ah(vt,We):vt)||!As(ft)||Fe){const Ve={...ft,...Fe&&rc(Ce)?{isValid:Ce}:{},errors:r.errors,name:_e};r={...r,...Ve},h.state.next(Ve)}},L=async _e=>{b(_e,!0);const Ce=await t.resolver(i,t.context,JOe(_e||s.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(_e),Ce},U=async _e=>{const{errors:Ce}=await L(_e);if(_e)for(const We of _e){const ft=rr(Ce,We);ft?Yn(r.errors,We,ft):eo(r.errors,We)}else r.errors=Ce;return Ce},P=async(_e,Ce,We={valid:!0})=>{for(const ft in _e){const vt=_e[ft];if(vt){const{_f:Fe,...Ve}=vt;if(Fe){const _t=s.array.has(Fe.name),At=vt._f&&QOe(vt._f);At&&d.validatingFields&&b([ft],!0);const ut=await qO(vt,s.disabled,i,g,t.shouldUseNativeValidation&&!Ce,_t);if(At&&d.validatingFields&&b([ft]),ut[Fe.name]&&(We.valid=!1,Ce))break;!Ce&&(rr(ut,Fe.name)?_t?pte(r.errors,ut,Fe.name):Yn(r.errors,Fe.name,ut[Fe.name]):eo(r.errors,Fe.name))}!As(Ve)&&await P(Ve,Ce,We)}}return We.valid},M=()=>{for(const _e of s.unMount){const Ce=rr(n,_e);Ce&&(Ce._f.refs?Ce._f.refs.every(We=>!bT(We)):!bT(Ce._f.ref))&&J(_e)}s.unMount=new Set},j=(_e,Ce)=>!t.disabled&&(_e&&Ce&&Yn(i,_e,Ce),!ah(D(),a)),V=(_e,Ce,We)=>ote(_e,s,{...o.mount?i:Va(Ce)?a:Gd(_e)?{[_e]:Ce}:Ce},We,Ce),X=_e=>Kw(rr(o.mount?i:a,_e,t.shouldUnregister?rr(a,_e,[]):[])),te=(_e,Ce,We={})=>{const ft=rr(n,_e);let vt=Ce;if(ft){const Fe=ft._f;Fe&&(!Fe.disabled&&Yn(i,_e,fte(Ce,Fe)),vt=xS(Fe.ref)&&el(Ce)?"":Ce,lte(Fe.ref)?[...Fe.ref.options].forEach(Ve=>Ve.selected=vt.includes(Ve.value)):Fe.refs?Gw(Fe.ref)?Fe.refs.length>1?Fe.refs.forEach(Ve=>(!Ve.defaultChecked||!Ve.disabled)&&(Ve.checked=Array.isArray(vt)?!!vt.find(_t=>_t===Ve.value):vt===Ve.value)):Fe.refs[0]&&(Fe.refs[0].checked=!!vt):Fe.refs.forEach(Ve=>Ve.checked=Ve.value===vt):tR(Fe.ref)?Fe.ref.value="":(Fe.ref.value=vt,Fe.ref.type||h.state.next({name:_e,values:ui(i)})))}(We.shouldDirty||We.shouldTouch)&&T(_e,vt,We.shouldTouch,We.shouldDirty,!0),We.shouldValidate&&Z(_e)},z=(_e,Ce,We)=>{for(const ft in Ce){const vt=Ce[ft],Fe=`${_e}.${ft}`,Ve=rr(n,Fe);(s.array.has(_e)||Gi(vt)||Ve&&!Ve._f)&&!F0(vt)?z(Fe,vt,We):te(Fe,vt,We)}},G=(_e,Ce,We={})=>{const ft=rr(n,_e),vt=s.array.has(_e),Fe=ui(Ce);Yn(i,_e,Fe),vt?(h.array.next({name:_e,values:ui(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&We.shouldDirty&&h.state.next({name:_e,dirtyFields:l2(a,i),isDirty:j(_e,Fe)})):ft&&!ft._f&&!el(Fe)?z(_e,Fe,We):te(_e,Fe,We),UO(_e,s)&&h.state.next({...r}),h.state.next({name:o.mount?_e:void 0,values:ui(i)})},q=async _e=>{o.mount=!0;const Ce=_e.target;let We=Ce.name,ft=!0;const vt=rr(n,We),Fe=Ve=>{ft=Number.isNaN(Ve)||F0(Ve)&&isNaN(Ve.getTime())||ah(Ve,rr(i,We,Ve))};if(vt){let Ve,_t;const At=Ce.type?vz(vt._f):Qee(_e),ut=_e.type===yS.BLUR||_e.type===yS.FOCUS_OUT,wr=!e8e(vt._f)&&!t.resolver&&!rr(r.errors,We)&&!vt._f.deps||n8e(ut,rr(r.touchedFields,We),r.isSubmitted,x,m),nr=UO(We,s,ut);Yn(i,We,At),ut?(vt._f.onBlur&&vt._f.onBlur(_e),l&&l(0)):vt._f.onChange&&vt._f.onChange(_e);const Jr=T(We,At,ut),dn=!As(Jr)||nr;if(!ut&&h.state.next({name:We,type:_e.type,values:ui(i)}),wr)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ut&&_():ut||_()),dn&&h.state.next({name:We,...nr?{}:Jr});if(!ut&&nr&&h.state.next({...r}),t.resolver){const{errors:bn}=await L([We]);if(Fe(At),ft){const Pi=xz(r.errors,n,We),fn=xz(bn,n,Pi.name||We);Ve=fn.error,We=fn.name,_t=As(bn)}}else b([We],!0),Ve=(await qO(vt,s.disabled,i,g,t.shouldUseNativeValidation))[We],b([We]),Fe(At),ft&&(Ve?_t=!1:(d.isValid||f.isValid)&&(_t=await P(n,!0)));ft&&(vt._f.deps&&Z(vt._f.deps),I(We,_t,Ve,Jr))}},Y=(_e,Ce)=>{if(rr(r.errors,Ce)&&_e.focus)return _e.focus(),1},Z=async(_e,Ce={})=>{let We,ft;const vt=Dl(_e);if(t.resolver){const Fe=await U(Va(_e)?_e:vt);We=As(Fe),ft=_e?!vt.some(Ve=>rr(Fe,Ve)):We}else _e?(ft=(await Promise.all(vt.map(async Fe=>{const Ve=rr(n,Fe);return await P(Ve&&Ve._f?{[Fe]:Ve}:Ve)}))).every(Boolean),!(!ft&&!r.isValid)&&_()):ft=We=await P(n);return h.state.next({...!Gd(_e)||(d.isValid||f.isValid)&&We!==r.isValid?{}:{name:_e},...t.resolver||!_e?{isValid:We}:{},errors:r.errors}),Ce.shouldFocus&&!ft&&t1(n,Y,_e?vt:s.mount),ft},D=_e=>{const Ce={...o.mount?i:a};return Va(_e)?Ce:Gd(_e)?rr(Ce,_e):_e.map(We=>rr(Ce,We))},K=(_e,Ce)=>({invalid:!!rr((Ce||r).errors,_e),isDirty:!!rr((Ce||r).dirtyFields,_e),error:rr((Ce||r).errors,_e),isValidating:!!rr(r.validatingFields,_e),isTouched:!!rr((Ce||r).touchedFields,_e)}),Q=_e=>{_e&&Dl(_e).forEach(Ce=>eo(r.errors,Ce)),h.state.next({errors:_e?r.errors:{}})},ie=(_e,Ce,We)=>{const ft=(rr(n,_e,{_f:{}})._f||{}).ref,vt=rr(r.errors,_e)||{},{ref:Fe,message:Ve,type:_t,...At}=vt;Yn(r.errors,_e,{...At,...Ce,ref:ft}),h.state.next({name:_e,errors:r.errors,isValid:!1}),We&&We.shouldFocus&&ft&&ft.focus&&ft.focus()},ae=(_e,Ce)=>$u(_e)?h.state.subscribe({next:We=>_e(V(void 0,Ce),We)}):V(_e,Ce,!0),oe=_e=>h.state.subscribe({next:Ce=>{r8e(_e.name,Ce.name,_e.exact)&&t8e(Ce,_e.formState||d,dt,_e.reRenderRoot)&&_e.callback({values:{...i},...r,...Ce})}}).unsubscribe,de=_e=>(o.mount=!0,f={...f,..._e.formState},oe({..._e,formState:f})),J=(_e,Ce={})=>{for(const We of _e?Dl(_e):s.mount)s.mount.delete(We),s.array.delete(We),Ce.keepValue||(eo(n,We),eo(i,We)),!Ce.keepError&&eo(r.errors,We),!Ce.keepDirty&&eo(r.dirtyFields,We),!Ce.keepTouched&&eo(r.touchedFields,We),!Ce.keepIsValidating&&eo(r.validatingFields,We),!t.shouldUnregister&&!Ce.keepDefaultValue&&eo(a,We);h.state.next({values:ui(i)}),h.state.next({...r,...Ce.keepDirty?{isDirty:j()}:{}}),!Ce.keepIsValid&&_()},ue=({disabled:_e,name:Ce})=>{(rc(_e)&&o.mount||_e||s.disabled.has(Ce))&&(_e?s.disabled.add(Ce):s.disabled.delete(Ce))},ge=(_e,Ce={})=>{let We=rr(n,_e);const ft=rc(Ce.disabled)||rc(t.disabled);return Yn(n,_e,{...We||{},_f:{...We&&We._f?We._f:{ref:{name:_e}},name:_e,mount:!0,...Ce}}),s.mount.add(_e),We?ue({disabled:rc(Ce.disabled)?Ce.disabled:t.disabled,name:_e}):O(_e,!0,Ce.value),{...ft?{disabled:Ce.disabled||t.disabled}:{},...t.progressive?{required:!!Ce.required,min:c2(Ce.min),max:c2(Ce.max),minLength:c2(Ce.minLength),maxLength:c2(Ce.maxLength),pattern:c2(Ce.pattern)}:{},name:_e,onChange:q,onBlur:q,ref:vt=>{if(vt){ge(_e,Ce),We=rr(n,_e);const Fe=Va(vt.value)&&vt.querySelectorAll&&vt.querySelectorAll("input,select,textarea")[0]||vt,Ve=YOe(Fe),_t=We._f.refs||[];if(Ve?_t.find(At=>At===Fe):Fe===We._f.ref)return;Yn(n,_e,{_f:{...We._f,...Ve?{refs:[..._t.filter(bT),Fe,...Array.isArray(rr(a,_e))?[{}]:[]],ref:{type:Fe.type,name:_e}}:{ref:Fe}}}),O(_e,!1,void 0,Fe)}else We=rr(n,_e,{}),We._f&&(We._f.mount=!1),(t.shouldUnregister||Ce.shouldUnregister)&&!(ete(s.array,_e)&&o.action)&&s.unMount.add(_e)}}},ne=()=>t.shouldFocusError&&t1(n,Y,s.mount),Ne=_e=>{rc(_e)&&(h.state.next({disabled:_e}),t1(n,(Ce,We)=>{const ft=rr(n,We);ft&&(Ce.disabled=ft._f.disabled||_e,Array.isArray(ft._f.refs)&&ft._f.refs.forEach(vt=>{vt.disabled=ft._f.disabled||_e}))},0,!1))},Re=(_e,Ce)=>async We=>{let ft;We&&(We.preventDefault&&We.preventDefault(),We.persist&&We.persist());let vt=ui(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Fe,values:Ve}=await L();r.errors=Fe,vt=Ve}else await P(n);if(s.disabled.size)for(const Fe of s.disabled)Yn(vt,Fe,void 0);if(eo(r.errors,"root"),As(r.errors)){h.state.next({errors:{}});try{await _e(vt,We)}catch(Fe){ft=Fe}}else Ce&&await Ce({...r.errors},We),ne(),setTimeout(ne);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:As(r.errors)&&!ft,submitCount:r.submitCount+1,errors:r.errors}),ft)throw ft},De=(_e,Ce={})=>{rr(n,_e)&&(Va(Ce.defaultValue)?G(_e,ui(rr(a,_e))):(G(_e,Ce.defaultValue),Yn(a,_e,ui(Ce.defaultValue))),Ce.keepTouched||eo(r.touchedFields,_e),Ce.keepDirty||(eo(r.dirtyFields,_e),r.isDirty=Ce.defaultValue?j(_e,ui(rr(a,_e))):j()),Ce.keepError||(eo(r.errors,_e),d.isValid&&_()),h.state.next({...r}))},pe=(_e,Ce={})=>{const We=_e?ui(_e):a,ft=ui(We),vt=As(_e),Fe=vt?a:ft;if(Ce.keepDefaultValues||(a=We),!Ce.keepValues){if(Ce.keepDirtyValues){const Ve=new Set([...s.mount,...Object.keys(l2(a,i))]);for(const _t of Array.from(Ve))rr(r.dirtyFields,_t)?Yn(Fe,_t,rr(i,_t)):G(_t,rr(Fe,_t))}else{if(QI&&Va(_e))for(const Ve of s.mount){const _t=rr(n,Ve);if(_t&&_t._f){const At=Array.isArray(_t._f.refs)?_t._f.refs[0]:_t._f.ref;if(xS(At)){const ut=At.closest("form");if(ut){ut.reset();break}}}}for(const Ve of s.mount)G(Ve,rr(Fe,Ve))}i=ui(Fe),h.array.next({values:{...Fe}}),h.state.next({values:{...Fe}})}s={mount:Ce.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Ce.keepIsValid||!!Ce.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Ce.keepSubmitCount?r.submitCount:0,isDirty:vt?!1:Ce.keepDirty?r.isDirty:!!(Ce.keepDefaultValues&&!ah(_e,a)),isSubmitted:Ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:vt?{}:Ce.keepDirtyValues?Ce.keepDefaultValues&&i?l2(a,i):r.dirtyFields:Ce.keepDefaultValues&&_e?l2(a,_e):Ce.keepDirty?r.dirtyFields:{},touchedFields:Ce.keepTouched?r.touchedFields:{},errors:Ce.keepErrors?r.errors:{},isSubmitSuccessful:Ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(_e,Ce)=>pe($u(_e)?_e(i):_e,Ce),mt=(_e,Ce={})=>{const We=rr(n,_e),ft=We&&We._f;if(ft){const vt=ft.refs?ft.refs[0]:ft.ref;vt.focus&&(vt.focus(),Ce.shouldSelect&&$u(vt.select)&&vt.select())}},dt=_e=>{r={...r,..._e}},lt={control:{register:ge,unregister:J,getFieldState:K,handleSubmit:Re,setError:ie,_subscribe:oe,_runSchema:L,_getWatch:V,_getDirty:j,_setValid:_,_setFieldArray:S,_setDisabledField:ue,_setErrors:E,_getFieldArray:X,_reset:pe,_resetDefaultValues:()=>$u(t.defaultValues)&&t.defaultValues().then(_e=>{Je(_e,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Ne,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(_e){o=_e},get _defaultValues(){return a},get _names(){return s},set _names(_e){s=_e},get _formState(){return r},get _options(){return t},set _options(_e){t={...t,..._e}}},subscribe:de,trigger:Z,register:ge,handleSubmit:Re,watch:ae,setValue:G,getValues:D,reset:Je,resetField:De,clearErrors:Q,unregister:J,setError:ie,setFocus:mt,getFieldState:K};return{...lt,formControl:lt}}var Tp=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},ST=(e,t,r={})=>r.shouldFocus||Va(r.shouldFocus)?r.focusName||`${e}.${Va(r.focusIndex)?t:r.focusIndex}.`:"",AT=(e,t)=>[...e,...Dl(t)],kT=e=>Array.isArray(e)?e.map(()=>{}):void 0;function NT(e,t,r){return[...e.slice(0,t),...Dl(r),...e.slice(t)]}var ET=(e,t,r)=>Array.isArray(e)?(Va(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],CT=(e,t)=>[...Dl(t),...Dl(e)];function s8e(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return Kw(n).length?n:[]}var TT=(e,t)=>Va(t)?[]:s8e(e,Dl(t).sort((r,n)=>r-n)),PT=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},_z=(e,t,r)=>(e[t]=r,e);function bS(e){const t=nu(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:o}=e,[s,l]=Qe.useState(r._getFieldArray(n)),u=Qe.useRef(r._getFieldArray(n).map(Tp)),d=Qe.useRef(s),f=Qe.useRef(n),h=Qe.useRef(!1);f.current=n,d.current=s,r._names.array.add(n),o&&r.register(n,o),Qe.useEffect(()=>r._subjects.array.subscribe({next:({values:O,name:T})=>{if(T===f.current||!T){const I=rr(O,f.current);Array.isArray(I)&&(l(I),u.current=I.map(Tp))}}}).unsubscribe,[r]);const m=Qe.useCallback(O=>{h.current=!0,r._setFieldArray(n,O)},[r,n]),x=(O,T)=>{const I=Dl(ui(O)),L=AT(r._getFieldArray(n),I);r._names.focus=ST(n,L.length-1,T),u.current=AT(u.current,I.map(Tp)),m(L),l(L),r._setFieldArray(n,L,AT,{argA:kT(O)})},g=(O,T)=>{const I=Dl(ui(O)),L=CT(r._getFieldArray(n),I);r._names.focus=ST(n,0,T),u.current=CT(u.current,I.map(Tp)),m(L),l(L),r._setFieldArray(n,L,CT,{argA:kT(O)})},y=O=>{const T=TT(r._getFieldArray(n),O);u.current=TT(u.current,O),m(T),l(T),!Array.isArray(rr(r._fields,n))&&Yn(r._fields,n,void 0),r._setFieldArray(n,T,TT,{argA:O})},_=(O,T,I)=>{const L=Dl(ui(T)),U=NT(r._getFieldArray(n),O,L);r._names.focus=ST(n,O,I),u.current=NT(u.current,O,L.map(Tp)),m(U),l(U),r._setFieldArray(n,U,NT,{argA:O,argB:kT(T)})},b=(O,T)=>{const I=r._getFieldArray(n);PT(I,O,T),PT(u.current,O,T),m(I),l(I),r._setFieldArray(n,I,PT,{argA:O,argB:T},!1)},S=(O,T)=>{const I=r._getFieldArray(n);ET(I,O,T),ET(u.current,O,T),m(I),l(I),r._setFieldArray(n,I,ET,{argA:O,argB:T},!1)},C=(O,T)=>{const I=ui(T),L=_z(r._getFieldArray(n),O,I);u.current=[...L].map((U,P)=>!U||P===O?Tp():u.current[P]),m(L),l([...L]),r._setFieldArray(n,L,_z,{argA:O,argB:I},!0,!1)},E=O=>{const T=Dl(ui(O));u.current=T.map(Tp),m([...T]),l([...T]),r._setFieldArray(n,[...T],I=>I,{},!0,!1)};return Qe.useEffect(()=>{if(r._state.action=!1,UO(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!qv(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!qv(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(O=>{const T=rr(O.errors,n),I=rr(r._formState.errors,n);(I?!T&&I.type||T&&(I.type!==T.type||I.message!==T.message):T&&T.type)&&(T?Yn(r._formState.errors,n,T):eo(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const O=rr(r._fields,n);O&&O._f&&!(qv(r._options.reValidateMode).isOnSubmit&&qv(r._options.mode).isOnSubmit)&&qO(O,r._names.disabled,r._formValues,r._options.criteriaMode===Gc.all,r._options.shouldUseNativeValidation,!0).then(T=>!As(T)&&r._subjects.state.next({errors:pte(r._formState.errors,T,n)}))}r._subjects.state.next({name:n,values:ui(r._formValues)}),r._names.focus&&t1(r._fields,(O,T)=>{if(r._names.focus&&T.startsWith(r._names.focus)&&O.focus)return O.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[s,n,r]),Qe.useEffect(()=>(!rr(r._formValues,n)&&r._setFieldArray(n),()=>{const O=(T,I)=>{const L=rr(r._fields,T);L&&L._f&&(L._f.mount=I)};r._options.shouldUnregister||i?r.unregister(n):O(n,!1)}),[n,r,a,i]),{swap:Qe.useCallback(b,[m,n,r]),move:Qe.useCallback(S,[m,n,r]),prepend:Qe.useCallback(g,[m,n,r]),append:Qe.useCallback(x,[m,n,r]),remove:Qe.useCallback(y,[m,n,r]),insert:Qe.useCallback(_,[m,n,r]),update:Qe.useCallback(C,[m,n,r]),replace:Qe.useCallback(E,[m,n,r]),fields:Qe.useMemo(()=>s.map((O,T)=>({...O,[a]:u.current[T]||Tp()})),[s,a])}}const l8e=typeof window<"u"?Qe.useLayoutEffect:Qe.useEffect;function sd(e={}){const t=Qe.useRef(void 0),r=Qe.useRef(void 0),[n,a]=Qe.useState({isDirty:!1,isValidating:!1,isLoading:$u(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$u(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:o8e(e),formState:n},e.formControl&&e.defaultValues&&!$u(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,l8e(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(s=>({...s,isReady:!0})),o},[i]),Qe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Qe.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!As(e.errors)&&i._setErrors(e.errors)},[i,e.errors,e.mode,e.reValidateMode]),Qe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Qe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Qe.useEffect(()=>{e.values&&!ah(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Qe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=ate(n,i),t.current}const bz=(e,t,r)=>{if(e&&"reportValidity"in e){const n=rr(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},mte=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?bz(n.ref,r,e):n.refs&&n.refs.forEach(a=>bz(a,r,e))}},c8e=(e,t)=>{t.shouldUseNativeValidation&&mte(e,t);const r={};for(const n in e){const a=rr(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(u8e(t.names||Object.keys(e),n)){const o=Object.assign({},rr(r,n));Yn(o,"root",i),Yn(r,n,o)}else Yn(r,n,i)}return r},u8e=(e,t)=>e.some(r=>r.startsWith(t+"."));var d8e=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];r[o]={message:s.message,type:s.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,u=l&&l[n.code];r[o]=ste(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},ld=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,s){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&mte({},i),{errors:{},values:r.raw?n:u}})}catch(u){return s(u)}return l&&l.then?l.then(void 0,s):l}(0,function(o){if(function(s){return Array.isArray(s==null?void 0:s.errors)}(o))return{values:{},errors:c8e(d8e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},S3="Checkbox",[f8e,RJe]=Yi(S3),[h8e,p8e]=f8e(S3),gte=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=A.useState(null),x=zr(t,C=>m(C)),g=A.useRef(!1),y=h?d||!!h.closest("form"):!0,[_,b]=cl({prop:a,defaultProp:i??!1,onChange:u,caller:S3}),S=A.useRef(_);return A.useEffect(()=>{const C=h==null?void 0:h.form;if(C){const E=()=>b(S.current);return C.addEventListener("reset",E),()=>C.removeEventListener("reset",E)}},[h,b]),w(h8e,{scope:r,state:_,disabled:s,children:[c(hr.button,{type:"button",role:"checkbox","aria-checked":em(_)?"mixed":_,"aria-required":o,"data-state":wte(_),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:x,onKeyDown:Ut(e.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Ut(e.onClick,C=>{b(E=>em(E)?!0:!E),y&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),y&&c(xte,{control:h,bubbles:!g.current,name:n,value:l,checked:_,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"},defaultChecked:em(i)?!1:i})]})});gte.displayName=S3;var vte="CheckboxIndicator",yte=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=p8e(vte,r);return c(is,{present:n||em(i.state)||i.state===!0,children:c(hr.span,{"data-state":wte(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});yte.displayName=vte;var m8e="CheckboxBubbleInput",xte=A.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i},o)=>{const s=A.useRef(null),l=zr(s,o),u=T4(r),d=p4(t);A.useEffect(()=>{const h=s.current;if(!h)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==r&&g){const y=new Event("click",{bubbles:n});h.indeterminate=em(r),g.call(h,em(r)?!1:r),h.dispatchEvent(y)}},[u,r,n]);const f=A.useRef(em(r)?!1:r);return c(hr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??f.current,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xte.displayName=m8e;function em(e){return e==="indeterminate"}function wte(e){return em(e)?"indeterminate":e?"checked":"unchecked"}var _te=gte,g8e=yte;const Ps=A.forwardRef(({className:e,...t},r)=>c(_te,{ref:r,className:Rt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c(g8e,{className:Rt("flex items-center justify-center text-current"),children:c(p1,{className:"h-4 w-4"})})}));Ps.displayName=_te.displayName;const Dh=nte,bte=A.createContext({}),He=({...e})=>c(bte.Provider,{value:{name:e.name},children:c(Up,{...e})}),A3=()=>{const e=A.useContext(bte),t=A.useContext(Ste),{getFieldState:r,formState:n}=nu(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Ste=A.createContext({}),Oe=A.forwardRef(({className:e,...t},r)=>{const n=A.useId();return c(Ste.Provider,{value:{id:n},children:c("div",{ref:r,className:Rt("space-y-2",e),...t})})});Oe.displayName="FormItem";const Pe=A.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=A3();return c(Yt,{ref:r,className:Rt(n&&"text-destructive",e),htmlFor:a,...t})});Pe.displayName="FormLabel";const Ie=A.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=A3();return c(QH,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Ie.displayName="FormControl";const bi=A.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=A3();return c("p",{ref:r,id:n,className:Rt("text-sm text-muted-foreground",e),...t})});bi.displayName="FormDescription";const Ze=A.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=A3(),o=a?String(a==null?void 0:a.message):t;return o?c("p",{ref:n,id:i,className:Rt("text-sm font-medium text-destructive",e),...r,children:o}):null});Ze.displayName="FormMessage";var $n;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),o={};for(const s of i)o[s]=a[s];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})($n||($n={}));var zO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(zO||(zO={}));const gr=$n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nh=e=>{switch(typeof e){case"undefined":return gr.undefined;case"string":return gr.string;case"number":return isNaN(e)?gr.nan:gr.number;case"boolean":return gr.boolean;case"function":return gr.function;case"bigint":return gr.bigint;case"symbol":return gr.symbol;case"object":return Array.isArray(e)?gr.array:e===null?gr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?gr.promise:typeof Map<"u"&&e instanceof Map?gr.map:typeof Set<"u"&&e instanceof Set?gr.set:typeof Date<"u"&&e instanceof Date?gr.date:gr.object;default:return gr.unknown}},qt=$n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),v8e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class mc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(r(o))):s[u]=s[u]||{_errors:[]},s=s[u],l++}}};return a(this),n}static assert(t){if(!(t instanceof mc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,$n.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}mc.create=e=>new mc(e);const H1=(e,t)=>{let r;switch(e.code){case qt.invalid_type:e.received===gr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case qt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,$n.jsonStringifyReplacer)}`;break;case qt.unrecognized_keys:r=`Unrecognized key(s) in object: ${$n.joinValues(e.keys,", ")}`;break;case qt.invalid_union:r="Invalid input";break;case qt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${$n.joinValues(e.options)}`;break;case qt.invalid_enum_value:r=`Invalid enum value. Expected ${$n.joinValues(e.options)}, received '${e.received}'`;break;case qt.invalid_arguments:r="Invalid function arguments";break;case qt.invalid_return_type:r="Invalid function return type";break;case qt.invalid_date:r="Invalid date";break;case qt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:$n.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case qt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case qt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case qt.custom:r="Invalid input";break;case qt.invalid_intersection_types:r="Intersection results could not be merged";break;case qt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case qt.not_finite:r="Number must be finite";break;default:r=t.defaultError,$n.assertNever(e)}return{message:r}};let Ate=H1;function y8e(e){Ate=e}function SS(){return Ate}const AS=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let s="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)s=u(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}},x8e=[];function lr(e,t){const r=SS(),n=AS({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===H1?void 0:H1].filter(a=>!!a)});e.common.issues.push(n)}class Ms{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return nn;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Ms.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return nn;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const nn=Object.freeze({status:"aborted"}),zv=e=>({status:"dirty",value:e}),dl=e=>({status:"valid",value:e}),WO=e=>e.status==="aborted",VO=e=>e.status==="dirty",og=e=>e.status==="valid",Kx=e=>typeof Promise<"u"&&e instanceof Promise;function kS(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function kte(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Pr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Pr||(Pr={}));var S2,A2;class cf{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Sz=(e,t)=>{if(og(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new mc(e.common.issues);return this._error=r,this._error}}};function gn(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,s)=>{var l,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??s.defaultError}:typeof s.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:s.defaultError}},description:a}}class _n{get description(){return this._def.description}_getType(t){return nh(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:nh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ms,ctx:{common:t.parent.common,data:t.data,parsedType:nh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Kx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nh(t)},i=this._parseSync({data:t,path:a.path,parent:a});return Sz(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nh(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return og(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>og(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nh(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Kx(a)?a:Promise.resolve(a));return Sz(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),s=()=>i.addIssue({code:qt.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Qu({schema:this,typeName:Zr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return tf.create(this,this._def)}nullable(){return mm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hu.create(this)}promise(){return K1.create(this,this._def)}or(t){return Jx.create([this,t],this._def)}and(t){return Qx.create(this,t,this._def)}transform(t){return new Qu({...gn(this._def),schema:this,typeName:Zr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new aw({...gn(this._def),innerType:this,defaultValue:r,typeName:Zr.ZodDefault})}brand(){return new nR({typeName:Zr.ZodBranded,type:this,...gn(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new iw({...gn(this._def),innerType:this,catchValue:r,typeName:Zr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Yw.create(this,t)}readonly(){return ow.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const w8e=/^c[^\s-]{8,}$/i,_8e=/^[0-9a-z]+$/,b8e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,S8e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,A8e=/^[a-z0-9_-]{21}$/i,k8e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,N8e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,E8e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,C8e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let OT;const T8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,P8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,O8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,D8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,I8e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,R8e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Nte="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",M8e=new RegExp(`^${Nte}$`);function Ete(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function F8e(e){return new RegExp(`^${Ete(e)}$`)}function Cte(e){let t=`${Nte}T${Ete(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function L8e(e,t){return!!((t==="v4"||!t)&&T8e.test(e)||(t==="v6"||!t)&&O8e.test(e))}function j8e(e,t){if(!k8e.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function $8e(e,t){return!!((t==="v4"||!t)&&P8e.test(e)||(t==="v6"||!t)&&D8e.test(e))}class Uu extends _n{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==gr.string){const i=this._getOrReturnCtx(t);return lr(i,{code:qt.invalid_type,expected:gr.string,received:i.parsedType}),nn}const n=new Ms;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(a=this._getOrReturnCtx(t,a),o?lr(a,{code:qt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&lr(a,{code:qt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")E8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"email",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")OT||(OT=new RegExp(C8e,"u")),OT.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"emoji",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")S8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"uuid",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")A8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"nanoid",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")w8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"cuid",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")_8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"cuid2",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")b8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"ulid",code:qt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),lr(a,{validation:"url",code:qt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"regex",code:qt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Cte(i).test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?M8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?F8e(i).test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?N8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"duration",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?L8e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"ip",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?j8e(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"jwt",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?$8e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"cidr",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?I8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"base64",code:qt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?R8e.test(t.data)||(a=this._getOrReturnCtx(t,a),lr(a,{validation:"base64url",code:qt.invalid_string,message:i.message}),n.dirty()):$n.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:qt.invalid_string,...Pr.errToObj(n)})}_addCheck(t){return new Uu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Pr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Pr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Pr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Pr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Pr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Pr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Pr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Pr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Pr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Pr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Pr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Pr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Pr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Pr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Pr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Pr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Pr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Pr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Pr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Pr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Pr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Pr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Pr.errToObj(r)})}nonempty(t){return this.min(1,Pr.errToObj(t))}trim(){return new Uu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Uu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Uu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Uu.create=e=>{var t;return new Uu({checks:[],typeName:Zr.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...gn(e)})};function B8e(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class fm extends _n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==gr.number){const i=this._getOrReturnCtx(t);return lr(i,{code:qt.invalid_type,expected:gr.number,received:i.parsedType}),nn}let n;const a=new Ms;for(const i of this._def.checks)i.kind==="int"?$n.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?B8e(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.not_finite,message:i.message}),a.dirty()):$n.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Pr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pr.toString(r))}setLimit(t,r,n,a){return new fm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pr.toString(a)}]})}_addCheck(t){return new fm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Pr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Pr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&$n.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}fm.create=e=>new fm({checks:[],typeName:Zr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...gn(e)});class hm extends _n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==gr.bigint)return this._getInvalidInput(t);let n;const a=new Ms;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),lr(n,{code:qt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):$n.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return lr(r,{code:qt.invalid_type,expected:gr.bigint,received:r.parsedType}),nn}gte(t,r){return this.setLimit("min",t,!0,Pr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pr.toString(r))}setLimit(t,r,n,a){return new hm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pr.toString(a)}]})}_addCheck(t){return new hm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}hm.create=e=>{var t;return new hm({checks:[],typeName:Zr.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...gn(e)})};class Yx extends _n{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==gr.boolean){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:gr.boolean,received:n.parsedType}),nn}return dl(t.data)}}Yx.create=e=>new Yx({typeName:Zr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...gn(e)});class sg extends _n{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==gr.date){const i=this._getOrReturnCtx(t);return lr(i,{code:qt.invalid_type,expected:gr.date,received:i.parsedType}),nn}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return lr(i,{code:qt.invalid_date}),nn}const n=new Ms;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),lr(a,{code:qt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):$n.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new sg({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Pr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Pr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}sg.create=e=>new sg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Zr.ZodDate,...gn(e)});class NS extends _n{_parse(t){if(this._getType(t)!==gr.symbol){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:gr.symbol,received:n.parsedType}),nn}return dl(t.data)}}NS.create=e=>new NS({typeName:Zr.ZodSymbol,...gn(e)});class Xx extends _n{_parse(t){if(this._getType(t)!==gr.undefined){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:gr.undefined,received:n.parsedType}),nn}return dl(t.data)}}Xx.create=e=>new Xx({typeName:Zr.ZodUndefined,...gn(e)});class Zx extends _n{_parse(t){if(this._getType(t)!==gr.null){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:gr.null,received:n.parsedType}),nn}return dl(t.data)}}Zx.create=e=>new Zx({typeName:Zr.ZodNull,...gn(e)});class G1 extends _n{constructor(){super(...arguments),this._any=!0}_parse(t){return dl(t.data)}}G1.create=e=>new G1({typeName:Zr.ZodAny,...gn(e)});class q0 extends _n{constructor(){super(...arguments),this._unknown=!0}_parse(t){return dl(t.data)}}q0.create=e=>new q0({typeName:Zr.ZodUnknown,...gn(e)});class bh extends _n{_parse(t){const r=this._getOrReturnCtx(t);return lr(r,{code:qt.invalid_type,expected:gr.never,received:r.parsedType}),nn}}bh.create=e=>new bh({typeName:Zr.ZodNever,...gn(e)});class ES extends _n{_parse(t){if(this._getType(t)!==gr.undefined){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:gr.void,received:n.parsedType}),nn}return dl(t.data)}}ES.create=e=>new ES({typeName:Zr.ZodVoid,...gn(e)});class Hu extends _n{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==gr.array)return lr(r,{code:qt.invalid_type,expected:gr.array,received:r.parsedType}),nn;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,s=r.data.length<a.exactLength.value;(o||s)&&(lr(r,{code:o?qt.too_big:qt.too_small,minimum:s?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(lr(r,{code:qt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(lr(r,{code:qt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>a.type._parseAsync(new cf(r,o,r.path,s)))).then(o=>Ms.mergeArray(n,o));const i=[...r.data].map((o,s)=>a.type._parseSync(new cf(r,o,r.path,s)));return Ms.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Hu({...this._def,minLength:{value:t,message:Pr.toString(r)}})}max(t,r){return new Hu({...this._def,maxLength:{value:t,message:Pr.toString(r)}})}length(t,r){return new Hu({...this._def,exactLength:{value:t,message:Pr.toString(r)}})}nonempty(t){return this.min(1,t)}}Hu.create=(e,t)=>new Hu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Zr.ZodArray,...gn(t)});function Mv(e){if(e instanceof di){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=tf.create(Mv(n))}return new di({...e._def,shape:()=>t})}else return e instanceof Hu?new Hu({...e._def,type:Mv(e.element)}):e instanceof tf?tf.create(Mv(e.unwrap())):e instanceof mm?mm.create(Mv(e.unwrap())):e instanceof uf?uf.create(e.items.map(t=>Mv(t))):e}class di extends _n{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=$n.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==gr.object){const u=this._getOrReturnCtx(t);return lr(u,{code:qt.invalid_type,expected:gr.object,received:u.parsedType}),nn}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof bh&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||s.push(u);const l=[];for(const u of o){const d=i[u],f=a.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new cf(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof bh){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of s)l.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")s.length>0&&(lr(a,{code:qt.unrecognized_keys,keys:s}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of s){const f=a.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new cf(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ms.mergeObjectSync(n,u)):Ms.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Pr.errToObj,new di({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,s;const l=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=Pr.errToObj(t).message)!==null&&s!==void 0?s:l}:{message:l}}}:{}})}strip(){return new di({...this._def,unknownKeys:"strip"})}passthrough(){return new di({...this._def,unknownKeys:"passthrough"})}extend(t){return new di({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new di({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Zr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new di({...this._def,catchall:t})}pick(t){const r={};return $n.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new di({...this._def,shape:()=>r})}omit(t){const r={};return $n.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new di({...this._def,shape:()=>r})}deepPartial(){return Mv(this)}partial(t){const r={};return $n.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new di({...this._def,shape:()=>r})}required(t){const r={};return $n.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof tf;)i=i._def.innerType;r[n]=i}}),new di({...this._def,shape:()=>r})}keyof(){return Tte($n.objectKeys(this.shape))}}di.create=(e,t)=>new di({shape:()=>e,unknownKeys:"strip",catchall:bh.create(),typeName:Zr.ZodObject,...gn(t)});di.strictCreate=(e,t)=>new di({shape:()=>e,unknownKeys:"strict",catchall:bh.create(),typeName:Zr.ZodObject,...gn(t)});di.lazycreate=(e,t)=>new di({shape:e,unknownKeys:"strip",catchall:bh.create(),typeName:Zr.ZodObject,...gn(t)});class Jx extends _n{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const s of i)if(s.result.status==="valid")return s.result;for(const s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(s=>new mc(s.ctx.common.issues));return lr(r,{code:qt.invalid_union,unionErrors:o}),nn}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const s=o.map(l=>new mc(l));return lr(r,{code:qt.invalid_union,unionErrors:s}),nn}}get options(){return this._def.options}}Jx.create=(e,t)=>new Jx({options:e,typeName:Zr.ZodUnion,...gn(t)});const eh=e=>e instanceof tw?eh(e.schema):e instanceof Qu?eh(e.innerType()):e instanceof rw?[e.value]:e instanceof pm?e.options:e instanceof nw?$n.objectValues(e.enum):e instanceof aw?eh(e._def.innerType):e instanceof Xx?[void 0]:e instanceof Zx?[null]:e instanceof tf?[void 0,...eh(e.unwrap())]:e instanceof mm?[null,...eh(e.unwrap())]:e instanceof nR||e instanceof ow?eh(e.unwrap()):e instanceof iw?eh(e._def.innerType):[];class k3 extends _n{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==gr.object)return lr(r,{code:qt.invalid_type,expected:gr.object,received:r.parsedType}),nn;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(lr(r,{code:qt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),nn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=eh(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const s of o){if(a.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);a.set(s,i)}}return new k3({typeName:Zr.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...gn(n)})}}function HO(e,t){const r=nh(e),n=nh(t);if(e===t)return{valid:!0,data:e};if(r===gr.object&&n===gr.object){const a=$n.objectKeys(t),i=$n.objectKeys(e).filter(s=>a.indexOf(s)!==-1),o={...e,...t};for(const s of i){const l=HO(e[s],t[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(r===gr.array&&n===gr.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],s=t[i],l=HO(o,s);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===gr.date&&n===gr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Qx extends _n{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(WO(i)||WO(o))return nn;const s=HO(i.value,o.value);return s.valid?((VO(i)||VO(o))&&r.dirty(),{status:r.value,value:s.data}):(lr(n,{code:qt.invalid_intersection_types}),nn)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Qx.create=(e,t,r)=>new Qx({left:e,right:t,typeName:Zr.ZodIntersection,...gn(r)});class uf extends _n{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gr.array)return lr(n,{code:qt.invalid_type,expected:gr.array,received:n.parsedType}),nn;if(n.data.length<this._def.items.length)return lr(n,{code:qt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nn;!this._def.rest&&n.data.length>this._def.items.length&&(lr(n,{code:qt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new cf(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ms.mergeArray(r,o)):Ms.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new uf({...this._def,rest:t})}}uf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new uf({items:e,typeName:Zr.ZodTuple,rest:null,...gn(t)})};class ew extends _n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gr.object)return lr(n,{code:qt.invalid_type,expected:gr.object,received:n.parsedType}),nn;const a=[],i=this._def.keyType,o=this._def.valueType;for(const s in n.data)a.push({key:i._parse(new cf(n,s,n.path,s)),value:o._parse(new cf(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Ms.mergeObjectAsync(r,a):Ms.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof _n?new ew({keyType:t,valueType:r,typeName:Zr.ZodRecord,...gn(n)}):new ew({keyType:Uu.create(),valueType:t,typeName:Zr.ZodRecord,...gn(r)})}}class CS extends _n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gr.map)return lr(n,{code:qt.invalid_type,expected:gr.map,received:n.parsedType}),nn;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([s,l],u)=>({key:a._parse(new cf(n,s,n.path,[u,"key"])),value:i._parse(new cf(n,l,n.path,[u,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return nn;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(u.value,d.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return nn;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(u.value,d.value)}return{status:r.value,value:s}}}}CS.create=(e,t,r)=>new CS({valueType:t,keyType:e,typeName:Zr.ZodMap,...gn(r)});class lg extends _n{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==gr.set)return lr(n,{code:qt.invalid_type,expected:gr.set,received:n.parsedType}),nn;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(lr(n,{code:qt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(lr(n,{code:qt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return nn;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const s=[...n.data.values()].map((l,u)=>i._parse(new cf(n,l,n.path,u)));return n.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(t,r){return new lg({...this._def,minSize:{value:t,message:Pr.toString(r)}})}max(t,r){return new lg({...this._def,maxSize:{value:t,message:Pr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}lg.create=(e,t)=>new lg({valueType:e,minSize:null,maxSize:null,typeName:Zr.ZodSet,...gn(t)});class r1 extends _n{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==gr.function)return lr(r,{code:qt.invalid_type,expected:gr.function,received:r.parsedType}),nn;function n(s,l){return AS({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,SS(),H1].filter(u=>!!u),issueData:{code:qt.invalid_arguments,argumentsError:l}})}function a(s,l){return AS({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,SS(),H1].filter(u=>!!u),issueData:{code:qt.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof K1){const s=this;return dl(async function(...l){const u=new mc([]),d=await s._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(n(l,m)),u}),f=await Reflect.apply(o,this,d);return await s._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{const s=this;return dl(function(...l){const u=s._def.args.safeParse(l,i);if(!u.success)throw new mc([n(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=s._def.returns.safeParse(d,i);if(!f.success)throw new mc([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new r1({...this._def,args:uf.create(t).rest(q0.create())})}returns(t){return new r1({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new r1({args:t||uf.create([]).rest(q0.create()),returns:r||q0.create(),typeName:Zr.ZodFunction,...gn(n)})}}class tw extends _n{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}tw.create=(e,t)=>new tw({getter:e,typeName:Zr.ZodLazy,...gn(t)});class rw extends _n{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return lr(r,{received:r.data,code:qt.invalid_literal,expected:this._def.value}),nn}return{status:"valid",value:t.data}}get value(){return this._def.value}}rw.create=(e,t)=>new rw({value:e,typeName:Zr.ZodLiteral,...gn(t)});function Tte(e,t){return new pm({values:e,typeName:Zr.ZodEnum,...gn(t)})}class pm extends _n{constructor(){super(...arguments),S2.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return lr(r,{expected:$n.joinValues(n),received:r.parsedType,code:qt.invalid_type}),nn}if(kS(this,S2)||kte(this,S2,new Set(this._def.values)),!kS(this,S2).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return lr(r,{received:r.data,code:qt.invalid_enum_value,options:n}),nn}return dl(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return pm.create(t,{...this._def,...r})}exclude(t,r=this._def){return pm.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}S2=new WeakMap;pm.create=Tte;class nw extends _n{constructor(){super(...arguments),A2.set(this,void 0)}_parse(t){const r=$n.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==gr.string&&n.parsedType!==gr.number){const a=$n.objectValues(r);return lr(n,{expected:$n.joinValues(a),received:n.parsedType,code:qt.invalid_type}),nn}if(kS(this,A2)||kte(this,A2,new Set($n.getValidEnumValues(this._def.values))),!kS(this,A2).has(t.data)){const a=$n.objectValues(r);return lr(n,{received:n.data,code:qt.invalid_enum_value,options:a}),nn}return dl(t.data)}get enum(){return this._def.values}}A2=new WeakMap;nw.create=(e,t)=>new nw({values:e,typeName:Zr.ZodNativeEnum,...gn(t)});class K1 extends _n{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==gr.promise&&r.common.async===!1)return lr(r,{code:qt.invalid_type,expected:gr.promise,received:r.parsedType}),nn;const n=r.parsedType===gr.promise?r.data:Promise.resolve(r.data);return dl(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}K1.create=(e,t)=>new K1({type:e,typeName:Zr.ZodPromise,...gn(t)});class Qu extends _n{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{lr(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return nn;const l=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return l.status==="aborted"?nn:l.status==="dirty"||r.value==="dirty"?zv(l.value):l});{if(r.value==="aborted")return nn;const s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?nn:s.status==="dirty"||r.value==="dirty"?zv(s.value):s}}if(a.type==="refinement"){const o=s=>{const l=a.refinement(s,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?nn:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?nn:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!og(o))return o;const s=a.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>og(o)?Promise.resolve(a.transform(o.value,i)).then(s=>({status:r.value,value:s})):o);$n.assertNever(a)}}Qu.create=(e,t,r)=>new Qu({schema:e,typeName:Zr.ZodEffects,effect:t,...gn(r)});Qu.createWithPreprocess=(e,t,r)=>new Qu({schema:t,effect:{type:"preprocess",transform:e},typeName:Zr.ZodEffects,...gn(r)});class tf extends _n{_parse(t){return this._getType(t)===gr.undefined?dl(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tf.create=(e,t)=>new tf({innerType:e,typeName:Zr.ZodOptional,...gn(t)});class mm extends _n{_parse(t){return this._getType(t)===gr.null?dl(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mm.create=(e,t)=>new mm({innerType:e,typeName:Zr.ZodNullable,...gn(t)});class aw extends _n{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===gr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}aw.create=(e,t)=>new aw({innerType:e,typeName:Zr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...gn(t)});class iw extends _n{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new mc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new mc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}iw.create=(e,t)=>new iw({innerType:e,typeName:Zr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...gn(t)});class TS extends _n{_parse(t){if(this._getType(t)!==gr.nan){const n=this._getOrReturnCtx(t);return lr(n,{code:qt.invalid_type,expected:gr.nan,received:n.parsedType}),nn}return{status:"valid",value:t.data}}}TS.create=e=>new TS({typeName:Zr.ZodNaN,...gn(e)});const U8e=Symbol("zod_brand");class nR extends _n{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Yw extends _n{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?nn:i.status==="dirty"?(r.dirty(),zv(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?nn:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Yw({in:t,out:r,typeName:Zr.ZodPipeline})}}class ow extends _n{_parse(t){const r=this._def.innerType._parse(t),n=a=>(og(a)&&(a.value=Object.freeze(a.value)),a);return Kx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}ow.create=(e,t)=>new ow({innerType:e,typeName:Zr.ZodReadonly,...gn(t)});function Az(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Pte(e,t={},r){return e?G1.create().superRefine((n,a)=>{var i,o;const s=e(n);if(s instanceof Promise)return s.then(l=>{var u,d;if(!l){const f=Az(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!s){const l=Az(t,n),u=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...l,fatal:u})}}):G1.create()}const q8e={object:di.lazycreate};var Zr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Zr||(Zr={}));const z8e=(e,t={message:`Input not instance of ${e.name}`})=>Pte(r=>r instanceof e,t),es=Uu.create,q2=fm.create,W8e=TS.create,V8e=hm.create,aR=Yx.create,Ote=sg.create,H8e=NS.create,G8e=Xx.create,K8e=Zx.create,Y8e=G1.create,X8e=q0.create,Z8e=bh.create,J8e=ES.create,Dte=Hu.create,N3=di.create,Q8e=di.strictCreate,eDe=Jx.create,tDe=k3.create,rDe=Qx.create,nDe=uf.create,aDe=ew.create,iDe=CS.create,oDe=lg.create,sDe=r1.create,lDe=tw.create,cDe=rw.create,sw=pm.create,uDe=nw.create,dDe=K1.create,kz=Qu.create,fDe=tf.create,hDe=mm.create,pDe=Qu.createWithPreprocess,mDe=Yw.create,gDe=()=>es().optional(),vDe=()=>q2().optional(),yDe=()=>aR().optional(),iR={string:e=>Uu.create({...e,coerce:!0}),number:e=>fm.create({...e,coerce:!0}),boolean:e=>Yx.create({...e,coerce:!0}),bigint:e=>hm.create({...e,coerce:!0}),date:e=>sg.create({...e,coerce:!0})},xDe=nn;var je=Object.freeze({__proto__:null,defaultErrorMap:H1,setErrorMap:y8e,getErrorMap:SS,makeIssue:AS,EMPTY_PATH:x8e,addIssueToContext:lr,ParseStatus:Ms,INVALID:nn,DIRTY:zv,OK:dl,isAborted:WO,isDirty:VO,isValid:og,isAsync:Kx,get util(){return $n},get objectUtil(){return zO},ZodParsedType:gr,getParsedType:nh,ZodType:_n,datetimeRegex:Cte,ZodString:Uu,ZodNumber:fm,ZodBigInt:hm,ZodBoolean:Yx,ZodDate:sg,ZodSymbol:NS,ZodUndefined:Xx,ZodNull:Zx,ZodAny:G1,ZodUnknown:q0,ZodNever:bh,ZodVoid:ES,ZodArray:Hu,ZodObject:di,ZodUnion:Jx,ZodDiscriminatedUnion:k3,ZodIntersection:Qx,ZodTuple:uf,ZodRecord:ew,ZodMap:CS,ZodSet:lg,ZodFunction:r1,ZodLazy:tw,ZodLiteral:rw,ZodEnum:pm,ZodNativeEnum:nw,ZodPromise:K1,ZodEffects:Qu,ZodTransformer:Qu,ZodOptional:tf,ZodNullable:mm,ZodDefault:aw,ZodCatch:iw,ZodNaN:TS,BRAND:U8e,ZodBranded:nR,ZodPipeline:Yw,ZodReadonly:ow,custom:Pte,Schema:_n,ZodSchema:_n,late:q8e,get ZodFirstPartyTypeKind(){return Zr},coerce:iR,any:Y8e,array:Dte,bigint:V8e,boolean:aR,date:Ote,discriminatedUnion:tDe,effect:kz,enum:sw,function:sDe,instanceof:z8e,intersection:rDe,lazy:lDe,literal:cDe,map:iDe,nan:W8e,nativeEnum:uDe,never:Z8e,null:K8e,nullable:hDe,number:q2,object:N3,oboolean:yDe,onumber:vDe,optional:fDe,ostring:gDe,pipeline:mDe,preprocess:pDe,promise:dDe,record:aDe,set:oDe,strictObject:Q8e,string:es,symbol:H8e,transformer:kz,tuple:nDe,undefined:G8e,union:eDe,unknown:X8e,void:J8e,NEVER:xDe,ZodIssueCode:qt,quotelessJson:v8e,ZodError:mc});const qp=je.object({first_name:je.string().min(1,"First name is required"),last_name:je.string().min(1,"Last name is required"),middle_name:je.string().optional(),gender:je.enum(["male","female","other"]),age:je.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),je.number().int().positive("Age must be a positive number").nullable().optional()),marital_status:je.enum(["single","married","divorced","widowed","separated","other"]).optional(),occupation:je.string().optional()});function wDe(){const e=nu();return w("div",{className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Basic Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Enter the patient's basic personal information."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c(He,{control:e.control,name:"first_name",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"First Name"}),c(Ie,{children:c(ot,{placeholder:"John",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"middle_name",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Middle Name"}),c(Ie,{children:c(ot,{placeholder:"Michael",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"last_name",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Last Name"}),c(Ie,{children:c(ot,{placeholder:"Doe",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"gender",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Gender"}),w(Ur,{onValueChange:t.onChange,defaultValue:t.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select gender"})})}),w($r,{children:[c(gt,{value:"male",children:"Male"}),c(gt,{value:"female",children:"Female"}),c(gt,{value:"other",children:"Other"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"age",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Age"}),c(Ie,{children:c(ot,{type:"number",placeholder:"25",...t,value:t.value??"",onChange:r=>t.onChange(r.target.value===""?null:r.target.valueAsNumber)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"marital_status",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Marital Status"}),w(Ur,{onValueChange:t.onChange,defaultValue:t.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select status"})})}),w($r,{children:[c(gt,{value:"single",children:"Single"}),c(gt,{value:"married",children:"Married"}),c(gt,{value:"divorced",children:"Divorced"}),c(gt,{value:"widowed",children:"Widowed"}),c(gt,{value:"separated",children:"Separated"}),c(gt,{value:"other",children:"Other"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"occupation",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Occupation"}),c(Ie,{children:c(ot,{placeholder:"Software Engineer",...t})}),c(Ze,{})]})})]})]})}const oR=je.object({phone:je.string().min(1,"Phone number is required").regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format. Use E.164 format: +1234567890"),email:je.string().email("Invalid email address").optional().nullable(),address:je.string().optional(),city:je.string().optional(),state:je.string().optional(),postal_code:je.string().optional(),country:je.string().default("USA"),emergency_contact_name:je.string().optional(),emergency_contact_phone:je.string().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format").optional(),emergency_contact_relationship:je.string().optional()});function _De(){const e=nu();return w("div",{className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Contact Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Provide contact details for communication."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(He,{control:e.control,name:"phone",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Phone Number"}),c(Ie,{children:c(ot,{placeholder:"+1234567890",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"email",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Email Address"}),c(Ie,{children:c(ot,{type:"email",placeholder:"john@example.com",...t})}),c(Ze,{})]})})]}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Address Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Enter the patient's residential address."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(He,{control:e.control,name:"address",render:({field:t})=>w(Oe,{className:"col-span-2",children:[c(Pe,{children:"Street Address"}),c(Ie,{children:c(ot,{placeholder:"123 Main St",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"city",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"City"}),c(Ie,{children:c(ot,{placeholder:"New York",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"state",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"State"}),c(Ie,{children:c(ot,{placeholder:"NY",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"postal_code",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Postal Code"}),c(Ie,{children:c(ot,{placeholder:"10001",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"country",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Country"}),c(Ie,{children:c(ot,{placeholder:"USA",...t})}),c(Ze,{})]})})]}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Emergency Contact"}),c("p",{className:"text-sm text-muted-foreground",children:"Provide emergency contact information."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(He,{control:e.control,name:"emergency_contact_name",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Contact Name"}),c(Ie,{children:c(ot,{placeholder:"Jane Doe",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"emergency_contact_phone",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Contact Phone"}),c(Ie,{children:c(ot,{placeholder:"+1234567890",...t})}),c(Ze,{})]})}),c(He,{control:e.control,name:"emergency_contact_relationship",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Relationship"}),c(Ie,{children:c(ot,{placeholder:"Spouse",...t})}),c(Ze,{})]})})]})]})}var sR="Radio",[bDe,Ite]=Yi(sR),[SDe,ADe]=bDe(sR),Rte=A.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:s="on",onCheck:l,form:u,...d}=e,[f,h]=A.useState(null),m=zr(t,y=>h(y)),x=A.useRef(!1),g=f?u||!!f.closest("form"):!0;return w(SDe,{scope:r,checked:a,disabled:o,children:[c(hr.button,{type:"button",role:"radio","aria-checked":a,"data-state":jte(a),"data-disabled":o?"":void 0,disabled:o,value:s,...d,ref:m,onClick:Ut(e.onClick,y=>{a||l==null||l(),g&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),g&&c(Lte,{control:f,bubbles:!x.current,name:n,value:s,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Rte.displayName=sR;var Mte="RadioIndicator",Fte=A.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=ADe(Mte,r);return c(is,{present:n||i.checked,children:c(hr.span,{"data-state":jte(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});Fte.displayName=Mte;var kDe="RadioBubbleInput",Lte=A.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=A.useRef(null),s=zr(o,i),l=T4(r),u=p4(t);return A.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(x)}},[l,r,n]),c(hr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Lte.displayName=kDe;function jte(e){return e?"checked":"unchecked"}var NDe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],E3="RadioGroup",[EDe,MJe]=Yi(E3,[ly,Ite]),$te=ly(),Bte=Ite(),[CDe,TDe]=EDe(E3),Ute=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:s=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=$te(r),x=yg(u),[g,y]=cl({prop:i,defaultProp:a??"",onChange:f,caller:E3});return c(CDe,{scope:r,name:n,required:o,disabled:s,value:g,onValueChange:y,children:c(iD,{asChild:!0,...m,orientation:l,dir:x,loop:d,children:c(hr.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:x,...h,ref:t})})})});Ute.displayName=E3;var qte="RadioGroupItem",zte=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=TDe(qte,r),o=i.disabled||n,s=$te(r),l=Bte(r),u=A.useRef(null),d=zr(t,u),f=i.value===a.value,h=A.useRef(!1);return A.useEffect(()=>{const m=g=>{NDe.includes(g.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",x)}},[]),c(oD,{asChild:!0,...s,focusable:!o,active:f,children:c(Rte,{disabled:o,required:i.required,checked:f,...l,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ut(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ut(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});zte.displayName=qte;var PDe="RadioGroupIndicator",Wte=A.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=Bte(r);return c(Fte,{...a,...n,ref:t})});Wte.displayName=PDe;var Vte=Ute,Hte=zte,ODe=Wte;const Fo=A.forwardRef(({className:e,...t},r)=>c(Vte,{className:Rt("grid gap-2",e),...t,ref:r}));Fo.displayName=Vte.displayName;const Pn=A.forwardRef(({className:e,...t},r)=>c(Hte,{ref:r,className:Rt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c(ODe,{className:"flex items-center justify-center",children:c(WH,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Pn.displayName=Hte.displayName;const DDe=[{id:"penicillin",label:"Penicillin"},{id:"amoxicillin",label:"Amoxicillin"},{id:"aspirin",label:"Aspirin"},{id:"ibuprofen",label:"Ibuprofen"},{id:"codeine",label:"Codeine"},{id:"sulfa_drugs",label:"Sulfa Drugs"},{id:"local_anesthetics",label:"Local Anesthetics (e.g., Lidocaine)"},{id:"other_medications",label:"Other Medications (please specify)"}],IDe=[{id:"peanuts",label:"Peanuts"},{id:"tree_nuts",label:"Tree Nuts (e.g., almonds, walnuts)"},{id:"dairy",label:"Dairy Products"},{id:"eggs",label:"Eggs"},{id:"shellfish",label:"Shellfish"},{id:"gluten",label:"Gluten"},{id:"soy",label:"Soy"},{id:"other_food",label:"Other Food Allergies (please specify)"}],RDe=[{id:"pollen",label:"Pollen"},{id:"dust_mites",label:"Dust Mites"},{id:"mold",label:"Mold"},{id:"pet_dander",label:"Pet Dander"},{id:"insect_stings",label:"Insect Stings"},{id:"latex",label:"Latex"},{id:"fragrances",label:"Fragrances/Perfumes"},{id:"other_environmental",label:"Other Environmental Allergies (please specify)"}],MDe=[{id:"nickel_metals",label:"Nickel or Metals"},{id:"chlorhexidine",label:"Chlorhexidine (mouthwash/antiseptic)"},{id:"other",label:"Other (please describe)"}],Gte=je.object({blood_group:je.enum(["A+","A-","B+","B-","AB+","AB-","O+","O-","unknown"]).optional(),height:je.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),je.number().positive("Height must be a positive number").nullable().optional()),weight:je.preprocess(e=>e===""||e===null||e===void 0?null:Number(e),je.number().positive("Weight must be a positive number").nullable().optional()),has_allergies:je.enum(["yes","no"]).optional(),medication_allergies:je.array(je.string()).optional(),other_medication_allergy_details:je.string().optional(),food_allergies:je.array(je.string()).optional(),other_food_allergy_details:je.string().optional(),environmental_allergies:je.array(je.string()).optional(),other_environmental_allergy_details:je.string().optional(),other_allergies:je.array(je.string()).optional(),other_allergy_details:je.string().optional(),other_allergies_manual_input:je.string().optional(),diagnosed_conditions:je.array(je.string()).optional(),other_diagnosed_condition:je.string().optional(),has_implants:je.enum(["yes","no"]).optional(),implants_details:je.string().optional(),taking_medications:je.enum(["yes","no"]).optional(),current_medications:je.array(je.object({name:je.string().min(1,"Medication name is required"),dosage:je.string().optional(),frequency:je.string().optional()})).optional(),recent_health_changes:je.enum(["yes","no"]).optional(),health_changes_details:je.string().optional(),previous_surgeries:je.array(je.object({type:je.string().min(1,"Surgery type is required"),date:je.string().optional(),notes:je.string().optional()})).optional(),immunizations_up_to_date:je.enum(["yes","no","not_sure"]).optional(),recent_immunizations:je.string().optional(),recent_medical_screenings:je.enum(["yes","no"]).optional(),screenings_details:je.string().optional(),dental_material_allergies:je.enum(["yes","no"]).optional(),dental_material_allergies_details:je.string().optional(),notes:je.string().optional()}),FDe=[{id:"diabetes",label:"Diabetes"},{id:"heart_disease",label:"Heart Disease"},{id:"hypertension",label:"Hypertension"},{id:"asthma",label:"Asthma"},{id:"bleeding_disorders",label:"Bleeding Disorders"},{id:"kidney_liver_disease",label:"Kidney/Liver Disease"},{id:"respiratory_problems",label:"Respiratory Problems"},{id:"autoimmune_disorders",label:"Autoimmune Disorders"},{id:"osteoporosis",label:"Osteoporosis"}];function LDe(){var s,l,u,d;const e=nu(),{fields:t,append:r,remove:n}=bS({control:e.control,name:"current_medications"}),{fields:a,append:i,remove:o}=bS({control:e.control,name:"previous_surgeries"});return w("div",{className:"space-y-8",children:[" ",w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Medical Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Provide relevant medical information for the patient."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c(He,{control:e.control,name:"blood_group",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Blood Group"}),w(Ur,{onValueChange:f.onChange,defaultValue:f.value||"unknown",children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select blood group"})})}),c($r,{children:["A+","A-","B+","B-","AB+","AB-","O+","O-","unknown"].map(h=>c(gt,{value:h,children:h==="unknown"?"Unknown":h},h))})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"height",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Height (cm)"}),c(Ie,{children:c(ot,{type:"number",placeholder:"175",...f,value:f.value??"",onChange:h=>f.onChange(h.target.value===""?null:h.target.valueAsNumber)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"weight",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Weight (kg)"}),c(Ie,{children:c(ot,{type:"number",placeholder:"70",...f,value:f.value??"",onChange:h=>f.onChange(h.target.value===""?null:h.target.valueAsNumber)})}),c(Ze,{})]})})]})," ",w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Allergies"}),c(He,{control:e.control,name:"has_allergies",render:({field:f})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Do you have any allergies?"}),c(Ie,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("has_allergies")==="yes"&&w("div",{className:"space-y-6 mt-4",children:[" ",c(He,{control:e.control,name:"medication_allergies",render:()=>w(Oe,{children:[w("div",{className:"mb-2",children:[c(Pe,{className:"text-base font-medium",children:"Medication Allergies"}),c(bi,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:DDe.map(f=>c(He,{control:e.control,name:"medication_allergies",render:({field:h})=>{var m;return w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Pe,{className:"font-normal",children:f.label})]})}},f.id))}),c(Ze,{})]})}),((s=e.watch("medication_allergies"))==null?void 0:s.includes("other_medications"))&&c(He,{control:e.control,name:"other_medication_allergy_details",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Specify Other Medication Allergies:"}),c(Ie,{children:c(ot,{placeholder:"Details...",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"food_allergies",render:()=>w(Oe,{children:[w("div",{className:"mb-2",children:[c(Pe,{className:"text-base font-medium",children:"Food Allergies"}),c(bi,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:IDe.map(f=>c(He,{control:e.control,name:"food_allergies",render:({field:h})=>{var m;return w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Pe,{className:"font-normal",children:f.label})]})}},f.id))}),c(Ze,{})]})}),((l=e.watch("food_allergies"))==null?void 0:l.includes("other_food"))&&c(He,{control:e.control,name:"other_food_allergy_details",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Specify Other Food Allergies:"}),c(Ie,{children:c(ot,{placeholder:"Details...",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"environmental_allergies",render:()=>w(Oe,{children:[w("div",{className:"mb-2",children:[c(Pe,{className:"text-base font-medium",children:"Environmental Allergies"}),c(bi,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:RDe.map(f=>c(He,{control:e.control,name:"environmental_allergies",render:({field:h})=>{var m;return w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Pe,{className:"font-normal",children:f.label})]})}},f.id))}),c(Ze,{})]})}),((u=e.watch("environmental_allergies"))==null?void 0:u.includes("other_environmental"))&&c(He,{control:e.control,name:"other_environmental_allergy_details",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Specify Other Environmental Allergies:"}),c(Ie,{children:c(ot,{placeholder:"Details...",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"other_allergies",render:()=>w(Oe,{children:[w("div",{className:"mb-2",children:[c(Pe,{className:"text-base font-medium",children:"Other Allergies"}),c(bi,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:MDe.map(f=>c(He,{control:e.control,name:"other_allergies",render:({field:h})=>{var m;return w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Pe,{className:"font-normal",children:f.label})]})}},f.id))}),c(Ze,{})]})}),((d=e.watch("other_allergies"))==null?void 0:d.includes("other"))&&c(He,{control:e.control,name:"other_allergy_details",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Describe Other Allergies:"}),c(Ie,{children:c(Yr,{placeholder:"Details...",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"other_allergies_manual_input",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Manually List Any Other Allergies:"}),c(Ie,{children:c(Yr,{placeholder:"e.g., Specific chemical, rare reaction...",...f,value:f.value||""})}),c(Ze,{})]})})]})," "]})," ",w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Medical Conditions"}),c(He,{control:e.control,name:"diagnosed_conditions",render:()=>w(Oe,{children:[w("div",{className:"mb-4",children:[c(Pe,{className:"text-base",children:"Have you been diagnosed with any of the following?"}),c(bi,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:FDe.map(f=>c(He,{control:e.control,name:"diagnosed_conditions",render:({field:h})=>{var m;return w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(m=h.value)==null?void 0:m.includes(f.id),onCheckedChange:x=>x?h.onChange([...h.value||[],f.id]):h.onChange((h.value||[]).filter(g=>g!==f.id))})}),c(Pe,{className:"font-normal",children:f.label})]},f.id)}},f.id))}),c(Ze,{})]})}),c(He,{control:e.control,name:"other_diagnosed_condition",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Other Medical Conditions (if any):"}),c(Ie,{children:c(ot,{placeholder:"Specify other conditions",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"has_implants",render:({field:f})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Do you have any implanted devices or prosthetics?"}),c(Ie,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("has_implants")==="yes"&&c(He,{control:e.control,name:"implants_details",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"If yes, specify (e.g., pacemaker, joint replacement):"}),c(Ie,{children:c(ot,{placeholder:"e.g., Pacemaker, Hip Replacement",...f})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Current Medications"}),c(He,{control:e.control,name:"taking_medications",render:({field:f})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Are you currently taking any medications?"}),c(Ie,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("taking_medications")==="yes"&&w("div",{className:"space-y-4",children:[t.map((f,h)=>w("div",{className:"flex items-start space-x-2 p-3 border rounded-md relative",children:[w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 flex-grow",children:[c(He,{control:e.control,name:`current_medications.${h}.name`,render:({field:m})=>w(Oe,{children:[c(Pe,{children:"Name"}),c(Ie,{children:c(ot,{placeholder:"e.g., Lisinopril",...m})}),c(Ze,{})]})}),c(He,{control:e.control,name:`current_medications.${h}.dosage`,render:({field:m})=>w(Oe,{children:[c(Pe,{children:"Dosage"}),c(Ie,{children:c(ot,{placeholder:"e.g., 10mg",...m})}),c(Ze,{})]})}),c(He,{control:e.control,name:`current_medications.${h}.frequency`,render:({field:m})=>w(Oe,{children:[c(Pe,{children:"Frequency"}),c(Ie,{children:c(ot,{placeholder:"e.g., Daily",...m})}),c(Ze,{})]})})]}),w(Le,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>n(h),children:[c(im,{className:"h-4 w-4"}),c("span",{className:"sr-only",children:"Remove Medication"})]})]},f.id)),c(Le,{type:"button",variant:"outline",size:"sm",onClick:()=>r({name:"",dosage:"",frequency:""}),children:"Add Medication"})]})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Recent Health Changes"}),c(He,{control:e.control,name:"recent_health_changes",render:({field:f})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Have you experienced any recent health changes (e.g., surgeries, hospitalizations, changes in medications)?"}),c(Ie,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("recent_health_changes")==="yes"&&c(He,{control:e.control,name:"health_changes_details",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"If yes, please describe and provide dates if applicable:"}),c(Ie,{children:c(Yr,{placeholder:"e.g., Knee surgery on 2024-01-15, Started new blood pressure medication last month",...f})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Previous Surgeries / Hospitalizations"}),w("div",{className:"space-y-4",children:[a.map((f,h)=>w("div",{className:"flex items-start space-x-2 p-3 border rounded-md relative",children:[w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 flex-grow",children:[c(He,{control:e.control,name:`previous_surgeries.${h}.type`,render:({field:m})=>w(Oe,{children:[c(Pe,{children:"Type / Reason"}),c(Ie,{children:c(ot,{placeholder:"e.g., Appendectomy",...m})}),c(Ze,{})]})}),c(He,{control:e.control,name:`previous_surgeries.${h}.date`,render:({field:m})=>w(Oe,{children:[c(Pe,{children:"Approx. Date"}),c(Ie,{children:c(ot,{placeholder:"e.g., 2010",...m})}),c(Ze,{})]})}),c(He,{control:e.control,name:`previous_surgeries.${h}.notes`,render:({field:m})=>w(Oe,{children:[c(Pe,{children:"Notes"}),c(Ie,{children:c(ot,{placeholder:"Optional notes",...m})}),c(Ze,{})]})})]}),w(Le,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>o(h),children:[c(im,{className:"h-4 w-4"}),c("span",{className:"sr-only",children:"Remove Surgery"})]})]},f.id)),c(Le,{type:"button",variant:"outline",size:"sm",onClick:()=>i({type:"",date:"",notes:""}),children:"Add Surgery / Hospitalization"})]})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Immunizations & Screenings"}),c(He,{control:e.control,name:"immunizations_up_to_date",render:({field:f})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Are your immunizations up to date?"}),c(Ie,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"not_sure"})}),c(Pe,{className:"font-normal",children:"Not Sure"})]})]})}),c(Ze,{})]})}),c(He,{control:e.control,name:"recent_immunizations",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"If applicable, list recent immunizations (e.g., tetanus, influenza, COVID-19):"}),c(Ie,{children:c(ot,{placeholder:"e.g., Flu shot (Oct 2024), COVID Booster (Dec 2024)",...f})}),c(Ze,{})]})}),c(He,{control:e.control,name:"recent_medical_screenings",render:({field:f})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Have you had any recent medical screenings (e.g., blood work, blood pressure checks)?"}),c(Ie,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("recent_medical_screenings")==="yes"&&c(He,{control:e.control,name:"screenings_details",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"If yes, list the screenings and dates:"}),c(Ie,{children:c(ot,{placeholder:"e.g., Blood work (Jan 2025), Colonoscopy (Mar 2024)",...f})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Allergic Reactions to Dental Materials"}),c(He,{control:e.control,name:"dental_material_allergies",render:({field:f})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Have you ever had an allergic reaction to dental materials (e.g., latex, metals, local anesthetics)?"}),c(Ie,{children:w(Fo,{onValueChange:f.onChange,value:f.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dental_material_allergies")==="yes"&&c(He,{control:e.control,name:"dental_material_allergies_details",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"If yes, please describe the reaction:"}),c(Ie,{children:c(Yr,{placeholder:"e.g., Rash from latex gloves, Swelling after local anesthetic",...f})}),c(Ze,{})]})})]}),c(He,{control:e.control,name:"notes",render:({field:f})=>w(Oe,{children:[c(Pe,{children:"Additional Medical Notes"}),c(Ie,{children:c(Yr,{placeholder:"Any other relevant medical information...",...f,value:f.value||""})}),c(Ze,{})]})})]})}const jDe=e=>A.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 698.9 980.66",...e},A.createElement("g",{id:"ID_17","data-name":"ID 17"},A.createElement("path",{d:"M209,373.39c-3.57,2.53-15.52,11.69-18.35,27.51-3.87,21.69,11.85,42.1,27.21,48,.8.31,0,0,18,3.37,18.54,3.5,21.73,4.31,27.52,4,5.38-.31,13.3-.78,20.79-5.81,12.44-8.35,14.88-23.37,16.2-31.49,1.45-8.95,3-18.28-2.75-26.9-1.19-1.8-4.1-5.71-18-11.93s-29-12.95-49.53-11.31A81.45,81.45,0,0,0,209,373.39Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M254.25,394A20.4,20.4,0,0,0,246,404.06c-1.7,4.7-1,8.73-.46,11.92a33.92,33.92,0,0,0,8.25,16.51",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M235.45,391.68c2,.58,6.56,2.2,8.71,6.42,1.05,2,1,4.5,1,9.34-.09,6.56-.13,9.84-1.43,12.67a18.74,18.74,0,0,1-8.71,8.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_16","data-name":"ID 16"},A.createElement("path",{d:"M232,304.6c-13.55,7.4-17.19,22.76-17.43,23.85-.37,1.67-3.36,16.22,5.5,28.43,6.21,8.55,14.57,10.9,31.19,15.59,13.92,3.93,26.26,7.41,41.27,3.67,8.41-2.09,20.34-5.06,24.77-15.59,5.05-12-4-25.25-5.51-27.52-4.47-6.55-10.08-10.25-16.51-13.76C272.23,306.71,250.15,294.66,232,304.6Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M271.12,366.22l-6.42-13.76",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M278.91,319l-11.46,12.38",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M256.9,317.61A35.06,35.06,0,0,1,265.61,335c.88,5,1.92,11-1.37,15.59-1.76,2.45-4.06,3.54-7.34,8.26a38.82,38.82,0,0,0-2.75,4.58",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_15","data-name":"ID 15"},A.createElement("path",{d:"M266.76,235c19.82-.05,51.93,9.27,61.54,35.89,4.83,13.37,5,33.86-6.41,42.31-6.07,4.51-14.39,3.49-30.77,1.28-23.23-3.13-38.41-5.18-48.72-17.94a43,43,0,0,1-9-23.08c-.3-3.27-2-21.81,10.26-32.05C251.17,235.19,260.23,235,266.76,235Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M295.36,259.52a35,35,0,0,0-8.71,6,21.36,21.36,0,0,0-5.5,6.88c-.79,1.71-3.06,6.61-.92,11.92a14.12,14.12,0,0,0,7.34,7.34",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M275.64,253.1a6.23,6.23,0,0,0,.46,4.12c1.07,2,2.93,2.09,4.59,4.13a9.76,9.76,0,0,1,1.83,4.59c1.08,5.26.08,15.5-6.88,18.8a11.49,11.49,0,0,1-6.42.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_14","data-name":"ID 14"},A.createElement("path",{d:"M286.26,162.42c19.81,0,51.92,9.27,61.53,35.9,4.83,13.36,5,33.85-6.41,42.31-6.07,4.5-14.38,3.49-30.77,1.28-23.23-3.14-38.41-5.18-48.71-17.95a42.88,42.88,0,0,1-9-23.08c-.3-3.26-2-21.8,10.26-32C270.66,162.59,279.73,162.44,286.26,162.42Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M290.73,212.05l12.38-2.76",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M303.57,186.36a8.18,8.18,0,0,0-.92,5c.43,2.46,1.93,2.82,3,5.5,1.24,3.27.43,6.51,0,8.26-.88,3.52-2.13,3.86-2.49,6.42-.25,1.78-.05,4.53,2.49,8.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M317.78,196c-1,.47-2,.93-3.21,1.37a40.83,40.83,0,0,1-6.42,1.84",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_13","data-name":"ID 13"},A.createElement("path",{d:"M290.1,149.57c-6.52-17.36,17.07-40.24,24.76-47.69,6.51-6.32,14.95-14.28,24.76-12.84,3.14.45,7.85,2.08,16.51,12.84a110.08,110.08,0,0,1,22.93,51.36c2.19,14.85,3.9,26.47-3.67,34.85-4.54,5-12.4,10.16-19.26,8.26-5.72-1.59-8.54-7.38-10.09-10.09C332.18,161.94,297.12,168.3,290.1,149.57Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M317.08,138.09a20.24,20.24,0,0,1,1.38-9.63c4.37-10.6,16.62-13.06,17.88-13.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_12","data-name":"ID 12"},A.createElement("path",{d:"M385.64,69.87c13.07-5.52,19.61-8.28,25.64-7.69,9.48.93,18.52,7.29,23.08,15.39,1.37,2.43,3.34,6.79,1.28,32.05-2.07,25.49-5,32.77-6.41,35.9-3.77,8.51-7.58,17.09-15.38,19.23-9.16,2.5-18.3-5.38-26.93-12.82s-20.62-17.8-24.36-35.9c-.75-3.66-5.09-26.65,7.7-38.46C372.63,75.37,377,73.54,385.64,69.87Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M382.15,91.43a64.37,64.37,0,0,1,33.48-4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_11","data-name":"ID 11"},A.createElement("path",{d:"M458.72,49.36c7.44-2.23,22.93-5.54,43.59,0a29.66,29.66,0,0,1,11.58,4.82c8.37,5.86,11,14.38,11.93,17.43,1.27,4.32,1.73,9,.91,16.51C526.2,93,523.79,111.6,509.31,134c-9.71,15-15.62,17.46-18.35,18.34a27.34,27.34,0,0,1-15.59,0c-10.69-2.84-16.62-11.11-21.1-17.42-7.27-10.27-9.62-19.26-13.75-35.77-5-20-7.42-30.15-2.76-37.61C442.29,54.28,450.26,51.89,458.72,49.36Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M461.71,74.52a72.72,72.72,0,0,1,14.22-2.3A73.82,73.82,0,0,1,500.69,75",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_21","data-name":"ID 21"},A.createElement("path",{d:"M543.24,52.35c6.47-.31,14.19-.64,22.93-.92,20.38-.64,26.93-.4,34.86,1.84,7.38,2.08,15.13,4.38,18.34,11,2.27,4.68,1.1,9.11-.92,17.43-7.69,31.72-4.94,25.9-8.25,35.77-6.14,18.25-9.37,27.49-17.43,33a30.4,30.4,0,0,1-17.43,5.5c-9.35-.13-15.92-5-20.17-8.25-11-8.36-15.49-18.93-20.18-30.27-6.51-15.71-10.81-26.09-8-39.18C530,64.92,538.7,56.24,543.24,52.35Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M554.57,73.94a168.57,168.57,0,0,1,17.43,0,165.25,165.25,0,0,1,20.17,2.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_22","data-name":"ID 22"},A.createElement("path",{d:"M639.55,65.19a60.47,60.47,0,0,1,27.51,2.75c7.13,2.48,18.66,6.5,22.93,16.51,1.25,2.93,2.19,7.1-1.83,22.93-5.54,21.77-9.17,36.08-22,46.78-3.81,3.16-9.8,8-18.35,8.25a27.12,27.12,0,0,1-16.51-5.5c-14.42-10.54-14.61-31.73-14.67-38.52,0-4.91.55-1.41,3.67-25.69,1.12-8.73,1.52-12.93,4.58-17.42C629,69.19,635.41,66.47,639.55,65.19Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M641.74,84.51a79.65,79.65,0,0,1,13.76,1.38,80.7,80.7,0,0,1,21.55,7.33",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_23","data-name":"ID 23"},A.createElement("path",{d:"M735.85,98.21a94.57,94.57,0,0,1,13.76,14.67c5.33,7.05,11.93,15.8,13.76,28.44.89,6.17,2.13,14.73-2.75,21.09-4.68,6.1-10,3.73-22,9.17-13.94,6.34-12.92,12.37-27.52,19.26-8.13,3.84-17,8-24.77,4.59-11.59-5.1-12.53-24.47-12.84-30.27-1.05-20.32,8.6-35.3,18.35-50.44,7.67-11.92,12.27-14.92,15.59-16.51C719.13,92.59,731.45,96.55,735.85,98.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M727.26,118.63a56.8,56.8,0,0,1,8.71,4.58c4.93,3.17,7.92,5.09,9.63,8.72.65,1.36,2.25,5.37.46,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_24","data-name":"ID 24"},A.createElement("path",{d:"M778.44,178.21c7.22,5.63,7.75,15.37,8.26,24.77.41,7.47.72,21.63-7.34,28.43-2.25,1.9-3.7,2.12-11,4.59-17,5.74-17.24,7.26-26.6,10.08-14.44,4.35-21.77,6.67-31.19,4.59-4.23-.94-12.31-2.72-17.42-10.09-6-8.6-3.44-19.15-2.76-22,4.16-17.37,21-26.46,34.86-33.94,14.31-7.73,25.74-9.7,33.93-10.09C766.56,174.2,773,174,778.44,178.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M743.86,196.4c-5.12,4.17-6.05,7.43-6,9.63.11,2.71,1.74,3.06,2.75,7.34a18.6,18.6,0,0,1-.45,10.55,17.63,17.63,0,0,1-3.21,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M727.36,206a7.7,7.7,0,0,1,11,9.17",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M755.33,222.08l-14.13-3.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_25","data-name":"ID 25"},A.createElement("path",{d:"M798.71,239.77c7.21,5.62,7.74,15.37,8.26,24.76.4,7.47.72,21.64-7.34,28.43-2.26,1.9-3.7,2.12-11,4.59-17,5.74-17.23,7.27-26.6,10.09-14.43,4.35-21.76,6.67-31.18,4.58-4.23-.93-12.31-2.72-17.43-10.09-6-8.6-3.43-19.15-2.75-22,4.16-17.37,21-26.46,34.85-33.93,14.32-7.73,25.75-9.71,33.94-10.09C786.83,235.75,793.3,235.54,798.71,239.77Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M766.15,257.59a13.94,13.94,0,0,0-4.13,3.67,14.71,14.71,0,0,0-2.75,7.8c-.65,7.94,4.63,10.64,3.67,16.05-.4,2.24-2,5.45-7.8,8.71",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M745.51,262.18c6.41,1.89,9.67,4.92,11.46,7.34,5,6.69,2.9,14.35,8.26,17.88a10.94,10.94,0,0,0,7.34,1.38",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_26","data-name":"ID 26"},A.createElement("path",{d:"M821.64,308.55c8.76,6.88,7.09,21.59,6.42,27.52-.69,6.1-2.19,19.37-11.92,25.68-3.57,2.31-4.75,1.43-15.59,3.67-16.74,3.46-17.4,6.3-30.27,8.26-6.75,1-14.37,2.11-23.85,0-6.85-1.53-12.87-2.57-17.43-7.34-7-7.31-6.88-18.95-4.58-26.6,3.72-12.4,14.5-18.47,25.68-24.76,14.72-8.29,27.81-9.91,36.69-11a72.9,72.9,0,0,1,24.76.92C816.54,306,819.09,306.55,821.64,308.55Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M764.14,318c1.25.53,12.13,5.36,15.13,17.43A26.08,26.08,0,0,1,771,361.12",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M783.4,317.09a72.3,72.3,0,0,0-3.21,11c-.93,4.49-5,24.31,2.75,28.89a7.69,7.69,0,0,0,4.59.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_27","data-name":"ID 27"},A.createElement("path",{d:"M829,370c13.65,6.58,18.38,24.79,18.34,36.69a46,46,0,0,1-10.09,28.43c-5.67,6.9-11.9,10.05-17.42,12.84a71.66,71.66,0,0,1-42.19,7.34c-9.8-1.37-20.8-2.91-29.35-11.93-10.9-11.49-10.37-27.28-10.09-35.77.22-6.76.5-12.78,4.58-18.34,2.25-3.07,5.8-6.2,21.1-11a196.68,196.68,0,0,1,34.39-7.56C815.21,368.54,823.69,367.46,829,370Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M802.1,394.82a23.37,23.37,0,0,0-7.34,9.63c-.65,1.61-3.69,9.13,0,17a20.09,20.09,0,0,0,7.34,8.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M787,397.11a14.91,14.91,0,0,1,5.51,4.59c4.55,6.34,3.24,16.12-1.84,22a18.1,18.1,0,0,1-7.33,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_28","data-name":"ID 28"},A.createElement("path",{d:"M854,468.38c8.92,18.95,2.44,37.45.69,42-1.93,5-5.3,13.3-13.76,19.26-5.45,3.84-10.55,4.95-16.51,6.19-6.83,1.42-19.41,4-34.39-.69-7-2.19-19.86-6.26-28.21-19.26s-6.72-26.8-6.19-30.27c.75-4.83,1.91-13.4,8.95-20.63a31.66,31.66,0,0,1,18-9.13c2.76-.34,2.92.06,8.11.18,8.61.2,19.85.46,30.26-4.81,5.7-2.88,5.12-4.37,8.26-4.82C839,445,849.43,458.73,854,468.38Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M817.16,475.29a20.27,20.27,0,0,0-6,6A20,20,0,0,0,808,492.72a19.55,19.55,0,0,0,3.21,10.09,18.39,18.39,0,0,0,6,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M800.19,475.75a27,27,0,0,1,6,7.8c1.58,3.14,5.39,10.68,1.83,17.43-3.14,6-10.05,7.51-11.46,7.79",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_38","data-name":"ID 38"},A.createElement("path",{d:"M794.8,595.84c4.56.34,11.48.72,20,.69,12.33,0,13.91-.93,18.58,0,14.58,2.9,23.07,16.26,24.07,17.88,7.38,12,5.91,24,4.82,33-1.23,10.09-2.65,21.77-11.7,28.89-7.15,5.64-15.2,5.36-30.95,4.82-16.73-.58-28.5-4.81-37.84-8.26-10.11-3.73-15.23-5.69-18.57-10.31-5.77-8-4.25-18.12-2.75-28.21,1.32-8.83,2.53-17,8.94-24.76C778.14,598.94,790.51,596.49,794.8,595.84Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M822,625.1a17.84,17.84,0,0,0-7.34,6c-3.45,4.92-5.1,13-.92,18.8a15,15,0,0,0,8.26,5.5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M809.13,621.89a31.31,31.31,0,0,1,2.75,5c1.19,2.78,3.64,8.51,2.29,14.68-1.84,8.39-9.63,12.58-11,13.3",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_37","data-name":"ID 37"},A.createElement("path",{d:"M835.39,690.08c10.91,9.79,13.31,22.74,13.76,25.45,3.91,23.72-13.92,40.85-16.51,43.34-3.83,3.68-9.95,9.56-19.26,11-5,.77-7.51-.23-24.08-5.5-23.88-7.6-27-8.18-32.33-12.39-3.57-2.79-9.58-7.51-13.07-15.82-6.43-15.32.81-30.7,4.81-39.21,3.26-6.92,6-12.73,12.39-16.51,6.16-3.64,12.36-3.41,24.07-2.06C813.62,681.67,827.85,683.31,835.39,690.08Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M798.43,705.68a19.18,19.18,0,0,1,5.5,10.55c.22,1.37,1.43,9.09-4.13,14.67a16.46,16.46,0,0,1-11.46,4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M815.86,711.18a13.44,13.44,0,0,0-8.72,2.75c-5.58,4.55-4.93,13.19-4.58,17.89a35.23,35.23,0,0,0,2.29,10.09",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_36","data-name":"ID 36"},A.createElement("path",{d:"M820.26,802.9c-1,16.59-15.15,26.65-19.26,29.58s-11.42,8.13-21.33,8.25c-5.79.07-12.57-3.39-26.14-10.32-13.92-7.11-18.55-11.07-21.32-13.75-4.13-4-6.87-6.63-9-11-7.1-14.95,2.18-31.71,4.82-36.46,3.12-5.64,6.34-11.44,13.07-14.45,6.05-2.69,12-1.8,21,.51,25.88,6.63,38.82,9.94,47.79,20.82C813,779.77,821.08,789.58,820.26,802.9Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M788.67,791.63c-2,1.64-4.57,3.19-7.33,2.76-2.92-.46-4-2.81-5.51-2.3-2.17.73-2.45,6.31-1.83,10.09a19.93,19.93,0,0,0,4.13,9.17",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M771.25,782.46a28,28,0,0,1,3.66,6.42c1.59,3.91,3.7,9.09,1.38,12.84-2.15,3.48-7.57,4.91-13.3,3.67",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_35","data-name":"ID 35"},A.createElement("path",{d:"M797.89,857c2,11-4.28,22-11.38,28.12-14.45,12.53-34,6.58-38.21,5.29-15.81-4.81-23.86-16.68-28.32-23.25-5.36-7.91-11.45-16.88-8.73-27,2.85-10.65,13.5-15.53,15.08-16.23,11.65-5.12,23.18-.45,35.18,4.41C778.65,835.29,795.18,842,797.89,857Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M790,864.21a36.18,36.18,0,0,1-4.13,6,38.73,38.73,0,0,1-17.42,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_34","data-name":"ID 34"},A.createElement("path",{d:"M765.78,914.21c-.15,11.2-8.37,20.76-16.51,25.45-16.57,9.55-34.61,0-38.52-2.06-14.61-7.73-20.27-20.91-23.39-28.21-3.77-8.78-8-18.75-3.44-28.2,4.82-9.92,16.2-12.69,17.88-13.07,12.42-2.82,22.84,4,33.71,11C751,889.2,766,898.91,765.78,914.21Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M753,922.06a42.52,42.52,0,0,1-6.66,7A43.14,43.14,0,0,1,734.74,936",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_31","data-name":"ID 31"},A.createElement("path",{d:"M576.88,1024.34c-5.54.29-13.07.64-22,.92-14.61.46-16.4.23-18.34-.92-8.75-5.15-7.85-21.21-6.88-38.52,1.18-21.11,2.08-37.23,13.75-44.94.77-.51,10.05-6.44,19.27-3.21,5.07,1.78,7.76,5.51,11.92,11.46,1.39,2,7.91,11.51,12.38,27.06.49,1.69,1.7,9.84,4.13,26.14,1,7.07,1.54,10.68-.46,14.22C587.41,1022.28,580.15,1023.85,576.88,1024.34Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M551.53,1015.86l19.72-.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_41","data-name":"ID 41"},A.createElement("path",{d:"M514.51,948.22c5.39,12.13,7,24.44,8.72,37.6,2.06,16.22,3.1,24.47,0,29.81-1.13,1.94-4.15,7.15-10.55,9.63-2.8,1.09-4,.69-12.84.46-13.92-.36-15.73.48-22-.92-5.47-1.21-8.2-1.81-10.55-3.67-7.71-6-6.41-19.24-5-33,1.12-11.29,2.52-24,11-37.14,4.55-7.05,9-14,17.43-15.59a22.57,22.57,0,0,1,19.26,6A21.19,21.19,0,0,1,514.51,948.22Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M482,1014.25c3.07.71,6.44,1.35,10.09,1.84a110,110,0,0,0,11,.92",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_42","data-name":"ID 42"},A.createElement("path",{d:"M438.84,1015.63a127.59,127.59,0,0,1-24.76-3.21c-12-2.76-14.34-5.1-15.13-6-6.8-7.39-3.59-20.37-1.38-29.35,2.4-9.75,6.28-16.18,11.47-24.77,5.65-9.37,8.71-14.29,15.13-17.88,2.73-1.53,9.64-5.39,17.88-3.21,9.44,2.5,13.6,11,14.22,12.38,1.16,2.48,1.55,6.42,2.29,14.22a141.45,141.45,0,0,1,.92,16.51,87.13,87.13,0,0,1-1.83,19.26c-1.48,6.72-2.24,10.17-5,13.76C448.22,1013,442,1014.91,438.84,1015.63Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M414,998.25a29.24,29.24,0,0,0,20.17,4.59",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_45","data-name":"ID 45"},A.createElement("path",{d:"M259.15,886.31c-.87-.72-16.53-13.95-13.3-30.27,1.45-7.33,6-11.72,12.38-17.89,11.64-11.24,24.16-15,31.19-17,8.66-2.46,13.79-3.84,20.18-1.83,1.13.36,10.77,3.57,15.13,13.3,3,6.68,1.86,12.79.92,17.89-1.51,8.13-5,13.62-7.8,17.88a70.54,70.54,0,0,1-16.51,17.43c-6.21,4.71-9.32,7.06-14.22,8.25C273.17,897.5,260.76,887.63,259.15,886.31Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M278.17,880.63a32.49,32.49,0,0,0-10.54-6c-2.28-.75-3.79-.94-5.05-2.29-2.3-2.47-1.78-6.73-.92-10.09",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_46","data-name":"ID 46"},A.createElement("path",{d:"M220.63,765.24a104,104,0,0,1,18.8-8.72A95.14,95.14,0,0,1,272,751c11.72.23,17.58.35,22.93,4.59,10.31,8.16,9.5,24.24,9.17,30.72-.29,5.75-.43,15.89-7.34,24.77a40.08,40.08,0,0,1-7.33,6.87c-5.32,4.11-16.43,12.47-33,15.14-10.1,1.62-19.78,3.17-28.89-2.29-8.61-5.16-11.83-13.65-16-24.77-3.59-9.43-6.36-16.74-3.67-25.22C210.55,772.12,217.48,767.19,220.63,765.24Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M263.51,773a17.11,17.11,0,0,0-6.88,11c-.06.43-1.29,9.92,5,13.76a11.09,11.09,0,0,0,6.88,1.37",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M242.41,783.12a16.66,16.66,0,0,1,9.17,3.67,16.44,16.44,0,0,1,2.76,22.47",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_47","data-name":"ID 47"},A.createElement("path",{d:"M262.82,673.06c12.52,6.46,18.06,18.41,19.72,22.47a45.83,45.83,0,0,1,1.83,28.89c-1.47,5.59-4.29,18.65-14.21,22.93a17.6,17.6,0,0,1-6.88,1.38c-21.73.49-29,15.15-45.86,14.21a35.53,35.53,0,0,1-17.89-6.42c-15.44-10.41-17.91-29.07-18.8-35.77-1.09-8.19-2.48-18.74,3.67-28,1.72-2.59,5.91-7.88,24.76-14.22C233.41,670.41,248.11,665.47,262.82,673.06Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M237,698.48a29.53,29.53,0,0,0-6.16,10.09c-1.39,3.9-3.25,9.1-.92,11.93,2.61,3.16,7.94.29,12.84,4.12a12,12,0,0,1,3.67,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M220.25,705.36a22.28,22.28,0,0,1,6,3.67c4.92,4.25,9.86,12.4,7.34,19.72a13.39,13.39,0,0,1-3.21,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_48","data-name":"ID 48"},A.createElement("path",{d:"M196.32,591.43a232.08,232.08,0,0,1,24.31-.46c11.62.38,17.53.63,22.93,3.21,10.85,5.2,15.85,15.2,17.88,19.26,4.72,9.42,5,17.8,5.05,22.93.13,7.83.29,16.64-5.51,23.39-3,3.48-6.19,4.82-12.38,7.34-14.56,5.91-19.36,2.62-37.14,7.79-7.81,2.27-9.59,3.69-14.22,3.21-8.67-.9-14.63-7.14-17.89-10.55a50.16,50.16,0,0,1-11.92-22.47c-1.6-6.53-6-24.31,5-39C180.34,595.62,191.8,592.42,196.32,591.43Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M221.38,614.27a35.13,35.13,0,0,0-5,10.09c-1.75,5.64-4.07,12-.91,17.42.67,1.16,3,4.69,9.17,6.42",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M207.16,616.56a40.13,40.13,0,0,1,4.59,6c2.69,4.28,5.47,8.7,5,13.76-.63,7.5-7.9,12.07-9.17,12.84",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_18","data-name":"ID 18"},A.createElement("path",{d:"M229.21,453.18c18.65,1.39,28.18,2.2,38.53,8.26,5.7,3.34,13.13,7.69,17,16.51,6.15,14.14-1.68,28.91-4.59,34.39-2,3.71-8.35,15.37-22,22-14.83,7.21-29.06,4.07-45.4.46-11.09-2.45-16.63-3.68-21.1-7.8-12.74-11.75-9.7-33.58-7.8-47.24,1.66-11.85,2.53-18.09,7.8-22.93C198,451,208.49,451.65,229.21,453.18Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M242.79,478.45c-1.57.69-7.71,3.63-9.17,9.63-1,4.12.69,7.64,3.21,12.84a47.29,47.29,0,0,0,7.79,11.46",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M224.44,478.45A26,26,0,0,1,230,484c1,1.37,8.49,11.55,4.12,20.18-.63,1.26-2.6,4.61-7.79,6.88",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_44","data-name":"ID 44"},A.createElement("path",{d:"M299.78,936.84c-.87-.71-16.54-13.94-13.3-30.26,1.45-7.33,6-11.73,12.38-17.89,11.63-11.24,24.16-15,31.18-17,8.67-2.46,13.8-3.84,20.18-1.83,1.14.36,10.78,3.57,15.14,13.3,3,6.68,1.86,12.79.91,17.88-1.5,8.14-5,13.62-7.79,17.89A70.54,70.54,0,0,1,342,936.39c-6.22,4.7-9.32,7.06-14.22,8.25C313.8,948,301.39,938.17,299.78,936.84Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M319.31,932.09a35.51,35.51,0,0,1-5.5-4.73,38.75,38.75,0,0,1-9.58-18.53",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_43","data-name":"ID 43"},A.createElement("path",{d:"M369.6,995c-2,0-24.09-1-32.56-17.42-5.16-10-2.45-20.35-.92-26.14,4.47-17,16.77-26,30.72-36.23,5.59-4.1,10.55-6.91,17-7.34,2.36-.16,10.27-.68,15.59,4.59,3.91,3.85,4.39,8.8,5.05,15.59.51,5.24.1,8.71-1.38,20.64-1.53,12.36-2.3,18.56-2.55,19.45-2,7.2-4.85,17.56-14,23.2C380.19,995.27,373.67,995.1,369.6,995Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M377.68,978.48a35.56,35.56,0,0,1-7.25.17,38.69,38.69,0,0,1-19.51-7.36",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_33","data-name":"ID 33"},A.createElement("path",{d:"M714.92,979.17a56.7,56.7,0,0,1-15.82,9.63c-6,2.42-21,8.4-32.33,2.07-8.18-4.56-10.5-13.82-15.14-32.33-2.89-11.56-5.73-23.51-1.37-37.15,1.94-6.07,4-12.5,9.63-15.14,9.39-4.38,21.84,5,31.64,12.39a82.83,82.83,0,0,1,22.7,26.14c4.69,8.52,9.3,17.2,6.19,26.14A20.67,20.67,0,0,1,714.92,979.17Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M706.18,967.57a42.81,42.81,0,0,1-19,12.91",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_32","data-name":"ID 32"},A.createElement("path",{d:"M652.32,1007.38c-3.43,1.25-8.65,3-15.13,4.81-13.83,3.79-20.77,5.34-26.83,3.44-8.8-2.76-13.5-10.42-15.13-13.07-2.31-3.74-4.06-8.85-2.07-35.08,1.94-25.5,4.31-29.14,6.88-31.65,5.16-5,14.7-9,23.39-5.5,2.9,1.17,5.13,3,10.32,9.63,6.58,8.44,11.3,14.49,16.51,25.45,7.06,14.88,11.51,24.24,7.79,33.71A22.67,22.67,0,0,1,652.32,1007.38Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M638.35,997.28a42.05,42.05,0,0,1-8.64,4.28,43.14,43.14,0,0,1-13.26,2.53",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_54","data-name":"ID 54"},A.createElement("path",{d:"M343.25,453.41c-2.43,1.73-10.58,8-12.51,18.76-2.64,14.79,8.08,28.71,18.56,32.74.55.21,0,0,12.3,2.29,12.65,2.39,14.82,2.94,18.77,2.71,3.67-.21,9.07-.53,14.18-4C403,500.26,404.7,490,405.6,484.48c1-6.11,2-12.47-1.88-18.35-.81-1.23-2.8-3.89-12.3-8.13s-19.8-8.84-33.78-7.72A55.63,55.63,0,0,0,343.25,453.41Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M374.09,467.44a14,14,0,0,0-5.63,6.88,14.79,14.79,0,0,0-.31,8.14,23.13,23.13,0,0,0,5.63,11.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M361.27,465.88c1.37.4,4.47,1.51,5.94,4.38.71,1.39.71,3.07.66,6.37-.06,4.47-.09,6.71-1,8.64a12.84,12.84,0,0,1-5.94,5.94",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_55","data-name":"ID 55"},A.createElement("path",{d:"M357,507.83c12.71.94,19.21,1.49,26.27,5.63,3.89,2.27,8.95,5.24,11.57,11.26,4.19,9.64-1.15,19.71-3.13,23.45a34.27,34.27,0,0,1-15,15c-10.11,4.92-19.82,2.78-31,.32-7.56-1.67-11.34-2.51-14.39-5.32-8.69-8-6.62-22.9-5.32-32.21,1.13-8.09,1.72-12.34,5.32-15.64C335.72,506.34,342.88,506.78,357,507.83Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M366.27,525.06c-1.06.47-5.25,2.47-6.25,6.56-.69,2.82.47,5.21,2.19,8.76a32.45,32.45,0,0,0,5.31,7.82",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M353.76,525.06a17.39,17.39,0,0,1,3.75,3.75c.69.93,5.79,7.87,2.82,13.76a10.2,10.2,0,0,1-5.32,4.69",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_53","data-name":"ID 53"},A.createElement("path",{d:"M365.84,441.28c-4.45-11.84,11.64-27.44,16.89-32.52,4.44-4.31,10.19-9.74,16.88-8.76,2.14.31,5.36,1.42,11.26,8.76a75,75,0,0,1,15.64,35c1.49,10.13,2.66,18-2.5,23.77-3.1,3.43-8.46,6.92-13.14,5.63-3.9-1.09-5.82-5-6.88-6.89C394.54,449.72,370.63,454.06,365.84,441.28Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M384.24,433.46a13.89,13.89,0,0,1,.94-6.57c3-7.23,11.34-8.91,12.2-9.07",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_52","data-name":"ID 52"},A.createElement("path",{d:"M430.16,376.92c8.91-3.77,13.37-5.66,17.48-5.25a21.24,21.24,0,0,1,15.74,10.49c.94,1.66,2.28,4.63.88,21.86-1.42,17.38-3.43,22.35-4.37,24.48-2.58,5.81-5.18,11.66-10.5,13.11-6.24,1.71-12.48-3.66-18.36-8.74S417,420.74,414.42,408.39c-.51-2.49-3.47-18.18,5.25-26.23C421.29,380.67,424.24,379.42,430.16,376.92Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M427.78,388.61a44.76,44.76,0,0,1,15-3.44,43.72,43.72,0,0,1,7.82.32",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_51","data-name":"ID 51"},A.createElement("path",{d:"M480,362.93c5.08-1.52,15.65-3.78,29.73,0a20.11,20.11,0,0,1,7.9,3.28,21.58,21.58,0,0,1,8.13,11.89c.87,2.94,1.18,6.11.63,11.26-.36,3.36-2,16-11.89,31.27-6.62,10.23-10.64,11.91-12.51,12.51a18.65,18.65,0,0,1-10.63,0c-7.29-1.94-11.33-7.57-14.39-11.88-5-7-6.56-13.13-9.38-24.4-3.41-13.63-5.05-20.55-1.88-25.64S474.23,364.65,480,362.93Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M485,375.08a49,49,0,0,1,9.69-1.56,50.15,50.15,0,0,1,16.89,1.87",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_61","data-name":"ID 61"},A.createElement("path",{d:"M537.64,365c4.41-.21,9.68-.43,15.63-.62,13.9-.44,18.37-.28,23.77,1.25,5,1.42,10.32,3,12.51,7.5,1.55,3.2.76,6.21-.62,11.89-5.25,21.63-3.37,17.66-5.63,24.39-4.18,12.45-6.39,18.75-11.89,22.52a20.69,20.69,0,0,1-11.88,3.75c-6.38-.09-10.86-3.41-13.76-5.63-7.47-5.7-10.56-12.9-13.76-20.64-4.44-10.71-7.37-17.79-5.43-26.71C528.57,373.53,534.54,367.62,537.64,365Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M548.36,374.69a112.07,112.07,0,0,1,11.89,0A114.47,114.47,0,0,1,574,376.25",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_62","data-name":"ID 62"},A.createElement("path",{d:"M603.32,373.72a41.27,41.27,0,0,1,18.76,1.88c4.86,1.69,12.73,4.43,15.64,11.26.85,2,1.49,4.84-1.25,15.63-3.78,14.85-6.26,24.61-15,31.9-2.59,2.16-6.67,5.47-12.51,5.63a18.52,18.52,0,0,1-11.25-3.75c-9.84-7.19-10-21.64-10-26.27,0-3.35.37-1,2.5-17.52.76-6,1-8.82,3.13-11.88A18.47,18.47,0,0,1,603.32,373.72Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M604.81,383.9a54.48,54.48,0,0,1,24.08,5.94",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_64","data-name":"ID 64"},A.createElement("path",{d:"M696.66,447.68C706.45,451,711.14,463,712.09,471a31.38,31.38,0,0,1-4.49,20.08c-3.28,5.14-7.24,7.78-10.75,10.12a48.79,48.79,0,0,1-28,8.43c-6.75-.12-14.32-.26-20.85-5.66-8.32-6.89-9.26-17.63-9.76-23.39-.41-4.6-.71-8.7,1.59-12.8,1.28-2.26,3.42-4.67,13.38-9.18a134.51,134.51,0,0,1,22.67-7.95C687.22,447.81,692.87,446.38,696.66,447.68Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M680.5,466.68a16,16,0,0,0-4.18,7.12c-.31,1.15-1.74,6.49,1.4,11.49a13.69,13.69,0,0,0,5.64,5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M670.44,469.47a10.18,10.18,0,0,1,4.11,2.66c3.6,3.92,3.51,10.65.56,15.05a12.5,12.5,0,0,1-4.55,4",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_65","data-name":"ID 65"},A.createElement("path",{d:"M721.66,512.22c7.59,12.1,4.72,25.16,3.91,28.36-.9,3.52-2.5,9.44-7.74,14.16-3.37,3-6.74,4.22-10.67,5.55-4.5,1.52-12.81,4.32-23.34,2.36-4.89-.92-14-2.61-20.67-10.73a30.34,30.34,0,0,1-6.68-20c.11-3.33.19-9.24,4.36-14.71a21.7,21.7,0,0,1,11.46-7.66c1.84-.45,2-.19,5.51-.54,5.84-.57,13.47-1.31,20.09-5.74,3.62-2.42,3.1-3.38,5.2-3.94C709.61,497.6,717.79,506.07,721.66,512.22Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M697.3,516.93a13.66,13.66,0,0,0-4.78,12.55,13.35,13.35,0,0,0,3,6.57,12.59,12.59,0,0,0,4.49,3.23",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M685.85,518.63a18.65,18.65,0,0,1,4.68,4.79c1.32,2,4.52,6.79,2.67,11.65-1.64,4.31-6.2,5.91-7.12,6.22",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_63","data-name":"ID 63"},A.createElement("path",{d:"M673.15,398a65.26,65.26,0,0,1,8,11.15c3,5.24,6.66,11.74,6.77,20.45.06,4.25.13,10.15-3.73,14-3.71,3.71-7.12,1.63-15.7,4.24-10,3-9.84,7.22-20.32,10.58-5.84,1.87-12.19,3.9-17.15.89-7.39-4.48-6.3-17.66-6-21.61,1.09-13.83,9-23.1,16.89-32.47,6.25-7.38,9.63-9,12-9.78C662.34,392.75,670.32,396.52,673.15,398Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M666.24,410.38a38.69,38.69,0,0,1,5.48,3.87c3,2.58,4.9,4.14,5.74,6.75a10.86,10.86,0,0,1-.71,7.79",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_71","data-name":"ID 71"},A.createElement("path",{d:"M559.58,786.61c-3.78.2-8.92.44-15,.63-10,.31-11.19.15-12.51-.63-6-3.51-5.36-14.46-4.7-26.27.81-14.4,1.43-25.39,9.39-30.65.52-.34,6.85-4.39,13.13-2.19,3.46,1.22,5.29,3.76,8.13,7.82a63,63,0,0,1,8.45,18.45c.33,1.16,1.16,6.71,2.81,17.83.72,4.82,1.05,7.28-.31,9.7C566.76,785.2,561.8,786.28,559.58,786.61Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M542.29,780.83l13.45-.32",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_81","data-name":"ID 81"},A.createElement("path",{d:"M517,734.7c3.68,8.27,4.8,16.66,6,25.64,1.4,11.06,2.11,16.69,0,20.33a14.42,14.42,0,0,1-7.2,6.57c-1.91.74-2.74.47-8.75.31-9.49-.24-10.73.33-15-.62-3.72-.83-5.58-1.24-7.19-2.51-5.25-4.12-4.37-13.12-3.44-22.51.76-7.7,1.71-16.37,7.51-25.34,3.1-4.8,6.16-9.55,11.88-10.63A15.42,15.42,0,0,1,513.92,730,14.53,14.53,0,0,1,517,734.7Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M494.9,779.73c2.09.48,4.39.92,6.88,1.25,2.7.36,5.21.55,7.5.63",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_82","data-name":"ID 82"},A.createElement("path",{d:"M465.44,780.67a86.77,86.77,0,0,1-16.89-2.19c-8.17-1.88-9.78-3.48-10.32-4.06-4.63-5-2.45-13.9-.94-20,1.64-6.65,4.29-11,7.82-16.89,3.86-6.39,5.94-9.74,10.32-12.2,1.87-1,6.57-3.67,12.2-2.19,6.43,1.71,9.27,7.54,9.69,8.45.79,1.69,1.06,4.38,1.57,9.69a99.45,99.45,0,0,1,.62,11.26,59.38,59.38,0,0,1-1.25,13.14c-1,4.58-1.53,6.93-3.44,9.38A16.52,16.52,0,0,1,465.44,780.67Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M448.47,768.82A19.9,19.9,0,0,0,462.23,772",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_83","data-name":"ID 83"},A.createElement("path",{d:"M418.21,766.6c-1.38,0-16.43-.65-22.2-11.89-3.52-6.84-1.67-13.87-.63-17.82,3.05-11.58,11.44-17.73,21-24.71,3.81-2.8,7.19-4.71,11.57-5,1.61-.1,7-.46,10.63,3.13,2.66,2.63,3,6,3.44,10.64.35,3.57.07,5.93-.94,14.07-1,8.43-1.57,12.66-1.74,13.27-1.35,4.91-3.3,12-9.51,15.81C425.44,766.78,421,766.67,418.21,766.6Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M423.73,755.34a24.81,24.81,0,0,1-4.94.11,26.43,26.43,0,0,1-13.32-5",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_72","data-name":"ID 72"},A.createElement("path",{d:"M611,775c-2.34.86-5.9,2.08-10.32,3.28-9.43,2.59-14.16,3.65-18.29,2.35-6-1.88-9.21-7.1-10.32-8.91-1.58-2.55-2.77-6-1.41-23.93,1.32-17.38,2.94-19.87,4.69-21.58,3.52-3.43,10-6.14,16-3.75,2,.8,3.5,2,7,6.57,4.49,5.75,7.7,9.87,11.26,17.35,4.82,10.15,7.85,16.53,5.31,23A15.32,15.32,0,0,1,611,775Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M601.5,768.16a29.16,29.16,0,0,1-14.94,4.64",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_75","data-name":"ID 75"},A.createElement("path",{d:"M690.21,615.19c2.91,1.12,7.35,2.74,12.89,4.38,8,2.4,9.26,2.14,12.12,3.67,8.95,4.77,11.86,15.17,12.19,16.42,2.46,9.27-.88,16.85-3.37,22.51-2.78,6.34-6,13.69-13.33,16.55-5.78,2.27-11,.5-21.16-3-10.8-3.68-17.65-8.76-23.07-12.85-5.86-4.43-8.82-6.72-10.09-10.4-2.19-6.35.8-12.66,3.77-19,2.6-5.51,5-10.6,10.72-14.41C678.72,613.93,687.28,614.76,690.21,615.19Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M702.17,639.65a12.25,12.25,0,0,0-6,2.44c-3.23,2.53-5.89,7.45-4.31,12.1a10.25,10.25,0,0,0,4.3,5.22",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M694.42,635a19.94,19.94,0,0,1,.8,3.84c.23,2,.71,6.27-1.39,10-2.86,5.12-8.77,6.32-9.81,6.51",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_74","data-name":"ID 74"},A.createElement("path",{d:"M698.12,684.72a30.75,30.75,0,0,1,4,19.33c-2.13,16.25-17.14,23.92-19.32,25-3.23,1.65-8.38,4.28-14.75,3.39-3.39-.47-4.85-1.63-14.63-8.34-14.1-9.67-16-10.66-18.67-14.46-1.77-2.53-4.77-6.79-5.41-12.91-1.17-11.26,6.59-19.88,10.88-24.64,3.49-3.88,6.42-7.13,11.34-8.34,4.74-1.16,8.74.21,16.12,3.4C685.57,674.94,694.53,678.81,698.12,684.72Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M670.91,687.61a13.07,13.07,0,0,1,1.52,8c-.13.94-.87,6.22-5.59,8.77a11.21,11.21,0,0,1-8.39.73",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M681.2,694.64a9.14,9.14,0,0,0-6.23.08c-4.54,1.86-5.82,7.64-6.52,10.77a24.24,24.24,0,0,0-.49,7",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_84","data-name":"ID 84"},A.createElement("path",{d:"M393.1,667.59c9.56.93,16.09,7.1,18.16,9.26a31.31,31.31,0,0,1,8.45,17.84c.48,3.91,2,12.9-3.22,18.12a12.1,12.1,0,0,1-4,2.61C398.83,721.21,397.91,732.34,387,736a24.09,24.09,0,0,1-12.95.44c-12.41-2.7-18.68-13.89-20.94-17.92-2.75-4.92-6.3-11.25-4.73-18.65.44-2.07,1.76-6.48,12.11-15.25C373.8,673.33,381.86,666.49,393.1,667.59Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M383.12,690.22a20,20,0,0,0-1.35,7.95c.1,2.82.23,6.58,2.42,7.78,2.45,1.35,5.11-1.81,9.18-.62a8.36,8.36,0,0,1,3.6,2.27",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M374.27,698.79a15.47,15.47,0,0,1,4.71.82c4.18,1.45,9.37,5.37,9.62,10.65a9.14,9.14,0,0,1-.76,4",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_85","data-name":"ID 85"},A.createElement("path",{d:"M330.37,632.64a156.5,156.5,0,0,1,15.29-6.42c7.45-2.69,11.27-4,15.33-3.75,8.19.55,13.88,5.63,16.2,7.69a34.52,34.52,0,0,1,9,13.26c2.06,4.92,4.38,10.47,2.41,16.2-1,3-2.71,4.62-6,7.78-7.73,7.42-11.6,6.54-21.57,14.31-4.37,3.4-5.14,4.75-8.19,5.62-5.72,1.61-11.07-.84-14-2.18a34.12,34.12,0,0,1-13.22-11.23c-2.66-3.73-9.91-13.9-6.64-26C321.31,639.33,327.76,634.41,330.37,632.64Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M352,640.79a24.06,24.06,0,0,0-.65,7.67c.31,4,.46,8.65,3.81,11.27.72.56,3.09,2.21,7.43,1.75",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M343.58,645.83a27.77,27.77,0,0,1,4.41,2.62c2.79,2,5.66,4.13,6.67,7.45,1.49,4.9-2,9.64-2.58,10.45",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10})),A.createElement("g",{id:"ID_73","data-name":"ID 73"},A.createElement("path",{d:"M653.72,755.81a38.58,38.58,0,0,1-10.79,6.56c-4.12,1.65-14.3,5.73-22,1.41-5.58-3.11-7.16-9.42-10.32-22-2-7.88-3.91-16-.94-25.33,1.32-4.14,2.72-8.53,6.57-10.32,6.4-3,14.89,3.41,21.57,8.44a56.62,56.62,0,0,1,15.49,17.83c3.19,5.81,6.34,11.73,4.22,17.83A14.22,14.22,0,0,1,653.72,755.81Z",transform:"translate(-164.72 -45.83)",fill:"#fff",stroke:"#231f20",strokeMiterlimit:10}),A.createElement("path",{d:"M648.06,750.66a29.16,29.16,0,0,1-14.94,4.64",transform:"translate(-164.72 -45.83)",fill:"none",stroke:"#231f20",strokeMiterlimit:10}))),Nz=e=>({11:"UR Central Incisor",12:"UR Lateral Incisor",13:"UR Canine",14:"UR 1st Premolar",15:"UR 2nd Premolar",16:"UR 1st Molar",17:"UR 2nd Molar",18:"UR 3rd Molar",21:"UL Central Incisor",22:"UL Lateral Incisor",23:"UL Canine",24:"UL 1st Premolar",25:"UL 2nd Premolar",26:"UL 1st Molar",27:"UL 2nd Molar",28:"UL 3rd Molar",31:"LR Central Incisor",32:"LR Lateral Incisor",33:"LR Canine",34:"LR 1st Premolar",35:"LR 2nd Premolar",36:"LR 1st Molar",37:"LR 2nd Molar",38:"LR 3rd Molar",41:"LL Central Incisor",42:"LL Lateral Incisor",43:"LL Canine",44:"LL 1st Premolar",45:"LL 2nd Premolar",46:"LL 1st Molar",47:"LL 2nd Molar",48:"LL 3rd Molar",51:"UR Primary Central Incisor",52:"UR Primary Lateral Incisor",53:"UR Primary Canine",54:"UR Primary 1st Molar",55:"UR Primary 2nd Molar",61:"UL Primary Central Incisor",62:"UL Primary Lateral Incisor",63:"UL Primary Canine",64:"UL Primary 1st Molar",65:"UL Primary 2nd Molar",71:"LR Primary Central Incisor",72:"LR Primary Lateral Incisor",73:"LR Primary Canine",74:"LR Primary 1st Molar",75:"LR Primary 2nd Molar",81:"LL Primary Central Incisor",82:"LL Primary Lateral Incisor",83:"LL Primary Canine",84:"LL Primary 1st Molar",85:"LL Primary 2nd Molar"})[e]||`Tooth ${e}`,u2={healthy:"#10B981",decayed:"#DC2626",filled:"#6B7280",missing:"transparent","treatment-planned":"#F97316","root-canal":"#8B5CF6",extraction:"#EF4444",crown:"#F59E0B","has-treatment-before":"#3B82F6","recommended-to-be-treated":"#FBBF24",selected:"#BFDBFE"},$De=e=>{const t={},r=["healthy"],n=i=>{var s;const o=(s=e==null?void 0:e[i])==null?void 0:s.conditions;return Array.isArray(o)&&o.length>0?o:r},a=i=>{var o;return((o=e==null?void 0:e[i])==null?void 0:o.isSelected)===!0};for(let i=11;i<=18;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=21;i<=28;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=31;i<=38;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=41;i<=48;i++)t[i]={id:i,conditions:n(i),isPrimary:!1,isSelected:a(i)};for(let i=51;i<=55;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};for(let i=61;i<=65;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};for(let i=71;i<=75;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};for(let i=81;i<=85;i++)t[i]={id:i,conditions:n(i),isPrimary:!0,isSelected:a(i)};return t},Ez=[{label:"Healthy",value:"healthy"},{label:"Decayed",value:"decayed"},{label:"Filled",value:"filled"},{label:"Missing",value:"missing"},{label:"Planned Tx",value:"treatment-planned"},{label:"Root Canal",value:"root-canal"},{label:"Extraction",value:"extraction"},{label:"Crown",value:"crown"},{label:"Prior Tx",value:"has-treatment-before"},{label:"Recommend Tx",value:"recommended-to-be-treated"}],C3=A.forwardRef(({initialState:e,onToothSelect:t,readOnly:r=!1},n)=>{console.log("DentalChart: Render triggered. Initial prop value:",JSON.stringify(e));const[a,i]=A.useState({});console.log("DentalChart: Initializing state with {}. Current teethData:",JSON.stringify(a));const[o,s]=A.useState(null),[l,u]=A.useState(null),[d,f]=A.useState(new Set),[h,m]=A.useState(null),[x,g]=A.useState(null),y=A.useRef(null);A.useEffect(()=>{console.log("DentalChart: useEffect for initialState triggered. Prop value:",JSON.stringify(e));const I=$De(e);console.log("DentalChart: Regenerated initialTeeth based on prop:",JSON.stringify(I)),i(I),console.log("DentalChart: setTeethData called with regenerated state."),Object.entries(I).filter(([,L])=>L.isSelected).map(([L])=>parseInt(L,10))},[e]),A.useImperativeHandle(n,()=>({getTeethData:()=>a}));const _=A.useCallback(I=>{let L=I;for(;L&&L.tagName!=="svg";){if(L.tagName==="g"&&L.id.startsWith("ID_")){const U=L.id.substring(3),P=parseInt(U,10);if(!isNaN(P)&&a[P])return L}L=L.parentNode}return null},[a]),b=A.useCallback(I=>{const L=_(I);if(L){const U=L.id.substring(3);return parseInt(U,10)}return null},[_]),S=A.useCallback(I=>{var j;if(r)return;const L=a[I];if(!L)return;const U=!L.isSelected,P=Object.entries(a).filter(([V,X])=>parseInt(V,10)===I?U:X.isSelected).map(([V])=>parseInt(V,10));t==null||t(P);const M={...a,[I]:{...L,isSelected:U}};if(i(M),U){const V=(j=y.current)==null?void 0:j.querySelector(`#ID_${I}`);if(V&&y.current){const X=y.current.getBoundingClientRect(),te=V.getBoundingClientRect(),z=te.top-X.top+te.height/2+y.current.scrollTop,G=te.left-X.left+te.width/2+y.current.scrollLeft,q={id:I,name:Nz(I),conditions:M[I].conditions,top:z,left:G};m(q),g({top:z,left:G})}else m(null),g(null)}else m(null),l!==I&&g(null);f(V=>{const X=new Set(V);return X.delete(I),X})},[r,t,a,l]),C=A.useCallback(I=>{if(r)return;s(I);const L=new Set;let U=!1,P;if(i(M=>{const j={...M};if(Object.keys(j).forEach(X=>{const te=parseInt(X,10),z=j[te];if(z.isSelected){let G=[...z.conditions],q=!1;if(I==="healthy")G.length===1&&G[0]==="healthy"||(G=["healthy"],q=!0);else if(I==="missing"){if(!(G.length===1&&G[0]==="missing")){G=["missing"],q=!0,j[te]={...z,conditions:G,isSelected:!1},L.add(te);return}}else{const Y=G.indexOf(I);if(Y>-1)G.splice(Y,1),G.length===0&&G.push("healthy"),q=!0;else{const Z=G.indexOf("healthy");Z>-1&&G.splice(Z,1),G.push(I),q=!0}}q?(j[te]={...z,conditions:G,isSelected:!0},L.add(te),h&&te===h.id&&JSON.stringify(G)!==JSON.stringify(h.conditions)&&(U=!0,P=G)):z.isSelected&&L.add(te)}}),U&&h){const X=P??h.conditions;m(te=>te?{...te,conditions:X}:null)}const V=Object.values(j).filter(X=>X.isSelected).map(X=>X.id);return t==null||t(V),j}),U&&h){const M=P??h.conditions;m(j=>j?{...j,conditions:M}:null)}f(M=>new Set([...M,...L]))},[r,t,a,h]),E=A.useCallback(I=>{if(r)return;const L=b(I.target);L!==null&&S(L)},[r,S,b]),O=A.useCallback(I=>{if(r)return;const L=_(I.target);let U=null;if(L){const P=L.dataset.toothId;if(P){const M=parseInt(P,10);if(U=M,a[M]&&y.current){const V=y.current.getBoundingClientRect(),X=L.getBoundingClientRect(),te=X.top-V.top+X.height/2+y.current.scrollTop,z=X.left-V.left+X.width/2+y.current.scrollLeft;g({top:te,left:z})}else(!h||h.id!==M)&&g(null)}}u(U),!U&&!h&&g(null)},[r,_,a,h]),T=A.useCallback(()=>{u(null),h||g(null)},[h]);return A.useEffect(()=>{var L;const I=(L=y.current)==null?void 0:L.querySelector("svg");I&&(I.querySelectorAll(".condition-indicator-dot").forEach(U=>U.remove()),I.querySelectorAll(".tooth-number-text").forEach(U=>U.remove()),Object.entries(a).forEach(([U,P])=>{const M=parseInt(U,10),j=I.querySelector(`#ID_${M}`);if(!j)return;j.dataset.toothId=U,j.classList.remove("tooth-selected","tooth-missing","tooth-hovered","tooth-selection-processed");const V=j.querySelector("path:first-of-type");V&&V.setAttribute("fill","var(--tooth-default-fill, #fff)");let X=null;const te=P.conditions,z=["missing","extraction","root-canal","crown","filled","decayed","treatment-planned","recommended-to-be-treated","has-treatment-before"];for(const q of z)if(te.includes(q)){X=q;break}te.length===1&&te[0]==="healthy"&&(X=null),P.isSelected&&!r&&(d.has(M)?j.classList.add("tooth-selection-processed"):j.classList.add("tooth-selected")),!r&&M===l&&j.classList.add("tooth-hovered"),(X==="missing"||te.includes("missing"))&&(j.classList.add("tooth-missing"),X="missing");const G=j.querySelector("path:first-of-type");if(G){let q="var(--tooth-default-fill, #fff)";X&&X!=="missing"&&X!=="healthy"?q=u2[X]||"var(--tooth-default-fill, #fff)":(X==="healthy"||!X)&&(q="var(--tooth-default-fill, #fff)"),X&&X!=="missing"?(q=u2[X]||"var(--tooth-default-fill, #fff)",G.setAttribute("fill",q)):X==="missing"?G.setAttribute("fill","transparent"):G.setAttribute("fill","var(--tooth-default-fill, #fff)")}}),r?I.classList.add("opacity-75","cursor-default"):(I.classList.remove("opacity-75","cursor-default"),I.classList.add("cursor-pointer")))},[a,r,d,l]),c(Yb,{delayDuration:100,children:w("div",{className:"dental-chart-dialog-content relative",children:[" ",w("div",{className:"flex flex-row",children:[" ",!r&&w("div",{className:"w-[200px] flex-shrink-0 pr-2 self-stretch",children:[" ",c("label",{className:"block text-sm font-medium text-gray-700 mb-2 sticky top-0 bg-background z-10",children:"Select Conditions to Apply:"})," ",c("div",{className:"flex flex-wrap gap-2",children:Ez.map(I=>{const L=!Object.values(a).some(P=>P.isSelected),U=o===I.value;return w(Le,{variant:"outline",size:"sm",disabled:L,onClick:()=>C(I.value),className:Rt("text-xs h-8 px-2.5 border rounded-md flex items-center gap-1.5 transition-colors",U?"bg-blue-600 text-white hover:bg-blue-700 border-blue-600":"text-gray-700 bg-white hover:bg-gray-100",L?"opacity-50 cursor-not-allowed":""),children:[c("span",{className:"w-2.5 h-2.5 inline-block rounded-sm border border-gray-400",style:{backgroundColor:u2[I.value]}}),I.label]},I.value)})})]}),c("div",{className:Rt("relative w-full flex-grow pt-2 pb-2 overflow-y-auto max-h-[350px]",r?"cursor-default":"cursor-pointer"),ref:y,onClick:E,onPointerMove:O,onPointerLeave:T,children:c(jDe,{width:"100%",height:"100%",viewBox:"0 0 698.9 980.66"})}),w(Xb,{open:x!==null,children:[c(Zb,{asChild:!0,children:c("span",{style:{position:"absolute",top:(x==null?void 0:x.top)??0,left:(x==null?void 0:x.left)??0,pointerEvents:"none",width:1,height:1}})}),c(U2,{side:(()=>{const I=(h==null?void 0:h.id)??l;if(I===null)return"top";const L=Math.floor(I/10);return[1,2,5,6].includes(L)?"top":"bottom"})(),align:"center",sideOffset:0,collisionPadding:2,className:Rt("z-50 rounded-lg shadow-lg p-3 max-w-xs","custom-tooltip-bg"),children:(()=>{const I=(h==null?void 0:h.id)??l;if(I===null)return null;let L=null;if(h&&h.id===I)L=h;else{const X=a[I];X&&(L={id:I,name:Nz(I),conditions:X.conditions??[]})}if(!L)return null;const{id:U,name:P,conditions:M}=L,j=Array.isArray(M)?M:[],V=j.length>1?j.filter(X=>X!=="healthy"):j;return w("div",{className:"flex flex-col items-start gap-1.5 text-left",children:[" ",w("div",{className:"font-semibold text-sm",children:["Tooth ",U," - ",P," "]}),c("div",{className:"flex flex-col gap-1",children:V.length===0?w("div",{className:"flex items-center gap-1.5",children:[c("span",{className:"w-2 h-2 rounded-full inline-block",style:{backgroundColor:u2.healthy}}),c("span",{className:"text-xs text-gray-300",children:"Healthy"})]}):V.map(X=>{const te=Ez.find(z=>z.value===X);return w("div",{className:"flex items-center gap-1.5",children:[c("span",{className:"w-2 h-2 rounded-full inline-block border border-gray-500",style:{backgroundColor:u2[X]??"#ccc"}}),c("span",{className:"text-xs text-gray-300",children:(te==null?void 0:te.label)||X})]},X)})})]})})()})]})]})," "]})})});C3.displayName="DentalChart";const lR=({value:e={},onChange:t,placeholder:r="Select Teeth...",disabled:n=!1})=>{const[a,i]=A.useState(!1),[o,s]=A.useState(e),l=A.useRef(null);A.useEffect(()=>{s(e)},[e]);const u=g=>{const y={};return Object.entries(g).forEach(([_,b])=>{const S=parseInt(_,10);isNaN(S)||(y[S]={isSelected:!0,conditions:b.conditions})}),y},d=()=>{if(l.current){const g=l.current.getTeethData(),y={};Object.entries(g).forEach(([_,b])=>{b.isSelected&&(y[parseInt(_,10)]={conditions:b.conditions})}),t==null||t(y),s(y)}else console.error("DentalChart ref not available to get data.");i(!1)},f=()=>{i(!1)},h=g=>{n||i(g)},m=Object.keys(e).map(Number).sort((g,y)=>g-y),x=m.length>0?`Selected: ${m.join(", ")}`:"";return w(Za,{open:a,onOpenChange:h,children:[c(Hw,{asChild:!0,children:w("div",{className:"flex items-center gap-2",children:[w(Le,{variant:"outline",className:"flex items-center gap-1.5",disabled:n,type:"button",children:[c("span",{role:"img","aria-label":"tooth icon",children:"🦷"}),r]}),x&&c("span",{className:"text-sm text-muted-foreground",children:x})]})}),w(Da,{className:"max-w-4xl",children:[" ",w(Ia,{children:[c(Ra,{children:"Select Affected Teeth"}),c(oo,{children:"Use the interactive chart below to select or deselect teeth. Click Confirm to save your selection."})]}),c(C3,{ref:l,initialState:u(o),readOnly:!1},a?"open":"closed"),w(lo,{children:[c(Le,{variant:"outline",onClick:f,children:"Cancel"}),c(Le,{onClick:d,children:"Confirm"})]})]})]})};lR.displayName="ToothSelector";const Kte=je.object({dh_reason_for_visit:je.enum(["routine_checkup","tooth_pain","gum_issues","sensitivity","cosmetic_concerns","other"]).optional(),dh_reason_for_visit_other:je.string().optional(),dh_chief_complaint:je.string().optional(),dh_has_pain:je.enum(["yes","no"]).optional(),dh_pain_description:je.string().optional(),dh_pain_scale:je.enum(["1","2","3","4","5","6","7","8","9","10"]).optional(),dh_pain_duration_onset:je.string().optional(),dh_past_treatments:je.array(je.string()).optional(),dh_past_treatments_other:je.string().optional(),dh_brushing_frequency:je.enum(["less_than_once","once_a_day","twice_a_day","more_than_twice"]).optional(),dh_flossing_habits:je.enum(["yes_daily","no","occasionally"]).optional(),dh_additional_hygiene_products:je.string().optional(),dh_technique_tools:je.string().optional(),dh_orthodontic_history:je.enum(["yes","no"]).optional(),dh_orthodontic_details:je.string().optional(),dh_has_records:je.enum(["yes","no"]).optional(),dh_xray_frequency:je.string().optional(),dh_bite_issues:je.enum(["yes","no"]).optional(),dh_bite_symptoms:je.string().optional(),dh_cosmetic_concerns:je.enum(["yes","no"]).optional(),dh_cosmetic_issues_details:je.string().optional(),dh_functional_concerns:je.string().optional(),dh_emergency_history:je.enum(["yes","no"]).optional(),dh_emergency_details:je.string().optional(),dh_additional_summary:je.string().optional(),dh_future_goals:je.string().optional(),dh_selected_teeth:je.record(je.string(),je.object({conditions:je.array(je.enum(["healthy","decayed","filled","missing","treatment-planned","root-canal","extraction","crown","has-treatment-before","recommended-to-be-treated"]))})).optional().default({})}),BDe=[{id:"regular_cleanings",label:"Regular Dental Cleanings (Scaling & Polishing)"},{id:"deep_cleaning",label:"Deep Cleaning (Full Mouth Debridement or SRP)"},{id:"fillings",label:"Fillings",subOptions:[{id:"fillings_composite",label:"Composite (White)"},{id:"fillings_amalgam",label:"Amalgam (Silver)"}]},{id:"extractions",label:"Tooth Extractions",subOptions:[{id:"extraction_simple",label:"Simple Extraction"},{id:"extraction_surgical",label:"Surgical Extraction"}]},{id:"crowns",label:"Crowns (Caps)",subOptions:[{id:"crown_porcelain",label:"Porcelain"},{id:"crown_metal",label:"Metal"},{id:"crown_zirconia",label:"Zirconia"}]},{id:"bridges",label:"Bridges"},{id:"rct",label:"Root Canal Treatment (RCT)",subOptions:[{id:"rct_anterior",label:"Anterior Teeth"},{id:"rct_posterior",label:"Posterior Teeth"}]},{id:"implants",label:"Dental Implants",subOptions:[{id:"implant_single",label:"Single Implant"},{id:"implant_multiple",label:"Multiple Implants"}]},{id:"dentures",label:"Dentures",subOptions:[{id:"denture_full",label:"Full Dentures"},{id:"denture_partial",label:"Partial Dentures"}]},{id:"veneers",label:"Veneers"},{id:"whitening",label:"Teeth Whitening"},{id:"orthodontics",label:"Orthodontic Treatment",subOptions:[{id:"ortho_braces",label:"Braces (Metal or Ceramic)"},{id:"ortho_aligners",label:"Clear Aligners (e.g., Invisalign)"}]},{id:"gum_treatments",label:"Gum Treatments",subOptions:[{id:"gum_surgery",label:"Gum Surgery"},{id:"gum_laser",label:"Laser Gum Therapy"}]},{id:"jaw_treatment",label:"Jaw Treatment",subOptions:[{id:"jaw_tmj",label:"TMJ/TMD Therapy"},{id:"jaw_bite_adjustment",label:"Bite Adjustment / Occlusal Correction"}]},{id:"guards",label:"Night Guards or Mouthguards"},{id:"other_treatment",label:"Other (please specify)"}];function UDe({}){var t;const e=nu();return w("div",{className:"space-y-8",children:[w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Dental History"}),c("p",{className:"text-sm text-muted-foreground",children:"Please provide your detailed dental history."})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Reason for Visit & Chief Complaint"}),c(He,{control:e.control,name:"dh_reason_for_visit",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Primary Reason for Visit"}),w(Ur,{onValueChange:r.onChange,value:r.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select reason"})})}),w($r,{children:[c(gt,{value:"routine_checkup",children:"Routine Checkup"}),c(gt,{value:"tooth_pain",children:"Tooth Pain"}),c(gt,{value:"gum_issues",children:"Gum Issues"}),c(gt,{value:"sensitivity",children:"Sensitivity"}),c(gt,{value:"cosmetic_concerns",children:"Cosmetic Concerns"}),c(gt,{value:"other",children:"Other"})]})]}),c(Ze,{})]})}),e.watch("dh_reason_for_visit")==="other"&&c(He,{control:e.control,name:"dh_reason_for_visit_other",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"If Other, please describe:"}),c(Ie,{children:c(ot,{placeholder:"Explain reason",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_chief_complaint",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Chief Complaint Description"}),c(bi,{children:"Please provide a detailed description of the issue that brought you here. Include when the problem began, how it has progressed, and any pain or discomfort experienced."}),c(Ie,{children:c(Yr,{rows:4,placeholder:"Describe your main concern...",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Pain & Sensitivity Details"}),c(He,{control:e.control,name:"dh_has_pain",render:({field:r})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Do you experience any dental pain or sensitivity?"}),c(Ie,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_has_pain")==="yes"&&w(Sr,{children:[c(He,{control:e.control,name:"dh_pain_description",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Pain Description"}),c(bi,{children:"Specify location(s), intensity, frequency, and triggers (temperature, chewing, stress)."}),c(Ie,{children:c(Yr,{rows:3,placeholder:"e.g., Upper left molar, sharp pain (7/10) when chewing cold items, intermittent.",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_pain_scale",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Pain Scale (1=Mild, 10=Severe)"}),w(Ur,{onValueChange:r.onChange,value:r.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select pain level"})})}),c($r,{children:[...Array(10)].map((n,a)=>c(gt,{value:(a+1).toString(),children:a+1},a+1))})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_pain_duration_onset",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Duration & Onset"}),c(bi,{children:"When did you first notice the pain/sensitivity? Is it constant or intermittent?"}),c(Ie,{children:c(ot,{placeholder:"e.g., Started 2 weeks ago, comes and goes",...r})}),c(Ze,{})]})})]})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Previous Dental Treatments & Procedures"}),c(He,{control:e.control,name:"dh_past_treatments",render:()=>w(Oe,{children:[w("div",{className:"mb-4",children:[c(Pe,{className:"text-base",children:"Past Treatments"}),c(bi,{children:"Please select or describe all that apply."})]}),w("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-4",children:[" ",BDe.map(r=>{var n;return w("div",{children:[" ",c(He,{control:e.control,name:"dh_past_treatments",render:({field:a})=>{var i;return w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(i=a.value)==null?void 0:i.includes(r.id),onCheckedChange:o=>o===!0?a.onChange([...a.value||[],r.id]):a.onChange((a.value||[]).filter(s=>s!==r.id))})}),c(Pe,{className:"font-normal",children:r.label})]})}}),r.subOptions&&((n=e.watch("dh_past_treatments"))==null?void 0:n.includes(r.id))&&w("div",{className:"ml-6 mt-1 space-y-1",children:[" ",r.subOptions.map(a=>c(He,{control:e.control,name:"dh_past_treatments",render:({field:i})=>{var o;return w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(o=i.value)==null?void 0:o.includes(a.id),onCheckedChange:s=>{const l=s===!0?[...i.value||[],a.id]:(i.value||[]).filter(u=>u!==a.id);i.onChange(l)}})}),c(Pe,{className:"text-sm font-normal",children:a.label})]})}},a.id))]})]},r.id)})]}),c(Ze,{})]})}),((t=e.watch("dh_past_treatments"))==null?void 0:t.includes("other_treatment"))&&c(He,{control:e.control,name:"dh_past_treatments_other",render:({field:r})=>w(Oe,{className:"mt-4",children:[" ",c(Pe,{children:"Specify Other Treatments:"}),c(Ie,{children:c(Yr,{placeholder:"Describe other treatments...",...r,value:r.value||""})})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Affected Teeth & Conditions"}),c(bi,{children:"Click the button to select the teeth involved. The specific conditions for these teeth can be detailed in the treatment plan later."}),c(He,{control:e.control,name:"dh_selected_teeth",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Affected Teeth"}),c(Ie,{children:c(lR,{value:r.value||{},onChange:r.onChange,placeholder:"Select Affected Teeth..."})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Oral Hygiene Routine & Home Care"}),c(He,{control:e.control,name:"dh_brushing_frequency",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Brushing Frequency"}),w(Ur,{onValueChange:r.onChange,value:r.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select frequency"})})}),w($r,{children:[c(gt,{value:"less_than_once",children:"Less than once a day"}),c(gt,{value:"once_a_day",children:"Once a day"}),c(gt,{value:"twice_a_day",children:"Twice a day"}),c(gt,{value:"more_than_twice",children:"More than twice a day"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_flossing_habits",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Flossing Habits"}),w(Ur,{onValueChange:r.onChange,value:r.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select habit"})})}),w($r,{children:[c(gt,{value:"yes_daily",children:"Yes, daily"}),c(gt,{value:"occasionally",children:"Occasionally"}),c(gt,{value:"no",children:"No"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_additional_hygiene_products",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Additional Oral Hygiene Products"}),c(bi,{children:"List products used besides brushing/flossing (mouthwash, water flosser, etc.)."}),c(Ie,{children:c(ot,{placeholder:"e.g., Listerine mouthwash, Waterpik",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_technique_tools",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Technique & Tools"}),c(bi,{children:"Describe your brushing technique and any special tools (e.g., electric toothbrush)."}),c(Ie,{children:c(ot,{placeholder:"e.g., Soft bristle brush, circular motions, Sonicare toothbrush",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"History of Orthodontic Treatment"}),c(He,{control:e.control,name:"dh_orthodontic_history",render:({field:r})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Have you had braces, clear aligners, or other orthodontic treatments?"}),c(Ie,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_orthodontic_history")==="yes"&&c(He,{control:e.control,name:"dh_orthodontic_details",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"If yes, specify type, duration, outcomes, challenges:"}),c(Ie,{children:c(Yr,{rows:3,placeholder:"e.g., Traditional braces (2 years), results good, wore retainer.",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Dental Records & X-Rays"}),c(He,{control:e.control,name:"dh_has_records",render:({field:r})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Do you have copies of previous dental records or X-rays available?"}),c(Ie,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_xray_frequency",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"X-Ray Frequency"}),c(bi,{children:"How often have you had dental X-rays? (Approximate dates if known)."}),c(Ie,{children:c(ot,{placeholder:"e.g., Yearly bitewings, Full mouth series (2020)",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Occlusal & Bite Concerns"}),c(He,{control:e.control,name:"dh_bite_issues",render:({field:r})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Do you have issues with your bite or TMJ pain?"}),c(Ie,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_bite_issues")==="yes"&&c(He,{control:e.control,name:"dh_bite_symptoms",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"If yes, describe symptoms (jaw pain, clicking, difficulty chewing):"}),c(Ie,{children:c(Yr,{rows:3,placeholder:"e.g., Jaw clicks when opening wide, occasional pain on left side",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Aesthetic & Functional Concerns"}),c(He,{control:e.control,name:"dh_cosmetic_concerns",render:({field:r})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Are you concerned about the appearance of your teeth?"}),c(Ie,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_cosmetic_concerns")==="yes"&&c(He,{control:e.control,name:"dh_cosmetic_issues_details",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Specify concerns (color, shape, alignment, spacing):"}),c(Ie,{children:c(Yr,{rows:3,placeholder:"e.g., Teeth are slightly yellow, gap between front teeth",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_functional_concerns",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Functional Concerns"}),c(bi,{children:"Describe difficulties with eating, speaking, etc."}),c(Ie,{children:c(Yr,{rows:3,placeholder:"e.g., Difficulty chewing hard foods on the right side",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Previous Dental Emergencies & Urgent Care"}),c(He,{control:e.control,name:"dh_emergency_history",render:({field:r})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Have you experienced any dental emergencies?"}),c(Ie,{children:w(Fo,{onValueChange:r.onChange,value:r.value,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("dh_emergency_history")==="yes"&&c(He,{control:e.control,name:"dh_emergency_details",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"If yes, provide details (when, how managed):"}),c(Ie,{children:c(Yr,{rows:3,placeholder:"e.g., Broken tooth (2022), fixed with a crown",...r})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Additional Comments & Future Dental Goals"}),c(He,{control:e.control,name:"dh_additional_summary",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Overall Dental History Summary"}),c(bi,{children:"Any additional information not covered above."}),c(Ie,{children:c(Yr,{rows:4,placeholder:"Additional notes...",...r})}),c(Ze,{})]})}),c(He,{control:e.control,name:"dh_future_goals",render:({field:r})=>w(Oe,{children:[c(Pe,{children:"Future Treatment Goals & Expectations"}),c(bi,{children:"What outcomes are you hoping for?"}),c(Ie,{children:c(Yr,{rows:4,placeholder:"e.g., Whiter teeth, replace missing tooth",...r})}),c(Ze,{})]})})]})]})}const Yte=je.object({family_medical_conditions:je.array(je.string()).optional(),family_medical_conditions_other:je.string().optional(),family_dental_issues:je.array(je.string()).optional(),family_dental_issues_other:je.string().optional()}),qDe=[{id:"family_heart_disease",label:"Heart Disease"},{id:"family_diabetes",label:"Diabetes"},{id:"family_high_cholesterol",label:"High Cholesterol"},{id:"family_hypertension",label:"Hypertension"},{id:"family_cancer",label:"Cancer"},{id:"family_osteoporosis",label:"Osteoporosis"}],zDe=[{id:"family_gum_disease",label:"Gum Disease"},{id:"family_tooth_loss",label:"Tooth Loss"},{id:"family_orthodontic_issues",label:"Orthodontic Issues"}];function WDe(){const e=nu();return w("div",{className:"space-y-8",children:[w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Family Medical & Dental History"}),c("p",{className:"text-sm text-muted-foreground",children:"Information about medical and dental conditions in your family."})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Family Medical History"}),c(He,{control:e.control,name:"family_medical_conditions",render:()=>w(Oe,{children:[w("div",{className:"mb-4",children:[c(Pe,{className:"text-base",children:"Has anyone in your family been diagnosed with the following?"}),c(bi,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:qDe.map(t=>c(He,{control:e.control,name:"family_medical_conditions",render:({field:r})=>{var n;return w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(n=r.value)==null?void 0:n.includes(t.id),onCheckedChange:a=>a?r.onChange([...r.value||[],t.id]):r.onChange((r.value||[]).filter(i=>i!==t.id))})}),c(Pe,{className:"font-normal",children:t.label})]},t.id)}},t.id))}),c(Ze,{})]})}),c(He,{control:e.control,name:"family_medical_conditions_other",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Other family medical conditions:"}),c(Ie,{children:c(ot,{placeholder:"Specify other conditions",...t})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Family Dental History"}),c(He,{control:e.control,name:"family_dental_issues",render:()=>w(Oe,{children:[w("div",{className:"mb-4",children:[c(Pe,{className:"text-base",children:"Does your family have a history of dental issues?"}),c(bi,{children:"Select all that apply."})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:zDe.map(t=>c(He,{control:e.control,name:"family_dental_issues",render:({field:r})=>{var n;return w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(n=r.value)==null?void 0:n.includes(t.id),onCheckedChange:a=>a?r.onChange([...r.value||[],t.id]):r.onChange((r.value||[]).filter(i=>i!==t.id))})}),c(Pe,{className:"font-normal",children:t.label})]},t.id)}},t.id))}),c(Ze,{})]})}),c(He,{control:e.control,name:"family_dental_issues_other",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Other family dental issues:"}),c(Ie,{children:c(ot,{placeholder:"Specify other issues",...t})}),c(Ze,{})]})})]})]})}const Xte=je.object({diet_description:je.string().optional().nullable(),exercise_frequency:je.preprocess(e=>typeof e=="string"||e===null||e===void 0?e:void 0,je.enum(["never","occasionally","1-2_per_week","3-4_per_week","daily"]).optional().nullable()),stress_level:je.enum(["low","moderate","high"]).optional().nullable(),has_sleep_issues:je.enum(["yes","no"]).optional().nullable(),sleep_issues_details:je.string().optional().nullable(),pregnancy_status:je.enum(["yes","no","not_applicable"]).optional().nullable(),pregnancy_comments:je.string().optional().nullable(),has_mental_health_conditions:je.enum(["yes","no"]).optional().nullable(),mental_health_details:je.string().optional().nullable(),additional_concerns:je.string().optional().nullable(),additional_comments:je.string().optional().nullable()});function VDe(){const e=nu();return w("div",{className:"space-y-8",children:[w("div",{className:"space-y-2",children:[c("h2",{className:"text-xl font-semibold",children:"Lifestyle & Special Considerations"}),c("p",{className:"text-sm text-muted-foreground",children:"Information about your lifestyle that may be relevant to your health."})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Diet and Nutrition"}),c(He,{control:e.control,name:"diet_description",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Describe your typical diet (include details on sugar consumption, acidic foods, etc.):"}),c(Ie,{children:c(Yr,{placeholder:"e.g., Balanced diet, occasional sugary snacks, drink coffee daily...",...t,value:t.value??""})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Exercise & Stress Levels"}),c(He,{control:e.control,name:"exercise_frequency",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"How often do you exercise?"}),w(Ur,{onValueChange:t.onChange,value:typeof t.value=="boolean"?void 0:t.value??void 0,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select frequency"})})}),w($r,{children:[c(gt,{value:"never",children:"Never"}),c(gt,{value:"occasionally",children:"Occasionally"}),c(gt,{value:"1-2_per_week",children:"1-2 times per week"}),c(gt,{value:"3-4_per_week",children:"3-4 times per week"}),c(gt,{value:"daily",children:"Daily"})]})]}),c(Ze,{})]})}),c(He,{control:e.control,name:"stress_level",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Rate your overall stress level:"}),w(Ur,{onValueChange:t.onChange,value:t.value??void 0,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select stress level"})})}),w($r,{children:[c(gt,{value:"low",children:"Low"}),c(gt,{value:"moderate",children:"Moderate"}),c(gt,{value:"high",children:"High"})]})]}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Sleep Patterns"}),c(He,{control:e.control,name:"has_sleep_issues",render:({field:t})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Do you have any sleep-related issues?"}),c(Ie,{children:w(Fo,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("has_sleep_issues")==="yes"&&c(He,{control:e.control,name:"sleep_issues_details",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"If yes, specify (e.g., sleep apnea, bruxism/teeth grinding):"}),c(Ie,{children:c(ot,{placeholder:"e.g., Diagnosed sleep apnea, grind teeth at night",...t,value:t.value??""})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Pregnancy and/or Lactation"}),c(He,{control:e.control,name:"pregnancy_status",render:({field:t})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Are you pregnant, planning to become pregnant, or currently breastfeeding?"}),c(Ie,{children:w(Fo,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"not_applicable"})}),c(Pe,{className:"font-normal",children:"Not Applicable"})]})]})}),c(Ze,{})]})}),e.watch("pregnancy_status")==="yes"&&c(He,{control:e.control,name:"pregnancy_comments",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Additional comments (if applicable):"}),c(Ie,{children:c(Yr,{placeholder:"e.g., Due date, specific concerns...",...t,value:t.value??""})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Mental Health"}),c(He,{control:e.control,name:"has_mental_health_conditions",render:({field:t})=>w(Oe,{className:"space-y-3",children:[c(Pe,{children:"Do you have any mental health conditions (e.g., anxiety, depression) or medications for such conditions?"}),c(Ie,{children:w(Fo,{onValueChange:t.onChange,value:t.value??void 0,className:"flex space-x-4",children:[w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"yes"})}),c(Pe,{className:"font-normal",children:"Yes"})]}),w(Oe,{className:"flex items-center space-x-2 space-y-0",children:[c(Ie,{children:c(Pn,{value:"no"})}),c(Pe,{className:"font-normal",children:"No"})]})]})}),c(Ze,{})]})}),e.watch("has_mental_health_conditions")==="yes"&&c(He,{control:e.control,name:"mental_health_details",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"If yes, provide details:"}),c(Ie,{children:c(Yr,{placeholder:"e.g., Diagnosed with anxiety, taking Sertraline",...t,value:t.value??""})}),c(Ze,{})]})})]}),w("div",{className:"space-y-4 p-4 border rounded-md",children:[c("h4",{className:"font-medium",children:"Additional Concerns and Comments"}),c(He,{control:e.control,name:"additional_concerns",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Please list any other issues or concerns:"}),c(Ie,{children:c(Yr,{placeholder:"Any other specific concerns you want to mention?",...t,value:t.value??""})}),c(Ze,{})]})}),c(He,{control:e.control,name:"additional_comments",render:({field:t})=>w(Oe,{children:[c(Pe,{children:"Additional comments regarding dental or general health:"}),c(Ie,{children:c(Yr,{placeholder:"General comments...",...t,value:t.value??""})}),c(Ze,{})]})})]})]})}const tm=Qe.forwardRef(({className:e,onFileChange:t,accept:r,maxSize:n=5,uploading:a=!1,value:i,preview:o,onRemove:s,...l},u)=>{const[d,f]=A.useState(!1),[h,m]=A.useState(null),x=S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?f(!0):S.type==="dragleave"&&f(!1)},g=S=>{var C;if(S.size>n*1024*1024)return m(`File size exceeds ${n}MB limit.`),!1;if(r){const E=r.split(",").map(U=>U.trim()),O=S.type,I=(C=S.name.split(".").pop())==null?void 0:C.toLowerCase();if(!E.some(U=>{if(U.startsWith("."))return`.${I}`===U;if(U.includes("*")){const[P]=U.split("/");return O.startsWith(`${P}/`)}else return U===O}))return m("File type not supported."),!1}return m(null),!0},y=S=>{var E;const C=((E=S.target.files)==null?void 0:E[0])||null;if(C&&!g(C)){t&&t(null);return}t&&t(C)},_=S=>{if(S.preventDefault(),S.stopPropagation(),f(!1),S.dataTransfer.files&&S.dataTransfer.files[0]){const C=S.dataTransfer.files[0];g(C)&&t&&t(C)}},b=()=>{if(!i&&!o)return null;const S=o||(i?URL.createObjectURL(i):null),C=(i==null?void 0:i.name)||"File",O=((i==null?void 0:i.type)||"").startsWith("image/")||o&&/\.(jpg|jpeg|png|gif|webp)$/i.test(o);return c("div",{className:"mt-2 relative",children:w("div",{className:"flex items-center p-2 border rounded-md bg-muted",children:[O&&S?c("div",{className:"relative w-16 h-16 mr-3 overflow-hidden rounded",children:c("img",{src:S,alt:"Preview",className:"object-cover w-full h-full"})}):c(gce,{className:"w-12 h-12 mr-3 text-muted-foreground"}),w("div",{className:"flex-1 min-w-0",children:[c("p",{className:"text-sm font-medium truncate",children:C}),c("p",{className:"text-xs text-muted-foreground",children:i!=null&&i.size?`${(i.size/1024/1024).toFixed(2)} MB`:""})]}),s&&c(Le,{variant:"ghost",size:"sm",onClick:s,type:"button",className:"text-destructive hover:text-destructive",children:c(am,{className:"w-4 h-4"})})]})})};return w("div",{className:Rt("space-y-2",e),children:[!(i||o)&&w("div",{className:Rt("border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer",d?"border-primary bg-primary/5":"border-input",h&&"border-destructive"),onDragEnter:x,onDragOver:x,onDragLeave:x,onDrop:_,onClick:()=>{var S;return(S=document.getElementById(l.id||"file-upload"))==null?void 0:S.click()},children:[a?c(Zn,{className:"w-10 h-10 mb-4 text-muted-foreground animate-spin"}):c(Rce,{className:"w-10 h-10 mb-4 text-muted-foreground"}),c("p",{className:"text-sm font-medium",children:"Drag and drop or click to upload"}),c("p",{className:"text-xs text-muted-foreground mt-1",children:r?`Supported formats: ${r}`:"All files are supported"}),w("p",{className:"text-xs text-muted-foreground mt-1",children:["Max size: ",n,"MB"]}),h&&c("p",{className:"text-xs text-destructive mt-2",children:h})]}),c("input",{id:l.id||"file-upload",type:"file",className:"hidden",onChange:y,ref:u,accept:r,disabled:a,...l}),b(),h&&c("p",{className:"text-xs text-destructive",children:h})]})});tm.displayName="FileUpload";const Zte=je.object({consent_given:je.boolean().default(!1),profile_photo:je.instanceof(File).optional().nullable(),signature:je.instanceof(File).optional().nullable(),id_document:je.instanceof(File).optional().nullable(),consent_notes:je.string().optional()});function HDe(){const e=nu(),[t,r]=A.useState(!1);return w("div",{className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Documents & Consent"}),c("p",{className:"text-sm text-muted-foreground",children:"Upload necessary documents and provide consent for treatment."})]}),c(He,{control:e.control,name:"profile_photo",render:({field:n})=>w(Oe,{children:[c(Pe,{children:"Profile Photo"}),c(Ie,{children:c(tm,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg",maxSize:5,uploading:t,onRemove:()=>n.onChange(null)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"signature",render:({field:n})=>w(Oe,{children:[c(Pe,{children:"Patient Signature"}),c(Ie,{children:c(tm,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg",maxSize:2,uploading:t,onRemove:()=>n.onChange(null)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"id_document",render:({field:n})=>w(Oe,{children:[c(Pe,{children:"ID Document"}),c(Ie,{children:c(tm,{value:n.value,onFileChange:n.onChange,accept:"image/png,image/jpeg,image/jpg,application/pdf",maxSize:10,uploading:t,onRemove:()=>n.onChange(null)})}),c(Ze,{})]})}),c(He,{control:e.control,name:"consent_given",render:({field:n})=>w(Oe,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[c(Ie,{children:c(Ps,{checked:n.value,onCheckedChange:n.onChange})}),w("div",{className:"space-y-1 leading-none",children:[c(Pe,{children:"I consent to treatment"}),c("p",{className:"text-sm text-muted-foreground",children:"By checking this box, I provide consent for dental treatment and procedures."})]})]})}),c(He,{control:e.control,name:"consent_notes",render:({field:n})=>w(Oe,{children:[c(Pe,{children:"Consent Notes"}),c(Ie,{children:c(Yr,{placeholder:"Any additional notes related to patient consent",...n})}),c(Ze,{})]})})]})}const GDe=je.object({acknowledgment:je.boolean().refine(e=>e===!0,{message:"You must acknowledge that the information provided is accurate."}),patient_signature_consent:je.string().optional(),consent_date:je.date().optional().default(new Date)}),KDe=je.object({...qp.shape,...oR.shape,...Gte.shape,...Kte.shape,...Yte.shape,...Xte.shape,...GDe.shape,...Zte.shape}),YDe=je.object({first_name:qp.shape.first_name,last_name:qp.shape.last_name,middle_name:qp.shape.middle_name.optional(),gender:qp.shape.gender,age:qp.shape.age,occupation:qp.shape.occupation.optional(),phone:oR.shape.phone}),Od=["personal","contact","medical","dental","family_lifestyle","documents"],w0=e=>e instanceof je.ZodObject?Object.keys(e.shape):[],XDe={personal:w0(qp),contact:w0(oR),medical:w0(Gte),dental:w0(Kte),family_lifestyle:[...w0(Yte),...w0(Xte)],documents:w0(Zte)};function cR({patient:e,onSuccess:t,onCancel:r,mode:n="full"}){const{toast:a}=vn(),[i,o]=A.useState(!1),[s,l]=A.useState(!1),[u,d]=A.useState(!1),[f,h]=A.useState(""),[m,x]=A.useState(new Date),[g,y]=A.useState(null),[_,b]=A.useState(Od[0]),[S,C]=A.useState(!0),E=n==="simplified",O={first_name:"",last_name:"",middle_name:"",gender:"male",age:null,occupation:"",phone:""},T={...O,marital_status:"single",email:"",address:"",city:"",state:"",postal_code:"",country:"USA",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:"",blood_group:"unknown",height:null,weight:null,has_allergies:"no",medication_allergies:[],other_medication_allergy_details:"",food_allergies:[],other_food_allergy_details:"",environmental_allergies:[],other_environmental_allergy_details:"",other_allergies:[],other_allergy_details:"",other_allergies_manual_input:"",diagnosed_conditions:[],other_diagnosed_condition:"",has_implants:"no",implants_details:"",taking_medications:"no",current_medications:[],recent_health_changes:"no",health_changes_details:"",previous_surgeries:[],immunizations_up_to_date:"not_sure",recent_immunizations:"",recent_medical_screenings:"no",screenings_details:"",dental_material_allergies:"no",dental_material_allergies_details:"",notes:"",dh_reason_for_visit:void 0,dh_reason_for_visit_other:"",dh_chief_complaint:"",dh_has_pain:"no",dh_pain_description:"",dh_pain_scale:void 0,dh_pain_duration_onset:"",dh_past_treatments:[],dh_past_treatments_other:"",dh_brushing_frequency:void 0,dh_flossing_habits:void 0,dh_additional_hygiene_products:"",dh_technique_tools:"",dh_orthodontic_history:"no",dh_orthodontic_details:"",dh_has_records:"no",dh_xray_frequency:"",dh_bite_issues:"no",dh_bite_symptoms:"",dh_cosmetic_concerns:"no",dh_cosmetic_issues_details:"",dh_functional_concerns:"",dh_emergency_history:"no",dh_emergency_details:"",dh_additional_summary:"",dh_future_goals:"",dh_selected_teeth:{},family_medical_conditions:[],family_medical_conditions_other:"",family_dental_issues:[],family_dental_issues_other:"",diet_description:"",exercise_frequency:void 0,stress_level:void 0,has_sleep_issues:"no",sleep_issues_details:"",pregnancy_status:"not_applicable",pregnancy_comments:"",has_mental_health_conditions:"no",mental_health_details:"",additional_concerns:"",additional_comments:"",acknowledgment:!1,patient_signature_consent:"",consent_date:new Date,consent_given:!1,consent_notes:"",profile_photo:void 0,signature:void 0,id_document:void 0},I=A.useCallback(z=>{var Y,Z,D,K,Q,ie,ae,oe,de,J,ue,ge,ne,Ne,Re,De,pe,Je,mt,dt,Tt,lt,_e,Ce,We,ft,vt,Fe,Ve,_t,At;const G=E?O:T,q=z?{first_name:z.first_name||"",last_name:z.last_name||"",middle_name:z.middle_name||"",gender:z.gender==="male"||z.gender==="female"||z.gender==="other"?z.gender:void 0,age:z.age??null,occupation:z.occupation||"",phone:z.phone||"",...!E&&{marital_status:z.marital_status||"single",email:z.email||"",address:z.address||"",city:z.city||"",state:z.state||"",postal_code:z.postal_code||"",country:z.country||"USA",emergency_contact_name:z.emergency_contact_name||"",emergency_contact_phone:z.emergency_contact_phone||"",emergency_contact_relationship:z.emergency_contact_relationship||"",blood_group:z.blood_group||"unknown",height:z.height??null,weight:z.weight??null,has_allergies:((Y=z.detailed_medical_info)==null?void 0:Y.has_allergies)||"no",medication_allergies:((Z=z.detailed_medical_info)==null?void 0:Z.medication_allergies)||[],other_medication_allergy_details:((D=z.detailed_medical_info)==null?void 0:D.other_medication_allergy_details)||"",food_allergies:((K=z.detailed_medical_info)==null?void 0:K.food_allergies)||[],other_food_allergy_details:((Q=z.detailed_medical_info)==null?void 0:Q.other_food_allergy_details)||"",environmental_allergies:((ie=z.detailed_medical_info)==null?void 0:ie.environmental_allergies)||[],other_environmental_allergy_details:((ae=z.detailed_medical_info)==null?void 0:ae.other_environmental_allergy_details)||"",other_allergies:((oe=z.detailed_medical_info)==null?void 0:oe.other_allergies)||[],other_allergy_details:((de=z.detailed_medical_info)==null?void 0:de.other_allergy_details)||"",other_allergies_manual_input:((J=z.detailed_medical_info)==null?void 0:J.other_allergies_manual_input)||"",diagnosed_conditions:Array.isArray(z.medical_conditions)?z.medical_conditions:[],taking_medications:z.current_medications&&Array.isArray(z.current_medications)&&z.current_medications.length>0?"yes":"no",current_medications:Array.isArray(z.current_medications)?z.current_medications:[],previous_surgeries:Array.isArray(z.previous_surgeries)?z.previous_surgeries:[],notes:z.notes||"",consent_given:z.consent_given||!1,...z.dental_history&&typeof z.dental_history=="object"?{...Object.fromEntries(Object.entries(z.dental_history).filter(([ut])=>ut!=="dh_selected_teeth"))}:{},...z.family_medical_history&&typeof z.family_medical_history=="object"?{...z.family_medical_history}:{},diet_description:((ue=z.lifestyle_habits)==null?void 0:ue.diet)??"",exercise_frequency:((ge=z.lifestyle_habits)==null?void 0:ge.exercise)??void 0,stress_level:((ne=z.lifestyle_habits)==null?void 0:ne.stress)??void 0,has_sleep_issues:(Re=(Ne=z.lifestyle_habits)==null?void 0:Ne.sleep_issues)!=null&&Re.startsWith("Yes")?"yes":((De=z.lifestyle_habits)==null?void 0:De.sleep_issues)==="No"?"no":null,sleep_issues_details:(Je=(pe=z.lifestyle_habits)==null?void 0:pe.sleep_issues)!=null&&Je.startsWith("Yes")&&((mt=z.lifestyle_habits)==null?void 0:mt.sleep_issues.replace("Yes, ",""))!=="details missing"?(dt=z.lifestyle_habits)==null?void 0:dt.sleep_issues.replace("Yes, ",""):"",pregnancy_status:((Tt=z.lifestyle_habits)==null?void 0:Tt.pregnancy_status)??void 0,pregnancy_comments:((lt=z.lifestyle_habits)==null?void 0:lt.pregnancy_comments)??"",has_mental_health_conditions:(Ce=(_e=z.lifestyle_habits)==null?void 0:_e.mental_health)!=null&&Ce.startsWith("Yes")?"yes":((We=z.lifestyle_habits)==null?void 0:We.mental_health)==="No"?"no":void 0,mental_health_details:(vt=(ft=z.lifestyle_habits)==null?void 0:ft.mental_health)!=null&&vt.startsWith("Yes")&&((Fe=z.lifestyle_habits)==null?void 0:Fe.mental_health.replace("Yes, ",""))!=="details missing"?(Ve=z.lifestyle_habits)==null?void 0:Ve.mental_health.replace("Yes, ",""):"",additional_concerns:((_t=z.lifestyle_habits)==null?void 0:_t.additional_concerns)??"",additional_comments:((At=z.lifestyle_habits)==null?void 0:At.additional_comments)??""}}:{};return{...G,...q}},[e,E]),L=sd({resolver:ld(E?YDe:KDe),defaultValues:E?O:T,mode:"onChange"});A.useEffect(()=>{C(!0),console.log(`PatientForm: useEffect triggered. Patient ID: ${e==null?void 0:e.id}, Mode: ${n}`),(async()=>{let G=I(e);if(console.log("PatientForm: Base defaults calculated:",JSON.stringify(G)),e!=null&&e.id&&!E)try{console.log("PatientForm: Fetching dental history teeth map for patient:",e.id);const q=await Kt.patients.getPatientDentalHistoryTeethMap(e.id);console.log("PatientForm: Fetched dental history teeth map for form:",JSON.stringify(q)),G.dh_selected_teeth=q||{}}catch(q){console.error("Error fetching patient dental history teeth map:",q),a({title:"Error Loading Affected Teeth",description:"Could not load previously selected affected teeth.",variant:"destructive"}),G.dh_selected_teeth={}}else E?E&&delete G.dh_selected_teeth:G.dh_selected_teeth={};console.log("PatientForm: Resetting form with final defaults:",JSON.stringify(G)),L.reset(G),console.log("PatientForm: Form reset complete. Checking form state after reset:",JSON.stringify(L.getValues("dh_selected_teeth"))),C(!1)})()},[e,n,E,I,L,a]);const U=async(z,G,q)=>{if(!(z instanceof File))return null;console.log(`Uploading ${q} for ${G}`);const{data:{session:Y},error:Z}=await Me.auth.getSession();if(Z||!Y)throw new Error("Auth failed.");const D=z.name.split(".").pop(),K=`public/${G}/${q}-${Date.now()}.${D}`,{error:Q}=await Me.storage.from("medical-records").upload(K,z);if(Q)throw new Error(`Upload failed: ${Q.message}`);const{data:ie}=Me.storage.from("medical-records").getPublicUrl(K);if(!(ie!=null&&ie.publicUrl))throw new Error("Failed to get URL.");return{path:K,url:ie.publicUrl,name:z.name,type:q,size:z.size,uploaded_at:new Date().toISOString()}},P=async z=>{o(!0);try{const G=e==null?void 0:e.id,q=z;if(!G&&(q.profile_photo instanceof File||q.signature instanceof File||q.id_document instanceof File))throw new Error("Cannot upload files for a new patient. Save first.");let Y=[],Z=(e==null?void 0:e.profile_photo_url)||null,D=(e==null?void 0:e.signature_url)||null;if(!E&&G){Array.isArray(e==null?void 0:e.documents)&&(Y=e.documents);const J=q;if(J.profile_photo instanceof File){const ue=await U(J.profile_photo,G,"profile_photo");ue&&(Z=ue.url,Y=Y.filter(ge=>ge.type!=="profile_photo"),Y.push(ue))}if(J.signature instanceof File){const ue=await U(J.signature,G,"signature");ue&&(D=ue.url,Y=Y.filter(ge=>ge.type!=="signature"),Y.push(ue))}if(J.id_document instanceof File){const ue=await U(J.id_document,G,"id_document");ue&&(Y=Y.filter(ge=>ge.type!=="id_document"),Y.push(ue))}}else if(!G&&(q.profile_photo instanceof File||q.signature instanceof File||q.id_document instanceof File))throw new Error("Cannot upload files for a new patient. Save first.");const K={first_name:z.first_name||"",last_name:z.last_name||"",middle_name:z.middle_name||null,gender:z.gender==="male"||z.gender==="female"||z.gender==="other"?z.gender:null,age:z.age??null,occupation:z.occupation||null,phone:z.phone||""};let Q;if(E)Q=K;else{const J=z;Q={...K,marital_status:J.marital_status||null,email:J.email||null,address:J.address||null,city:J.city||null,state:J.state||null,postal_code:J.postal_code||null,country:J.country||null,emergency_contact_name:J.emergency_contact_name||null,emergency_contact_phone:J.emergency_contact_phone||null,emergency_contact_relationship:J.emergency_contact_relationship||null,blood_group:J.blood_group||null,height:J.height??null,weight:J.weight??null,medical_conditions:[...J.diagnosed_conditions||[],...J.other_diagnosed_condition?[J.other_diagnosed_condition]:[]].length>0?[...J.diagnosed_conditions||[],...J.other_diagnosed_condition?[J.other_diagnosed_condition]:[]]:null,current_medications:J.taking_medications==="yes"?J.current_medications||[]:null,previous_surgeries:J.previous_surgeries&&J.previous_surgeries.length>0?J.previous_surgeries:null,detailed_medical_info:{has_implants:J.has_implants,implants_details:J.implants_details||null,recent_health_changes:J.recent_health_changes,health_changes_details:J.health_changes_details||null,immunizations_up_to_date:J.immunizations_up_to_date,recent_immunizations:J.recent_immunizations||null,recent_medical_screenings:J.recent_medical_screenings,screenings_details:J.screenings_details||null,dental_material_allergies:J.dental_material_allergies,dental_material_allergies_details:J.dental_material_allergies_details||null,has_allergies:J.has_allergies,medication_allergies:J.medication_allergies||[],other_medication_allergy_details:J.other_medication_allergy_details||null,food_allergies:J.food_allergies||[],other_food_allergy_details:J.other_food_allergy_details||null,environmental_allergies:J.environmental_allergies||[],other_environmental_allergy_details:J.other_environmental_allergy_details||null,other_allergies:J.other_allergies||[],other_allergy_details:J.other_allergy_details||null,other_allergies_manual_input:J.other_allergies_manual_input||null},dental_history:{reason_for_visit:J.dh_reason_for_visit,reason_for_visit_other:J.dh_reason_for_visit_other||null,chief_complaint:J.dh_chief_complaint||null,has_pain:J.dh_has_pain,pain_description:J.dh_pain_description||null,pain_scale:J.dh_pain_scale,pain_duration_onset:J.dh_pain_duration_onset||null,past_treatments:J.dh_past_treatments||[],past_treatments_other:J.dh_past_treatments_other||null,brushing_frequency:J.dh_brushing_frequency,flossing_habits:J.dh_flossing_habits,additional_hygiene_products:J.dh_additional_hygiene_products||null,technique_tools:J.dh_technique_tools||null,orthodontic_history:J.dh_orthodontic_history,orthodontic_details:J.dh_orthodontic_details||null,has_records:J.dh_has_records,xray_frequency:J.dh_xray_frequency||null,bite_issues:J.dh_bite_issues,bite_symptoms:J.dh_bite_symptoms||null,cosmetic_concerns:J.dh_cosmetic_concerns,cosmetic_issues_details:J.dh_cosmetic_issues_details||null,functional_concerns:J.dh_functional_concerns||null,emergency_history:J.dh_emergency_history,emergency_details:J.dh_emergency_details||null,additional_summary:J.dh_additional_summary||null,future_goals:J.dh_future_goals||null},family_medical_history:{conditions:J.family_medical_conditions||[],other:J.family_medical_conditions_other||null,dental_issues:J.family_dental_issues||[],dental_other:J.family_dental_issues_other||null},lifestyle_habits:{diet:J.diet_description||null,exercise:J.exercise_frequency||null,stress:J.stress_level||null,sleep_issues:J.has_sleep_issues==="yes"?J.sleep_issues_details?`Yes, ${J.sleep_issues_details}`:"Yes, details missing":"No",pregnancy_status:J.pregnancy_status||null,pregnancy_comments:J.pregnancy_comments||null,mental_health:J.has_mental_health_conditions==="yes"?J.mental_health_details?`Yes, ${J.mental_health_details}`:"Yes, details missing":"No",additional_concerns:J.additional_concerns||null,additional_comments:J.additional_comments||null},notes:J.notes||null,consent_given:J.consent_given||null,profile_photo_url:Z,signature_url:D,documents:Y}}let ie=G,ae=null;const oe=Q;if(oe.dental_history&&typeof oe.dental_history=="object"&&(delete oe.dental_history.dh_tooth_conditions,oe.dental_history=oe.dental_history),G)console.log(`Updating existing patient (${n} mode):`,G),await Kt.patients.update(G,oe);else{console.log(`Creating new patient (${n} mode)...`);const J={...oe};delete J.profile_photo_url,delete J.signature_url,delete J.documents,E&&(J.marital_status=null,J.email=null,J.address=null,J.city=null,J.state=null,J.postal_code=null,J.country=null,J.emergency_contact_name=null,J.emergency_contact_phone=null,J.emergency_contact_relationship=null,J.blood_group=null,J.height=null,J.weight=null,J.medical_conditions=null,J.current_medications=null,J.previous_surgeries=null,J.detailed_medical_info=null,J.dental_history=null,J.family_medical_history=null,J.lifestyle_habits=null,J.notes=null,J.consent_given=null);const ue={first_name:J.first_name||"",last_name:J.last_name||"",middle_name:J.middle_name||null,gender:J.gender==="male"||J.gender==="female"||J.gender==="other"?J.gender:null,age:J.age??null,occupation:J.occupation||null,phone:J.phone||"",marital_status:J.marital_status||null,email:J.email||null,address:J.address||null,city:J.city||null,state:J.state||null,postal_code:J.postal_code||null,country:J.country||null,emergency_contact_name:J.emergency_contact_name||null,emergency_contact_phone:J.emergency_contact_phone||null,emergency_contact_relationship:J.emergency_contact_relationship||null,blood_group:J.blood_group||null,height:J.height??null,weight:J.weight??null,medical_conditions:J.medical_conditions||null,current_medications:J.current_medications||null,previous_surgeries:J.previous_surgeries||null,detailed_medical_info:J.detailed_medical_info||null,dental_history:J.dental_history||null,family_medical_history:J.family_medical_history||null,lifestyle_habits:J.lifestyle_habits||null,notes:J.notes||null,consent_given:J.consent_given||null};if(ae=await Kt.patients.create(ue),!(ae!=null&&ae.id))throw new Error("Failed to create patient or retrieve new patient ID.");ie=ae.id,console.log("New patient created:",ie)}if(!E&&ie){const J=z.dh_selected_teeth,ue=J?Object.keys(J).map(Number):[];console.log("Saving patient dental history teeth map (with conditions):",JSON.stringify(J));try{await Kt.patients.savePatientDentalHistoryTeethWithConditions(ie,J),console.log("Patient dental history teeth (with conditions) saved successfully.")}catch(ge){console.error("Error saving patient dental history teeth:",ge),a({title:"Warning",description:`Patient info saved, but failed to save dental history teeth: ${ge.message}`,variant:"destructive"})}}a({title:"Success",description:G?"Patient information updated successfully.":E?"Basic patient info saved. Complete profile later.":"Patient created successfully. Edit to add documents."}),t(ie)}catch(G){console.error("Error saving patient:",G);let q="Failed to save patient information.";(G.message.startsWith("Auth")||G.message.startsWith("Failed to upload")||G.message.startsWith("Cannot upload")||G.message.startsWith("Upload succeeded"))&&(q=G.message),a({title:"Error",description:q,variant:"destructive"})}finally{o(!1)}},M=z=>{E?P(z):console.warn("onSubmit called unexpectedly in full mode")},j=async()=>{if(E)return;o(!0);const z=XDe[_]||[];if(console.log(`Validating fields for tab "${_}":`,z),z.length===0&&_!=="documents"&&console.warn(`No fields defined for validation on tab: ${_}`),z.length>0?await L.trigger(z):!0){console.log(`Validation passed for tab: ${_}`);const q=L.getValues();y(q),d(!1),h(q.patient_signature_consent||""),x(new Date),l(!0)}else console.log(`Validation failed for tab: ${_}`),a({title:"Validation Error",description:`Please fix the errors on the "${_.replace(/_/g," ").replace(/\b\w/g,q=>q.toUpperCase())}" tab before saving.`,variant:"destructive"});o(!1)},V=()=>{if(u&&g){const z={...g,acknowledgment:u,patient_signature_consent:f,consent_date:m||new Date,consent_given:u};P(z),l(!1),y(null)}else a({title:"Acknowledgment Required",description:"Please acknowledge and provide signature/date in the dialog to save.",variant:"destructive"})},X=()=>{const z=Od.indexOf(_);z<Od.length-1&&b(Od[z+1])},te=()=>{const z=Od.indexOf(_);z>0&&b(Od[z-1])};return w(nte,{...L,children:[c("div",{className:"space-y-6",children:E?w("form",{onSubmit:L.handleSubmit(M),className:"space-y-6",children:[w("div",{className:"space-y-6 pt-6 max-h-[calc(90vh-200px)] overflow-y-auto p-1",children:[w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Basic Patient Information"}),c("p",{className:"text-sm text-muted-foreground",children:"Enter the essential details for the new patient."})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c(He,{control:L.control,name:"first_name",render:({field:z})=>w(Oe,{children:[c(Pe,{children:"First Name"}),c(Ie,{children:c(ot,{placeholder:"John",...z})}),c(Ze,{})]})}),c(He,{control:L.control,name:"middle_name",render:({field:z})=>w(Oe,{children:[c(Pe,{children:"Middle Name"}),c(Ie,{children:c(ot,{placeholder:"Michael",...z})}),c(Ze,{})]})}),c(He,{control:L.control,name:"last_name",render:({field:z})=>w(Oe,{children:[c(Pe,{children:"Last Name"}),c(Ie,{children:c(ot,{placeholder:"Doe",...z})}),c(Ze,{})]})}),c(He,{control:L.control,name:"gender",render:({field:z})=>w(Oe,{children:[c(Pe,{children:"Gender"}),w(Ur,{onValueChange:z.onChange,defaultValue:z.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select gender"})})}),w($r,{children:[c(gt,{value:"male",children:"Male"}),c(gt,{value:"female",children:"Female"}),c(gt,{value:"other",children:"Other"})]})]}),c(Ze,{})]})}),c(He,{control:L.control,name:"age",render:({field:z})=>w(Oe,{children:[c(Pe,{children:"Age"}),c(Ie,{children:c(ot,{type:"number",placeholder:"25",...z,value:z.value??"",onChange:G=>z.onChange(G.target.value===""?null:G.target.valueAsNumber)})}),c(Ze,{})]})}),c(He,{control:L.control,name:"occupation",render:({field:z})=>w(Oe,{children:[c(Pe,{children:"Occupation"}),c(Ie,{children:c(ot,{placeholder:"Software Engineer",...z})}),c(Ze,{})]})}),c(He,{control:L.control,name:"phone",render:({field:z})=>w(Oe,{children:[c(Pe,{children:"Phone Number"}),c(Ie,{children:c(ot,{placeholder:"+1234567890",...z})}),c(Ze,{})]})})]})]}),w("div",{className:"flex justify-end gap-2 pt-4",children:[c(Le,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),c(Le,{type:"submit",disabled:i||S,children:i?w(Sr,{children:[c("span",{className:"mr-2",children:"Saving..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):S?w(Sr,{children:[c("span",{className:"mr-2",children:"Loading..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):"Save Changes"})]})]}):w("div",{className:"pt-6",children:[w(Cg,{value:_,onValueChange:b,className:"space-y-4",children:[c(Tg,{children:Od.map(z=>c(sl,{value:z,children:z.replace(/_/g," ").replace(/\b\w/g,G=>G.toUpperCase())},z))}),c(ki,{value:"personal",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:c(wDe,{})}),c(ki,{value:"contact",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:c(_De,{})}),c(ki,{value:"medical",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:c(LDe,{})}),c(ki,{value:"dental",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:c(UDe,{})}),w(ki,{value:"family_lifestyle",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1 space-y-8",children:[c(WDe,{}),c(VDe,{})]}),c(ki,{value:"documents",className:"max-h-[calc(90vh-250px)] overflow-y-auto p-1",children:c(HDe,{})})]}),w("div",{className:"flex justify-between gap-2 pt-4",children:[w("div",{children:[" ",w(Le,{type:"button",variant:"outline",onClick:te,disabled:Od.indexOf(_)===0,children:[c(i4,{className:"mr-2 h-4 w-4"})," Previous"]}),w(Le,{type:"button",variant:"outline",onClick:X,disabled:Od.indexOf(_)===Od.length-1,className:"ml-2",children:["Next ",c(nm,{className:"ml-2 h-4 w-4"})]})]}),w("div",{children:[" ",c(Le,{type:"button",variant:"outline",onClick:r,className:"mr-2",children:"Cancel"}),c(Le,{type:"button",onClick:j,disabled:i||S,children:i?w(Sr,{children:[c("span",{className:"mr-2",children:"Validating..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):S?w(Sr,{children:[c("span",{className:"mr-2",children:"Loading..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):"Save Changes"})]})]})]})})," ",c(Za,{open:s,onOpenChange:l,children:w(Da,{className:"sm:max-w-[525px]",children:[w(Ia,{children:[w(Ra,{className:"flex items-center",children:[c(rx,{className:"h-5 w-5 text-green-600 mr-2"})," Consent & Acknowledgment"]}),c(oo,{children:"Please review, acknowledge, and sign below before saving the patient information."})]}),w("div",{className:"space-y-4 py-4",children:[w("div",{className:"flex items-start space-x-3 rounded-md border p-4 shadow-sm",children:[c(Ps,{id:"dialog-acknowledgment",checked:u,onCheckedChange:z=>d(z===!0),className:"mt-1"}),w("div",{className:"grid gap-1.5 leading-none",children:[c("label",{htmlFor:"dialog-acknowledgment",className:"text-sm font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I confirm that the information provided is complete and accurate to the best of my knowledge."}),!u&&c("p",{className:"text-sm text-destructive",children:"Acknowledgment is required."})]})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"dialog-signature",children:"Patient Signature (Type full name)"}),c(ot,{id:"dialog-signature",placeholder:"Type your full name",value:f,onChange:z=>h(z.target.value)}),c("p",{className:"text-xs text-muted-foreground",children:"Typing your name here acts as your digital signature."})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"dialog-consent-date",children:"Date"}),c(ot,{id:"dialog-consent-date",type:"date",value:m?m.toISOString().split("T")[0]:"",onChange:z=>x(z.target.value?new Date(z.target.value):null)})]})]}),w(lo,{children:[c(y3,{asChild:!0,children:c(Le,{type:"button",variant:"outline",children:"Cancel"})}),c(Le,{type:"button",onClick:V,disabled:!u||i,children:i?w(Sr,{children:[c("span",{className:"mr-2",children:"Saving..."}),c(Zn,{className:"h-4 w-4 animate-spin"})]}):"Confirm & Save"})]})]})})]})}function ZDe(){var co,bo,Cr;const[e,t]=$H();Uo();const[r,n]=A.useState(new Date),[a,i]=A.useState("week"),[o,s]=A.useState(null),[l,u]=A.useState(!1),[d,f]=A.useState(!1),[h,m]=A.useState(null),[x,g]=A.useState("patient-select"),[y,_]=A.useState(""),[b,S]=A.useState(null),[C,E]=A.useState(null),[O,T]=A.useState([]),[I,L]=A.useState([]),[U,P]=A.useState([]),[M,j]=A.useState([]),[V,X]=A.useState(!1),[te,z]=A.useState(""),[G,q]=A.useState(null),[Y,Z]=A.useState(""),{toast:D}=vn(),K=100,Q="bg-booked-bg text-booked-icon border border-booked-border",ie="bg-canceled-bg text-canceled-icon border border-canceled-border line-through opacity-70",[ae,oe]=A.useState(null),[de,J]=A.useState(!1),[ue,ge]=A.useState({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),ne=Array.from({length:11},(xt,wt)=>{const mr=wt+8;return Vt(new Date().setHours(mr,0),"HH:mm")}),[Ne,Re]=A.useState(null),[De,pe]=A.useState(null),[Je,mt]=A.useState(!1),dt=async()=>{try{let xt,wt;if(a==="day"?(xt=Cl(r),wt=Zv(r)):a==="week"?(xt=as(r,{weekStartsOn:1}),wt=O0(r,{weekStartsOn:1})):a==="month"&&(xt=Bo(r),wt=um(r)),!xt||!wt){console.error("Invalid view state, cannot determine date range:",a);return}console.log(`Fetching appointments from ${xt.toISOString()} to ${wt.toISOString()}`);const mr=await Kt.appointments.getByDateRange(xt.toISOString(),wt.toISOString());T(Array.isArray(mr)?mr:[])}catch(xt){console.error("Error fetching appointments:",xt),T([])}},Tt=async()=>{try{const xt=await Kt.patients.getAll();L(xt||[])}catch(xt){console.error("Error fetching patients:",xt),L([])}},lt=async()=>{try{const xt=await Kt.staff.getDoctors();P(xt||[])}catch(xt){console.error("Error fetching all doctors:",xt),P([])}},_e=async(xt,wt,mr)=>{if(!xt||!wt||isNaN(mr)||mr<=0){j([]);return}X(!0);try{const Zt=`${Vt(xt,"yyyy-MM-dd")}T${wt}:00`,ce=cL(Zt,"yyyy-MM-dd'T'HH:mm:ss",new Date);if(!Lp(ce))throw new Error(`Invalid combined date/time string: ${Zt}`);const Se=new Date(ce.getTime()+mr*6e4),ye=lL(ce),we=lL(Se),be=await Kt.staff.getAvailableDoctors(ye,we);j(be||[]),C&&!be.some(ke=>ke.id===C.id)&&E(null)}catch(Nr){console.error("Error fetching available doctors:",Nr),D({variant:"destructive",title:"Error Fetching Doctors",description:"Could not fetch available doctors for the selected slot."}),j([])}finally{X(!1)}};A.useEffect(()=>{dt(),Tt(),lt();const xt=LD("appointments",wt=>{console.log("Appointment change detected:",wt),dt()});return()=>{xt.unsubscribe()}},[r,a]),A.useEffect(()=>{const xt=e.get("date"),wt=e.get("patientId"),mr=e.get("treatmentId"),Nr=e.get("description");let Zt=null;if(xt){const ce=on(xt);Lp(ce)?(Zt=ce,n(Zt)):(console.warn("Invalid date received from query params:",xt),D({title:"Invalid Date",description:"The date from the treatment plan was invalid.",variant:"destructive"}))}wt&&Zt?(async()=>{try{const Se=await Kt.patients.getById(wt);Se?(S(Se),ge(ye=>({...ye,type:"Scheduled Visit",reason_for_visit:Nr||"",treatment_id:mr||null})),q(Zt),g("appointment-details"),u(!0),oe(mr),t({},{replace:!0})):(D({title:"Patient Not Found",description:"Could not find the patient specified by the treatment plan.",variant:"destructive"}),oe(null))}catch(Se){console.error("Error fetching patient from redirect:",Se),D({title:"Error",description:"Could not fetch patient details from the treatment plan.",variant:"destructive"}),oe(null)}})():(xt||wt||mr||Nr)&&(console.log("Partial booking parameters received, not auto-opening modal.",{dateStr:xt,patientId:wt,treatmentId:mr}),oe(null))},[e]),A.useEffect(()=>{if(l&&x==="appointment-details"){const xt=parseInt(ue.duration);let wt=null,mr="";o?(wt=o.date,mr=o.time):G&&Y&&(wt=G,mr=Y),wt&&mr&&!isNaN(xt)?_e(wt,mr,xt):j([])}},[l,x,o,G,Y,ue.duration]),A.useEffect(()=>{d?(async()=>{if(h&&h.treatment_id){mt(!0),Re(null),pe(null);try{const wt=await Kt.patients.getTreatmentVisitById(h.treatment_id);if(wt)if(Re(wt),wt.treatment_plan_id){const mr=await Kt.patients.getTreatmentPlanDetails(wt.treatment_plan_id);mr&&mr.data?pe(mr.data.title||"Unnamed Plan"):(console.warn("Could not fetch plan details for plan ID:",wt.treatment_plan_id),pe("Plan details unavailable"))}else pe("Plan ID missing in visit");else console.warn("Could not fetch treatment visit for ID:",h.treatment_id)}catch(wt){console.error("Error fetching treatment details for appointment:",wt),D({title:"Error",description:"Could not load related treatment details for this appointment.",variant:"destructive"})}finally{mt(!1)}}else Re(null),pe(null),mt(!1)})():(Re(null),pe(null),mt(!1))},[h,d]);const Ce=async xt=>{if(_(xt),xt.length>2)try{const wt=await Kt.patients.search(xt);L(wt||[])}catch(wt){console.error("Error searching patients:",wt),L([])}else xt.length===0&&Tt()},We=async xt=>{console.log("handleBookAppointment called. selectedDoctor:",C),J(!0);try{if(!b||!C){console.error("Booking validation failed: Missing patient or doctor",{selectedPatient:b,selectedDoctor:C}),D({variant:"destructive",title:"Missing Information",description:"Please select a patient and a doctor."}),J(!1);return}let wt;const mr=Cl(new Date);if(o){wt=new Date(o.date);const[we,be]=o.time.split(":").map(Number);wt.setHours(we,be,0,0)}else{if(!G||!Y){D({variant:"destructive",title:"Missing Information",description:"Please select a date and time."}),J(!1);return}const[we,be]=Y.split(":").map(Number);if(isNaN(we)||isNaN(be)){D({variant:"destructive",title:"Invalid Time",description:"Invalid time format selected."}),J(!1);return}if(wt=new Date(G),wt.setHours(we,be,0,0),!Lp(wt)){D({variant:"destructive",title:"Invalid Date/Time",description:"Invalid date or time selected."}),J(!1);return}}const Nr=new Date;if(th(Cl(wt),mr)){D({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past dates."}),J(!1);return}if(Cp(wt)&&th(wt,Nr)){D({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past times on the current day."}),J(!1);return}const Zt=parseInt(xt.duration);if(isNaN(Zt)||Zt<=0){D({variant:"destructive",title:"Invalid Duration",description:"Invalid appointment duration selected."}),J(!1);return}const ce=new Date(wt.getTime()+Zt*6e4),Se={patient_id:b.id,staff_id:C.id,title:xt.treatment_id?"Scheduled Visit":xt.type,start_time:wt.toISOString(),end_time:ce.toISOString(),type:xt.treatment_id?"Scheduled Visit":xt.type,reason_for_visit:xt.reason_for_visit,notes:xt.notes,status:"scheduled",treatment_id:xt.treatment_id||ae||null},ye=await Kt.appointments.create(Se);if(ye!=null&&ye.id&&ye.start_time&&ye.patient_id){const we=ye.id,be=ye.patient_id,ke=on(ye.start_time);try{await Kt.communications.schedule({patientId:be,appointmentId:we,type:"appointment_reminder",channel:"app",scheduledFor:new Date().toISOString(),customMessage:`Your appointment for ${xt.type==="Scheduled Visit"?xt.reason_for_visit:xt.type} with Dr. ${C==null?void 0:C.first_name} ${C==null?void 0:C.last_name} on ${Vt(ke,"PPP 'at' p")} is confirmed.`})}catch(Ye){console.error("Error scheduling immediate app confirmation:",Ye)}if(b!=null&&b.phone){const Ye=dx(ke,24);if(th(new Date,Ye))try{await Kt.communications.schedule({patientId:be,appointmentId:we,type:"appointment_reminder",channel:"sms",scheduledFor:Ye.toISOString(),customMessage:`Reminder: Your appointment for ${xt.type==="Scheduled Visit"?xt.reason_for_visit:xt.type} with Dr. ${C==null?void 0:C.first_name} ${C==null?void 0:C.last_name} is tomorrow at ${Vt(ke,"p")}. Call us if you need to reschedule.`})}catch(at){console.error("Error scheduling SMS reminder:",at)}}const et={...ye,patients:b?{id:b.id,first_name:b.first_name,last_name:b.last_name,email:b.email,phone:b.phone}:null,staff:C?{id:C.id,first_name:C.first_name,last_name:C.last_name,role:C.role,specialization:C.specialization}:null},pt=!!ae;u(!1),m(et),pt||f(!0),D({title:"Appointment Booked Successfully!",description:`Appointment for ${b==null?void 0:b.first_name} with Dr. ${C==null?void 0:C.first_name} has been scheduled.`}),ge({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),s(null),q(null),Z(""),g("patient-select"),oe(null),await dt()}else console.error("Failed to create appointment or missing critical data from response.",ye),D({variant:"destructive",title:"Booking Failed",description:"Could not create the appointment. Please try again."})}catch(wt){console.error("Error booking appointment:",wt),D({variant:"destructive",title:"Booking Error",description:`An unexpected error occurred: ${wt instanceof Error?wt.message:"Unknown error"}. Please try again.`})}finally{J(!1)}},ft=(xt,wt)=>{xt.stopPropagation(),m({...wt,notes:wt.notes||"",type:wt.type||"checkup"}),f(!0)},vt=async()=>{if(!h||!h.id)return;const xt=h.id;try{await Kt.appointments.cancel(xt);try{await Kt.communications.cancelByAppointment(xt),console.log(`Cancellation request sent for communications related to appointment ${xt}`)}catch(wt){console.error(`Failed to cancel communications for appointment ${xt}:`,wt),D({variant:"destructive",title:"Communication Cancellation Failed",description:"Could not cancel scheduled reminders. Please check manually."})}f(!1),await dt(),D({title:"Appointment Cancelled",description:"The appointment and any scheduled reminders have been cancelled."})}catch(wt){console.error("Error cancelling appointment:",wt),D({variant:"destructive",title:"Cancellation Failed",description:`Could not cancel appointment: ${wt instanceof Error?wt.message:"Unknown error"}`})}},Fe=async xt=>{try{if(!h||!h.id)return;const wt={title:xt.type,type:xt.type,notes:xt.notes};await Kt.appointments.update(h.id,wt),f(!1),await dt()}catch(wt){console.error("Error updating appointment:",wt),alert(`Failed to update appointment: ${wt instanceof Error?wt.message:"Unknown error"}`)}},Ve=(xt,wt)=>{const mr=new Date(xt),[Nr,Zt]=wt.split(":").map(Number);mr.setHours(Nr,Zt,0,0);const ce=new Date(mr);return ce.setHours(Nr+1,Zt,0,0),Array.isArray(O)?O.filter(ye=>{if(!ye||!ye.start_time||!ye.end_time)return!1;try{const we=on(ye.start_time),be=on(ye.end_time);return!Lp(we)||!Lp(be)?(console.warn("Invalid date found in appointment, skipping:",ye),!1):we<ce&&be>mr}catch(we){return console.error("Error parsing appointment dates:",ye,we),!1}}):[]},_t=xt=>{const wt=Cl(xt),mr=Zv(xt);return Array.isArray(O)?O.filter(Nr=>{if(!Nr||!Nr.start_time)return!1;try{const Zt=on(Nr.start_time);return Lp(Zt)?Zt>=wt&&Zt<=mr:(console.warn("Invalid start date found in appointment, skipping:",Nr),!1)}catch(Zt){return console.error("Error parsing appointment start date:",Nr,Zt),!1}}):[]},At=async xt=>{if(!xt){console.error("PatientForm onSuccess called without a patient ID."),g("patient-select");return}try{const wt=await Kt.patients.getById(xt);if(!wt)throw new Error("Failed to fetch newly created patient details.");S(wt),g("appointment-details")}catch(wt){console.error("Error after creating patient:",wt),alert(`Patient created, but failed to fetch details: ${wt instanceof Error?wt.message:"Unknown error"}. Please select the patient manually.`),g("patient-select")}},ut=()=>{g("patient-select")},wr=()=>n(a1e(r)),nr=()=>n(v1(r,1)),Jr=()=>n(Pa(r,-1)),dn=()=>n(Pa(r,1)),bn=()=>n(u6(r,1)),Pi=()=>n(ul(r,1)),fn=()=>{const xt=cL(te,"dd/MM/yyyy",new Date);Lp(xt)?(n(xt),z("")):D({variant:"destructive",title:"Invalid Date Format",description:"Please enter date as DD/MM/YYYY."})},oi=(xt,wt)=>{const mr=new Date,Nr=Cl(mr),Zt=Cl(xt);if(th(Zt,Nr)){D({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past dates."});return}if(Cp(xt)){const[Se,ye]=wt.split(":").map(Number),we=new Date(xt);if(we.setHours(Se,ye,0,0),th(we,mr)){D({variant:"destructive",title:"Booking Restricted",description:"Cannot book appointments for past times on the current day."});return}}s({date:xt,time:wt}),g("patient-select"),S(null),E(null),ge({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),u(!0);const ce=parseInt(ue.duration);_e(xt,wt,ce)},Vn=()=>w("div",{className:"space-y-4",children:[w("div",{className:"flex gap-2",children:[c(ot,{placeholder:"Search patients by name, email, or phone...",value:y,onChange:xt=>Ce(xt.target.value)}),w(Le,{onClick:()=>{g("new-patient"),E(null)},children:[c(Xc,{className:"h-4 w-4 mr-2"}),"New Patient"]})]}),c("div",{className:"h-[300px] overflow-y-auto space-y-2",children:Array.isArray(I)&&I.map(xt=>c(Le,{variant:"outline",className:"w-full justify-start",onClick:()=>{S(xt),g("appointment-details")},children:w("div",{className:"flex items-center",children:[c(ao,{className:"h-4 w-4 mr-2"}),w("div",{className:"text-left",children:[c("p",{className:"font-medium",children:`${xt.first_name} ${xt.last_name}`}),c("p",{className:"text-sm text-muted-foreground",children:xt.phone||"No phone"})]})]})},xt.id))})]}),Ja=()=>{const xt=!!ue.treatment_id;return w("div",{className:"space-y-4",children:[(!o||G)&&w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"manual-date",children:"Date"}),c(ot,{id:"manual-date",type:"date",value:G?Vt(G,"yyyy-MM-dd"):"",onChange:wt=>q(wt.target.value?on(wt.target.value):null),disabled:!!o&&!xt})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"manual-time",children:"Time"}),c(ot,{id:"manual-time",type:"time",value:Y,onChange:wt=>Z(wt.target.value),disabled:!!o&&!xt})]})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Select Doctor"}),w(Ur,{value:(C==null?void 0:C.id)||"",onValueChange:wt=>{const mr=M.find(Nr=>Nr.id===wt);E(mr||null)},disabled:V,children:[c(jr,{children:c(qr,{placeholder:V?"Loading doctors...":"Choose an available doctor"})}),w($r,{children:[!V&&M.length===0&&c(gt,{value:"no-doctors",disabled:!0,children:"No doctors available for this slot"}),M.map(wt=>w(gt,{value:wt.id,children:["Dr. ",wt.first_name," ",wt.last_name," ",wt.specialization&&`(${wt.specialization})`]},wt.id))]})]})]}),b&&w("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[c(ao,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"font-medium",children:`${b.first_name} ${b.last_name}`}),c("p",{className:"text-sm text-muted-foreground",children:b.phone||"No phone"})]})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Appointment Type"}),w(Ur,{value:xt?"Scheduled Visit":ue.type||"",onValueChange:wt=>{xt||ge({...ue,type:wt})},disabled:xt,children:[c(jr,{children:c(qr,{placeholder:"Select type"})}),c($r,{children:xt?c(gt,{value:"Scheduled Visit",children:"Scheduled Visit"}):w(Sr,{children:[c(gt,{value:"checkup",children:"Checkup"}),c(gt,{value:"cleaning",children:"Cleaning"}),c(gt,{value:"filling",children:"Filling"}),c(gt,{value:"root-canal",children:"Root Canal"}),ue.type&&!["checkup","cleaning","filling","root-canal","Scheduled Visit"].includes(ue.type)&&c(gt,{value:ue.type,children:ue.type})]})})]})]}),ue.reason_for_visit&&w("div",{className:"space-y-2",children:[c(Yt,{children:"Reason for Visit"}),c("p",{className:"text-sm p-3 bg-muted rounded-md whitespace-pre-wrap border",children:ue.reason_for_visit})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Duration"}),w(Ur,{value:ue.duration,onValueChange:wt=>{ge({...ue,duration:wt});const mr=parseInt(wt);let Nr=null,Zt="";o&&!xt?(Nr=o.date,Zt=o.time):G&&Y&&(Nr=G,Zt=Y),Nr&&Zt&&!isNaN(mr)&&_e(Nr,Zt,mr)},children:[c(jr,{children:c(qr,{placeholder:"Select duration"})}),w($r,{children:[c(gt,{value:"30",children:"30 minutes"}),c(gt,{value:"60",children:"1 hour"}),c(gt,{value:"90",children:"1.5 hours"}),c(gt,{value:"120",children:"2 hours"})]})]})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Notes"}),c(Yr,{value:ue.notes,onChange:wt=>ge({...ue,notes:wt.target.value}),placeholder:"Add any notes about the appointment..."})]}),w(lo,{children:[c(Le,{variant:"outline",onClick:()=>g("patient-select"),disabled:de,children:"Back"}),c(Le,{onClick:()=>We(ue),disabled:de,children:de?w(Sr,{children:[c(Zn,{className:"mr-2 h-4 w-4 animate-spin"})," Booking..."]}):"Book Appointment"})]})]})},Qa=()=>a==="day"?Pt():a==="week"?Ge():a==="month"?An():null,Dn=xt=>xt==="cancelled"?ie:Q,Ge=()=>{const xt=as(r,{weekStartsOn:1}),wt=O0(r,{weekStartsOn:1}),mr=M2({start:xt,end:wt}),Nr=new Date;return w(Yb,{delayDuration:100,children:[" ",w(cr,{children:[w("div",{className:"grid grid-cols-8 border-b",children:[c("div",{className:"p-4 font-medium text-muted-foreground",children:"Time"}),mr.map(Zt=>w("div",{className:`p-4 text-center border-l ${Cp(Zt)?"bg-blue-50":""}`,children:[c("div",{className:"font-medium",children:Vt(Zt,"EEE")}),c("div",{className:"text-sm text-muted-foreground",children:Vt(Zt,"d")})]},Zt.toISOString()))]}),c("div",{children:ne.map(Zt=>w("div",{className:"grid grid-cols-8 border-b last:border-0",children:[c("div",{className:"p-4 text-sm text-right text-muted-foreground",children:Zt}),mr.map(ce=>{const Se=Ve(ce,Zt);let ye=!1;if(Cp(ce)){const[we,be]=Zt.split(":").map(Number),ke=new Date(ce);ke.setHours(we,be,0,0),th(ke,Nr)&&(ye=!0)}return c("div",{onClick:()=>oi(ce,Zt),className:`border-l p-1 relative transition-colors overflow-hidden ${ye?"bg-muted/30 cursor-not-allowed opacity-70":"hover:bg-muted/50 cursor-pointer"}`,style:{height:`${K}px`},children:w("div",{className:"flex flex-wrap gap-2 h-full items-start content-start p-1.5",children:[" ",Se.map(we=>{var be,ke,et,pt;return w(Xb,{children:[c(Zb,{asChild:!0,children:c("div",{className:`w-7 h-7 rounded-md flex items-center justify-center cursor-pointer ring-2 transition-all ${Dn(we.status)} ${we.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:Ye=>ft(Ye,we),children:we.status==="cancelled"?c(VA,{className:"h-4 w-4 text-canceled-icon"}):c(WA,{className:"h-4 w-4 text-booked-icon"})})}),w(U2,{side:"top",align:"center",className:"bg-background border shadow-lg rounded-lg p-3 text-sm w-60",children:[w("div",{className:"flex items-center mb-2",children:[c(ao,{className:"h-5 w-5 mr-2 text-muted-foreground flex-shrink-0"})," ",w("span",{className:"font-semibold",children:[(be=we.patients)==null?void 0:be.first_name," ",(ke=we.patients)==null?void 0:ke.last_name]})]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:["Dr. ",(et=we.staff)==null?void 0:et.first_name," ",(pt=we.staff)==null?void 0:pt.last_name]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:[c(Yc,{className:"inline h-3 w-3 mr-1"}),we.start_time?Vt(on(we.start_time),"h:mm a"):"No time"," - ",we.end_time?Vt(on(we.end_time),"h:mm a"):""]}),w("p",{className:"text-muted-foreground text-xs",children:[c(GA,{className:"inline h-3 w-3 mr-1"}),we.type]}),we.status==="cancelled"&&c("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},we.id)})]})},ce.toISOString())})]},Zt))})]})]})},Pt=()=>{const xt=new Date;return w(Yb,{delayDuration:100,children:[" ",w(cr,{children:[w("div",{className:"grid grid-cols-2 border-b",children:[c("div",{className:"p-4 font-medium text-muted-foreground",children:"Time"}),w("div",{className:`p-4 text-center border-l ${Cp(r)?"bg-blue-50":""}`,children:[c("div",{className:"font-medium",children:Vt(r,"EEEE")}),c("div",{className:"text-sm text-muted-foreground",children:Vt(r,"MMMM d, yyyy")})]})]}),c("div",{children:ne.map(wt=>{const mr=Ve(r,wt);let Nr=!1;if(Cp(r)){const[Zt,ce]=wt.split(":").map(Number),Se=new Date(r);Se.setHours(Zt,ce,0,0),th(Se,xt)&&(Nr=!0)}return w("div",{className:"grid grid-cols-2 border-b last:border-0",children:[c("div",{className:"p-4 text-sm text-right text-muted-foreground",children:wt}),c("div",{onClick:()=>oi(r,wt),className:`border-l relative transition-colors overflow-hidden ${Nr?"bg-muted/30 cursor-not-allowed opacity-70":"hover:bg-muted/50 cursor-pointer"}`,style:{height:`${K}px`},children:w("div",{className:"flex flex-wrap gap-2 h-full items-start content-start p-1.5",children:[" ",mr.map(Zt=>{var ce,Se,ye,we;return w(Xb,{children:[c(Zb,{asChild:!0,children:c("div",{className:`w-7 h-7 rounded-md flex items-center justify-center cursor-pointer ring-2 transition-all ${Dn(Zt.status)} ${Zt.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:be=>ft(be,Zt),children:Zt.status==="cancelled"?c(VA,{className:"h-4 w-4 text-canceled-icon"}):c(WA,{className:"h-4 w-4 text-booked-icon"})})}),w(U2,{side:"top",align:"center",className:"bg-background border shadow-lg rounded-lg p-3 text-sm w-60",children:[w("div",{className:"flex items-center mb-2",children:[c(ao,{className:"h-5 w-5 mr-2 text-muted-foreground flex-shrink-0"})," ",w("span",{className:"font-semibold",children:[(ce=Zt.patients)==null?void 0:ce.first_name," ",(Se=Zt.patients)==null?void 0:Se.last_name]})]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:["Dr. ",(ye=Zt.staff)==null?void 0:ye.first_name," ",(we=Zt.staff)==null?void 0:we.last_name]}),w("p",{className:"text-muted-foreground text-xs mb-1",children:[c(Yc,{className:"inline h-3 w-3 mr-1"}),Zt.start_time?Vt(on(Zt.start_time),"h:mm a"):"No time"," - ",Zt.end_time?Vt(on(Zt.end_time),"h:mm a"):""]}),w("p",{className:"text-muted-foreground text-xs",children:[c(GA,{className:"inline h-3 w-3 mr-1"}),Zt.type]}),Zt.status==="cancelled"&&c("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},Zt.id)})]})})]},wt)})})]})]})},An=()=>{const xt=Bo(r),wt=um(r),mr=as(xt,{weekStartsOn:1}),Nr=O0(wt,{weekStartsOn:1}),Zt=M2({start:mr,end:Nr}),ce=[];let Se=[];return Zt.forEach(ye=>{Se.push(ye),Se.length===7&&(ce.push(Se),Se=[])}),Se.length>0&&ce.push(Se),w(cr,{children:[w(Yb,{delayDuration:300,children:[" ",c("div",{className:"grid grid-cols-7 border-b",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(ye=>c("div",{className:"p-2 text-center font-medium",children:ye},ye))}),c("div",{children:ce.map((ye,we)=>c("div",{className:"grid grid-cols-7",children:ye.map(be=>{const ke=_t(be),et=k4(be,r),pt=ke.filter(Ye=>Ye.status!=="cancelled");return w("div",{onClick:()=>{n(be),i("day")},className:`border p-2 min-h-[120px] relative ${et?Cp(be)?"bg-blue-50":"":"bg-gray-100 text-gray-400"} hover:bg-muted/50 cursor-pointer transition-colors`,children:[c("div",{className:`text-right font-medium ${Cp(be)?"text-blue-600":""}`,children:Vt(be,"d")}),w("div",{className:"mt-1 flex flex-wrap gap-1 overflow-hidden max-h-[80px]",children:[ke.slice(0,3).map(Ye=>{var at,st,It,Gt;return w(Xb,{children:[c(Zb,{asChild:!0,children:c("div",{className:`w-5 h-5 rounded flex items-center justify-center cursor-pointer ring-1 transition-all ${Dn(Ye.status)} ${Ye.status==="cancelled"?"ring-canceled-ring animate-shake":"ring-booked-ring animate-pulse hover:ring-offset-1"}`,onClick:or=>{or.stopPropagation(),ft(or,Ye)},children:Ye.status==="cancelled"?c(VA,{className:"h-3 w-3 text-canceled-icon"}):c(WA,{className:"h-3 w-3 text-booked-icon"})})}),w(U2,{side:"top",align:"start",className:"bg-gradient-to-b from-white to-gray-50 border border-gray-200 shadow-xl rounded-lg p-4 text-sm w-64",children:[w("div",{className:"flex items-center mb-2",children:[c(ao,{className:"h-5 w-5 mr-2 text-muted-foreground"})," ",w("span",{className:"font-bold text-gray-800",children:[(at=Ye.patients)==null?void 0:at.first_name," ",(st=Ye.patients)==null?void 0:st.last_name]})," "]}),w("p",{className:"text-gray-600 text-xs mb-1 font-medium",children:["Dr. ",(It=Ye.staff)==null?void 0:It.first_name," ",(Gt=Ye.staff)==null?void 0:Gt.last_name]})," ",w("p",{className:"text-muted-foreground text-xs mb-1",children:[c(Yc,{className:"inline h-3 w-3 mr-1"}),Ye.start_time?Vt(on(Ye.start_time),"h:mm a"):"No time"," - ",Ye.end_time?Vt(on(Ye.end_time),"h:mm a"):""]}),w("p",{className:"text-muted-foreground text-xs",children:[c(GA,{className:"inline h-3 w-3 mr-1"}),Ye.type]}),Ye.status==="cancelled"&&c("p",{className:"text-red-600 text-xs font-semibold mt-1",children:"(Cancelled)"})]})]},Ye.id)}),ke.length>3&&w("div",{className:"text-xs text-muted-foreground text-center",children:["+",pt.length-3," more"]})]})]},be.toISOString())})},we))})]})," "]})};return w("div",{className:"space-y-6",children:[c(ka,{heading:"Appointments",text:"Manage and schedule patient appointments",children:w("div",{className:"flex items-center gap-4",children:[c(Cg,{value:a,onValueChange:xt=>i(xt),className:"w-fit",children:w(Tg,{children:[c(sl,{value:"month",children:"Month"}),c(sl,{value:"week",children:"Week"}),c(sl,{value:"day",children:"Day"})]})}),(()=>{let xt="",wt,mr;if(a==="day")xt=Vt(r,"MMMM d, yyyy"),wt=Jr,mr=dn;else if(a==="week"){const Nr=as(r,{weekStartsOn:1}),Zt=O0(r,{weekStartsOn:1});xt=`${Vt(Nr,"MMM d")} - ${Vt(Zt,"MMM d, yyyy")}`,wt=wr,mr=nr}else a==="month"&&(xt=Vt(r,"MMMM yyyy"),wt=bn,mr=Pi);return w("div",{className:"flex items-center gap-2",children:[c(Le,{variant:"outline",size:"icon",onClick:wt,children:c(i4,{className:"h-4 w-4"})}),c("span",{className:"text-sm font-medium",children:xt}),c(Le,{variant:"outline",size:"icon",onClick:mr,children:c(nm,{className:"h-4 w-4"})})]})})(),w("div",{className:"flex gap-2 ml-auto",children:[c(ot,{className:"w-32",placeholder:"DD/MM/YYYY",value:te,onChange:xt=>z(xt.target.value)}),c(Le,{variant:"outline",onClick:fn,children:"Go to Date"})]}),w(Le,{onClick:()=>{s(null),g("patient-select"),u(!0),j([]),E(null)},children:[c(Xc,{className:"h-4 w-4 mr-2"})," New Appointment"]})]})}),Qa(),c(Za,{open:l,onOpenChange:xt=>{u(xt),xt||(s(null),q(null),Z(""),S(null),E(null),j([]),_(""),g("patient-select"),ge({type:"checkup",duration:"30",notes:"",reason_for_visit:"",treatment_id:null}),oe(null))},children:w(Da,{className:"overflow-y-auto",children:[w(Ia,{children:[c(Ra,{children:x==="patient-select"?"Select Patient":x==="new-patient"?"New Patient Registration":ae?"Book Treatment Visit":"Appointment Details"}),o&&x!=="new-patient"&&!ae&&w(oo,{children:[Vt(o.date,"MMMM d, yyyy")," at ",o.time]}),G&&x!=="new-patient"&&ae&&w(oo,{children:["For Treatment Visit: ",Vt(G,"MMMM d, yyyy")]}),x==="new-patient"&&c(oo,{children:"Enter the new patient's details below."})]}),w("div",{className:"max-h-[75vh] overflow-y-auto p-4",children:[x==="patient-select"&&Vn(),x==="new-patient"&&c(cR,{mode:"simplified",onSuccess:At,onCancel:ut}),x==="appointment-details"&&Ja()]})]})}),c(Za,{open:d,onOpenChange:f,children:w(Da,{children:[w(Ia,{children:[c(Ra,{children:"Appointment Details"}),h&&h.start_time&&w(oo,{children:[Vt(on(h.start_time),"MMMM d, yyyy")," at"," ",Vt(on(h.start_time),"h:mm a")]})]}),h&&w("div",{className:"space-y-4",children:[w("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[c(ao,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[w("p",{className:"font-medium",children:[(co=h.patients)==null?void 0:co.first_name," ",(bo=h.patients)==null?void 0:bo.last_name]}),w("div",{className:"flex items-center text-sm text-muted-foreground",children:[c(d5,{className:"h-3.5 w-3.5 mr-1"}),((Cr=h.patients)==null?void 0:Cr.phone)||"No phone number"]})]})]}),h.staff&&w("div",{className:"flex items-center space-x-4 p-4 bg-muted rounded-lg",children:[c(sce,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[w("p",{className:"font-medium",children:["Dr. ",h.staff.first_name," ",h.staff.last_name]}),h.staff.specialization&&c("p",{className:"text-sm text-muted-foreground",children:h.staff.specialization})]})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Status"}),c("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.status==="completed"?"bg-green-100 text-green-800":h.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:h.status})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Type"}),w(Ur,{value:h.treatment_id?"Scheduled Visit":h.type||"",onValueChange:xt=>{!h.treatment_id&&(h.status==="scheduled"||h.status==="confirmed")&&m({...h,type:xt})},disabled:h.status!=="scheduled"&&h.status!=="confirmed"||!!h.treatment_id,children:[c(jr,{children:c(qr,{placeholder:"Select type"})}),c($r,{children:h.treatment_id?c(gt,{value:"Scheduled Visit",children:"Scheduled Visit"}):w(Sr,{children:[c(gt,{value:"checkup",children:"Checkup"}),c(gt,{value:"cleaning",children:"Cleaning"}),c(gt,{value:"filling",children:"Filling"}),c(gt,{value:"root-canal",children:"Root Canal"}),h.type&&!["checkup","cleaning","filling","root-canal","Scheduled Visit"].includes(h.type)&&c(gt,{value:h.type,children:h.type})]})})]})]}),h.reason_for_visit&&w("div",{className:"space-y-2",children:[c(Yt,{children:"Reason for Visit"}),c("p",{className:"text-sm p-3 bg-muted rounded-md whitespace-pre-wrap border",children:h.reason_for_visit})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Notes"}),c(Yr,{value:h.notes||"",onChange:xt=>m({...h,notes:xt.target.value}),placeholder:"Add any notes about the appointment...",disabled:h.status!=="scheduled"&&h.status!=="confirmed"})]}),w(lo,{children:[(h.status==="scheduled"||h.status==="confirmed")&&w(Sr,{children:[c(Le,{variant:"destructive",onClick:vt,children:"Cancel Appointment"}),c(Le,{onClick:()=>Fe({type:h.type,notes:h.notes||""}),children:"Update Appointment"})]}),h.status!=="scheduled"&&h.status!=="confirmed"&&c(Le,{variant:"outline",onClick:()=>f(!1),children:"Close"})]}),Je&&w("div",{className:"p-4 text-center",children:[c(Zn,{className:"h-6 w-6 animate-spin mx-auto text-muted-foreground"}),c("p",{className:"text-sm text-muted-foreground mt-2",children:"Loading treatment details..."})]}),!Je&&Ne&&w("div",{className:"border-t pt-4 mt-4",children:[c("h4",{className:"text-md font-semibold mb-2 text-primary",children:"Related Treatment Information"}),De&&c("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:w("p",{className:"text-sm font-medium text-blue-700",children:["Part of Treatment Plan: ",c("span",{className:"font-bold",children:De})]})}),w("div",{className:"space-y-2 text-sm p-3 bg-slate-50 rounded-md",children:[w("div",{className:"flex justify-between",children:[c("span",{className:"text-muted-foreground",children:"Visit Number:"}),c("span",{className:"font-medium",children:Ne.visit_number||"N/A"})]}),w("div",{className:"flex justify-between",children:[c("span",{className:"text-muted-foreground",children:"Procedures:"}),c("span",{className:"font-medium text-right break-words max-w-[70%]",children:Ne.procedures||"N/A"})]}),Ne.estimated_duration&&w("div",{className:"flex justify-between",children:[c("span",{className:"text-muted-foreground",children:"Est. Duration:"}),c("span",{className:"font-medium",children:Ne.estimated_duration})]}),Ne.scheduled_date&&w("div",{className:"flex justify-between",children:[c("span",{className:"text-muted-foreground",children:"Originally Scheduled:"}),c("span",{className:"font-medium",children:Vt(on(Ne.scheduled_date),"MMM d, yyyy")})]})]})]})]})]})})]})}var uR="Progress",dR=100,[JDe,FJe]=Yi(uR),[QDe,eIe]=JDe(uR),Jte=A.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=tIe,...o}=e;(a||a===0)&&!Cz(a)&&console.error(rIe(`${a}`,"Progress"));const s=Cz(a)?a:dR;n!==null&&!Tz(n,s)&&console.error(nIe(`${n}`,"Progress"));const l=Tz(n,s)?n:null,u=PS(l)?i(l,s):void 0;return c(QDe,{scope:r,value:l,max:s,children:c(hr.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":PS(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":tre(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});Jte.displayName=uR;var Qte="ProgressIndicator",ere=A.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=eIe(Qte,r);return c(hr.div,{"data-state":tre(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});ere.displayName=Qte;function tIe(e,t){return`${Math.round(e/t*100)}%`}function tre(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function PS(e){return typeof e=="number"}function Cz(e){return PS(e)&&!isNaN(e)&&e>0}function Tz(e,t){return PS(e)&&!isNaN(e)&&e<=t&&e>=0}function rIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${dR}\`.`}function nIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${dR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rre=Jte,aIe=ere;const fR=A.forwardRef(({className:e,value:t,...r},n)=>c(rre,{ref:n,className:Rt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:c(aIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));fR.displayName=rre.displayName;const iIe=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return e}},Pz=e=>e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):"Record",oIe=(e,t)=>typeof e!="object"||e===null?Pz(t):e.subjective!==void 0||e.objective!==void 0||e.assessment!==void 0||e.plan!==void 0?"Consultation Note":e.code!==void 0?"Diagnosis":e.procedure!==void 0?"Treatment":e.medication!==void 0||e.dosage!==void 0||e.frequency!==void 0||e.duration!==void 0?"Prescription":e.test_name!==void 0||e.result_value!==void 0||e.units!==void 0||e.reference_range!==void 0?"Lab Result":e.details!==void 0&&t==="note"?"Other":t==="examination"&&e.description!==void 0&&Object.keys(e).filter(r=>r!=="general_notes"&&r!=="description").length===0?"Examination":t==="procedure"&&e.details!==void 0&&Object.keys(e).filter(r=>r!=="general_notes"&&r!=="details").length===0?"Treatment":Pz(t),sIe=({record:e})=>{let t=null,r=!1;if(typeof e.description=="string"&&e.description.trim().startsWith("{")&&e.description.trim().endsWith("}"))try{t=JSON.parse(e.description),r=!0}catch(s){console.warn(`Failed to parse description JSON for record ${e.id}, treating as raw string:`,s),r=!1}else if(typeof e.description=="string")r=!1;else return console.warn(`Record description is not a string for record ${e.id}`),c("p",{className:"text-sm text-muted-foreground",children:"Could not display details."});if(!r)return e.description&&e.description.trim()!==""?c("p",{className:"text-sm whitespace-pre-wrap",children:e.description}):c("p",{className:"text-sm text-muted-foreground",children:"No details provided."});if(t===null||typeof t!="object"||Object.keys(t).length===0)return c("p",{className:"text-sm text-muted-foreground",children:"No details provided."});const n=Object.keys(t),a=n.length===1&&n[0]==="general_notes",i=!t.general_notes||String(t.general_notes).trim()==="";if(a&&i)return c("p",{className:"text-sm text-muted-foreground",children:"No details provided."});const o=["subjective","objective","assessment","plan","code","description","procedure","details","medication","dosage","frequency","duration","test_name","result_value","reference_range"].some(s=>t[s]!==void 0&&t[s]!==null&&String(t[s]).trim()!=="");return a&&!i?c("p",{className:"text-sm whitespace-pre-wrap",children:t.general_notes}):!o&&i?c("p",{className:"text-sm text-muted-foreground",children:"No details provided."}):w("div",{className:"text-sm space-y-1 mt-2",children:[t.general_notes&&!i&&w("p",{children:[c("strong",{children:"General Notes:"})," ",t.general_notes]}),t.subjective&&w("p",{children:[c("strong",{children:"Subjective:"})," ",t.subjective]}),t.objective&&w("p",{children:[c("strong",{children:"Objective:"})," ",t.objective]}),t.assessment&&w("p",{children:[c("strong",{children:"Assessment:"})," ",t.assessment]}),t.plan&&w("p",{children:[c("strong",{children:"Plan:"})," ",t.plan]}),t.code&&w("p",{children:[c("strong",{children:"Code:"})," ",t.code]}),t.description&&!t.subjective&&w("p",{children:[c("strong",{children:"Description:"})," ",t.description]}),t.procedure&&w("p",{children:[c("strong",{children:"Procedure:"})," ",t.procedure]}),t.details&&!t.procedure&&w("p",{children:[c("strong",{children:"Details:"})," ",t.details]}),t.medication&&w("p",{children:[c("strong",{children:"Medication:"})," ",t.medication]}),t.dosage&&w("p",{children:[c("strong",{children:"Dosage:"})," ",t.dosage]}),t.frequency&&w("p",{children:[c("strong",{children:"Frequency:"})," ",t.frequency]}),t.duration&&w("p",{children:[c("strong",{children:"Duration:"})," ",t.duration]}),t.test_name&&w("p",{children:[c("strong",{children:"Test:"})," ",t.test_name]}),t.result_value&&w("p",{children:[c("strong",{children:"Result:"})," ",t.result_value," ",t.units||""]}),t.reference_range&&w("p",{children:[c("strong",{children:"Range:"})," ",t.reference_range]}),t.details&&e.record_type==="note"&&w("p",{children:[c("strong",{children:"Details:"})," ",t.details]})]})};function nre({medicalRecords:e=[],onAddMedicalRecord:t}){const[r,n]=A.useState(""),o=e.map(f=>{let h=null;try{typeof f.description=="string"&&(h=JSON.parse(f.description))}catch(m){console.warn(`Failed to parse description for record ${f.id}:`,f.description,m)}return{...f,displayType:oIe(h,f.record_type||"")}}).filter(f=>{var y;const h=((y=f.teeth)==null?void 0:y.map(_=>_.id).join(" "))||"",m=JSON.stringify({...f,description:"",teeth:""}).toLowerCase(),x=typeof f.description=="string"?f.description.toLowerCase():"",g=r.toLowerCase();return m.includes(g)||x.includes(g)||h.includes(g)}).reduce((f,h)=>{const m=h.record_date?new Date(h.record_date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown Date";return f[m]||(f[m]=[]),f[m].unshift(h),f},{}),s=Object.keys(o).sort((f,h)=>f==="Unknown Date"?1:h==="Unknown Date"?-1:new Date(h).getTime()-new Date(f).getTime()),[l,u]=A.useState(new Set),d=f=>{u(h=>{const m=new Set(h);return m.has(f)?m.delete(f):m.add(f),m})};return w(cr,{children:[w(yr,{className:"flex flex-row items-center justify-between",children:[c(xr,{children:"Medical Records History"}),w(Le,{variant:"outline",size:"sm",onClick:t,children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add Record"]})]}),w(vr,{children:[c("div",{className:"flex justify-between items-center mb-4",children:c(ot,{type:"search",value:r,onChange:f=>n(f.target.value),placeholder:"Search records (type, details, teeth...)"})}),s.length>0?c("div",{className:"space-y-6",children:s.map(f=>{const h=o[f],m=l.has(f);return w("div",{children:[w("div",{className:"flex justify-between items-center mb-2 pb-2 border-b",children:[c("h3",{className:"text-lg font-medium",children:f}),c(Le,{variant:"ghost",size:"sm",onClick:()=>d(f),children:m?"Hide Details":`View Details (${h.length})`})]}),m&&c("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:h.map(x=>{var g;return w("div",{className:"p-3 border rounded bg-background",children:[" ",c("p",{className:"font-semibold",children:x.displayType}),w("p",{className:"text-sm text-muted-foreground",children:["Time: ",(g=iIe(x.record_date))==null?void 0:g.split(", ").pop()," "]}),c(sIe,{record:x}),x.staff&&w("p",{className:"text-xs text-muted-foreground mt-1",children:["Recorded by: ",x.staff.first_name," ",x.staff.last_name]}),x.teeth&&x.teeth.length>0&&w("div",{className:"mt-2 pt-2 border-t border-dashed",children:[c("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Associated Teeth:"}),c("div",{className:"flex flex-wrap gap-1",children:x.teeth.map(y=>c(Zu,{variant:"secondary",className:"text-xs font-normal",children:y.id},y.id))})]}),x.attachments&&x.attachments.length>0&&w("div",{className:"mt-2 pt-2 border-t border-dashed",children:[c("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Attachments:"}),c("p",{className:"text-sm",children:JSON.stringify(x.attachments)})]})]},x.id)})})]},f)})}):w("p",{className:"text-sm text-muted-foreground",children:["No medical records found",r?" matching your search":"","."]})]})]})}const lIe="/DentalCare-Pro/teethselectdiagram.svg",Fi=({icon:e,label:t,value:r})=>r?w("div",{className:"flex items-start py-2",children:[c(e,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),w("div",{children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:t}),typeof r=="string"||typeof r=="number"?c("p",{className:"text-base",children:r}):c("div",{className:"text-base",children:r})]})]}):null,DT=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString()}catch{return e}},cIe=e=>{if(!e||typeof e!="object")return"No significant family history reported.";const t=e==null?void 0:e.conditions,r=e==null?void 0:e.other;let n="",a="";return Array.isArray(t)&&t.length>0&&(n=t.map(i=>i.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())).join(", ")),r&&typeof r=="string"&&r.trim()!==""&&(a=`Other: ${r.trim()}`),n&&a?`${n}, ${a}`:n||a||"No significant family history reported."},uIe=e=>{if(!e||typeof e!="object")return"No lifestyle habits reported.";const t=[];Object.entries(e).forEach(([n,a])=>{if(a&&typeof a=="string"&&a.trim()!==""){const i=n.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase());t.push(`${i}: ${a.trim()}`)}});const r=t.length>0?t.join("; "):"No lifestyle habits reported.";return console.log("generateLifestyleSummary result:",r,"Input habits:",e),r},dIe=e=>{if(!e||typeof e!="object")return"No specific details reported.";const t=[];return e.has_implants==="yes"&&t.push(`Implants: Yes${e.implants_details?` (${e.implants_details})`:""}`),e.recent_health_changes==="yes"&&t.push(`Recent Health Changes: Yes${e.health_changes_details?` (${e.health_changes_details})`:""}`),e.recent_medical_screenings==="yes"&&t.push(`Screenings: Yes${e.screenings_details?` (${e.screenings_details})`:""}`),e.dental_material_allergies==="yes"&&t.push(`Dental Material Allergies: Yes${e.dental_material_allergies_details?` (${e.dental_material_allergies_details})`:""}`),e.immunizations_up_to_date&&e.immunizations_up_to_date!=="not_sure"&&t.push(`Immunizations Up To Date: ${e.immunizations_up_to_date}`),e.recent_immunizations&&e.recent_immunizations.trim()!==""&&t.push(`Recent Immunizations: ${e.recent_immunizations}`),t.length>0?t.join("; "):"No specific details reported."},fIe=e=>{if(!e||typeof e!="object")return"N/A";const t=[];return e.chief_complaint&&t.push(`Complaint: ${e.chief_complaint}`),(e.has_pain==="yes"||e.has_pain===!0)&&t.push(`Pain: Yes (Scale: ${e.pain_scale||"N/A"}, Desc: ${e.pain_description||"N/A"})`),e.brushing_frequency&&t.push(`Brushing: ${e.brushing_frequency}`),e.flossing_habits&&t.push(`Flossing: ${e.flossing_habits}`),e.past_treatments_details&&t.push(`Past Tx: ${e.past_treatments_details}`),(e.orthodontic_history==="yes"||e.orthodontic_history===!0)&&t.push(`Ortho: Yes (${e.orthodontic_details||"details missing"})`),(e.bite_issues==="yes"||e.bite_issues===!0)&&t.push(`Bite Issues: Yes (${e.bite_symptoms||"details missing"})`),t.length>0?t.join("; "):"No specific dental history reported."},hIe=e=>{if(!Array.isArray(e)||e.length===0)return"None reported.";const t=e.filter(r=>r&&typeof r=="object"&&r.name);return t.length===0?"None reported.":w("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[" ",t.map((r,n)=>w("li",{children:[c("span",{className:"font-medium",children:r.name}),r.dosage&&` (${r.dosage})`,r.frequency&&` - ${r.frequency}`]},n))]})},pIe=e=>{if(!Array.isArray(e)||e.length===0)return"None reported.";const t=e.filter(r=>r&&typeof r=="object"&&r.type);return t.length===0?"None reported.":w("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[" ",t.map((r,n)=>w("li",{children:[c("span",{className:"font-medium",children:r.type}),r.date&&` (Approx. ${r.date})`,r.notes&&w("span",{className:"block text-xs text-muted-foreground pl-2",children:["Notes: ",r.notes]})," "]},n))]})};function mIe({patient:e,appointments:t=[],medicalRecords:r=[],dentalHistoryTeeth:n=[],onEdit:a,onBookAppointment:i,onAddMedicalRecord:o}){const[s,l]=A.useState(null),[u,d]=A.useState(!0);if(A.useEffect(()=>{d(!0),fetch(lIe).then(y=>{if(!y.ok)throw console.error("SVG Fetch Response Status:",y.status,y.statusText),new Error(`Network response was not ok: ${y.status} ${y.statusText}`);return y.text()}).then(y=>{l(y),d(!1)}).catch(y=>{console.error("Error fetching SVG:",y),d(!1)})},[]),console.log("Patient object received in PatientDetailsView:",e),console.log("Appointments received:",t),console.log("Medical Records received:",r),console.log("PatientDetailsView received dentalHistoryTeeth prop:",JSON.stringify(n,null,2)),!e)return null;const f=Array.isArray(e.documents)?e.documents:[],h=f.find(y=>y.type==="profile_photo"),m=f.filter(y=>y.type!=="profile_photo"),x={healthy:"Healthy",decayed:"Decayed",filled:"Filled",missing:"Missing","treatment-planned":"Planned Tx","root-canal":"Root Canal",extraction:"Extraction",crown:"Crown","has-treatment-before":"Prior Tx","recommended-to-be-treated":"Recommend Tx"},g=y=>x[y]||y.replace(/_/g," ");return w("div",{className:"space-y-6",children:[w(cr,{children:[c(yr,{children:c(xr,{children:"Personal Information"})}),w(vr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(Fi,{icon:ao,label:"Full Name",value:`${e.first_name||""} ${e.last_name||""}`}),c(Fi,{icon:ao,label:"Gender",value:e.gender}),c(Fi,{icon:ao,label:"Age",value:e.age}),c(Fi,{icon:ao,label:"Registration Number",value:e.registration_number})]})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Contact Information"})}),w(vr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(Fi,{icon:d5,label:"Phone",value:e.phone}),c(Fi,{icon:o4,label:"Email",value:e.email}),c(Fi,{icon:_ce,label:"Address",value:`${e.address||""}, ${e.city||""}, ${e.state||""} ${e.postal_code||""}`})]})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Emergency Contact"})}),w(vr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(Fi,{icon:ao,label:"Name",value:e.emergency_contact_name}),c(Fi,{icon:d5,label:"Phone",value:e.emergency_contact_phone}),c(Fi,{icon:ao,label:"Relationship",value:e.emergency_contact_relationship})]})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Medical & Dental Overview"})}),w(vr,{className:"space-y-6",children:[" ",w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c(Fi,{icon:Sce,label:"Height",value:e.height?`${e.height} cm`:"N/A"}),c(Fi,{icon:Fce,label:"Weight",value:e.weight?`${e.weight} kg`:"N/A"}),c(Fi,{icon:mce,label:"Blood Group",value:e.blood_group})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[c(Fi,{icon:nce,label:"Allergies",value:Array.isArray(e.allergies)?e.allergies.join(", "):e.allergies||"None reported"}),c(Fi,{icon:HA,label:"Medical Conditions",value:Array.isArray(e.medical_conditions)?e.medical_conditions.join(", "):e.medical_conditions||"None reported"})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[c(Fi,{icon:HA,label:"Current Medications",value:hIe(e.current_medications)}),c(Fi,{icon:HA,label:"Previous Surgeries / Hospitalizations",value:pIe(e.previous_surgeries)})]}),w("div",{className:"space-y-4 pt-4 border-t",children:[c("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"History & Habits"}),c(Fi,{icon:zP,label:"Detailed Medical Info",value:dIe(e.detailed_medical_info)}),c(Fi,{icon:zP,label:"Dental History Summary",value:fIe(e.dental_history)}),c(Fi,{icon:l4,label:"Family Medical History",value:cIe(e.family_medical_history)}),c(Fi,{icon:T2,label:"Lifestyle Habits",value:uIe(e.lifestyle_habits)})]}),w("div",{className:"pt-4 border-t",children:[c("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Affected Teeth"}),u?c("p",{className:"text-sm text-muted-foreground",children:"Loading tooth chart..."}):s?Array.isArray(n)&&n.length>0?c("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-2",children:n.sort((y,_)=>y.tooth_id-_.tooth_id).map(y=>{let _='<p class="text-xs text-red-500">Not found</p>';try{const C=new DOMParser().parseFromString(s,"image/svg+xml").getElementById(`ID_${y.tooth_id}`);if(C){const E=C.cloneNode(!0);let O="0 0 50 50",T="scale(0.5) translate(-50, -50)";try{const j=document.createElementNS("http://www.w3.org/2000/svg","svg");j.style.position="absolute",j.style.visibility="hidden",j.appendChild(E.cloneNode(!0)),document.body.appendChild(j);const V=j.firstChild.getBBox();document.body.removeChild(j),V&&V.width>0&&V.height>0?(O=`${V.x-10} ${V.y-10} ${V.width+10*2} ${V.height+10*2}`,T=""):console.warn(`Could not get valid BBox for tooth ${y.tooth_id}. Using fallback viewBox/transform.`)}catch(j){console.warn(`Error getting BBox for tooth ${y.tooth_id}:`,j,". Using fallback viewBox/transform.")}const I="#FFFFFF",L="#666666",U="0.5";E.querySelectorAll("path").forEach(j=>{j.setAttribute("fill",I),j.setAttribute("stroke",L),j.setAttribute("stroke-width",U)});const M=E.outerHTML;_=`<svg viewBox="${O}" preserveAspectRatio="xMidYMid meet" width="40" height="40"><g ${T?`transform="${T}"`:""}>${M}</g></svg>`}else console.warn(`SVG element for tooth ID_${y.tooth_id} not found.`)}catch(b){console.error("Error parsing SVG content:",b),_='<p class="text-xs text-red-500">Parse error</p>'}return w("div",{className:"flex flex-col items-center border p-2 rounded-md shadow-sm bg-white hover:shadow-md transition-shadow duration-150",title:`Tooth ${y.tooth_id}`,children:[w("span",{className:"text-xs font-bold text-gray-700",children:["T",y.tooth_id]}),c("div",{dangerouslySetInnerHTML:{__html:_},className:"my-1"}),y.conditions&&y.conditions.length>0&&c("div",{className:"mt-1 text-center",children:y.conditions.filter(b=>!(y.conditions&&y.conditions.length>1&&b==="healthy")).map((b,S)=>w("span",{className:"block text-[10px] leading-tight text-blue-600",children:[g(b)," "]},S))})]},y.tooth_id)})}):Array.isArray(n)&&n.length===0?c("p",{className:"text-sm text-muted-foreground",children:"No affected teeth selected in dental history."}):c("p",{className:"text-sm text-muted-foreground",children:"Loading affected teeth data..."}):c("p",{className:"text-sm text-red-500",children:"Error loading tooth chart SVG."})]})]})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Documents & Consent"})}),w(vr,{className:"space-y-4",children:[h&&w("div",{className:"flex items-start py-2",children:[c(KH,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),w("div",{children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Profile Photo"}),c("img",{src:h.url,alt:"Profile",className:"mt-1 max-w-xs max-h-40 rounded border"})]})]}),m.length>0&&w("div",{className:"space-y-3 pt-2",children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Other Documents"}),m.map(y=>w("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-muted/50",children:[w("div",{className:"flex items-center space-x-2",children:[c(kce,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),c("span",{className:"text-sm truncate",title:y.name,children:y.name}),w("span",{className:"text-xs text-muted-foreground",children:["(",y.type,")"]})]}),c("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline ml-4",children:"View"})]},y.path))]}),w("div",{className:"flex items-start py-2",children:[c(fce,{className:"h-5 w-5 text-muted-foreground mr-3 mt-1 flex-shrink-0"}),w("div",{children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Consent Given"}),c("p",{className:"text-base",children:e.consent_given?"Yes":"No"}),e.consent_date&&w("p",{className:"text-sm text-muted-foreground mt-1",children:["Date: ",DT(e.consent_date)]}),e.signature_url&&w("div",{className:"mt-2",children:[c("p",{className:"text-sm font-medium text-muted-foreground",children:"Signature"}),c("img",{src:e.signature_url,alt:"Signature",className:"mt-1 max-w-xs max-h-20 rounded border"})]})]})]}),f.length===0&&!h&&c("p",{className:"text-sm text-muted-foreground",children:"No documents uploaded."})]})]}),c(nre,{medicalRecords:r,onAddMedicalRecord:o}),w(cr,{children:[c(yr,{children:c(xr,{children:"Appointment History"})}),c(vr,{children:t&&t.length>0?c("div",{className:"space-y-4",children:t.map(y=>w("div",{className:"p-3 border rounded",children:[c("p",{className:"font-semibold",children:y.title||"Appointment"}),w("p",{className:"text-sm text-muted-foreground",children:[DT(y.start_time)," - ",DT(y.end_time)]}),w("p",{className:"text-sm",children:["Type: ",y.type]}),w("p",{className:"text-sm",children:["Status: ",y.status]}),y.notes&&w("p",{className:"text-sm mt-1",children:["Notes: ",y.notes]}),y.staff&&w("p",{className:"text-xs text-muted-foreground mt-1",children:["With: ",y.staff.first_name," ",y.staff.last_name]})]},y.id))}):c("p",{className:"text-sm text-muted-foreground",children:"No past appointments found."})})]}),w("div",{className:"flex justify-end space-x-2 mt-6",children:[" ",w(Le,{variant:"outline",onClick:()=>i(e.id),children:[c(Nh,{className:"mr-2 h-4 w-4"})," Book New Appointment"]}),c(Le,{onClick:a,children:"Edit Profile"})]})]})}function gIe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var hR="ScrollArea",[are,LJe]=Yi(hR),[vIe,au]=are(hR),ire=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[s,l]=A.useState(null),[u,d]=A.useState(null),[f,h]=A.useState(null),[m,x]=A.useState(null),[g,y]=A.useState(null),[_,b]=A.useState(0),[S,C]=A.useState(0),[E,O]=A.useState(!1),[T,I]=A.useState(!1),L=zr(t,P=>l(P)),U=yg(a);return c(vIe,{scope:r,type:n,dir:U,scrollHideDelay:i,scrollArea:s,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:O,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:T,onScrollbarYEnabledChange:I,onCornerWidthChange:b,onCornerHeightChange:C,children:c(hr.div,{dir:U,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});ire.displayName=hR;var ore="ScrollAreaViewport",sre=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=au(ore,r),s=A.useRef(null),l=zr(t,s,o.onViewportChange);return w(Sr,{children:[c("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),c(hr.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});sre.displayName=ore;var gf="ScrollAreaScrollbar",pR=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=au(gf,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,s=e.orientation==="horizontal";return A.useEffect(()=>(s?i(!0):o(!0),()=>{s?i(!1):o(!1)}),[s,i,o]),a.type==="hover"?c(yIe,{...n,ref:t,forceMount:r}):a.type==="scroll"?c(xIe,{...n,ref:t,forceMount:r}):a.type==="auto"?c(lre,{...n,ref:t,forceMount:r}):a.type==="always"?c(mR,{...n,ref:t}):null});pR.displayName=gf;var yIe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=au(gf,e.__scopeScrollArea),[i,o]=A.useState(!1);return A.useEffect(()=>{const s=a.scrollArea;let l=0;if(s){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),c(is,{present:r||i,children:c(lre,{"data-state":i?"visible":"hidden",...n,ref:t})})}),xIe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=au(gf,e.__scopeScrollArea),i=e.orientation==="horizontal",o=P3(()=>l("SCROLL_END"),100),[s,l]=gIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,a.scrollHideDelay,l]),A.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(l("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,l,o]),c(is,{present:r||s!=="hidden",children:c(mR,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ut(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ut(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),lre=A.forwardRef((e,t)=>{const r=au(gf,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=A.useState(!1),s=e.orientation==="horizontal",l=P3(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?u:d)}},10);return Y1(r.viewport,l),Y1(r.content,l),c(is,{present:n||i,children:c(mR,{"data-state":i?"visible":"hidden",...a,ref:t})})}),mR=A.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=au(gf,e.__scopeScrollArea),i=A.useRef(null),o=A.useRef(0),[s,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=hre(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return kIe(h,o.current,s,m)}return r==="horizontal"?c(wIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=Oz(h,s,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?c(_Ie,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=Oz(h,s);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),wIe=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=au(gf,e.__scopeScrollArea),[o,s]=A.useState(),l=A.useRef(null),u=zr(t,l,i.onScrollbarXChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c(ure,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":T3(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),mre(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:DS(o.paddingLeft),paddingEnd:DS(o.paddingRight)}})}})}),_Ie=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=au(gf,e.__scopeScrollArea),[o,s]=A.useState(),l=A.useRef(null),u=zr(t,l,i.onScrollbarYChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c(ure,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":T3(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),mre(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:DS(o.paddingTop),paddingEnd:DS(o.paddingBottom)}})}})}),[bIe,cre]=are(gf),ure=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=au(gf,r),[x,g]=A.useState(null),y=zr(t,L=>g(L)),_=A.useRef(null),b=A.useRef(""),S=m.viewport,C=n.content-n.viewport,E=Ni(d),O=Ni(l),T=P3(f,10);function I(L){if(_.current){const U=L.clientX-_.current.left,P=L.clientY-_.current.top;u({x:U,y:P})}}return A.useEffect(()=>{const L=U=>{const P=U.target;(x==null?void 0:x.contains(P))&&E(U,C)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[S,x,C,E]),A.useEffect(O,[n,O]),Y1(x,T),Y1(m.content,T),c(bIe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Ni(i),onThumbPointerUp:Ni(o),onThumbPositionChange:O,onThumbPointerDown:Ni(s),children:c(hr.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ut(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),_.current=x.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I(L))}),onPointerMove:Ut(e.onPointerMove,I),onPointerUp:Ut(e.onPointerUp,L=>{const U=L.target;U.hasPointerCapture(L.pointerId)&&U.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),_.current=null})})})}),OS="ScrollAreaThumb",dre=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=cre(OS,e.__scopeScrollArea);return c(is,{present:r||a.hasThumb,children:c(SIe,{ref:t,...n})})}),SIe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=au(OS,r),o=cre(OS,r),{onThumbPositionChange:s}=o,l=zr(t,f=>o.onThumbChange(f)),u=A.useRef(void 0),d=P3(()=>{u.current&&(u.current(),u.current=void 0)},100);return A.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=NIe(f,s);u.current=m,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,s]),c(hr.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ut(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),x=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:Ut(e.onPointerUp,o.onThumbPointerUp)})});dre.displayName=OS;var gR="ScrollAreaCorner",fre=A.forwardRef((e,t)=>{const r=au(gR,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c(AIe,{...e,ref:t}):null});fre.displayName=gR;var AIe=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=au(gR,r),[i,o]=A.useState(0),[s,l]=A.useState(0),u=!!(i&&s);return Y1(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),l(d)}),Y1(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?c(hr.div,{...n,ref:t,style:{width:i,height:s,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function DS(e){return e?parseInt(e,10):0}function hre(e,t){const r=e/t;return isNaN(r)?0:r}function T3(e){const t=hre(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function kIe(e,t,r,n="ltr"){const a=T3(r),i=a/2,o=t||i,s=a-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return pre([l,u],f)(e)}function Oz(e,t,r="ltr"){const n=T3(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,s=i-n,l=r==="ltr"?[0,o]:[o*-1,0],u=f6(e,l);return pre([0,o],[0,s])(u)}function pre(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function mre(e,t){return e>0&&e<t}var NIe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,s=r.top!==i.top;(o||s)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function P3(e,t){const r=Ni(e),n=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),A.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Y1(e,t){const r=Ni(t);ai(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var gre=ire,EIe=sre,CIe=fre;const df=A.forwardRef(({className:e,children:t,...r},n)=>w(gre,{ref:n,className:Rt("relative overflow-hidden",e),...r,children:[c(EIe,{className:"h-full w-full rounded-[inherit]",children:t}),c(vre,{}),c(CIe,{})]}));df.displayName=gre.displayName;const vre=A.forwardRef(({className:e,orientation:t="vertical",...r},n)=>c(pR,{ref:n,orientation:t,className:Rt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:c(dre,{className:"relative flex-1 rounded-full bg-border"})}));vre.displayName=pR.displayName;const TIe=je.object({record_date:je.string().refine(e=>!isNaN(Date.parse(e)),{message:"Invalid date format"}),record_type:je.enum(["examination","procedure","prescription","lab_result","note"],{required_error:"Record type is required"}),general_notes:je.string().optional(),consultation_subjective:je.string().optional(),consultation_objective:je.string().optional(),consultation_assessment:je.string().optional(),consultation_plan:je.string().optional(),diagnosis_code:je.string().optional(),diagnosis_description:je.string().optional(),treatment_procedure:je.string().optional(),treatment_details:je.string().optional(),prescription_medication:je.string().optional(),prescription_dosage:je.string().optional(),prescription_frequency:je.string().optional(),prescription_duration:je.string().optional(),lab_test_name:je.string().optional(),lab_result_value:je.string().optional(),lab_units:je.string().optional(),lab_reference_range:je.string().optional(),other_details:je.string().optional()});function yre({patientId:e,onSubmit:t,onCancel:r,isLoading:n}){const[a,i]=A.useState(void 0),[o,s]=A.useState([]),[l,u]=A.useState(!1),[d,f]=A.useState([]),h=sd({resolver:ld(TIe),defaultValues:{record_date:Vt(new Date,"yyyy-MM-dd"),record_type:void 0,general_notes:"",consultation_subjective:"",consultation_objective:"",consultation_assessment:"",consultation_plan:"",diagnosis_code:"",diagnosis_description:"",treatment_procedure:"",treatment_details:"",prescription_medication:"",prescription_dosage:"",prescription_frequency:"",prescription_duration:"",lab_test_name:"",lab_result_value:"",lab_units:"",lab_reference_range:"",other_details:""}}),m=h.watch("record_type");A.useEffect(()=>{i(m)},[m]);const x=b=>{f(b)},g=()=>{f([...o]),u(!0)},y=()=>{s([...d]),u(!1)},_=async b=>{await t(b,o),s([]),f([])};return w(Sr,{children:[" ",c(Dh,{...h,children:w("form",{onSubmit:h.handleSubmit(_),className:"flex flex-col h-full",children:[w(df,{className:"flex-grow pr-6 max-h-[calc(80vh-150px)]",children:[" ",w("div",{className:"space-y-6",children:[" ",w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:h.control,name:"record_date",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Record Date"}),c(Ie,{children:c(ot,{type:"date",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"record_type",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Record Type"}),w(Ur,{onValueChange:b.onChange,defaultValue:b.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select a record type"})})}),w($r,{children:[c(gt,{value:"examination",children:"Consultation / Examination / Diagnosis"}),c(gt,{value:"procedure",children:"Treatment / Procedure"}),c(gt,{value:"prescription",children:"Prescription"}),c(gt,{value:"lab_result",children:"Lab Result"}),c(gt,{value:"note",children:"Other Note"})]})]}),c(Ze,{})]})})]}),w(Oe,{children:[c(Pe,{children:"Select Teeth"})," ",w("div",{className:"flex items-center gap-4",children:[w(Le,{type:"button",variant:"outline",onClick:g,children:[c(H8,{className:"mr-2 h-4 w-4"}),"Select Teeth..."]}),c("div",{className:"text-sm text-muted-foreground flex-grow min-w-0",children:o.length>0?w("span",{className:"truncate",children:["Selected: ",o.sort((b,S)=>b-S).join(", ")]}):"No teeth selected"})]})," "]}),c(He,{control:h.control,name:"general_notes",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"General Notes (Optional)"}),c(Ie,{children:c(Yr,{placeholder:"Add any general notes applicable to this record...",rows:3,...b})}),c(Ze,{})]})}),a&&w(Cg,{value:a,className:"w-full mt-4",children:[c(ki,{value:"examination",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm mb-4",children:"Consultation / Examination / Diagnosis Details"}),c("p",{className:"text-xs text-muted-foreground mb-2",children:"Enter SOAP notes OR Diagnosis details below."}),c("h5",{className:"font-medium text-xs mb-2",children:"SOAP Notes (Optional)"}),w("div",{children:[c(He,{control:h.control,name:"consultation_subjective",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Subjective"}),c(Ie,{children:c(Yr,{rows:2,placeholder:"Patient's complaints, history...",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"consultation_objective",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Objective"}),c(Ie,{children:c(Yr,{rows:2,placeholder:"Clinical findings, exam results...",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"consultation_assessment",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Assessment"}),c(Ie,{children:c(Yr,{rows:2,placeholder:"Diagnosis, differential diagnosis...",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"consultation_plan",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Plan"}),c(Ie,{children:c(Yr,{rows:2,placeholder:"Treatment plan, follow-up...",...b})}),c(Ze,{})]})})]}),c("h5",{className:"font-medium text-xs mt-4 mb-2",children:"Diagnosis Details (Optional)"}),c(He,{control:h.control,name:"diagnosis_code",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Diagnosis Code (e.g., ICD-10)"}),c(Ie,{children:c(ot,{placeholder:"K02.1",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"diagnosis_description",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Diagnosis Description"}),c(Ie,{children:c(Yr,{placeholder:"Describe the diagnosis...",...b})}),c(Ze,{})]})})]})}),c(ki,{value:"procedure",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Treatment / Procedure Details"}),c(He,{control:h.control,name:"treatment_procedure",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Procedure (Code or Name)"}),c(Ie,{children:c(ot,{placeholder:"e.g., D2391, Composite Filling",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"treatment_details",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Treatment Notes/Details"}),c(Ie,{children:c(Yr,{placeholder:"Materials used, tooth number, outcome...",...b})}),c(Ze,{})]})})]})}),c(ki,{value:"prescription",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Prescription Details"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:h.control,name:"prescription_medication",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Medication Name"}),c(Ie,{children:c(ot,{placeholder:"Amoxicillin",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"prescription_dosage",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Dosage"}),c(Ie,{children:c(ot,{placeholder:"500mg",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"prescription_frequency",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Frequency"}),c(Ie,{children:c(ot,{placeholder:"TID (Three times a day)",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"prescription_duration",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Duration"}),c(Ie,{children:c(ot,{placeholder:"7 days",...b})}),c(Ze,{})]})})]})]})}),c(ki,{value:"lab_result",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Lab Result Details"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:h.control,name:"lab_test_name",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Test Name"}),c(Ie,{children:c(ot,{placeholder:"Complete Blood Count (CBC)",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"lab_result_value",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Result Value"}),c(Ie,{children:c(ot,{placeholder:"12.5",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"lab_units",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Units"}),c(Ie,{children:c(ot,{placeholder:"g/dL",...b})}),c(Ze,{})]})}),c(He,{control:h.control,name:"lab_reference_range",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Reference Range"}),c(Ie,{children:c(ot,{placeholder:"12.0-15.5 g/dL",...b})}),c(Ze,{})]})})]})]})}),c(ki,{value:"note",className:"mt-0 p-0",children:w("div",{className:"space-y-4 p-4 border rounded bg-muted/30",children:[c("h4",{className:"font-medium text-sm",children:"Other Note Details"}),c(He,{control:h.control,name:"other_details",render:({field:b})=>w(Oe,{children:[c(Pe,{children:"Details"}),c(Ie,{children:c(Yr,{placeholder:"Enter any other relevant details...",...b})}),c(Ze,{})]})})]})})]})]})," "]}),w("div",{className:"flex justify-end gap-4 pt-4 border-t mt-4",children:[" ",c(Le,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancel"}),w(Le,{type:"submit",disabled:n||!a,children:[n&&c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Record"]})]})]})}),c(Za,{open:l,onOpenChange:u,children:w(Da,{className:"max-w-2xl",children:[" ",w(Ia,{children:[c(Ra,{children:"Select Affected Teeth"}),c(oo,{children:"Click teeth in the chart below to select or deselect them for this medical record."})]}),c(C3,{initialState:d.reduce((b,S)=>(b[S]={isSelected:!0},b),{}),onToothSelect:x}),w(lo,{children:[c(Le,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c(Le,{onClick:y,children:"Confirm Selection"})]})]})})]})}function PIe({open:e,onOpenChange:t,patient:r,onSuccess:n}){return c(Za,{open:e,onOpenChange:t,children:w(Da,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c(Ia,{children:c(Ra,{children:r?"Edit Patient":"New Patient"})}),c(cR,{patient:r,onSuccess:n,onCancel:()=>t(!1)})]})})}function Dz(){const{id:e}=ny();return e?c(DIe,{}):c(OIe,{})}function OIe(){const e=Uo();vn();const[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,o]=A.useState(""),[s,l]=A.useState(!1);A.useEffect(()=>{u()},[]);const u=async()=>{try{const m=(await Kt.patients.getAll()).map(x=>({...x,profileCompletion:d(x)}));r(m),a(!1)}catch(h){console.error("Error fetching patients:",h),a(!1)}},d=h=>{if(!h)return 0;const m=["first_name","last_name","gender","age","phone","email","address","city","state","postal_code","emergency_contact_name","emergency_contact_phone","blood_group","allergies","medical_conditions"];let x=0;return m.forEach(g=>{h[g]!==null&&h[g]!==void 0&&h[g]!==""&&x++}),Math.floor(x/m.length*100)},f=async h=>{if(o(h),h.length>2)try{const x=(await Kt.patients.search(h)).map(g=>({...g,profileCompletion:d(g)}));r(x)}catch(m){console.error("Error searching patients:",m)}else h.length===0&&u()};return w("div",{className:"space-y-6",children:[c("div",{className:"flex items-center justify-between",children:w("div",{children:[c("h1",{className:"text-2xl font-semibold tracking-tight",children:"Patients"}),c("p",{className:"text-sm text-muted-foreground",children:"Manage patient information and appointments"})]})}),w("div",{className:"flex items-center gap-4",children:[w("div",{className:"relative flex-1",children:[c(s4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c(ot,{placeholder:"Search by name, phone, or registration number...",className:"pl-8",value:i,onChange:h=>f(h.target.value)})]}),w(Le,{onClick:()=>l(!0),children:[c(Xc,{className:"h-4 w-4 mr-2"}),"New Patient"]})]}),s&&c(PIe,{open:s,onOpenChange:l,onSuccess:h=>{l(!1),e(`/patients/${h}`)}}),n?c("div",{className:"text-center py-8",children:"Loading patients..."}):c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(h=>w(cr,{children:[c(vr,{className:"pt-6",children:w("div",{className:"flex flex-col space-y-2",children:[w("div",{className:"flex items-center justify-between",children:[w("h3",{className:"font-medium",children:[h.first_name," ",h.last_name]}),c("div",{className:`px-2 py-1 rounded-full text-xs ${h.profileCompletion===100?"bg-green-100 text-green-800":h.profileCompletion>50?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:h.profileCompletion===100?"Complete":h.profileCompletion>50?"In Progress":"Basic"})]}),w("div",{className:"flex items-center text-sm text-muted-foreground",children:[c(d5,{className:"h-4 w-4 mr-2"}),h.phone]}),h.email&&w("div",{className:"flex items-center text-sm text-muted-foreground",children:[c(o4,{className:"h-4 w-4 mr-2"}),h.email]}),w("div",{className:"mt-2",children:[w("div",{className:"flex items-center justify-between text-sm mb-1",children:[c("span",{children:"Profile Completion"}),w("span",{children:[h.profileCompletion,"%"]})]}),c(fR,{value:h.profileCompletion})]})]})}),w(Y0,{className:"flex justify-between",children:[c(Le,{variant:"outline",size:"sm",onClick:()=>e(`/patients/${h.id}`,{state:{action:"view"}}),children:"View Details"}),w(Le,{variant:"secondary",size:"sm",onClick:()=>e(`/patients/${h.id}`,{state:{action:"edit"}}),children:[c(ao,{className:"h-4 w-4 mr-1"}),h.profileCompletion<100?"Complete Profile":"Edit Profile"]})]})]},h.id))})]})}function DIe(){const e=Uo(),{id:t}=ny(),{state:r}=km(),[n,a]=A.useState(null),[i,o]=A.useState([]),[s,l]=A.useState([]),[u,d]=A.useState([]),[f,h]=A.useState(!0),[m,x]=A.useState((r==null?void 0:r.action)==="edit"),[g,y]=A.useState(!1),[_,b]=A.useState(!1),{toast:S}=vn();console.log(`Patients.tsx: PatientDetails rendering. isEditing: ${m}, Patient ID: ${t}`),A.useEffect(()=>{t&&C(t)},[t]);const C=async I=>{h(!0);try{Qt.invalidate(`patients:${I}`),Qt.invalidate(`appointments:patient:${I}`),Qt.invalidate(`medical_records:${I}`),Qt.invalidate(`patient_dental_history_teeth:${I}`);const[L,U,P,M]=await Promise.all([Kt.patients.getById(I),Kt.appointments.getByPatientId(I),Kt.patients.getMedicalRecords(I),Kt.patients.getPatientDentalHistoryTeeth(I)]);a(L),o(U||[]),l(P||[]),d(M||[])}catch(L){console.error("Error fetching patient details:",L)}finally{h(!1)}},E=()=>{y(!0)},O=async I=>{if(!t)return;b(!0);let L={general_notes:I.general_notes||void 0};switch(I.record_type){case"consultation":L={...L,subjective:I.consultation_subjective||void 0,objective:I.consultation_objective||void 0,assessment:I.consultation_assessment||void 0,plan:I.consultation_plan||void 0};break;case"diagnosis":L={...L,code:I.diagnosis_code||void 0,description:I.diagnosis_description||void 0};break;case"treatment":L={...L,procedure:I.treatment_procedure||void 0,details:I.treatment_details||void 0};break;case"prescription":L={...L,medication:I.prescription_medication||void 0,dosage:I.prescription_dosage||void 0,frequency:I.prescription_frequency||void 0,duration:I.prescription_duration||void 0};break;case"lab_result":L={...L,test_name:I.lab_test_name||void 0,result_value:I.lab_result_value||void 0,units:I.lab_units||void 0,reference_range:I.lab_reference_range||void 0};break;case"other":L={...L,details:I.other_details||void 0};break}Object.keys(L).forEach(U=>L[U]===void 0&&delete L[U]);try{await Kt.patients.createMedicalRecord({patient_id:t,record_date:I.record_date,record_type:I.record_type,description:JSON.stringify(L)},[]),S({title:"Success",description:"Medical record added successfully."}),y(!1),C(t)}catch(U){console.error("Error adding medical record:",U),S({title:"Error",description:"Failed to add medical record.",variant:"destructive"})}finally{b(!1)}},T=I=>{e(`/appointments?patientId=${I}&action=new`)};return f?c("div",{className:"flex items-center justify-center h-full",children:"Loading patient details..."}):n?w("div",{className:"space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{children:[c("h1",{className:"text-2xl font-semibold tracking-tight",children:m?"Edit Patient Profile":"Patient Details"}),w("p",{className:"text-sm text-muted-foreground",children:[n.first_name," ",n.last_name]})]}),w("div",{className:"flex gap-2",children:[c(Le,{variant:"outline",onClick:()=>e("/patients"),children:"Back to List"}),c(Le,{onClick:()=>{console.log(`Patients.tsx: Edit/View button clicked. Current isEditing: ${m}`),x(!m),console.log("Patients.tsx: setIsEditing called.")},children:m?"View Details":"Edit Profile"})]})]}),m?w(Sr,{children:[console.log(`Patients.tsx: Rendering PatientForm for editing. Key: ${(n==null?void 0:n.id)||"new-patient-form"}, Patient ID: ${n==null?void 0:n.id}`),c(cR,{patient:n,onSuccess:()=>{C(t),x(!1)},onCancel:()=>x(!1)},(n==null?void 0:n.id)||"new-patient-form")]}):c(mIe,{patient:n,appointments:i,medicalRecords:s,dentalHistoryTeeth:u,onEdit:()=>x(!0),onBookAppointment:T,onAddMedicalRecord:E}),c(Za,{open:g,onOpenChange:y,children:w(Da,{className:"max-w-2xl",children:[c(Ia,{children:c(Ra,{children:"Add New Medical Record"})}),c(yre,{patientId:t,onSubmit:O,onCancel:()=>y(!1),isLoading:_})]})})]}):c("div",{className:"flex items-center justify-center h-full",children:"Patient not found"})}function Iz(e,t){const[r,n]=A.useState(!1);return A.useEffect(()=>{let a;try{a=LD(e,i=>{t&&t(i)}),n(!0)}catch(i){console.error("Error subscribing to changes:",i),n(!1)}return()=>{a&&a.unsubscribe(),n(!1)}},[e,t]),r}function Rz(e,t={}){const[r,n]=A.useState(!1);return{update:A.useCallback(async(i,o)=>{n(!0),o&&o();try{const s=await e(i);return t.onSuccess&&t.onSuccess(s),s}catch(s){throw console.error(t.errorMessage||"Update failed",s),t.onError&&t.onError(s),s}finally{n(!1)}},[e,t]),loading:r}}const IIe=(e,t)=>{if(!t)return e;const n=t.toLowerCase().match(/^(\d+)(-(\d+))?\s*(day|week|month)s?$/);if(!n)return console.warn(`Invalid timeGap format: ${t}. Defaulting to 1 day.`),Pa(e,1);const a=parseInt(n[1],10),i=n[4];switch(i){case"day":return Pa(e,a);case"week":return v1(e,a);case"month":return ul(e,a);default:return console.warn(`Unknown timeGap unit: ${i}. Defaulting to 1 day.`),Pa(e,1)}},Qs={async getAllTreatmentPlans(){return Kt.patients.getTreatmentPlans(null)},async getPatientTreatmentPlans(e){return Kt.patients.getTreatmentPlans(e)},async createTreatmentPlan(e,t){const r={...e,title:e.title||"Untitled Plan",description:e.description||"No description",patient_id:e.patient_id||"",status:e.status||"planned",start_date:e.start_date||Vt(new Date,"yyyy-MM-dd"),priority:e.priority||"medium",ai_generated:e.ai_generated!==void 0?e.ai_generated:!1};return Kt.patients.createTreatmentPlan(r,t)},async createTreatmentPlanWithTreatments(e,t){const r={...e,title:e.title||"Untitled Plan",description:e.description||"No description",patient_id:e.patient_id||"",status:e.status||"planned",start_date:e.start_date||Vt(new Date,"yyyy-MM-dd"),priority:e.priority||"medium",ai_generated:e.ai_generated!==void 0?e.ai_generated:!1},n=t.map(a=>{const i=parseFloat(a.cost);return{...a,cost:isNaN(i)?0:i}});return Kt.patients.createTreatmentPlanWithTreatments(r,n)},async updateTreatmentPlan(e,t){return Kt.patients.updateTreatmentPlan(e,t)},async deleteTreatmentPlan(e){return Kt.patients.deleteTreatmentPlan(e)},async createTreatment(e){const t=parseFloat(e.cost),r={...e,cost:isNaN(t)?0:t};return Kt.patients.createTreatment(r)},async updateTreatment(e,t){const r={};for(const i in t)if(i==="cost"&&t.cost!==void 0){const o=parseFloat(t.cost);r.cost=isNaN(o)?void 0:o}else i==="status"&&t.status!==void 0?r.status=t.status:i==="description"&&t.description!==void 0?r.description=t.description:i==="type"&&t.type!==void 0?r.type=t.type:i==="priority"&&t.priority!==void 0?r.priority=t.priority:i==="plan_id"&&t.plan_id!==void 0?r.plan_id=t.plan_id:i==="scheduled_date"&&t.scheduled_date!==void 0?r.scheduled_date=t.scheduled_date?t.scheduled_date:null:i==="time_gap"&&t.time_gap!==void 0&&(r.time_gap=t.time_gap||null);const n=t.status,a=new Date().toISOString();return n==="completed"||n==="cancelled"?r.actual_end_time=a:n==="pending"?(r.actual_start_time=null,r.actual_end_time=null):n==="in_progress"&&(r.actual_start_time=a,r.actual_end_time=null),console.log(`Updating treatment ${e} with payload:`,r),Kt.patients.updateTreatment(e,r)},async deleteTreatment(e){return Kt.patients.deleteTreatment(e)},processTreatmentPlanData(e,t){return e.map(r=>{var d,f,h;const n=t.find(m=>m.id===r.patient_id),a=((d=r.treatments)==null?void 0:d.reduce((m,x)=>m+parseFloat(x.cost||0),0))||0,i=((f=r.treatments)==null?void 0:f.filter(m=>m.status==="completed").length)||0,o=((h=r.treatments)==null?void 0:h.length)||0,s=o?Math.round(i/o*100):0,l=Array.isArray(r.treatment_plan_teeth)?r.treatment_plan_teeth.map(m=>m.teeth).filter(m=>m!==null):[],u={...r};return delete u.treatment_plan_teeth,{...u,patientName:n?`${n.first_name} ${n.last_name}`:"Unknown Patient",totalCost:a,progress:s,completedTreatments:i,totalTreatments:o,teeth:l}})},async getVisitsByPlanId(e){if(!e)return console.warn("[treatmentService.getVisitsByPlanId] planId is required, exiting."),[];console.log(`[treatmentService.getVisitsByPlanId] Attempting for planId: ${e}`);try{console.log(`[treatmentService.getVisitsByPlanId] PRE-AWAIT for api.patients.getVisitsByPlanId with planId: ${e}`);const t=await Kt.patients.getVisitsByPlanId(e);if(console.log(`[treatmentService.getVisitsByPlanId] POST-AWAIT for api.patients.getVisitsByPlanId. Result for planId ${e}:`,t),!t)return console.warn(`[treatmentService.getVisitsByPlanId] visitsData is null/undefined for planId ${e}.`),[];if(!Array.isArray(t))return console.error(`[treatmentService.getVisitsByPlanId] visitsData is not an array for planId ${e}. Received:`,t),[];t.length===0&&console.log(`[treatmentService.getVisitsByPlanId] visitsData is an empty array for planId ${e}.`);const r=t.map((n,a)=>typeof n!="object"||n===null||typeof n.id>"u"?(console.warn(`[treatmentService.getVisitsByPlanId] Invalid visit object at index ${a} for planId ${e}:`,n),{id:"INVALID_VISIT_DATA"}):{id:n.id});return console.log(`[treatmentService.getVisitsByPlanId] Mapped visits for planId ${e}:`,r),r}catch(t){throw console.error(`[treatmentService.getVisitsByPlanId] CRITICAL ERROR fetching visits for plan ${e}:`,t),t}},async createMultipleVisits(e,t,r){if(!t||t.length===0)return{data:[],error:null};let n=on(r);const a=[];for(let i=0;i<t.length;i++){const o=t[i];i>0&&t[i-1].timeGap&&(n=IIe(n,t[i-1].timeGap));const s={treatment_plan_id:e,visit_number:i+1,procedures:o.procedures||"N/A",estimated_duration:o.estimatedDuration,time_gap:o.timeGap,status:"pending",scheduled_date:Vt(n,"yyyy-MM-dd")};a.push(s)}return Kt.patients.createTreatmentVisitsBatch(a)}},IT=async e=>{if(!e)return console.log("[getAppointmentTreatmentIdsForPlan] No planId provided, exiting."),[];console.log(`[getAppointmentTreatmentIdsForPlan] Attempting to fetch for planId: ${e}`);let t=null;try{if(console.log(`[getAppointmentTreatmentIdsForPlan] ENTERING TRY BLOCK for planId: ${e}`),console.log(`[getAppointmentTreatmentIdsForPlan] PRE: Calling treatmentService.getVisitsByPlanId for planId: ${e}`),t=await Qs.getVisitsByPlanId(e),console.log(`[getAppointmentTreatmentIdsForPlan] POST: treatmentService.getVisitsByPlanId returned for planId ${e}. Result:`,t),!t)return console.log(`[getAppointmentTreatmentIdsForPlan] Visits data is null or undefined for plan ${e}.`),[];if(t.length===0)return console.log(`[getAppointmentTreatmentIdsForPlan] No visits found (empty array) for plan ${e}`),[];const r=t.map(o=>o.id);if(console.log(`[getAppointmentTreatmentIdsForPlan] Visit IDs for plan ${e}:`,r),r.length===0)return console.log(`[getAppointmentTreatmentIdsForPlan] No visit IDs extracted (map result empty) for plan ${e}`),[];console.log("[getAppointmentTreatmentIdsForPlan] PRE: Calling api.appointments.getAppointmentsByTreatmentIds with visitIds:",r);const n=await Kt.appointments.getAppointmentsByTreatmentIds(r);if(console.log(`[getAppointmentTreatmentIdsForPlan] POST: api.appointments.getAppointmentsByTreatmentIds returned. Appointments for visit IDs (${r.join(", ")}):`,n),!n)return console.log("[getAppointmentTreatmentIdsForPlan] Appointments data is null or undefined for the given visit IDs."),[];if(n.length===0)return console.log("[getAppointmentTreatmentIdsForPlan] No appointments found (empty array) for visit IDs"),[];const a=n.filter(o=>o.status!=="cancelled"&&o.treatment_id).map(o=>o.treatment_id);console.log(`[getAppointmentTreatmentIdsForPlan] Filtered Booked Treatment IDs for plan ${e}:`,a);const i=[...new Set(a)];return console.log(`[getAppointmentTreatmentIdsForPlan] Unique Booked Treatment IDs for plan ${e} before returning:`,i),i}catch(r){return console.error(`[getAppointmentTreatmentIdsForPlan] CRITICAL ERROR in getAppointmentTreatmentIdsForPlan for planId ${e}. Error:`,r),t!==null?console.error("[getAppointmentTreatmentIdsForPlan] State of 'visits' when error occurred:",t):console.error("[getAppointmentTreatmentIdsForPlan] 'visits' was null when error occurred (error likely in getVisitsByPlanId itself)."),[]}};function RIe(){const{toast:e}=vn(),[t,r]=A.useState(!0),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState(null),[u,d]=A.useState({plans:null,selectedPlan:null}),f=Iz("treatment_plans",()=>{_()}),h=Iz("treatments",P=>{s&&P.new&&P.new.plan_id===s.id?b():_()}),{update:m,loading:x}=Rz(P=>Qs.updateTreatment(P.treatmentId,{status:P.newStatus}),{onError:()=>{e({title:"Update Failed",description:"Failed to update treatment status. Please try again.",variant:"destructive"}),s&&u.selectedPlan&&l({...u.selectedPlan})}}),{update:g,loading:y}=Rz(P=>Qs.updateTreatmentPlan(P.planId,{status:P.newStatus}),{onError:()=>{e({title:"Update Failed",description:"Failed to update plan status. Please try again.",variant:"destructive"}),u.plans&&a([...u.plans])}}),_=A.useCallback(async()=>{try{r(!0);const[P,M]=await Promise.all([Qs.getAllTreatmentPlans(),Kt.patients.getAll()]),j=Qs.processTreatmentPlanData(P,M);a(j),o(M)}catch(P){console.error("Error fetching data:",P),e({title:"Error",description:"Failed to load treatment plans",variant:"destructive"})}finally{r(!1)}},[e]),b=A.useCallback(async()=>{if(s)try{const M=(await Qs.getAllTreatmentPlans()).find(j=>j.id===s.id);if(M){const j=Qs.processTreatmentPlanData([M],i)[0];l(j)}}catch(P){console.error("Error refreshing plan:",P)}},[s,i]);A.useEffect(()=>{_()},[]);const S=A.useCallback((P,M,j)=>n.filter(V=>{var G,q,Y;const X=P?((G=V.title)==null?void 0:G.toLowerCase().includes(P.toLowerCase()))||((q=V.description)==null?void 0:q.toLowerCase().includes(P.toLowerCase()))||((Y=V.patientName)==null?void 0:Y.toLowerCase().includes(P.toLowerCase())):!0,te=M&&M!=="all"?V.patient_id===M:!0,z=j&&j!=="all"?V.status===j:!0;return X&&te&&z}),[n]),C=A.useCallback(async(P,M)=>{var X,te,z,G;let j=null,V=null;try{r(!0);const{originalAISuggestion:q,clinical_considerations:Y,materials:Z,post_treatment_care:D,total_visits:K,...Q}=P,ie={title:Q.title||"Untitled Plan",description:Q.description||"No description",patient_id:Q.patient_id||"",status:Q.status||"planned",start_date:Q.start_date||Vt(new Date,"yyyy-MM-dd"),priority:Q.priority||"medium",ai_generated:!!q},ae=await Qs.createTreatmentPlan(ie,M);if(ae.error||!ae.data||!ae.data.id)throw console.error("Error creating base treatment plan:",ae.error),e({title:"Error",description:((X=ae.error)==null?void 0:X.message)||"Failed to create base treatment plan record.",variant:"destructive"}),ae.error||new Error("Base plan creation failed or ID missing.");j=ae.data.id,V=ae.data,e({title:"Plan Created",description:"Base plan record and teeth associations saved. Saving metadata..."});const oe={treatment_plan_id:j,clinical_considerations:Y||null,key_materials:Z||null,post_treatment_care:D||null,total_visits:K?parseInt(K):((G=(z=(te=q==null?void 0:q.planDetails)==null?void 0:te.appointmentPlan)==null?void 0:z.sittingDetails)==null?void 0:G.length)||0,completed_visits:0};try{await Kt.patients.createTreatmentPlanMetadata(oe),e({title:"Metadata Saved",description:"Additional plan details saved successfully."})}catch(ge){console.error("Error creating treatment plan metadata:",ge),e({title:"Warning",description:"Plan created, but failed to save some additional details (metadata).",variant:"default"})}const de=await Kt.patients.getTreatmentPlanDetails(j);if(de.error||!de.data)return console.error("Error fetching new plan details:",de.error),e({title:"Warning",description:"Plan fully created, but failed to fetch updated details. A manual refresh may be needed.",variant:"default"}),_(),{...Qs.processTreatmentPlanData([{...V,treatments:[],metadata:oe}],i)[0],originalAISuggestion:q};const J=de.data,ue=Qs.processTreatmentPlanData([J],i)[0];return _(),console.log("[useTreatmentPlans] createTreatmentPlan - Returning originalAISuggestion:",P.originalAISuggestion),{...ue,originalAISuggestion:P.originalAISuggestion}}catch(q){throw console.error("Error in createTreatmentPlan process:",q),e({title:"Error",description:`An unexpected error occurred: ${q instanceof Error?q.message:"Please check console."}`,variant:"destructive"}),q}finally{r(!1)}},[_,i,e]),E=A.useCallback(async P=>{try{r(!0),await Qs.createTreatment(P),e({title:"Treatment Added",description:"New treatment has been successfully added to the plan."}),await b()}catch(M){throw console.error("Error creating treatment:",M),e({title:"Error",description:M.message||"Failed to add treatment.",variant:"destructive"}),M}finally{r(!1)}},[e,b]),O=A.useCallback(async(P,M)=>{try{r(!0),await Qs.updateTreatment(P,M),e({title:"Treatment Updated",description:"Treatment details have been successfully updated."}),await b()}catch(j){throw console.error("Error updating treatment details:",j),e({title:"Error",description:j.message||"Failed to update treatment details.",variant:"destructive"}),j}finally{r(!1)}},[e,b]),T=A.useCallback(async(P,M)=>{if(d({...u,selectedPlan:{...s}}),s){const j=s.treatments.map(te=>te.id===P?{...te,status:M}:te),V=j.filter(te=>te.status==="completed").length,X=Math.round(V/j.length*100);l({...s,treatments:j,completedTreatments:V,progress:X})}await m({treatmentId:P,newStatus:M})},[s,u,m]),I=A.useCallback(async(P,M)=>{d({...u,plans:[...n]});const j=n.map(V=>V.id===P?{...V,status:M}:V);a(j),s&&s.id===P&&l({...s,status:M}),await g({planId:P,newStatus:M})},[n,s,u,g]),L=A.useCallback(async P=>{d({...u,selectedPlan:{...s}});try{if(r(!0),s){const M=s.treatments.find(G=>G.id===P),j=s.treatments.filter(G=>G.id!==P),V=j.filter(G=>G.status==="completed").length,X=j.length,te=X?Math.round(V/X*100):0,z=j.reduce((G,q)=>G+parseFloat(q.cost||0),0);l({...s,treatments:j,completedTreatments:V,totalTreatments:X,progress:te,totalCost:z})}await Qs.deleteTreatment(P),e({title:"Success",description:"Treatment deleted successfully"}),await b()}catch(M){console.error("Error deleting treatment:",M),u.selectedPlan&&l(u.selectedPlan),e({title:"Error",description:"Failed to delete treatment",variant:"destructive"})}finally{r(!1)}},[b,s,u,e]),U=A.useCallback(async P=>{try{r(!0);const M=n.filter(j=>j.id!==P);a(M),await Qs.deleteTreatmentPlan(P),e({title:"Success",description:"Treatment plan deleted successfully"}),s&&s.id===P&&l(null)}catch(M){console.error("Error deleting treatment plan:",M),_(),e({title:"Error",description:"Failed to delete treatment plan",variant:"destructive"})}finally{r(!1)}},[_,n,s,e]);return{loading:t,treatmentPlans:n,patients:i,selectedPlan:s,setSelectedPlan:l,treatmentPlansSubscribed:f,treatmentsSubscribed:h,updatingTreatmentStatus:x,updatingPlanStatus:y,filterPlans:S,fetchData:_,refreshSelectedPlan:b,createTreatmentPlan:C,createTreatment:E,updateTreatmentDetails:O,handleUpdateTreatmentStatus:T,handleUpdatePlanStatus:I,deleteTreatment:L,deletePlan:U}}function Wv(e,t=2){if(e==null)return"₹0.00";const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)?"₹0.00":`₹${r.toFixed(t)}`}function MIe({plan:e,onViewDetails:t}){const r=a=>{let i="bg-gray-100 text-gray-800";switch(a){case"planned":i="bg-blue-100 text-blue-800";break;case"in_progress":i="bg-yellow-100 text-yellow-800";break;case"completed":i="bg-green-100 text-green-800";break;case"cancelled":i="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:a.replace("_"," ")})},n=a=>{let i="bg-gray-100 text-gray-800";switch(a){case"low":i="bg-green-100 text-green-800";break;case"medium":i="bg-yellow-100 text-yellow-800";break;case"high":i="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i}`,children:a})};return w(cr,{className:"overflow-hidden",children:[w(yr,{className:"pb-2",children:[w("div",{className:"flex justify-between items-start",children:[c(xr,{className:"text-lg",children:e.title}),r(e.status)]}),c(vc,{className:"line-clamp-2",children:e.description})]}),c(vr,{className:"pb-2",children:w("div",{className:"space-y-4",children:[w("div",{className:"flex items-center text-sm",children:[c(ao,{className:"h-4 w-4 mr-2 text-muted-foreground"}),c("span",{children:e.patientName})]}),w("div",{className:"flex items-center text-sm",children:[c(yo,{className:"h-4 w-4 mr-2 text-muted-foreground"}),w("span",{children:[Vt(new Date(e.start_date),"MMM d, yyyy"),e.end_date&&` to ${Vt(new Date(e.end_date),"MMM d, yyyy")}`]})]}),w("div",{className:"flex items-center text-sm",children:[c(VH,{className:"h-4 w-4 mr-2 text-muted-foreground"}),w("span",{children:["Total Cost: ",Wv(e.totalCost)]})]}),w("div",{className:"space-y-1",children:[w("div",{className:"flex items-center justify-between text-sm",children:[c("span",{children:"Progress"}),w("span",{children:[e.completedTreatments," of ",e.totalTreatments," treatments"]})]}),c(fR,{value:e.progress})]})]})}),w(Y0,{className:"pt-2 flex justify-between",children:[c("div",{className:"flex gap-2",children:e.priority&&n(e.priority)}),w(Le,{variant:"default",size:"sm",onClick:()=>t(e),children:["View Details ",c(nm,{className:"h-4 w-4 ml-1"})]})]})]})}function FIe({patientId:e,toothIds:t,domain:r,condition:n,matrixDetails:a,selectedTreatment:i,symptoms:o,description:s,patientRecord:l,onSuggestionApply:u,disabled:d=!1}){const[f,h]=A.useState(!1),[m,x]=A.useState([]),{toast:g}=vn(),[y,_]=A.useState(null),[b,S]=A.useState(null);return w("div",{className:"space-y-4",children:[c("div",{className:"flex justify-center",children:c(Le,{type:"button",onClick:async()=>{var T,I;if(f)return;if(!i){g({title:"Missing Information",description:"Please select a treatment option first.",variant:"destructive"});return}h(!0),x([]);const E=new AbortController,O=setTimeout(()=>E.abort(),12e4);try{const L=E.signal;L.throwIfAborted();const U=await fetch("https://n8n1.kol.tel/webhook/2169736a-368b-49b5-b93f-ffc215203d99",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientId:e,toothIds:t,domain:r,condition:n,treatment:i,details:a,patientRecord:l,userInput:{symptoms:o,description:s}})});if(L.throwIfAborted(),clearTimeout(O),!U.ok)throw new Error(`AI suggestion failed: ${U.status}`);const M=(I=(T=(await U.json())[0])==null?void 0:T.output)==null?void 0:I.response;if(!M||!M.treatmentPlans||!Array.isArray(M.treatmentPlans))throw new Error("Invalid AI response structure: treatmentPlans missing or not an array.");const j=M.treatmentPlans.map(V=>{var D,K,Q;const X=V.planName,te=X==null?void 0:X.toLowerCase(),z=(K=(D=M.caseOverview)==null?void 0:D.patientSelectedTreatment)==null?void 0:K.toLowerCase(),G=te==null?void 0:te.includes("(patient-selected)"),q=te==null?void 0:te.includes("(patient selected)"),Y=z&&(te==null?void 0:te.startsWith(z)),Z=G||q||Y;return console.log(`[AISuggestionForm] Plan: ${X} | Lower: ${te} | C1: ${G} | C2: ${q} | patientSelectedTreatmentLower: ${z} | C3 (startsWith): ${Y} | FINAL isPatientSelected: ${Z}`),console.log(`[AISuggestionForm] Raw AI plan object for: ${X}`,V),console.log(`[AISuggestionForm] Metadata source fields for: ${X}`,{aiPlanClinicalConsiderations:V.clinicalConsiderations,aiPlanKeyMaterials:V.keyMaterials,aiOutputPostTreatmentCare:M.postTreatmentCare}),{title:V.planName,description:M.clinicalAssessment||"",planDetails:{planName:V.planName,clinicalProtocol:V.clinicalProtocol,keyMaterials:V.keyMaterials,clinicalConsiderations:V.clinicalConsiderations,expectedOutcomes:V.expectedOutcomes,appointmentPlan:V.appointmentPlan||((Q=V.planDetails)==null?void 0:Q.appointmentPlan),isPatientSelected:Z},caseOverview:M.caseOverview,patientFactors:M.patientFactors,recommendedInvestigations:M.recommendedInvestigations,clinicalRationale:M.clinicalRationale,postTreatmentCare:M.postTreatmentCare||""}});x(j)}catch(L){clearTimeout(O),console.error("Error generating suggestions:",L),L instanceof Error&&L.name==="AbortError"?g({title:"Request Timed Out",description:"The AI suggestion service took too long to respond (120 seconds).",variant:"destructive"}):g({title:"Generation Failed",description:L instanceof Error?L.message:"Failed to generate suggestions",variant:"destructive"})}finally{h(!1)}},disabled:d||!i,className:`ai-insights-button ${f?"opacity-100 cursor-not-allowed":""}`,style:f?{opacity:1}:{},children:f?w(Sr,{children:[c(j0,{className:"mr-2 h-4 w-4 animate-spin"}),"AI is thinking... (this may take up to 2 minutes)"]}):w(Sr,{children:[c(j0,{className:"mr-2 h-4 w-4"}),"Generate AI Suggestions"]})})}),m.length>0&&w("div",{className:"mt-4 space-y-4",children:[c("h4",{className:"font-semibold text-sm",children:"Generated Treatment Plans"}),c("div",{className:"space-y-4",children:m.map((E,O)=>w("div",{className:Rt("border rounded-lg overflow-hidden bg-card",E.planDetails.isPatientSelected&&"border-primary/50 bg-primary/5"),children:[c("div",{className:"p-4 bg-muted/50",children:w("div",{className:"flex items-start justify-between",children:[w("div",{children:[w("h5",{className:"font-medium text-base",children:[E.title," ",E.planDetails.isPatientSelected&&c("span",{className:"ml-2 text-xs text-primary font-normal",children:"(Patient Selected Plan)"})]}),E.caseOverview&&w("div",{className:"mt-1 text-xs text-muted-foreground",children:[w("p",{children:[c("strong",{children:"Condition:"})," ",E.caseOverview.condition]}),w("p",{children:[c("strong",{children:"Severity:"})," ",E.caseOverview.severity]}),w("p",{children:[c("strong",{children:"Teeth:"})," ",E.caseOverview.teethInvolved]}),E.caseOverview.patientSymptoms&&w("p",{children:[c("strong",{children:"Symptoms:"})," ",E.caseOverview.patientSymptoms]}),E.caseOverview.patientSelectedTreatment&&w("p",{children:[c("strong",{children:"Patient Preference:"})," ",E.caseOverview.patientSelectedTreatment]})]})]}),E.planDetails.isPatientSelected&&c(Le,{type:"button",variant:"outline",size:"sm",onClick:()=>u(E),children:"Apply This Plan"})]})}),w(FD,{type:"single",collapsible:!0,className:"w-full",children:[w(Ld,{value:"clinical-assessment",children:[c(jd,{className:"px-4",children:"Overall Clinical Assessment"}),c($d,{className:"px-4 pb-4",children:c("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:E.description})})]}),E.patientFactors&&w(Ld,{value:"patient-factors",children:[c(jd,{className:"px-4",children:"Patient Factors"}),w($d,{className:"px-4 pb-4 text-sm space-y-1",children:[w("p",{children:[c("strong",{children:"Relevant Medical Conditions:"})," ",E.patientFactors.relevantMedicalConditions]}),w("p",{children:[c("strong",{children:"Medication Considerations:"})," ",E.patientFactors.medicationConsiderations]}),w("p",{children:[c("strong",{children:"Age-Related Considerations:"})," ",E.patientFactors.ageRelatedConsiderations]})]})]}),E.recommendedInvestigations&&w(Ld,{value:"recommended-investigations",children:[c(jd,{className:"px-4",children:"Recommended Investigations"}),c($d,{className:"px-4 pb-4 text-sm",children:c("p",{children:E.recommendedInvestigations})})]}),w(Ld,{value:"plan-details",children:[w(jd,{className:"px-4",children:["Details for: ",E.planDetails.planName]}),c($d,{className:"px-4 pb-4",children:w("div",{className:"space-y-3 text-sm",children:[w("div",{children:[c("p",{className:"font-medium",children:"Clinical Protocol:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.clinicalProtocol})]}),w("div",{children:[c("p",{className:"font-medium",children:"Key Materials:"}),c("p",{className:"text-muted-foreground",children:E.planDetails.keyMaterials})]}),w("div",{children:[c("p",{className:"font-medium",children:"Clinical Considerations:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.clinicalConsiderations})]}),w("div",{children:[c("p",{className:"font-medium",children:"Expected Outcomes:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.expectedOutcomes})]})]})})]}),E.planDetails.appointmentPlan&&w(Ld,{value:"appointment-plan",children:[c(jd,{className:"px-4",children:w("span",{className:"flex items-center",children:[c(yo,{className:"mr-2 h-4 w-4"}),"Appointment Plan"]})}),c($d,{className:"px-4 pb-4",children:w("div",{className:"space-y-3 text-sm",children:[w("div",{className:"flex items-center gap-4 text-muted-foreground mb-2",children:[w("div",{children:[c(Yc,{className:"h-4 w-4 inline mr-1"}),w("span",{children:["Total Sittings: ",E.planDetails.appointmentPlan.totalSittings]})]}),w("div",{children:[c(yo,{className:"h-4 w-4 inline mr-1"}),w("span",{children:["Total Duration: ",E.planDetails.appointmentPlan.totalTreatmentTime]})]})]}),E.planDetails.appointmentPlan.medicalPrecautions&&w("div",{className:"mb-3",children:[c("p",{className:"font-medium",children:"Medical Precautions:"}),c("p",{className:"text-muted-foreground whitespace-pre-line",children:E.planDetails.appointmentPlan.medicalPrecautions})]}),c("div",{className:"space-y-2",children:E.planDetails.appointmentPlan.sittingDetails.map((T,I)=>w("div",{className:"border rounded p-3 bg-background",children:[w("p",{className:"font-medium",children:["Visit ",T.visit]}),c("p",{className:"text-muted-foreground mt-1",children:T.procedures}),w("div",{className:"mt-2 text-xs text-muted-foreground flex items-center gap-3",children:[w("p",{className:"flex items-center",children:[c(Yc,{className:"h-3 w-3 mr-1"}),"Duration: ",T.estimatedDuration]}),T.timeGap!=="N/A"&&w("p",{className:"flex items-center",children:[c(yo,{className:"h-3 w-3 mr-1"}),"Next visit in: ",T.timeGap]})]})]},I))})]})})]}),E.clinicalRationale&&w(Ld,{value:"clinical-rationale",children:[c(jd,{className:"px-4",children:"Clinical Rationale"}),c($d,{className:"px-4 pb-4 text-sm",children:c("p",{className:"whitespace-pre-line",children:E.clinicalRationale})})]}),w(Ld,{value:"post-care",children:[c(jd,{className:"px-4",children:"Post-Treatment Care"}),c($d,{className:"px-4 pb-4",children:c("p",{className:"text-sm text-muted-foreground",children:E.postTreatmentCare})})]})]})]},O))})]})]})}const LIe=je.object({symptoms:je.string().min(1,"Symptoms are required"),description:je.string().min(1,"Description is required"),patient_id:je.string().min(1,"Patient is required"),domain:je.string().optional(),condition:je.string().optional(),treatment:je.string().min(1,"Select a treatment").optional(),estimated_duration:je.string().optional(),total_visits:je.string().optional(),materials:je.string().optional(),clinical_considerations:je.string().optional(),post_treatment_care:je.string().optional(),status:je.string().optional(),start_date:je.string().optional(),priority:je.string().optional(),ai_generated:je.boolean().optional(),initialTreatments:je.array(je.any()).optional(),originalAISuggestion:je.any().optional()});function jIe({open:e,onOpenChange:t,onSubmit:r,patients:n,loading:a=!1,initialData:i}){const[o,s]=A.useState(""),[l,u]=A.useState(null),[d,f]=A.useState(!1),[h,m]=A.useState(null),[x,g]=A.useState(null),[y,_]=A.useState(null),[b,S]=A.useState(!1),[C,E]=A.useState([]),[O,T]=A.useState(!1),[I,L]=A.useState([]),[U,P]=A.useState(Date.now()),[M,j]=A.useState({}),[V,X]=A.useState([]),[te,z]=A.useState([]),[G,q]=A.useState([]),[Y,Z]=A.useState(!1),[D,K]=A.useState(null),[Q,ie]=A.useState(!1),[ae,oe]=A.useState([]),[de,J]=A.useState(!1),[ue,ge]=A.useState(!1),[ne,Ne]=A.useState(null),{toast:Re}=vn(),De=A.useRef(null),pe=sd({resolver:ld(LIe),defaultValues:{symptoms:"",description:"",patient_id:"",domain:"",condition:"",treatment:"",estimated_duration:"",total_visits:"",materials:"",clinical_considerations:"",post_treatment_care:""}});A.useEffect(()=>{e?pe.reset({symptoms:"",description:"",patient_id:x||"",domain:"",condition:"",treatment:"",estimated_duration:"",total_visits:"",materials:"",clinical_considerations:"",post_treatment_care:""}):(E([]),g(null),u(null),s(""),K(null),oe([]),J(!1),_(null),Ne(null),S(!1),pe.reset(),T(!1),L([]))},[e,x]),A.useEffect(()=>{e&&(async()=>{Z(!0);try{const Ve=await Kt.getTreatmentMatrixOptions();X(Ve);const _t=[...new Set(Ve.map(At=>At.domain))].sort();z(_t),q([])}catch(Ve){console.error("Failed to fetch treatment options:",Ve)}finally{Z(!1)}})()},[e]);const Je=pe.watch("domain"),mt=pe.watch("condition");A.useEffect(()=>{if(console.log(`Domain changed to: ${Je}. Full matrix options:`,V),Je){const Fe=V.filter(Ve=>Ve.domain===Je).map(Ve=>Ve.condition).sort();console.log(`Filtered conditions for ${Je}:`,Fe),q(Fe),mt&&!Fe.includes(mt)&&(pe.setValue("condition",""),K(null))}else q([]),pe.setValue("condition",""),K(null),oe([])},[Je,V,mt,pe]),A.useEffect(()=>{if(!Je||!mt){K(null);return}(async()=>{ie(!0),K(null);try{const Ve=await Kt.getMatrixDetails(Je,mt);K(Ve)}catch(Ve){console.error(`Failed to fetch matrix details for ${Je}/${mt}:`,Ve),K(null),oe([])}finally{ie(!1)}})()},[Je,mt]);const dt=Fe=>{pe.setValue("domain",Fe),pe.setValue("condition",""),K(null),oe([])},Tt=Fe=>{pe.setValue("condition",Fe),K(null),oe([])},lt=async Fe=>{g(Fe.id),u(`${Fe.first_name||""} ${Fe.last_name||""}`.trim()),pe.setValue("patient_id",Fe.id,{shouldValidate:!0}),s(""),j({}),E([]),_(null),S(!0);try{console.log(`Fetching full patient details for patient: ${Fe.id}`);const Ve=await Kt.patients.getById(Fe.id);_(Ve),console.log("Fetched full patient record:",Ve),console.log(`Fetching tooth conditions for patient: ${Fe.id}`);const _t=await Kt.patients.getPatientToothConditions(Fe.id);console.log("Fetched conditions data:",_t);const At={},ut=[];_t.forEach(wr=>{const nr=Array.isArray(wr.conditions)?wr.conditions.filter(bn=>typeof bn=="string"&&["healthy","decayed","filled","missing","treatment-planned","root-canal","extraction","crown","has-treatment-before","recommended-to-be-treated"].includes(bn)):[],Jr=nr.length>0?nr:["healthy"],dn=Jr.length>1||Jr.length===1&&Jr[0]!=="healthy";wr.tooth_id&&(At[wr.tooth_id]={conditions:Jr,isSelected:dn},dn&&ut.push(wr.tooth_id))}),console.log("Formatted initialState for chart:",At),console.log("Initially selected IDs based on conditions:",ut),j(At),E(ut)}catch(Ve){console.error("Failed to fetch patient details or tooth conditions:",Ve),Re({title:"Error Loading Patient Data",description:"Could not load patient details or tooth conditions.",variant:"destructive"}),_(null),j({}),E([])}finally{S(!1)}},_e=Fe=>{L(Fe)},Ce=async()=>{if(!De.current||!x){console.error("Dental chart ref not available or no patient selected."),Re({title:"Error",description:"Could not save chart data. Please try again.",variant:"destructive"});return}ge(!0);try{const Fe=De.current.getTeethData();console.log("Data from chart ref:",Fe);const Ve=Object.entries(Fe).filter(([,ut])=>{const wr=ut.isSelected,nr=Array.isArray(ut.conditions)&&ut.conditions.length===1&&ut.conditions[0]==="healthy";return wr&&!nr}).map(([ut,wr])=>({tooth_id:parseInt(ut,10),conditions:wr.conditions,patient_id:x}));console.log("Filtered and transformed data to save (only selected & non-healthy):",Ve),await Kt.patients.savePatientToothConditionsDetailed(x,Ve);const _t=Object.entries(Fe).filter(([,ut])=>ut.isSelected).map(([ut])=>parseInt(ut,10));E(_t);const At={};Object.entries(Fe).forEach(([ut,wr])=>{At[parseInt(ut,10)]={conditions:wr.conditions,isSelected:wr.isSelected}}),j(At),Re({title:"Chart Saved",description:"Patient's tooth conditions have been updated.",variant:"default"}),T(!1)}catch(Fe){console.error("Failed to save tooth conditions:",Fe),Re({title:"Save Failed",description:"Could not save tooth conditions to the database.",variant:"destructive"})}finally{ge(!1)}},We=()=>{if(!x){Re({title:"No Patient Selected",description:"Please select a patient before opening the dental chart.",variant:"default"});return}console.log("Opening chart dialog with prepared initial state:",M),L([...C]),P(Date.now()),T(!0)};A.useEffect(()=>{console.log("isChartDialogOpen state changed:",O)},[O]);const ft=async Fe=>{if(!x){Re({title:"Patient Not Selected",description:"Please select a patient before submitting.",variant:"destructive"});return}let Ve={...Fe};Ve.symptoms&&(Ve.title=Ve.symptoms,delete Ve.symptoms),delete Ve.patient_name,ne?Ve.originalAISuggestion=ne:Ve.ai_generated=!1;try{await r(Ve,C),pe.reset(),Ne(null),t(!1)}catch(_t){console.error("Error submitting treatment plan form:",_t),Re({title:"Submission Error",description:"Failed to save the treatment plan. Please try again.",variant:"destructive"})}};A.useCallback(async()=>{if(!x||C.length===0||!Je||!mt||!y){Re({title:"Missing Information",description:"Please select patient, teeth, domain, and condition first.",variant:"default",duration:3e3});return}J(!0),oe([]);try{const Fe="https://n8n1.kol.tel/webhook/2169736a-368b-49b5-b93f-ffc215203d99",Ve={patientId:x,toothIds:C,domain:Je,condition:mt,details:D,treatment:pe.getValues("treatment"),patientRecord:y};console.log("Sending payload to n8n:",Ve);const _t=await fetch(Fe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)});if(!_t.ok){const wr=await _t.text();throw console.error("Error response from n8n webhook:",_t.status,wr),new Error(`AI suggestion call failed: ${_t.status}`)}const At=await _t.json();console.log("Received response from n8n:",At);const ut=At;if(Array.isArray(ut)&&ut.length>0){const wr=ut.filter(nr=>nr&&typeof nr=="object"&&nr.title&&nr.description);oe(wr),Re({title:"AI Suggestions Ready",description:`Received ${wr.length} suggestions.`,variant:"default",duration:3e3})}else console.warn("Received empty or invalid suggestions array from n8n:",At),oe([]),Re({title:"No Suggestions",description:"The AI did not return any suggestions for this case.",variant:"default",duration:3e3})}catch(Fe){console.error("Error fetching AI suggestions:",Fe),Re({title:"AI Suggestion Failed",description:Fe instanceof Error?Fe.message:"Could not get suggestions. Check console.",variant:"destructive",duration:5e3}),oe([])}finally{J(!1)}},[x,C,Je,mt,D,pe,Re,y]);const vt=Fe=>{var Ve,_t,At,ut,wr,nr;if(Ne(Fe),pe.setValue("symptoms",Fe.title),pe.setValue("description",Fe.description),(Ve=Fe.planDetails)!=null&&Ve.clinicalConsiderations&&pe.setValue("clinical_considerations",Fe.planDetails.clinicalConsiderations),Fe.postTreatmentCare&&pe.setValue("post_treatment_care",Fe.postTreatmentCare),(_t=Fe.planDetails)!=null&&_t.keyMaterials&&pe.setValue("materials",Fe.planDetails.keyMaterials),(ut=(At=Fe.planDetails)==null?void 0:At.appointmentPlan)!=null&&ut.totalSittings&&pe.setValue("total_visits",Fe.planDetails.appointmentPlan.totalSittings),(nr=(wr=Fe.planDetails)==null?void 0:wr.appointmentPlan)!=null&&nr.totalTreatmentTime&&pe.setValue("estimated_duration",Fe.planDetails.appointmentPlan.totalTreatmentTime),D!=null&&D.treatment_options&&Array.isArray(D.treatment_options)&&Fe.title){const Jr=D.treatment_options.find(dn=>Fe.title.toLowerCase().includes(dn.toLowerCase()));Jr&&pe.setValue("treatment",Jr)}pe.setValue("ai_generated",!0),Re({title:"AI Suggestion Applied",description:`"${Fe.title}" has been pre-filled into the form.`})};return w(Sr,{children:[c(Za,{open:e,onOpenChange:t,children:w(Da,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[w(Ia,{children:[c(Ra,{children:"Create New Treatment Plan"}),c(oo,{children:"Create a comprehensive treatment plan for a patient"})]}),c(Dh,{...pe,children:w("form",{onSubmit:pe.handleSubmit(ft),className:"space-y-4 pb-6",children:[c(He,{control:pe.control,name:"patient_id",render:({field:Fe})=>w(Oe,{className:"relative",children:[c(Pe,{htmlFor:"patient-search",children:"Patient *"}),c(Ie,{children:c(ot,{type:"search",id:"patient-search",value:o,onChange:Ve=>{s(Ve.target.value),u(null)},placeholder:l||"Search by name, phone, or registration...",disabled:d,className:"w-full"})}),d&&c("p",{className:"text-sm text-muted-foreground mt-1",children:"Loading patients..."}),h&&c("p",{className:"text-sm text-destructive mt-1",children:h}),o&&!d&&!h&&c(df,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:c("div",{className:"p-2",children:n.filter(Ve=>{var nr,Jr;const _t=`${Ve.first_name||""} ${Ve.last_name||""}`.toLowerCase(),At=((nr=Ve.phone)==null?void 0:nr.toLowerCase())||"",ut=((Jr=Ve.registration_number)==null?void 0:Jr.toLowerCase())||"",wr=o.toLowerCase();return _t.includes(wr)||At.includes(wr)||ut.includes(wr)}).length>0?n.filter(Ve=>{var nr,Jr;const _t=`${Ve.first_name||""} ${Ve.last_name||""}`.toLowerCase(),At=((nr=Ve.phone)==null?void 0:nr.toLowerCase())||"",ut=((Jr=Ve.registration_number)==null?void 0:Jr.toLowerCase())||"",wr=o.toLowerCase();return _t.includes(wr)||At.includes(wr)||ut.includes(wr)}).map(Ve=>c(Le,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>lt(Ve),type:"button",children:w("div",{children:[c("div",{children:`${Ve.first_name||""} ${Ve.last_name||""}`.trim()}),w("div",{className:"text-xs text-muted-foreground",children:[Ve.registration_number&&`Reg: ${Ve.registration_number}`,Ve.registration_number&&Ve.phone&&" | ",Ve.phone&&`Ph: ${Ve.phone}`]})]})},Ve.id)):w("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',o,'"']})})}),c(Ze,{})]})}),w(Oe,{children:[c(Pe,{children:"Affected Teeth & Conditions"}),w("div",{className:"flex items-center gap-4",children:[w(Le,{type:"button",variant:"outline",onClick:We,children:[c(H8,{className:"mr-2 h-4 w-4"})," ","Select Teeth..."]}),c("div",{className:"text-sm text-muted-foreground flex-grow min-w-0",children:C.length>0?w("span",{className:"truncate",children:["Selected: ",C.sort((Fe,Ve)=>Fe-Ve).join(", ")]}):"No teeth selected"})]}),c(Ze,{})]}),C.length>0&&w(Sr,{children:[c(He,{control:pe.control,name:"domain",render:({field:Fe})=>w(Oe,{children:[c(Pe,{children:"Domain"}),w(Ur,{onValueChange:dt,value:Fe.value||"",disabled:Y,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:Y?"Loading...":"Select domain"})})}),c($r,{children:Y?c(gt,{value:"loading",disabled:!0,children:"Loading..."}):te.map(Ve=>c(gt,{value:Ve,children:Ve.charAt(0).toUpperCase()+Ve.slice(1)},Ve))})]}),c(Ze,{})]})}),c(He,{control:pe.control,name:"condition",render:({field:Fe})=>w(Oe,{children:[c(Pe,{children:"Condition"}),w(Ur,{onValueChange:Tt,value:Fe.value||"",disabled:Y,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:Y?"Loading...":"Select condition"})})}),c($r,{children:Y?c(gt,{value:"loading",disabled:!0,children:"Loading..."}):G.map(Ve=>c(gt,{value:Ve,children:Ve.charAt(0).toUpperCase()+Ve.slice(1)},Ve))})]}),c(Ze,{})]})}),Q&&c("div",{className:"text-sm text-muted-foreground p-2 border rounded-md",children:"Loading details..."}),!Q&&D&&w("div",{className:"mt-4 p-3 border rounded-md bg-secondary/10 space-y-2 text-sm",children:[w("h4",{className:"font-semibold text-base mb-2",children:["Details for ",Je," / ",mt]}),D.urgency&&w("p",{children:[c("strong",{children:"Urgency:"})," ",D.urgency]}),D.severity&&w("p",{children:[c("strong",{children:"Severity:"})," ",D.severity]}),D.risk_impact&&w("p",{children:[c("strong",{children:"Risk/Impact:"})," ",D.risk_impact]}),D.recommended_investigations&&D.recommended_investigations.length>0&&w("p",{children:[c("strong",{children:"Investigations:"})," ",D.recommended_investigations.join(", ")]}),D.treatment_options&&D.treatment_options.length>0&&w("div",{className:"mt-3",children:[c("p",{className:"font-semibold mb-1",children:"Select Treatment:"}),c(He,{control:pe.control,name:"treatment",render:({field:Fe})=>w("div",{className:"space-y-1 ml-1",children:[D.treatment_options.map(Ve=>w("label",{className:"flex items-center gap-2",children:[c("input",{type:"radio",value:Ve,checked:Fe.value===Ve,onChange:_t=>{_t.target.checked&&Fe.onChange(Ve)}}),c("span",{children:Ve})]},Ve)),c(Ze,{})]})})]}),w("div",{className:"mt-4 pt-4 border-t space-y-4",children:[c(He,{control:pe.control,name:"symptoms",render:({field:Fe})=>w(Oe,{children:[c(Pe,{children:"Symptoms *"}),c(Ie,{children:c(ot,{placeholder:"Enter patient symptoms",...Fe})}),c(Ze,{})]})}),c(He,{control:pe.control,name:"description",render:({field:Fe})=>w(Oe,{children:[c(Pe,{children:"Description *"}),c(Ie,{children:c(Yr,{placeholder:"Detailed description of the treatment plan",...Fe,rows:3})}),c(Ze,{})]})}),c("div",{className:"mt-4",children:c(FIe,{patientId:x||"",toothIds:C,domain:pe.watch("domain")||"",condition:pe.watch("condition")||"",matrixDetails:D,selectedTreatment:pe.watch("treatment")||"",symptoms:pe.watch("symptoms")||"",description:pe.watch("description")||"",patientRecord:y,onSuggestionApply:vt,disabled:!x||C.length===0||!pe.watch("treatment")||!y||b||de})})]})]}),!Q&&Je&&mt&&!D&&c("div",{className:"text-sm text-muted-foreground p-2 border rounded-md border-dashed",children:"No details found for this combination."})]}),D&&w(Sr,{children:[c(He,{control:pe.control,name:"estimated_duration",render:({field:Fe})=>w(Oe,{children:[c(Pe,{children:"Estimated Duration"}),c(Ie,{children:c(ot,{...Fe,placeholder:"e.g., 3-4 weeks"})}),c(Ze,{})]})}),c(He,{control:pe.control,name:"total_visits",render:({field:Fe})=>w(Oe,{children:[c(Pe,{children:"Total Visits"}),c(Ie,{children:c(ot,{...Fe,placeholder:"e.g., 2"})}),c(Ze,{})]})}),c(He,{control:pe.control,name:"materials",render:({field:Fe})=>w(Oe,{children:[c(Pe,{children:"Required Materials"}),c(Ie,{children:c(Yr,{...Fe,placeholder:"List of required materials",className:"min-h-[80px]"})}),c(Ze,{})]})}),c(He,{control:pe.control,name:"clinical_considerations",render:({field:Fe})=>w(Oe,{children:[c(Pe,{children:"Clinical Considerations"}),c(Ie,{children:c(Yr,{...Fe,placeholder:"Important clinical considerations",className:"min-h-[80px]"})}),c(Ze,{})]})}),c(He,{control:pe.control,name:"post_treatment_care",render:({field:Fe})=>w(Oe,{children:[c(Pe,{children:"Post-Treatment Care"}),c(Ie,{children:c(Yr,{...Fe,placeholder:"Post-treatment care instructions",className:"min-h-[80px]"})}),c(Ze,{})]})})]}),w(lo,{children:[c(Le,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),w(Le,{type:"submit",disabled:a,children:[a?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Xc,{className:"mr-2 h-4 w-4"}),"Create Plan"]})]})]})})]})}),c(Za,{open:O,onOpenChange:T,children:w(Da,{className:"max-w-2xl",children:[" ",w(Ia,{children:[c(Ra,{children:"Select Affected Teeth & Apply Conditions"}),c(oo,{children:"Click teeth to select/deselect. Use buttons below to apply conditions to selected teeth."})]}),c(C3,{ref:De,initialState:M,onToothSelect:_e},U),w(lo,{children:[c(Le,{variant:"outline",onClick:()=>T(!1),disabled:ue,children:"Cancel"}),w(Le,{onClick:Ce,disabled:ue,children:[ue?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Cce,{className:"mr-2 h-4 w-4"}),"Confirm & Save Chart"]})]})]})})]})}var O3="Popover",[xre,jJe]=Yi(O3,[Nm]),Xw=Nm(),[$Ie,Mm]=xre(O3),wre=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,s=Xw(t),l=A.useRef(null),[u,d]=A.useState(!1),[f,h]=cl({prop:n,defaultProp:a??!1,onChange:i,caller:O3});return c(m4,{...s,children:c($Ie,{scope:t,contentId:Il(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:A.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:A.useCallback(()=>d(!0),[]),onCustomAnchorRemove:A.useCallback(()=>d(!1),[]),modal:o,children:r})})};wre.displayName=O3;var _re="PopoverAnchor",BIe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Mm(_re,r),i=Xw(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=a;return A.useEffect(()=>(o(),()=>s()),[o,s]),c(Ow,{...i,...n,ref:t})});BIe.displayName=_re;var bre="PopoverTrigger",Sre=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Mm(bre,r),i=Xw(r),o=zr(t,a.triggerRef),s=c(hr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Cre(a.open),...n,ref:o,onClick:Ut(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:c(Ow,{asChild:!0,...i,children:s})});Sre.displayName=bre;var vR="PopoverPortal",[UIe,qIe]=xre(vR,{forceMount:void 0}),Are=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Mm(vR,t);return c(UIe,{scope:t,forceMount:r,children:c(is,{present:r||i.open,children:c(sy,{asChild:!0,container:a,children:n})})})};Are.displayName=vR;var X1="PopoverContent",kre=A.forwardRef((e,t)=>{const r=qIe(X1,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Mm(X1,e.__scopePopover);return c(is,{present:n||i.open,children:i.modal?c(WIe,{...a,ref:t}):c(VIe,{...a,ref:t})})});kre.displayName=X1;var zIe=om("PopoverContent.RemoveScroll"),WIe=A.forwardRef((e,t)=>{const r=Mm(X1,e.__scopePopover),n=A.useRef(null),a=zr(t,n),i=A.useRef(!1);return A.useEffect(()=>{const o=n.current;if(o)return y4(o)},[]),c(Iw,{as:zIe,allowPinchZoom:!0,children:c(Nre,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),i.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ut(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,u=s.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ut(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),VIe=A.forwardRef((e,t)=>{const r=Mm(X1,e.__scopePopover),n=A.useRef(!1),a=A.useRef(!1);return c(Nre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Nre=A.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Mm(X1,r),m=Xw(r);return u4(),c(Tw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c(xg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c(g4,{"data-state":Cre(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ere="PopoverClose",HIe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Mm(Ere,r);return c(hr.button,{type:"button",...n,ref:t,onClick:Ut(e.onClick,()=>a.onOpenChange(!1))})});HIe.displayName=Ere;var GIe="PopoverArrow",KIe=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xw(r);return c(v4,{...a,...n,ref:t})});KIe.displayName=GIe;function Cre(e){return e?"open":"closed"}var YIe=wre,XIe=Sre,ZIe=Are,Tre=kre;const cg=YIe,ug=XIe,gm=A.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>c(ZIe,{children:c(Tre,{ref:a,align:t,sideOffset:r,className:Rt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));gm.displayName=Tre.displayName;var en=function(){return en=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},en.apply(this,arguments)};function JIe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Pre(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Zw(e){return e.mode==="multiple"}function Jw(e){return e.mode==="range"}function D3(e){return e.mode==="single"}var QIe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function eRe(e,t){return Vt(e,"LLLL y",t)}function tRe(e,t){return Vt(e,"d",t)}function rRe(e,t){return Vt(e,"LLLL",t)}function nRe(e){return"".concat(e)}function aRe(e,t){return Vt(e,"cccccc",t)}function iRe(e,t){return Vt(e,"yyyy",t)}var oRe=Object.freeze({__proto__:null,formatCaption:eRe,formatDay:tRe,formatMonthCaption:rRe,formatWeekNumber:nRe,formatWeekdayName:aRe,formatYearCaption:iRe}),sRe=function(e,t,r){return Vt(e,"do MMMM (EEEE)",r)},lRe=function(){return"Month: "},cRe=function(){return"Go to next month"},uRe=function(){return"Go to previous month"},dRe=function(e,t){return Vt(e,"cccc",t)},fRe=function(e){return"Week n. ".concat(e)},hRe=function(){return"Year: "},pRe=Object.freeze({__proto__:null,labelDay:sRe,labelMonthDropdown:lRe,labelNext:cRe,labelPrevious:uRe,labelWeekNumber:fRe,labelWeekday:dRe,labelYearDropdown:hRe});function mRe(){var e="buttons",t=QIe,r=Lw,n={},a={},i=1,o={},s=new Date;return{captionLayout:e,classNames:t,formatters:oRe,labels:pRe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:s,mode:"default"}}function gRe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Bo(n):t&&(i=new Date(t,0,1)),a?o=um(a):r&&(o=new Date(r,11,31)),{fromDate:i?Cl(i):void 0,toDate:o?Cl(o):void 0}}var Ore=A.createContext(void 0);function vRe(e){var t,r=e.initialProps,n=mRe(),a=gRe(r),i=a.fromDate,o=a.toDate,s=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;s!=="buttons"&&(!i||!o)&&(s="buttons");var l;(D3(r)||Zw(r)||Jw(r))&&(l=r.onSelect);var u=en(en(en({},n),r),{captionLayout:s,classNames:en(en({},n.classNames),r.classNames),components:en({},r.components),formatters:en(en({},n.formatters),r.formatters),fromDate:i,labels:en(en({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:en(en({},n.modifiers),r.modifiers),modifiersClassNames:en(en({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:en(en({},n.styles),r.styles),toDate:o});return c(Ore.Provider,{value:u,children:e.children})}function Ma(){var e=A.useContext(Ore);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Dre(e){var t=Ma(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return c("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function yRe(e){return c("svg",en({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:c("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ire(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,s=e.className,l=e.style,u=Ma(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:yRe;return w("div",{className:s,style:l,children:[c("span",{className:u.classNames.vhidden,children:e["aria-label"]}),c("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),w("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,c(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function xRe(e){var t,r=Ma(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,s=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return c(Sr,{});if(!a)return c(Sr,{});var f=[];if(Bve(n,a))for(var h=Bo(n),m=n.getMonth();m<=a.getMonth();m++)f.push(xk(h,m));else for(var h=Bo(new Date),m=0;m<=11;m++)f.push(xk(h,m));var x=function(y){var _=Number(y.target.value),b=xk(Bo(e.displayMonth),_);e.onChange(b)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Ire;return c(g,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:s(e.displayMonth,{locale:o}),children:f.map(function(y){return c("option",{value:y.getMonth(),children:s(y,{locale:o})},y.getMonth())})})}function wRe(e){var t,r=e.displayMonth,n=Ma(),a=n.fromDate,i=n.toDate,o=n.locale,s=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return c(Sr,{});if(!i)return c(Sr,{});for(var m=a.getFullYear(),x=i.getFullYear(),g=m;g<=x;g++)h.push(uL(wY(new Date),g));var y=function(b){var S=uL(Bo(r),Number(b.target.value));e.onChange(S)},_=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Ire;return c(_,{name:"years","aria-label":f(),className:l.dropdown_year,style:s.dropdown_year,onChange:y,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return c("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function _Re(e,t){var r=A.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function bRe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,s=e.numberOfMonths,l=s===void 0?1:s;if(i&&y1(i,a)<0){var u=-1*(l-1);a=ul(i,u)}return o&&y1(a,o)<0&&(a=o),Bo(a)}function SRe(){var e=Ma(),t=bRe(e),r=_Re(t,e.month),n=r[0],a=r[1],i=function(o){var s;if(!e.disableNavigation){var l=Bo(o);a(l),(s=e.onMonthChange)===null||s===void 0||s.call(e,l)}};return[n,i]}function ARe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Bo(e),i=Bo(ul(a,n)),o=y1(i,a),s=[],l=0;l<o;l++){var u=ul(a,l);s.push(u)}return r&&(s=s.reverse()),s}function kRe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=Bo(e);if(!r)return ul(s,o);var l=y1(r,e);if(!(l<i))return ul(s,o)}}function NRe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=Bo(e);if(!r)return ul(s,-o);var l=y1(s,r);if(!(l<=0))return ul(s,-o)}}var Rre=A.createContext(void 0);function ERe(e){var t=Ma(),r=SRe(),n=r[0],a=r[1],i=ARe(n,t),o=kRe(n,t),s=NRe(n,t),l=function(f){return i.some(function(h){return k4(f,h)})},u=function(f,h){l(f)||(h&&th(f,h)?a(ul(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:s,nextMonth:o,isDateDisplayed:l};return c(Rre.Provider,{value:d,children:e.children})}function Qw(){var e=A.useContext(Rre);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Mz(e){var t,r=Ma(),n=r.classNames,a=r.styles,i=r.components,o=Qw().goToMonth,s=function(d){o(ul(d,e.displayIndex?-e.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Dre,u=c(l,{id:e.id,displayMonth:e.displayMonth});return w("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[c("div",{className:n.vhidden,children:u}),c(xRe,{onChange:s,displayMonth:e.displayMonth}),c(wRe,{onChange:s,displayMonth:e.displayMonth})]})}function CRe(e){return c("svg",en({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TRe(e){return c("svg",en({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var IS=A.forwardRef(function(e,t){var r=Ma(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),s=en(en({},a.button_reset),a.button);return e.style&&Object.assign(s,e.style),c("button",en({},e,{ref:t,type:"button",className:o,style:s}))});function PRe(e){var t,r,n=Ma(),a=n.dir,i=n.locale,o=n.classNames,s=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return c(Sr,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),x=d(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:TRe,_=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:CRe;return w("div",{className:o.nav,style:s.nav,children:[!e.hidePrevious&&c(IS,{name:"previous-month","aria-label":h,className:m,style:s.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?c(y,{className:o.nav_icon,style:s.nav_icon}):c(_,{className:o.nav_icon,style:s.nav_icon})}),!e.hideNext&&c(IS,{name:"next-month","aria-label":x,className:g,style:s.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?c(_,{className:o.nav_icon,style:s.nav_icon}):c(y,{className:o.nav_icon,style:s.nav_icon})})]})}function Fz(e){var t=Ma().numberOfMonths,r=Qw(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,s=o.findIndex(function(x){return k4(e.displayMonth,x)}),l=s===0,u=s===o.length-1,d=t>1&&(l||!u),f=t>1&&(u||!l),h=function(){n&&i(n)},m=function(){a&&i(a)};return c(PRe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function ORe(e){var t,r=Ma(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,s=r.components,l=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:Dre,u;return a?u=c(l,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=c(Mz,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=w(Sr,{children:[c(Mz,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),c(Fz,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=w(Sr,{children:[c(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c(Fz,{displayMonth:e.displayMonth,id:e.id})]}),c("div",{className:n.caption,style:i.caption,children:u})}function DRe(e){var t=Ma(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?c("tfoot",{className:a,style:n.tfoot,children:c("tr",{children:c("td",{colSpan:8,children:r})})}):c(Sr,{})}function IRe(e,t,r){for(var n=r?yh(new Date):as(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Pa(n,i);a.push(o)}return a}function RRe(){var e=Ma(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,s=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,u=IRe(a,i,o);return w("tr",{style:r.head_row,className:t.head_row,children:[n&&c("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return c("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":l(d,{locale:a}),children:s(d,{locale:a})},f)})]})}function MRe(){var e,t=Ma(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:RRe;return c("thead",{style:n.head,className:r.head,children:c(i,{})})}function FRe(e){var t=Ma(),r=t.locale,n=t.formatters.formatDay;return c(Sr,{children:n(e.date,{locale:r})})}var yR=A.createContext(void 0);function LRe(e){if(!Zw(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return c(yR.Provider,{value:t,children:e.children})}return c(jRe,{initialProps:e.initialProps,children:e.children})}function jRe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var x=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!x){var g=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var y=n?Pre([],n):[];if(d.selected){var _=y.findIndex(function(b){return nl(u,b)});y.splice(_,1)}else y.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,y,u,d,f)}}},s={disabled:[]};n&&s.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return nl(h,u)});return!!(d&&!f)});var l={selected:n,onDayClick:o,modifiers:s};return c(yR.Provider,{value:l,children:r})}function xR(){var e=A.useContext(yR);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function $Re(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?nl(a,e)&&nl(n,e)?void 0:nl(a,e)?{from:a,to:void 0}:nl(n,e)?void 0:c6(n,e)?{from:e,to:a}:{from:n,to:e}:a?c6(e,a)?{from:a,to:e}:{from:e,to:a}:n?th(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var wR=A.createContext(void 0);function BRe(e){if(!Jw(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c(wR.Provider,{value:t,children:e.children})}return c(URe,{initialProps:e.initialProps,children:e.children})}function URe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,s=t.min,l=t.max,u=function(m,x,g){var y,_;(y=t.onDayClick)===null||y===void 0||y.call(t,m,x,g);var b=$Re(m,n);(_=t.onSelect)===null||_===void 0||_.call(t,b,m,x,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],nl(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),s&&(i&&!o&&d.disabled.push({after:vk(i,s-1),before:Pa(i,s-1)}),i&&o&&d.disabled.push({after:i,before:Pa(i,s-1)}),!i&&o&&d.disabled.push({after:vk(o,s-1),before:Pa(o,s-1)})),l){if(i&&!o&&(d.disabled.push({before:Pa(i,-l+1)}),d.disabled.push({after:Pa(i,l-1)})),i&&o){var f=Bu(o,i)+1,h=l-f;d.disabled.push({before:vk(i,h)}),d.disabled.push({after:Pa(o,h)})}!i&&o&&(d.disabled.push({before:Pa(o,-l+1)}),d.disabled.push({after:Pa(o,l-1)}))}return c(wR.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function _R(){var e=A.useContext(wR);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Qb(e){return Array.isArray(e)?Pre([],e):e!==void 0?[e]:[]}function qRe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Qb(a)}),t}var ed;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ed||(ed={}));var zRe=ed.Selected,Jf=ed.Disabled,WRe=ed.Hidden,VRe=ed.Today,RT=ed.RangeEnd,MT=ed.RangeMiddle,FT=ed.RangeStart,HRe=ed.Outside;function GRe(e,t,r){var n,a=(n={},n[zRe]=Qb(e.selected),n[Jf]=Qb(e.disabled),n[WRe]=Qb(e.hidden),n[VRe]=[e.today],n[RT]=[],n[MT]=[],n[FT]=[],n[HRe]=[],n);return e.fromDate&&a[Jf].push({before:e.fromDate}),e.toDate&&a[Jf].push({after:e.toDate}),Zw(e)?a[Jf]=a[Jf].concat(t.modifiers[Jf]):Jw(e)&&(a[Jf]=a[Jf].concat(r.modifiers[Jf]),a[FT]=r.modifiers[FT],a[MT]=r.modifiers[MT],a[RT]=r.modifiers[RT]),a}var Mre=A.createContext(void 0);function KRe(e){var t=Ma(),r=xR(),n=_R(),a=GRe(t,r,n),i=qRe(t.modifiers),o=en(en({},a),i);return c(Mre.Provider,{value:o,children:e.children})}function Fre(){var e=A.useContext(Mre);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function YRe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function XRe(e){return!!(e&&typeof e=="object"&&"from"in e)}function ZRe(e){return!!(e&&typeof e=="object"&&"after"in e)}function JRe(e){return!!(e&&typeof e=="object"&&"before"in e)}function QRe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function e7e(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=Bu(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=Bu(e,n)>=0&&Bu(a,e)>=0;return o}return a?nl(a,e):n?nl(n,e):!1}function t7e(e){return AD(e)}function r7e(e){return Array.isArray(e)&&e.every(AD)}function n7e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(t7e(r))return nl(e,r);if(r7e(r))return r.includes(e);if(XRe(r))return e7e(e,r);if(QRe(r))return r.dayOfWeek.includes(e.getDay());if(YRe(r)){var n=Bu(r.before,e),a=Bu(r.after,e),i=n>0,o=a<0,s=c6(r.before,r.after);return s?o&&i:i||o}return ZRe(r)?Bu(e,r.after)>0:JRe(r)?Bu(r.before,e)>0:typeof r=="function"?r(e):!1})}function bR(e,t,r){var n=Object.keys(t).reduce(function(i,o){var s=t[o];return n7e(e,s)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!k4(e,r)&&(a.outside=!0),a}function a7e(e,t){for(var r=Bo(e[0]),n=um(e[e.length-1]),a,i,o=r;o<=n;){var s=bR(o,t),l=!s.disabled&&!s.hidden;if(!l){o=Pa(o,1);continue}if(s.selected)return o;s.today&&!i&&(i=o),a||(a=o),o=Pa(o,1)}return i||a}var i7e=365;function Lre(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,s=o===void 0?{count:0,lastFocused:e}:o,l=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Pa,week:v1,month:ul,year:j0e,startOfWeek:function(y){return a.ISOWeek?yh(y):as(y,{locale:f,weekStartsOn:l})},endOfWeek:function(y){return a.ISOWeek?_Y(y):O0(y,{locale:f,weekStartsOn:l})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=$0e([u,m]):n==="after"&&d&&(m=B0e([d,m]));var x=!0;if(i){var g=bR(m,i);x=!g.disabled&&!g.hidden}return x?m:s.count>i7e?s.lastFocused:Lre(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:en(en({},s),{count:s.count+1})})}var jre=A.createContext(void 0);function o7e(e){var t=Qw(),r=Fre(),n=A.useState(),a=n[0],i=n[1],o=A.useState(),s=o[0],l=o[1],u=a7e(t.displayMonths,r),d=a??(s&&t.isDateDisplayed(s))?s:u,f=function(){l(a),i(void 0)},h=function(y){i(y)},m=Ma(),x=function(y,_){if(a){var b=Lre(a,{moveBy:y,direction:_,context:m,modifiers:r});nl(a,b)||(t.goToDate(b,a),h(b))}},g={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return c(jre.Provider,{value:g,children:e.children})}function SR(){var e=A.useContext(jre);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function s7e(e,t){var r=Fre(),n=bR(e,r,t);return n}var AR=A.createContext(void 0);function l7e(e){if(!D3(e.initialProps)){var t={selected:void 0};return c(AR.Provider,{value:t,children:e.children})}return c(c7e,{initialProps:e.initialProps,children:e.children})}function c7e(e){var t=e.initialProps,r=e.children,n=function(i,o,s){var l,u,d;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,o,s),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,s);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,s)},a={selected:t.selected,onDayClick:n};return c(AR.Provider,{value:a,children:r})}function $re(){var e=A.useContext(AR);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function u7e(e,t){var r=Ma(),n=$re(),a=xR(),i=_R(),o=SR(),s=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,x=o.focusMonthAfter,g=o.focusYearBefore,y=o.focusYearAfter,_=o.focusStartOfWeek,b=o.focusEndOfWeek,S=function(z){var G,q,Y,Z;D3(r)?(G=n.onDayClick)===null||G===void 0||G.call(n,e,t,z):Zw(r)?(q=a.onDayClick)===null||q===void 0||q.call(a,e,t,z):Jw(r)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,e,t,z):(Z=r.onDayClick)===null||Z===void 0||Z.call(r,e,t,z)},C=function(z){var G;h(e),(G=r.onDayFocus)===null||G===void 0||G.call(r,e,t,z)},E=function(z){var G;f(),(G=r.onDayBlur)===null||G===void 0||G.call(r,e,t,z)},O=function(z){var G;(G=r.onDayMouseEnter)===null||G===void 0||G.call(r,e,t,z)},T=function(z){var G;(G=r.onDayMouseLeave)===null||G===void 0||G.call(r,e,t,z)},I=function(z){var G;(G=r.onDayPointerEnter)===null||G===void 0||G.call(r,e,t,z)},L=function(z){var G;(G=r.onDayPointerLeave)===null||G===void 0||G.call(r,e,t,z)},U=function(z){var G;(G=r.onDayTouchCancel)===null||G===void 0||G.call(r,e,t,z)},P=function(z){var G;(G=r.onDayTouchEnd)===null||G===void 0||G.call(r,e,t,z)},M=function(z){var G;(G=r.onDayTouchMove)===null||G===void 0||G.call(r,e,t,z)},j=function(z){var G;(G=r.onDayTouchStart)===null||G===void 0||G.call(r,e,t,z)},V=function(z){var G;(G=r.onDayKeyUp)===null||G===void 0||G.call(r,e,t,z)},X=function(z){var G;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?s():l();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?l():s();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?g():m();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?y():x();break;case"Home":z.preventDefault(),z.stopPropagation(),_();break;case"End":z.preventDefault(),z.stopPropagation(),b();break}(G=r.onDayKeyDown)===null||G===void 0||G.call(r,e,t,z)},te={onClick:S,onFocus:C,onBlur:E,onKeyDown:X,onKeyUp:V,onMouseEnter:O,onMouseLeave:T,onPointerEnter:I,onPointerLeave:L,onTouchCancel:U,onTouchEnd:P,onTouchMove:M,onTouchStart:j};return te}function d7e(){var e=Ma(),t=$re(),r=xR(),n=_R(),a=D3(e)?t.selected:Zw(e)?r.selected:Jw(e)?n.selected:void 0;return a}function f7e(e){return Object.values(ed).includes(e)}function h7e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(f7e(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function p7e(e,t){var r=en({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=en(en({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function m7e(e,t,r){var n,a,i,o=Ma(),s=SR(),l=s7e(e,t),u=u7e(e,l),d=d7e(),f=!!(o.onDayClick||o.mode!=="default");A.useEffect(function(){var O;l.outside||s.focusedDay&&f&&nl(s.focusedDay,e)&&((O=r.current)===null||O===void 0||O.focus())},[s.focusedDay,e,r,f,l.outside]);var h=h7e(o,l).join(" "),m=p7e(o,l),x=!!(l.outside&&!o.showOutsideDays||l.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:FRe,y=c(g,{date:e,displayMonth:t,activeModifiers:l}),_={style:m,className:h,children:y,role:"gridcell"},b=s.focusTarget&&nl(s.focusTarget,e)&&!l.outside,S=s.focusedDay&&nl(s.focusedDay,e),C=en(en(en({},_),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=S||b?0:-1,n)),u),E={isButton:f,isHidden:x,activeModifiers:l,selectedDays:d,buttonProps:C,divProps:_};return E}function g7e(e){var t=A.useRef(null),r=m7e(e.date,e.displayMonth,t);return r.isHidden?c("div",{role:"gridcell"}):r.isButton?c(IS,en({name:"day",ref:t},r.buttonProps)):c("div",en({},r.divProps))}function v7e(e){var t=e.number,r=e.dates,n=Ma(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,s=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:s});if(!a)return c("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=l(Number(t),{locale:s}),h=function(m){a(t,r,m)};return c(IS,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function y7e(e){var t,r,n=Ma(),a=n.styles,i=n.classNames,o=n.showWeekNumber,s=n.components,l=(t=s==null?void 0:s.Day)!==null&&t!==void 0?t:g7e,u=(r=s==null?void 0:s.WeekNumber)!==null&&r!==void 0?r:v7e,d;return o&&(d=c("td",{className:i.cell,style:a.cell,children:c(u,{number:e.weekNumber,dates:e.dates})})),w("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return c("td",{className:i.cell,style:a.cell,role:"presentation",children:c(l,{displayMonth:e.displayMonth,date:f})},qge(f))})]})}function Lz(e,t,r){for(var n=r!=null&&r.ISOWeek?_Y(t):O0(t,r),a=r!=null&&r.ISOWeek?yh(e):as(e,r),i=Bu(n,a),o=[],s=0;s<=i;s++)o.push(Pa(a,s));var l=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?kD(d):ED(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function x7e(e,t){var r=Lz(Bo(e),um(e),t);if(t!=null&&t.useFixedWeeks){var n=Wge(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=v1(i,6-n),s=Lz(v1(i,1),o,t);r.push.apply(r,s)}}return r}function w7e(e){var t,r,n,a=Ma(),i=a.locale,o=a.classNames,s=a.styles,l=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,x=x7e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:MRe,y=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:y7e,_=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:DRe;return w("table",{id:e.id,className:o.table,style:s.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&c(g,{}),c("tbody",{className:o.tbody,style:s.tbody,children:x.map(function(b){return c(y,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),c(_,{displayMonth:e.displayMonth})]})}function _7e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var b7e=_7e()?A.useLayoutEffect:A.useEffect,LT=!1,S7e=0;function jz(){return"react-day-picker-".concat(++S7e)}function A7e(e){var t,r=e??(LT?jz():null),n=A.useState(r),a=n[0],i=n[1];return b7e(function(){a===null&&i(jz())},[]),A.useEffect(function(){LT===!1&&(LT=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function k7e(e){var t,r,n=Ma(),a=n.dir,i=n.classNames,o=n.styles,s=n.components,l=Qw().displayMonths,u=A7e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,x=e.displayIndex===l.length-1,g=!m&&!x;a==="rtl"&&(t=[m,x],x=t[0],m=t[1]),m&&(f.push(i.caption_start),h=en(en({},h),o.caption_start)),x&&(f.push(i.caption_end),h=en(en({},h),o.caption_end)),g&&(f.push(i.caption_between),h=en(en({},h),o.caption_between));var y=(r=s==null?void 0:s.Caption)!==null&&r!==void 0?r:ORe;return w("div",{className:f.join(" "),style:h,children:[c(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c(w7e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function N7e(e){var t=Ma(),r=t.classNames,n=t.styles;return c("div",{className:r.months,style:n.months,children:e.children})}function E7e(e){var t,r,n=e.initialProps,a=Ma(),i=SR(),o=Qw(),s=A.useState(!1),l=s[0],u=s[1];A.useEffect(function(){a.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,l,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=en(en({},a.styles.root),a.style),h=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var y;return en(en({},x),(y={},y[g]=n[g],y))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:N7e;return c("div",en({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:c(m,{children:o.displayMonths.map(function(x,g){return c(k7e,{displayIndex:g,displayMonth:x},g)})})}))}function C7e(e){var t=e.children,r=JIe(e,["children"]);return c(vRe,{initialProps:r,children:c(ERe,{children:c(l7e,{initialProps:r,children:c(LRe,{initialProps:r,children:c(BRe,{initialProps:r,children:c(KRe,{children:c(o7e,{children:t})})})})})})})}function T7e(e){return c(C7e,en({},e,{children:c(E7e,{initialProps:e})}))}function vm({className:e,classNames:t,showOutsideDays:r=!0,...n}){return c(T7e,{showOutsideDays:r,className:Rt("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Rt(ax({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Rt(ax({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>c(i4,{className:"h-4 w-4"}),IconRight:({...a})=>c(nm,{className:"h-4 w-4"})},...n})}vm.displayName="Calendar";const P7e=je.object({type:je.string().min(1,"Treatment type is required"),description:je.string().min(1,"Description is required"),status:je.enum(["pending","completed","cancelled"]),cost:je.string().min(1,"Cost is required").refine(e=>!isNaN(parseFloat(e)),"Cost must be a valid number").refine(e=>parseFloat(e)>=0,"Cost must be a non-negative number"),estimated_duration:je.string().optional().nullable().transform(e=>e===""?null:e),priority:je.enum(["low","medium","high"]),plan_id:je.string().min(1),scheduled_date:je.string().optional().nullable().transform(e=>e===""?null:e),time_gap:je.string().optional().nullable().transform(e=>e===""?null:e)});function $z({open:e,onOpenChange:t,onSubmit:r,planId:n,loading:a=!1,initialData:i,isEditMode:o=!1}){const s=sd({resolver:ld(P7e),defaultValues:{type:"",description:"",status:"pending",cost:"0",estimated_duration:"",priority:"medium",plan_id:n,scheduled_date:null,time_gap:null}});Qe.useEffect(()=>{if(n&&!o&&s.setValue("plan_id",n),o&&i){const u=i.priority,f=["low","medium","high"].includes(u||"")?u:"medium";s.reset({type:i.type||"",description:i.procedures||i.description||"",status:i.status||"pending",cost:i.cost!==void 0&&i.cost!==null?String(i.cost):"0",estimated_duration:i.estimated_duration||null,priority:f,plan_id:i.treatment_plan_id||n,scheduled_date:i.scheduled_date?Vt(on(i.scheduled_date),"yyyy-MM-dd"):null,time_gap:i.time_gap||null})}else o||s.reset({type:"",description:"",status:"pending",cost:"0",estimated_duration:null,priority:"medium",plan_id:n,scheduled_date:null,time_gap:null})},[n,i,o,s]);const l=async u=>{await r(u),o||s.reset({type:"",description:"",status:"pending",cost:"0",estimated_duration:null,priority:"medium",plan_id:n,scheduled_date:null,time_gap:null})};return c(Za,{open:e,onOpenChange:u=>{u||o||s.reset({type:"",description:"",status:"pending",cost:"0",estimated_duration:null,priority:"medium",plan_id:n,scheduled_date:null,time_gap:null}),t(u)},children:w(Da,{className:"max-w-lg overflow-y-auto max-h-[90vh]",children:[" ",w(Ia,{children:[c(Ra,{children:o?"Edit Treatment Details":"Add New Treatment"}),c(oo,{children:o?"Update the details of this treatment or visit.":"Add a treatment procedure to the plan."})]}),c(Dh,{...s,children:w("form",{onSubmit:s.handleSubmit(l),className:"space-y-4 py-2 pr-2",children:[c(He,{control:s.control,name:"type",render:({field:u})=>w(Oe,{children:[c(Pe,{children:"Treatment Type / Title *"}),c(Ie,{children:c(ot,{placeholder:"e.g., Root Canal, Filling, Visit 1",...u})}),c(Ze,{})]})}),c(He,{control:s.control,name:"description",render:({field:u})=>w(Oe,{children:[c(Pe,{children:"Description / Procedures *"}),c(Ie,{children:c(Yr,{placeholder:"Detailed description of the treatment or procedures",...u,rows:3})}),c(Ze,{})]})}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(Up,{name:"cost",control:s.control,render:({field:u,fieldState:{error:d}})=>w(Oe,{children:[c(Pe,{children:"Cost (₹) *"}),c(Ie,{children:c(ot,{type:"text",inputMode:"decimal",placeholder:"0.00",ref:u.ref,name:u.name,onBlur:u.onBlur,value:u.value===null||u.value===void 0?"":String(u.value),onChange:f=>u.onChange(f.target.value),"aria-invalid":!!d})}),d&&c(Ze,{children:d.message})]})}),c(He,{control:s.control,name:"estimated_duration",render:({field:u})=>w(Oe,{children:[c(Pe,{children:"Estimated Duration"}),c(Ie,{children:c(ot,{type:"text",placeholder:"e.g., 30 minutes, 1 hour",...u,value:u.value??""})}),c(Ze,{})]})})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:s.control,name:"scheduled_date",render:({field:u})=>w(Oe,{className:"flex flex-col",children:[c(Pe,{children:"Scheduled Date"}),w(cg,{children:[c(ug,{asChild:!0,children:c(Ie,{children:w(Le,{variant:"outline",className:`w-full pl-3 text-left font-normal ${!u.value&&"text-muted-foreground"}`,children:[u.value?Vt(on(u.value),"PPP"):c("span",{children:"Pick a date"}),c(uce,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(gm,{className:"w-auto p-0",align:"start",children:c(vm,{mode:"single",selected:u.value?on(u.value):void 0,onSelect:d=>u.onChange(d?Vt(d,"yyyy-MM-dd"):null),disabled:d=>d<new Date("1900-01-01"),initialFocus:!0})})]}),c(Ze,{})]})}),c(He,{control:s.control,name:"time_gap",render:({field:u})=>w(Oe,{children:[c(Pe,{children:"Next Visit In (Time Gap)"}),c(Ie,{children:c(ot,{placeholder:"e.g., 7 days, 2 weeks",...u,value:u.value??""})}),c(Ze,{})]})})]}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c(He,{control:s.control,name:"status",render:({field:u})=>w(Oe,{children:[c(Pe,{children:"Status"}),w(Ur,{onValueChange:u.onChange,value:u.value||"pending",children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select status"})})}),w($r,{children:[c(gt,{value:"pending",children:"Pending"}),c(gt,{value:"completed",children:"Completed"}),c(gt,{value:"cancelled",children:"Cancelled"})]})]}),c(Ze,{})]})}),c(He,{control:s.control,name:"priority",render:({field:u})=>w(Oe,{children:[c(Pe,{children:"Priority"}),w(Ur,{onValueChange:u.onChange,value:u.value||"medium",children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select priority"})})}),w($r,{children:[c(gt,{value:"low",children:"Low"}),c(gt,{value:"medium",children:"Medium"}),c(gt,{value:"high",children:"High"})]})]}),c(Ze,{})]})})]}),w(lo,{className:"pt-4",children:[" ",c(Le,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),w(Le,{type:"submit",disabled:a||s.formState.isSubmitting,children:[a||s.formState.isSubmitting?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):o?null:c(Xc,{className:"mr-2 h-4 w-4"}),o?"Save Changes":"Add Treatment"]})]})]})})]})})}var Bre="AlertDialog",[O7e,$Je]=Yi(Bre,[cee]),Ih=cee(),Ure=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ih(t);return c(kee,{...n,...r,modal:!0})};Ure.displayName=Bre;var D7e="AlertDialogTrigger",qre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(Nee,{...a,...n,ref:t})});qre.displayName=D7e;var I7e="AlertDialogPortal",zre=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ih(t);return c(Eee,{...n,...r})};zre.displayName=I7e;var R7e="AlertDialogOverlay",Wre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(GI,{...a,...n,ref:t})});Wre.displayName=R7e;var n1="AlertDialogContent",[M7e,F7e]=O7e(n1),L7e=tG("AlertDialogContent"),Vre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Ih(r),o=A.useRef(null),s=zr(t,o),l=A.useRef(null);return c(mOe,{contentName:n1,titleName:Hre,docsSlug:"alert-dialog",children:c(M7e,{scope:r,cancelRef:l,children:w(KI,{role:"alertdialog",...i,...a,ref:s,onOpenAutoFocus:Ut(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c(L7e,{children:n}),c($7e,{contentRef:o})]})})})});Vre.displayName=n1;var Hre="AlertDialogTitle",Gre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(YI,{...a,...n,ref:t})});Gre.displayName=Hre;var Kre="AlertDialogDescription",Yre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(XI,{...a,...n,ref:t})});Yre.displayName=Kre;var j7e="AlertDialogAction",Xre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ih(r);return c(v3,{...a,...n,ref:t})});Xre.displayName=j7e;var Zre="AlertDialogCancel",Jre=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=F7e(Zre,r),i=Ih(r),o=zr(t,a);return c(v3,{...i,...n,ref:o})});Jre.displayName=Zre;var $7e=({contentRef:e})=>{const t=`\`${n1}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${n1}\` by passing a \`${Kre}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${n1}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},B7e=Ure,U7e=qre,q7e=zre,Qre=Wre,ene=Vre,tne=Xre,rne=Jre,nne=Gre,ane=Yre;const Bz=B7e,Uz=U7e,z7e=q7e,ine=A.forwardRef(({className:e,...t},r)=>c(Qre,{className:Rt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ine.displayName=Qre.displayName;const GO=A.forwardRef(({className:e,...t},r)=>w(z7e,{children:[c(ine,{}),c(ene,{ref:r,className:Rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));GO.displayName=ene.displayName;const KO=({className:e,...t})=>c("div",{className:Rt("flex flex-col space-y-2 text-center sm:text-left",e),...t});KO.displayName="AlertDialogHeader";const YO=({className:e,...t})=>c("div",{className:Rt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});YO.displayName="AlertDialogFooter";const XO=A.forwardRef(({className:e,...t},r)=>c(nne,{ref:r,className:Rt("text-lg font-semibold",e),...t}));XO.displayName=nne.displayName;const ZO=A.forwardRef(({className:e,...t},r)=>c(ane,{ref:r,className:Rt("text-sm text-muted-foreground",e),...t}));ZO.displayName=ane.displayName;const JO=A.forwardRef(({className:e,...t},r)=>c(tne,{ref:r,className:Rt(ax(),e),...t}));JO.displayName=tne.displayName;const QO=A.forwardRef(({className:e,...t},r)=>c(rne,{ref:r,className:Rt(ax({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));QO.displayName=rne.displayName;function W7e({treatment:e,onStatusChange:t,onDelete:r,onEdit:n,loading:a=!1}){const[i,o]=A.useState(!1),[s,l]=A.useState("N/A");A.useEffect(()=>{let y=null;const _=()=>{const b=e.actual_start_time?new Date(e.actual_start_time):null,S=e.actual_end_time?new Date(e.actual_end_time):null;if(S&&b)y&&clearInterval(y),l(kY(S,b));else if(b){const E=xY(new Date,b),O=Math.floor(E/3600),T=Math.floor(E%3600/60),I=E%60;l(`${String(O).padStart(2,"0")}:${String(T).padStart(2,"0")}:${String(I).padStart(2,"0")}`)}else l(u(e.estimated_duration)),y&&clearInterval(y)};return _(),e.actual_start_time&&!e.actual_end_time&&(y=setInterval(_,1e3)),()=>{y&&clearInterval(y)}},[e.actual_start_time,e.actual_end_time,e.estimated_duration]);const u=y=>{if(console.log("Received intervalValue:",y,"Type:",typeof y),!y)return"N/A";if(typeof y=="object"&&y!==null){const{days:_=0,hours:b=0,minutes:S=0,seconds:C=0}=y;let E="";return _>0&&(E+=`${_} day${_>1?"s":""} `),b>0&&(E+=`${b} hour${b>1?"s":""} `),S>0&&(E+=`${S} minute${S>1?"s":""} `),E.trim()||"N/A"}if(typeof y=="string")try{if(typeof y=="string"&&/^\d{2}:\d{2}:\d{2}$/.test(y)){const _=y.split(":").map(Number),b=_[0]||0,S=_[1]||0,C=_[2]||0;if(isNaN(b)||isNaN(S)||isNaN(C))return console.warn(`Could not parse HH:MM:SS interval: ${y}`),y;let E="";return b>0&&(E+=`${b} hour${b>1?"s":""} `),S>0&&(E+=`${S} minute${S>1?"s":""} `),C>0&&b===0&&S===0&&(E+=`${C} second${C>1?"s":""}`),E.trim()||"N/A"}return y}catch(_){return console.error("Error parsing interval string:",y,_),y}return console.warn("Unexpected interval value type:",typeof y,y),"Invalid Duration"},d=y=>{let _="bg-gray-100 text-gray-800";switch(y){case"pending":_="bg-purple-100 text-purple-800";break;case"completed":_="bg-green-100 text-green-800";break;case"cancelled":_="bg-red-100 text-red-800";break}return c("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${_}`,children:y.replace("_"," ")})},f=y=>{let _="bg-gray-100 text-gray-800";switch(y){case"low":_="bg-green-100 text-green-800";break;case"medium":_="bg-yellow-100 text-yellow-800";break;case"high":_="bg-red-100 text-red-800";break}return c("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${_}`,children:y})};if(!e)return c("div",{className:"text-center text-sm text-gray-500 py-4",children:"No treatment data."});const h=String(e.cost||"0"),m=parseFloat(h),x=isNaN(m)?0:m,g=e.scheduled_date||e.estimatedVisitDate;return w("div",{className:"bg-white shadow-md rounded-lg mb-3 transition-all hover:shadow-lg",children:[w("div",{className:"px-5 py-4",children:[w("div",{className:"flex justify-between items-start mb-2",children:[w("div",{children:[c("h4",{className:"font-semibold text-md text-gray-800 group-hover:text-blue-600 transition-colors duration-200",children:e.type}),c("p",{className:"text-sm text-gray-600 mt-0.5",children:e.description})]}),w("div",{className:"flex items-center space-x-2 shrink-0 ml-4",children:[d(e.status),e.priority&&f(e.priority),c(Le,{variant:"ghost",size:"icon",onClick:n,disabled:a,className:"h-7 w-7 text-gray-500 hover:text-blue-600",title:"Edit Treatment",children:c(Nce,{className:"h-4 w-4"})})]})]}),w("div",{className:"flex items-center text-xs text-gray-500 mt-3 pt-3 border-t border-gray-200",children:[g&&w(Sr,{children:[c(yo,{className:"mr-1.5 h-3.5 w-3.5 text-gray-400"}),c("span",{className:"font-medium",children:"Visit Date:"}),c("span",{className:"ml-1",children:g}),c("span",{className:"mx-2 text-gray-300",children:"|"})," "]}),c(Yc,{className:"mr-1.5 h-3.5 w-3.5 text-gray-400"}),c("span",{className:"font-medium",children:"Duration:"}),c("span",{className:"ml-1",children:s}),e.time_gap&&w(Sr,{children:[c("span",{className:"mx-2 text-gray-300",children:"|"}),c("span",{className:"font-medium",children:"Next visit in:"}),c("span",{className:"ml-1",children:e.time_gap})]})]})]}),c("div",{className:"bg-gray-50 px-5 py-3 border-t border-gray-200",children:w("div",{className:"flex items-center justify-between",children:[w("div",{className:"text-sm font-medium text-gray-700",children:["Cost: ",c("span",{className:"text-gray-900",children:Wv(x,"USD")})]}),w("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&w(Sr,{children:[w(Le,{variant:"outline",size:"sm",className:"text-xs",title:"Mark this treatment as completed",onClick:()=>t(e.id,"completed"),disabled:a||i,children:[a&&!i?c(Zn,{className:"h-3 w-3 mr-1.5 animate-spin"}):c(p1,{className:"h-3 w-3 mr-1.5"}),"Mark Complete"]}),w(Le,{variant:"outline",size:"sm",className:"text-xs",title:"Cancel this treatment",onClick:()=>t(e.id,"cancelled"),disabled:a||i,children:[a&&!i?c(Zn,{className:"h-3 w-3 mr-1.5 animate-spin"}):c(im,{className:"h-3 w-3 mr-1.5"}),"Cancel"]})]}),(e.status==="completed"||e.status==="cancelled")&&w(Le,{variant:"outline",size:"sm",className:"text-xs",title:"Reopen this treatment (set to pending)",onClick:()=>t(e.id,"pending"),disabled:a||i,children:[a&&!i?c(Zn,{className:"h-3 w-3 mr-1.5 animate-spin"}):c(Ece,{className:"h-3 w-3 mr-1.5"}),"Reopen"]})]})]})})]})}const qz="#0060df",V7e="#22c55e",zz="#e0e0e0",Wz="#ffffff",H7e=({steps:e,currentStepId:t,completedStepIds:r})=>{const n=(a,i)=>{const o=i===e.length-1,s=t==="completed";return r.includes(a)?s&&o?"finalComplete":"completed":a===t?s&&o?"finalComplete":"current":"pending"};return w("div",{className:"flex items-start w-full px-2 py-4 bg-white rounded-lg shadow-sm overflow-x-auto",children:[" ",e.map((a,i)=>{const o=n(a.id,i),s=i===e.length-1,l=o==="completed",u=o==="current",d=o==="finalComplete",f=d?V7e:l||u?qz:zz;return w(Qe.Fragment,{children:[w("div",{className:"flex flex-col items-center min-w-[100px] px-1",children:[" ",c("div",{className:"flex items-center justify-center w-6 h-6 rounded-full transition-colors duration-500 mb-1",style:{backgroundColor:f},children:l||d?w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:Wz,className:"w-4 h-4",children:[" ",c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}):u?w("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:Wz,className:"w-4 h-4",children:[" ",c("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})]}):c("div",{className:"w-2 h-2 bg-gray-400 rounded-sm"})}),w("div",{className:"text-center",children:[w("div",{className:`text-xs font-medium ${l||u||d?"text-gray-700":"text-gray-400"}`,children:[" ",a.title]}),a.description&&c("div",{className:"text-[10px] text-gray-400",children:a.description})]})]}),!s&&w("div",{className:"flex-1 h-1 mx-1 relative transition-colors duration-500",style:{backgroundColor:zz},children:[" ",c("div",{className:"absolute top-0 left-0 h-full transition-all duration-1000 ease-out",style:{width:l?"100%":"0%",backgroundColor:qz}})]})]},a.id)})]})},G7e=(e,t)=>{if(!t)try{return Vt(on(e),"yyyy-MM-dd")}catch{try{const a=new Date(e);return isNaN(a.getTime())?(console.warn(`[calculateEstimatedDate] Could not parse baseDateStr with any known method: ${e}`),e):Vt(a,"yyyy-MM-dd")}catch{return console.warn(`[calculateEstimatedDate] Further error parsing baseDateStr: ${e}`),e}}let r;try{r=on(e)}catch{try{if(r=new Date(e),isNaN(r.getTime()))throw new Error("Invalid base date after new Date()")}catch(a){return console.error(`[calculateEstimatedDate] Invalid baseDate: ${e}`,a),"Invalid Date"}}if(isNaN(r.getTime()))return console.error(`[calculateEstimatedDate] BaseDate is invalid after parsing attempts: ${e}`),"Invalid Date";try{const n=t.toLowerCase().split(" ");if(n.length!==2)return Vt(r,"yyyy-MM-dd");const a=parseInt(n[0],10),i=n[1].endsWith("s")?n[1]:n[1]+"s";if(isNaN(a))return Vt(r,"yyyy-MM-dd");let o={};if(i==="days")o={days:a};else if(i==="weeks")o={weeks:a};else if(i==="months")o={months:a};else if(i==="years")o={years:a};else return Vt(r,"yyyy-MM-dd");return Vt(D0e(r,o),"yyyy-MM-dd")}catch(n){console.error(`Error calculating estimated date with baseDate: ${e}, timeGap: ${t}`,n);try{return Vt(r,"yyyy-MM-dd")}catch{return"Invalid Date"}}};function K7e({open:e,onOpenChange:t,plan:r,onRefresh:n,onAddTreatment:a,onStatusChange:i,onDeletePlan:o,onTreatmentStatusChange:s,onDeleteTreatment:l,loading:u=!1,navigateToPatient:d,aiInitialSuggestion:f,onEditTreatment:h,bookedVisitIds:m=[]}){var Y,Z,D,K,Q,ie;const{toast:x}=vn(),g=Uo(),[y,_]=A.useState(!1),[b,S]=A.useState(!1),[C,E]=A.useState(1),O=5,[T,I]=A.useState(!1),L=ae=>{if(!ae||typeof ae!="string")return;ae=ae.trim();const oe=ae.match(/^(\d+)\s*[-–]\s*(\d+)\s+(\w+)$/i);if(oe&&oe.length===4)return`${oe[2]} ${oe[3]}`;const de=ae.match(/^(\d+)\s+(\w+)$/i);if(de&&de.length===3)return`${de[1]} ${de[2]}`;const J=ae.match(/^(\d+)$/);if(J&&J.length===2)return`${J[1]} minutes`;console.warn(`[TreatmentPlanDetails] Could not parse duration: "${ae}". It does not match expected formats (e.g., "X-Y units", "X units", "X"). Falling back to undefined.`)};console.log("[TreatmentPlanDetails] Rendering. Plan:",r),console.log("[TreatmentPlanDetails] aiInitialSuggestion:",f),(Y=f==null?void 0:f.planDetails)!=null&&Y.appointmentPlan&&(console.log("[TreatmentPlanDetails] aiInitialSuggestion.planDetails.appointmentPlan.sittingDetails:",f.planDetails.appointmentPlan.sittingDetails),console.log("[TreatmentPlanDetails] sittingDetails length:",(Z=f.planDetails.appointmentPlan.sittingDetails)==null?void 0:Z.length)),console.log("[TreatmentPlanDetails] plan.treatments:",r==null?void 0:r.treatments),A.useMemo(()=>{if(!(r!=null&&r.treatments))return[];const ae=(C-1)*O,oe=ae+O;return r.treatments.slice(ae,oe)},[r==null?void 0:r.treatments,C]);const U=A.useMemo(()=>{if(!(r!=null&&r.treatments)||r.treatments.length===0)return[];let ae=r.start_date||r.created_at;return r.treatments.map((oe,de)=>{let J;if(de===0)J=Vt(on(ae),"yyyy-MM-dd");else{const ue=r.treatments[de-1];ae=G7e(ae,ue.time_gap),J=ae}return{...oe,estimatedVisitDate:J}})},[r==null?void 0:r.treatments,r==null?void 0:r.start_date,r==null?void 0:r.created_at]),P=A.useMemo(()=>{if(!U)return[];const ae=(C-1)*O,oe=ae+O;return U.slice(ae,oe)},[U,C]),M=A.useMemo(()=>r!=null&&r.treatments?Math.ceil(r.treatments.length/O):1,[r==null?void 0:r.treatments]),j=(ae,oe,de)=>{const J=typeof de=="number"?de+1:ae.visit_number;let ue=null;if(ae.scheduled_date&&/^\d{4}-\d{2}-\d{2}$/.test(ae.scheduled_date))ue=ae.scheduled_date;else if(ae.estimatedVisitDate&&/^\d{4}-\d{2}-\d{2}$/.test(ae.estimatedVisitDate))ue=ae.estimatedVisitDate;else if(ae.scheduled_date)try{ue=Vt(on(ae.scheduled_date),"yyyy-MM-dd")}catch{try{const ne=new Date(ae.scheduled_date);isNaN(ne.getTime())||(ue=Vt(ne,"yyyy-MM-dd"))}catch{}}return{id:ae.id,treatment_plan_id:oe,visit_number:J||0,procedures:ae.description||ae.procedures||"",type:ae.type||ae.title||"",estimated_duration:ae.estimated_duration,time_gap:ae.time_gap,status:ae.status||"pending",scheduled_date:ue,cost:ae.cost,priority:ae.priority||"medium"}},V=async()=>{var de,J;if(!((J=(de=f==null?void 0:f.planDetails)==null?void 0:de.appointmentPlan)!=null&&J.sittingDetails)||!(r!=null&&r.id)){x({title:"Error",description:"No AI suggestion details found or plan ID is missing.",variant:"destructive"});return}I(!0);let ae=0;const oe=f.planDetails.appointmentPlan.sittingDetails.length;try{for(const ue of f.planDetails.appointmentPlan.sittingDetails){console.log("[TreatmentPlanDetails] [handleCreateAiSuggestedTreatments] Processing sitting:",ue);const ge=ue.procedures||"No procedures detailed.",ne=ge.substring(0,50)+(ge.length>50?"...":""),Ne=`${ue.visit||"AI Suggested Visit"} - ${ne}`,Re=L(ue.estimatedDuration),De={type:Ne,description:ge,status:"pending",priority:"medium",cost:"0",estimated_duration:Re,time_gap:ue.timeGap||null,plan_id:r.id};await Qs.createTreatment(De),ae++}x({title:"Success",description:`${ae} of ${oe} AI suggested treatments created. Refreshing...`}),await n()}catch(ue){console.error("Error creating AI suggested treatments:",ue),x({title:"Creation Failed",description:`Failed to create some or all AI suggested treatments. ${ae} created. ${ue.message}`,variant:"destructive"}),ae>0&&await n()}finally{I(!1)}};if(!r)return null;const X=A.useMemo(()=>{if(!r.start_date||!r.end_date)return null;try{const ae=new Date(r.start_date),oe=new Date(r.end_date);return kY(oe,ae,{addSuffix:!1})}catch(ae){return console.error("Error calculating duration:",ae),null}},[r.start_date,r.end_date]),te=A.useMemo(()=>[{id:"planned",title:"Planned",description:"Plan created"},{id:"in_progress",title:"In Progress",description:"Treatment started"},{id:"completed",title:"Completed",description:"Plan finished"}],[]),z=A.useMemo(()=>{const ae=[];if(!(r!=null&&r.status))return ae;const oe=te.findIndex(de=>de.id===r.status);for(let de=0;de<oe;de++)ae.push(te[de].id);return r.status==="completed"&&(ae.includes("planned")||ae.push("planned"),ae.includes("in_progress")||ae.push("in_progress")),r.status,ae},[r==null?void 0:r.status,te]),G=ae=>{let oe="bg-gray-100 text-gray-800";switch(ae){case"planned":oe="bg-blue-100 text-blue-800";break;case"in_progress":oe="bg-yellow-100 text-yellow-800";break;case"completed":oe="bg-green-100 text-green-800";break;case"cancelled":oe="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${oe}`,children:ae.replace("_"," ")})},q=ae=>{let oe="bg-gray-100 text-gray-800";switch(ae){case"low":oe="bg-green-100 text-green-800";break;case"medium":oe="bg-yellow-100 text-yellow-800";break;case"high":oe="bg-red-100 text-red-800";break}return c("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${oe}`,children:ae})};return c(Za,{open:e,onOpenChange:t,children:w(Da,{className:"max-w-4xl",children:[w(Ia,{children:[c(Ra,{children:"Treatment Plan Details"}),w(oo,{children:["Created on ",Vt(new Date(r.created_at),"MMMM d, yyyy")]})]}),c("div",{className:"pr-6 py-4 max-h-[70vh] overflow-y-auto",children:w("div",{className:"space-y-6",children:[w("div",{className:"flex justify-between items-start",children:[w("div",{children:[c("h2",{className:"text-xl font-semibold",children:r.title}),c("p",{className:"text-sm text-muted-foreground",children:r.description})]}),w("div",{className:"flex items-center gap-2",children:[G(r.status),r.priority&&q(r.priority)]})]}),r.status!=="cancelled"&&c("div",{className:"my-6",children:c(H7e,{steps:te,currentStepId:r.status,completedStepIds:z})}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w("div",{className:"space-y-4",children:[w("div",{className:"flex items-center gap-2",children:[c(ao,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Patient"}),c("p",{children:r.patientName})]}),d&&c(Le,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>d(r.patient_id),children:c(ace,{className:"h-4 w-4"})})]}),w("div",{className:"flex items-center gap-2",children:[c(yo,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Timeframe"}),w("p",{children:[Vt(new Date(r.start_date),"MMMM d, yyyy"),r.end_date&&` to ${Vt(new Date(r.end_date),"MMMM d, yyyy")}`]}),X&&w("p",{className:"text-sm text-muted-foreground",children:["Calculated Duration: ",X]}),((K=(D=f==null?void 0:f.planDetails)==null?void 0:D.appointmentPlan)==null?void 0:K.totalTreatmentTime)&&w("p",{className:"text-sm text-muted-foreground mt-1",children:["Suggested Total Plan Duration: ",f.planDetails.appointmentPlan.totalTreatmentTime]})]})]}),r.teeth&&r.teeth.length>0&&w("div",{className:"flex items-center gap-2",children:[c(H8,{className:"h-5 w-5 text-muted-foreground"}),w("div",{children:[c("p",{className:"text-sm font-medium",children:"Affected Teeth"}),c("p",{className:"text-sm text-muted-foreground",children:r.teeth.map(ae=>ae.tooth_id).sort((ae,oe)=>ae-oe).join(", ")})]})]})]})}),w("div",{className:"space-y-2",children:[w("div",{className:"flex items-center justify-between",children:[c("h3",{className:"text-lg font-medium",children:"Treatments"}),w("div",{className:"flex gap-2",children:[w(Le,{variant:"outline",size:"sm",onClick:n,disabled:u,children:[c(YM,{className:"h-4 w-4 mr-1"}),"Refresh"]}),w(Le,{variant:"outline",size:"sm",onClick:a,disabled:u,children:[c(Xc,{className:"h-4 w-4 mr-1"}),"Add Treatment"]})]})]}),r.treatments&&r.treatments.length>0?w(Sr,{children:[c("div",{className:"space-y-3",children:P.map((ae,oe)=>c(W7e,{treatment:ae,onStatusChange:s,onDelete:l,onEdit:()=>{const de=j(ae,r.id,oe);h(de)},loading:u},ae.id))}),M>1&&w("div",{className:"flex justify-center items-center gap-2 mt-4",children:[w(Le,{variant:"outline",size:"sm",onClick:()=>E(ae=>Math.max(ae-1,1)),disabled:C===1||u,children:[c(i4,{className:"h-4 w-4"}),"Previous"]}),w("span",{className:"text-sm text-muted-foreground",children:["Page ",C," of ",M]}),w(Le,{variant:"outline",size:"sm",onClick:()=>E(ae=>Math.min(ae+1,M)),disabled:C===M||u,children:["Next",c(nm,{className:"h-4 w-4"})]})]})]}):(ie=(Q=f==null?void 0:f.planDetails)==null?void 0:Q.appointmentPlan)!=null&&ie.sittingDetails&&f.planDetails.appointmentPlan.sittingDetails.length>0?w("div",{className:"text-center py-6 border rounded-lg",children:[c(j0,{className:"h-8 w-8 mx-auto text-primary mb-3"}),c("p",{className:"text-muted-foreground mb-4",children:"AI-generated treatment visits are available for this plan."}),w(Le,{onClick:V,disabled:T||u,size:"sm",children:[T?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Xc,{className:"mr-2 h-4 w-4"}),"Add AI Suggested Visits"]})]}):w("div",{className:"text-center py-6 border rounded-lg",children:[c(zP,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),c("p",{className:"text-muted-foreground",children:"No treatments added yet"}),w(Le,{variant:"outline",size:"sm",className:"mt-4",onClick:a,disabled:u,children:[c(Xc,{className:"h-4 w-4 mr-1"}),"Add First Treatment"]})]})]}),w(Cg,{defaultValue:"additionalInfo",className:"w-full",children:[w(Tg,{className:"grid w-full grid-cols-3",children:[c(sl,{value:"additionalInfo",children:"Additional Information"}),c(sl,{value:"visits",children:"Scheduled Visits"}),c(sl,{value:"financial",children:"Financial Information"})]}),c(ki,{value:"additionalInfo",className:"space-y-4",children:w("div",{className:"border rounded-lg p-4",children:[c("h4",{className:"font-medium",children:"Clinical Information"}),w("div",{className:"mt-4 space-y-4",children:[r.metadata&&r.metadata.length>0&&r.metadata[0].clinical_considerations&&w("div",{children:[c("h5",{className:"text-sm font-medium",children:"Clinical Considerations"}),c("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].clinical_considerations})]}),r.metadata&&r.metadata.length>0&&r.metadata[0].key_materials&&w("div",{children:[c("h5",{className:"text-sm font-medium",children:"Key Materials"}),c("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].key_materials})]}),r.metadata&&r.metadata.length>0&&r.metadata[0].post_treatment_care&&w("div",{children:[c("h5",{className:"text-sm font-medium",children:"Post-Treatment Care"}),c("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-line",children:r.metadata[0].post_treatment_care})]}),(!r.metadata||r.metadata.length===0||r.metadata.length>0&&!r.metadata[0].clinical_considerations&&!r.metadata[0].key_materials&&!r.metadata[0].post_treatment_care)&&c("p",{className:"text-sm text-muted-foreground",children:"No additional clinical information available."})]})]})}),c(ki,{value:"visits",className:"space-y-4",children:w("div",{className:"border rounded-lg p-4",children:[c("div",{className:"flex justify-between items-center mb-3",children:c("h4",{className:"font-medium",children:"Scheduled Visits Overview"})}),U&&U.length>0?c("div",{className:"space-y-3",children:U.map((ae,oe)=>{const de=m.includes(ae.id);return console.log(`[Scheduled Visit Item] Visit ID: ${ae.id}, Treatment Type: ${ae.type}, Is Booked: ${de}, All Booked IDs:`,m),w("div",{className:"border rounded-md p-4 bg-white shadow-sm hover:shadow-md transition-shadow",children:[w("div",{className:"flex justify-between items-start",children:[w("div",{children:[c("h5",{className:"font-medium text-gray-800",children:ae.type||ae.title||`Visit ${oe+1}`}),c("p",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-md",children:ae.description||ae.procedures||"No description"})]}),ae.status&&c("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${ae.status==="completed"?"bg-green-100 text-green-700":ae.status==="cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:ae.status.charAt(0).toUpperCase()+ae.status.slice(1)})]}),w("div",{className:"mt-3 space-y-2 text-xs text-gray-600",children:[w("div",{className:"flex items-center",children:[c(yo,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),c("strong",{children:"Est. Visit:"})," ",ae.scheduled_date||ae.estimatedVisitDate||"Not set"]}),ae.estimated_duration&&w("div",{className:"flex items-center",children:[c(Yc,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),c("strong",{children:"Duration:"})," ",ae.estimated_duration]}),ae.time_gap&&w("div",{className:"flex items-center",children:[c(YM,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),c("strong",{children:"Next visit in:"})," ",ae.time_gap]}),ae.cost!==void 0&&ae.cost!==null&&parseFloat(String(ae.cost))>0&&w("div",{className:"flex items-center",children:[c(VH,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),c("strong",{children:"Cost:"})," ",Wv(parseFloat(String(ae.cost)))]})]}),c("div",{className:"mt-4 flex justify-end",children:de?w("div",{className:"flex items-center justify-center h-9 px-3 text-sm font-medium text-white bg-green-500 rounded-md",children:[c(p1,{className:"w-3.5 h-3.5 mr-1.5"}),"Booked"]}):w(Le,{variant:"outline",size:"sm",onClick:()=>{const J=ae.scheduled_date||ae.estimatedVisitDate,ue=r.patient_id,ge=ae.id,ne=ae.type||ae.title||"New Appointment";if(!J){x({title:"Cannot Book Appointment",description:"This visit does not have a scheduled or estimated date yet.",variant:"destructive"});return}const Ne=new URLSearchParams({date:J,patientId:ue});ge&&Ne.append("treatmentId",ge),Ne.append("description",ne),g(`/appointments?${Ne.toString()}`)},disabled:u||T,children:[c(yo,{className:"w-3.5 h-3.5 mr-1.5"}),"Book Appointment"]})})]},ae.id||oe)})}):w("div",{className:"text-center py-8 border rounded-lg",children:[c(yo,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),c("p",{className:"text-muted-foreground",children:"No scheduled visits for this plan yet."})]})]})}),c(ki,{value:"financial",className:"space-y-4",children:w("div",{className:"border rounded-lg p-4",children:[c("h4",{className:"font-medium",children:"Financial Summary"}),w("div",{className:"mt-4 space-y-2",children:[w("div",{className:"flex justify-between",children:[c("span",{className:"text-sm",children:"Total Treatment Cost:"}),c("span",{className:"font-medium",children:Wv(r.totalCost||0)})]}),w("div",{className:"flex justify-between",children:[c("span",{className:"text-sm",children:"Insurance Coverage (Est.):"}),c("span",{className:"font-medium",children:Wv(r.insurance_coverage||0)})]}),w("div",{className:"flex justify-between",children:[c("span",{className:"text-sm",children:"Patient Responsibility:"}),c("span",{className:"font-medium",children:Wv((r.totalCost||0)-(r.insurance_coverage||0))})]})]})]})})]}),c(lo,{children:w("div",{className:"flex gap-2 items-center",children:[r.status==="planned"&&w(Le,{variant:"outline",onClick:()=>i(r.id,"in_progress"),disabled:u,title:"Start this treatment plan",children:[u&&!y&&!b?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(Yc,{className:"h-4 w-4 mr-1"}),"Start Treatment"]}),r.status==="in_progress"&&w(Le,{variant:"outline",onClick:()=>i(r.id,"completed"),disabled:u,title:"Mark this plan as completed",children:[u&&!y&&!b?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(p1,{className:"h-4 w-4 mr-1"}),"Mark Completed"]}),(r.status==="planned"||r.status==="in_progress")&&w(Bz,{open:b,onOpenChange:S,children:[c(Uz,{asChild:!0,children:w(Le,{variant:"outline",disabled:u,title:"Cancel this treatment plan",children:[u&&b?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(im,{className:"h-4 w-4 mr-1"}),"Cancel Plan"]})}),w(GO,{children:[w(KO,{children:[c(XO,{children:"Cancel Treatment Plan"}),c(ZO,{children:"Are you sure you want to cancel this treatment plan? This action cannot be undone."})]}),w(YO,{children:[c(QO,{children:"No, Keep Plan"}),c(JO,{onClick:()=>{i(r.id,"cancelled"),S(!1)},children:"Yes, Cancel Plan"})]})]})]}),w(Bz,{open:y,onOpenChange:_,children:[c(Uz,{asChild:!0,children:w(Le,{variant:"outline",disabled:u,title:"Delete this treatment plan",children:[u&&y?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(am,{className:"h-4 w-4 mr-1"}),"Delete Plan"]})}),w(GO,{children:[w(KO,{children:[c(XO,{children:"Delete Treatment Plan"}),c(ZO,{children:"Are you sure you want to delete this treatment plan? This action cannot be undone."})]}),w(YO,{children:[c(QO,{children:"No, Keep Plan"}),c(JO,{onClick:()=>{o(r.id),_(!1)},children:"Yes, Delete Plan"})]})]})]})]})})]})})]})})}function Y7e({open:e,onOpenChange:t,patients:r}){const[n,a]=A.useState(""),[i,o]=A.useState(""),[s,l]=A.useState(""),[u,d]=A.useState(null),[f,h]=A.useState(""),[m,x]=A.useState(""),[g,y]=A.useState([]),[_,b]=A.useState(null),[S,C]=A.useState(!1),[E,O]=A.useState(null),[T,I]=A.useState([]),{toast:L}=vn(),U=z=>{var Tt;if(!z)return console.log("[generateSuggestions] No details provided."),[];console.log("[generateSuggestions] Processing details object:",z),console.log("[generateSuggestions] Processing details (stringified):",JSON.stringify(z));const G=Array.isArray(z.medical_conditions)?z.medical_conditions.map(lt=>String(lt).toLowerCase()):[],q=String(((Tt=z.lifestyle_habits)==null?void 0:Tt.additional_concerns)||"").toLowerCase(),Y=z.dental_history,Z=String((Y==null?void 0:Y.chief_complaint)||"").toLowerCase(),D=String((Y==null?void 0:Y.pain_description)||"").toLowerCase(),K=String((Y==null?void 0:Y.functional_concerns)||"").toLowerCase();console.log("[generateSuggestions] Parsed medicalConditions array:",G),console.log("[generateSuggestions] Parsed lifestyleConcerns string:",q),console.log("[generateSuggestions] Parsed chiefComplaint string:",Z),console.log("[generateSuggestions] Parsed painDescription string:",D),console.log("[generateSuggestions] Parsed functionalConcerns string:",K);const Q=["pain","throbbing","sensitivity","sensitive","hot food","severe tooth pain","ache"],ie=["filling","root canal","lodgement","molar","cavity","broken","chipped","missing"],ae=["gum","recession","periodontal","bleeding","swelling","pocketing","mobile"],oe=["jaw","clicking","tmj","bruxism","grinding","headache","lock"],de=["stain","deposits","white teeth","cosmetic","discolored","yellow"],J=`${Z} ${D} ${K} ${q}`;console.log("[generateSuggestions] Combined searchable text:",J);const ue=[],ge=new Set;let ne=0;const Ne=(lt,_e,Ce)=>{let We=Ce.split(" ")[0];const ft=Ce.match(/\b(\d{2}(?:,\s*\d{2})*)\b/);return ft?We=`Teeth ${ft[0]}`:_e.length>0&&(We=_e[0].charAt(0).toUpperCase()+_e[0].slice(1)),`${lt}: ${We}`},Re=Q.filter(lt=>J.includes(lt)||G.includes(lt));if(Re.length>0&&ne<3){const lt=Ne("Assess Pain",Re,D||Z);if(!ge.has(lt)){const _e=`Patient reports pain/sensitivity related to: "${D||Z||"N/A"}". Relevant Medical Conditions: ${G.join(", ")||"None"}.`,Ce=`Regarding the reported pain/sensitivity (${D||Z||"see condition"}), what are the likely causes? What diagnostic steps (tests, imaging) and initial pain management strategies are recommended?`;ue.push({label:lt,condition:_e,question:Ce}),ge.add(lt),ne++}}const De=ie.filter(lt=>J.includes(lt));if(De.length>0&&ne<3){const lt=Ne("Evaluate Restorative",De,Z||K);if(!ge.has(lt)){const _e=`Patient presents with potential restorative needs (${De.join(", ")}). Chief Complaint: "${Z||"N/A"}". Functional Concerns: "${K||"N/A"}".`,Ce=`Given the potential restorative issues (${Z||K||De.join(", ")||"see condition"}), what diagnostic evaluations are needed? What are the primary restorative treatment options to consider?`;ue.push({label:lt,condition:_e,question:Ce}),ge.add(lt),ne++}}const pe=ae.filter(lt=>J.includes(lt));if(pe.length>0&&ne<3){const lt=Ne("Check Perio",pe,K||Z);if(!ge.has(lt)){const _e=`Patient shows signs potentially related to periodontal health (${pe.join(", ")}). Chief Complaint: "${Z||"N/A"}". Functional Concerns: "${K||"N/A"}". Relevant Medical Conditions: ${G.join(", ")||"None"}.`,Ce=`Based on potential periodontal indicators (${K||Z||pe.join(", ")||"see condition"}), what periodontal assessment (probing, bleeding index) is necessary? What initial hygiene or treatment steps should be considered?`;ue.push({label:lt,condition:_e,question:Ce}),ge.add(lt),ne++}}const Je=de.filter(lt=>J.includes(lt));if(Je.length>0&&ne<3){const lt=Ne("Review Esthetics",Je,K||Z);if(!ge.has(lt)){const _e=`Patient has expressed concerns or shows signs related to dental esthetics (${Je.join(", ")}). Chief Complaint: "${Z||"N/A"}". Functional Concerns: "${K||"N/A"}".`,Ce=`Regarding the esthetic concerns (${Z||K||Je.join(", ")||"see condition"}), what options are available (e.g., whitening, veneers, cleaning)? What factors should be considered in treatment planning?`;ue.push({label:lt,condition:_e,question:Ce}),ge.add(lt),ne++}}const mt=oe.filter(lt=>J.includes(lt));if(mt.length>0&&ne<3){const lt=Ne("Assess TMJ",mt,Z||D||K);if(!ge.has(lt)){const _e=`Patient reports symptoms potentially related to TMJ dysfunction (${mt.join(", ")}). Chief Complaint: "${Z||"N/A"}". Pain Description: "${D||"N/A"}". Functional Concerns: "${K||"N/A"}".`,Ce=`Considering the potential TMJ symptoms (${Z||D||K||mt.join(", ")||"see condition"}), how should TMJ function be assessed? What are the initial management options for potential TMJ disorders or bruxism?`;ue.push({label:lt,condition:_e,question:Ce}),ge.add(lt),ne++}}const dt=ue;return console.log("[generateSuggestions] Final generated suggestions (more exact labels):",JSON.stringify(dt,null,2)),dt};A.useEffect(()=>{(async()=>{if(!i){d(null),console.log("[fetchDetails] No patient selected, clearing details.");return}console.log("[fetchDetails] Fetching details for patient ID:",i);try{const{data:G,error:q}=await Me.from("patients").select("*").eq("id",i).single();q?(console.error("[fetchDetails] Error fetching patient details:",q),d(null)):G?(console.log("[fetchDetails] Raw data received:",G),console.log("[fetchDetails] Setting fetchedPatientDetails with full record:",G),d(G)):(console.log("[fetchDetails] No data received for patient ID:",i),d(null))}catch(G){console.error("[fetchDetails] Exception fetching patient details:",G),d(null)}})(),(!e||!i)&&I([])},[i,e]),A.useEffect(()=>{console.log("[suggestionEffect] Suggestion useEffect triggered. Patient ID:",i),console.log("[suggestionEffect] Using fetchedPatientDetails:",u);let z=[];i&&u&&u.id===i?(z=U(u),console.log("[suggestionEffect] Generated specific suggestions:",z)):console.log("[suggestionEffect] Conditions not met for generating specific suggestions."),y(z),console.log("[suggestionEffect] Set dynamicSuggestions to:",z)},[i,u]),A.useEffect(()=>{console.log("[clearFieldsEffect] Clearing fields due to patient change:",i),h(""),x(""),b(null),O(null),I([])},[i]);const P=z=>{o(z.id),l(`${z.first_name||""} ${z.last_name||""}`.trim()),a("")},M=z=>{h(z.condition),x(z.question),b(z.label)},j=()=>{x("I want three treatment plans"),b(null)},V=async()=>{var q;if(S)return;if(!i){L({title:"Patient Required",description:"Please select a patient",variant:"destructive",duration:3e3});return}if(T.length===0){L({title:"Teeth Required",description:"Please select at least one tooth.",variant:"destructive",duration:3e3});return}if(!f.trim()){L({title:"Input Required",description:"Please describe the patient's current condition.",variant:"destructive",duration:3e3});return}if(!m.trim()){L({title:"Input Required",description:"Please enter the specific question for the AI.",variant:"destructive",duration:3e3});return}C(!0),O(null);const z=new AbortController,G=setTimeout(()=>z.abort(),12e4);try{const Y=z.signal;Y.throwIfAborted();const Z="https://n8n1.kol.tel/webhook/c9a421f2-a0b5-4d87-a0a6-80698632889a",D={patientDetails:u,selectedToothIds:T,currentCondition:f,currentQuestion:m};console.log("[AITreatmentGenerator] Sending payload to n8n for plan generation:",D);const K=await fetch(Z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(Y.throwIfAborted(),clearTimeout(G),!K.ok){const ae=await K.text();throw console.error("[AITreatmentGenerator] Error response from n8n webhook:",K.status,ae),new Error(`AI plan generation failed: ${K.status}`)}const Q=await K.json();console.log("[AITreatmentGenerator] Received response from n8n:",Q);const ie=(q=Q==null?void 0:Q[0])==null?void 0:q.output;if(ie){const ae=JSON.stringify(ie);O(ae);const oe=ie.response,de=JSON.stringify(oe||{});L({title:"Treatment Plan Generated",description:"The AI-generated plan is now available below.",variant:"default",duration:5e3});const{data:J,error:ue}=await Me.from("ai_treatment_plans").insert({patient_id:i,title:f,description:m,content:de,created_at:new Date().toISOString()}).select("id").single();if(ue)console.error("Error saving AI treatment plan to database:",ue),L({title:"Save Failed",description:"Failed to save the main AI plan details. Check console.",variant:"destructive",duration:5e3});else if(J){console.log("AI treatment plan saved successfully with ID:",J.id);const ge=J.id;if(T&&T.length>0){const ne=T.map(Re=>({ai_treatment_plan_id:ge,tooth_id:Re})),{error:Ne}=await Me.from("ai_treatment_plans_teeth").insert(ne);Ne?(console.error("Error linking teeth to AI treatment plan:",Ne),L({title:"Partial Save",description:"AI plan saved, but failed to link selected teeth. Check console.",variant:"default",duration:5e3})):console.log("Teeth linked to AI treatment plan successfully.")}}}else throw console.error("Could not extract output object from webhook response:",Q),new Error("Received invalid response format from AI generator (missing output).")}catch(Y){console.error("Error generating treatment plan:",Y);let Z="Please check console for details.";Y instanceof Error&&(Z=Y.message),L({title:"Generation Failed",description:`Could not trigger treatment plan generation. ${Z}`,variant:"destructive",duration:5e3})}finally{C(!1)}},X=()=>{O(null),I([]),o(""),l(""),a(""),h(""),x(""),d(null),y([]),b(null),t(!1)},te=r.filter(z=>{var D,K;const G=`${z.first_name||""} ${z.last_name||""}`.toLowerCase(),q=((D=z.phone)==null?void 0:D.toLowerCase())||"",Y=((K=z.registration_number)==null?void 0:K.toLowerCase())||"",Z=n.toLowerCase();return G.includes(Z)||q.includes(Z)||Y.includes(Z)});return c(Za,{open:e,onOpenChange:X,children:w(Da,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[w(Ia,{children:[w(Ra,{className:"flex items-center gap-2",children:[c(j0,{className:"h-5 w-5"}),"AI Treatment Plan Generator"]}),c(oo,{children:"Select a patient and describe the current issue to generate a treatment plan using AI."})]}),w("div",{className:"space-y-3 py-4",children:[w("div",{className:"space-y-2 relative",children:[" ",c(Yt,{htmlFor:"patient-search",children:"Select Patient"}),c(ot,{type:"search",id:"patient-search",value:n,onChange:z=>{a(z.target.value),i&&(o(""),l(""),d(null))},placeholder:s||"Search by name, phone, or registration...",className:"w-full"}),n&&w(df,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:[" ",c("div",{className:"p-2",children:te.length>0?te.map(z=>c(Le,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>P(z),children:w("div",{children:[c("div",{children:`${z.first_name||""} ${z.last_name||""}`.trim()}),w("div",{className:"text-xs text-muted-foreground",children:[z.registration_number&&`Reg: ${z.registration_number}`,z.registration_number&&z.phone&&" | ",z.phone&&`Ph: ${z.phone}`,!z.registration_number&&!z.phone&&`ID: ${z.id.substring(0,6)}...`]})]})},z.id)):w("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',n,'"']})})]})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Teeth *"}),i?c(lR,{value:T,onChange:I,placeholder:"Select Affected Teeth...",disabled:!i}):c("div",{className:"flex items-center justify-center h-10 px-3 border rounded-md bg-gray-50 text-sm text-muted-foreground",children:"Select a patient to enable teeth selection."})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"condition-input",children:"Condition"}),c(Yr,{id:"condition-input",placeholder:"Describe symptoms, observations, relevant history...",rows:5,value:f,onChange:z=>h(z.target.value),disabled:!i})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"question-input",children:"Question"}),c(Yr,{id:"question-input",placeholder:"What specific question do you have based on the condition?",rows:3,value:m,onChange:z=>x(z.target.value),disabled:!i})]}),i&&g.length>0&&w("div",{className:"space-y-2 pt-2",children:[" ",c(Yt,{children:"Query Suggestions"})," ",w("div",{className:"flex flex-wrap gap-2 pt-1",children:[" ",c(Le,{disabled:!i,variant:"ghost",size:"sm",className:`
                    h-auto px-2.5 py-0.5 rounded-full border-none
                    transition-colors duration-150 ease-in-out
                    focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                    disabled:opacity-60 disabled:cursor-not-allowed
                    bg-[#e8eefd] text-[#1B56FD] hover:bg-[#d1dffd]
                    disabled:bg-blue-50 disabled:text-blue-300
                  `,onClick:j,children:"I want three treatment plans"},"fixed-suggestion"),g.map((z,G)=>{const q=z.label===_;return c(Le,{disabled:!i,variant:"ghost",size:"sm",className:`
                    h-auto px-2.5 py-0.5
                    rounded-full
                    border-none
                    transition-colors duration-150 ease-in-out
                    focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                    disabled:opacity-60 disabled:cursor-not-allowed
                   ${q?`
                    bg-[#1B56FD] /* Main blue background */
                    text-white /* White text */
                    hover:bg-[#0118D8] /* Darker blue hover */
                    disabled:bg-blue-300 disabled:text-gray-100
                  `:`
                    bg-[#e8eefd] /* Light blue background */
                    text-[#1B56FD] /* Main blue text */
                    hover:bg-[#d1dffd] /* Slightly darker light blue hover */
                    disabled:bg-blue-50 disabled:text-blue-300
                  `}`,onClick:()=>M(z),children:z.label},G)})]}),c("p",{className:"text-xs text-muted-foreground pt-1",children:"Click a suggestion to populate the fields above. The fixed suggestion only populates the question."})," "]}),i&&g.length===0&&w("div",{className:"space-y-2 pt-2",children:[c(Yt,{children:"Query Suggestions"}),c("div",{className:"flex flex-wrap gap-2 pt-1",children:c(Le,{disabled:!i,variant:"ghost",size:"sm",className:`
                    h-auto px-2.5 py-0.5 rounded-full border-none
                    transition-colors duration-150 ease-in-out
                    focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#0118D8]
                    disabled:opacity-60 disabled:cursor-not-allowed
                    bg-[#e8eefd] text-[#1B56FD] hover:bg-[#d1dffd]
                    disabled:bg-blue-50 disabled:text-blue-300
                  `,onClick:j,children:"I want three treatment plans"},"fixed-suggestion-only")}),c("p",{className:"text-xs text-muted-foreground pt-1",children:"Click the suggestion to populate the question field."})]}),E&&w("div",{className:"pt-6 mt-6 border-t border-gray-200",children:[c(Yt,{className:"text-base font-medium mb-3 block text-gray-700",children:"AI Generated Plan"}),w("div",{className:"flex items-start space-x-3",children:[c("div",{className:"flex-shrink-0 w-9 h-9 rounded-full bg-indigo-100 flex items-center justify-center border border-indigo-200 shadow-sm",children:c(UH,{className:"w-5 h-5 text-indigo-600"})}),c("div",{className:"flex-1 min-w-0 overflow-hidden",children:c("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:c(df,{className:"h-auto pr-4",children:w("div",{className:"space-y-4 text-sm text-gray-800",children:[" ",(()=>{const z=(q,Y,Z="mb-4")=>Y?w("div",{className:Z,children:[w("strong",{className:"block font-semibold text-gray-800 mb-1",children:[q,":"]}),c("p",{className:"text-gray-700 whitespace-pre-wrap",children:Y})]}):null,G=q=>!q||typeof q!="string"?null:q.match(/^\s*\d+\.\s+/m)?c("ol",{className:"list-decimal list-inside pl-4 mt-1 space-y-1 text-gray-700",children:q.split(/\n?\s*\d+\.\s+/).filter(Boolean).map((Y,Z)=>c("li",{children:Y.trim()},Z))}):c("p",{className:"text-gray-700 whitespace-pre-wrap mt-1",children:q});try{const Y=JSON.parse(E).response;return typeof Y!="object"||Y===null?(console.warn("Extracted response data is not an object:",Y),c("pre",{className:"whitespace-pre-wrap text-xs",children:E})):w("div",{className:"space-y-6",children:[z("Clinical Assessment",Y.clinicalAssessment),z("Evidence & Rationale",Y.evidenceAndRationale),Y.treatmentPlans&&Array.isArray(Y.treatmentPlans)&&Y.treatmentPlans.length>0&&w("div",{children:[c("h3",{className:"text-lg font-semibold text-gray-800 mb-3 border-b pb-2",children:"Treatment Plans"}),c("div",{className:"space-y-6",children:Y.treatmentPlans.map((Z,D)=>w("div",{className:"pl-2 border-l-4 border-indigo-200",children:[Z.planName&&c("h4",{className:"text-base font-semibold text-indigo-700 mb-2",children:Z.planName}),z("Recommendation",Z.recommendation,"mb-2"),z("Approach",Z.approach,"mb-2"),z("Benefits",Z.benefits,"mb-2"),z("Considerations",Z.considerations,"mb-2"),Z.procedureSteps&&w("div",{className:"mb-2",children:[c("strong",{className:"block font-semibold text-gray-800 mb-1",children:"Procedure Steps:"}),G(Z.procedureSteps)]})]},D))})]}),z("Follow Up",Y.followUp),z("Patient Instructions",Y.patientInstructions)]})}catch(q){return console.warn("Failed to parse generatedPlan (output object) as JSON, displaying raw:",q),c("pre",{className:"whitespace-pre-wrap text-xs",children:E})}})()]})})})})]})]})]}),w(lo,{children:[c(Le,{variant:"outline",onClick:X,children:"Cancel"}),c(Le,{onClick:V,disabled:!i||T.length===0||!f.trim()||!m.trim(),className:`ai-insights-button ${S?"opacity-100 cursor-not-allowed":""}`,style:S?{opacity:1}:{},children:S?w(Sr,{children:[c(j0,{className:"mr-2 h-4 w-4 animate-spin"}),"AI is thinking... (this may take up to 2 minutes)"]}):w(Sr,{children:[c(j0,{className:"mr-2 h-4 w-4"}),"Generate Plan"]})})]})]})})}function X7e(){const e=Uo(),{toast:t}=vn(),{loading:r,patients:n,selectedPlan:a,setSelectedPlan:i,treatmentPlansSubscribed:o,updatingTreatmentStatus:s,updatingPlanStatus:l,filterPlans:u,refreshSelectedPlan:d,createTreatmentPlan:f,createTreatment:h,handleUpdateTreatmentStatus:m,handleUpdatePlanStatus:x,deleteTreatment:g,deletePlan:y,updateTreatmentDetails:_}=RIe(),[b,S]=A.useState(""),[C,E]=A.useState(null),[O,T]=A.useState(null),[I,L]=A.useState(!1),[U,P]=A.useState(!1),[M,j]=A.useState(!1),[V,X]=A.useState(!1),[te,z]=A.useState(null),[G,q]=A.useState([]),[Y,Z]=A.useState(null),[D,K]=A.useState(!1),Q=async(Ne,Re)=>{try{const De=await f(Ne,Re);L(!1),i(De),console.log("[TreatmentPlansPage] handleCreatePlan - newPlan object:",De),console.log("[TreatmentPlansPage] handleCreatePlan - newPlan.originalAISuggestion:",De==null?void 0:De.originalAISuggestion),De!=null&&De.originalAISuggestion?z(De.originalAISuggestion):z(null),P(!0)}catch(De){console.error("Error creating plan:",De)}},ie=async Ne=>{try{await h(Ne),j(!1),await d()}catch(Re){console.error("Error adding treatment:",Re)}},ae=async Ne=>{if(!Y||!Y.id){t({title:"Error",description:"No treatment selected for update.",variant:"destructive"});return}try{const Re={...Ne,plan_id:Ne.plan_id||Y.plan_id};await _(Y.id,Re),K(!1),Z(null)}catch(Re){console.error("Error updating treatment:",Re)}},oe=Ne=>{Z(Ne),K(!0)},de=async Ne=>{i(Ne),P(!0);try{const Re=await IT(Ne.id);q(Re)}catch(Re){console.error("Error fetching booked visit IDs:",Re),q([])}},J=()=>{j(!0)},ue=Ne=>{e(`/patients/${Ne}`)},ge=(Ne,Re)=>x(Ne,Re),ne=(Ne,Re)=>m(Ne,Re);return w("div",{className:"space-y-6",children:[c(ka,{heading:"Treatment Plans",text:"Manage dental treatment plans and procedures",children:w("div",{className:"flex items-center gap-4",children:[w("div",{className:"relative flex-1",children:[c(s4,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c(ot,{placeholder:"Search treatment plans...",className:"pl-8",value:b,onChange:Ne=>S(Ne.target.value)})]}),w(Ur,{value:C||"all",onValueChange:Ne=>E(Ne==="all"?null:Ne),children:[c(jr,{className:"w-[220px]",children:c(qr,{placeholder:"Filter by patient"})}),w($r,{children:[c(gt,{value:"all",children:"All Patients"}),n.map(Ne=>w(gt,{value:Ne.id,children:[Ne.first_name," ",Ne.last_name]},Ne.id))]})]}),w(Ur,{value:O||"all",onValueChange:Ne=>T(Ne==="all"?null:Ne),children:[c(jr,{className:"w-[180px]",children:c(qr,{placeholder:"Filter by status"})}),w($r,{children:[c(gt,{value:"all",children:"All Statuses"}),c(gt,{value:"planned",children:"Planned"}),c(gt,{value:"in_progress",children:"In Progress"}),c(gt,{value:"completed",children:"Completed"}),c(gt,{value:"cancelled",children:"Cancelled"})]})]}),w(Le,{className:"ai-insights-button",onClick:()=>X(!0),children:[c(Mce,{className:"h-4 w-4 mr-2"}),"AI Generate Plan"]}),w(Le,{onClick:()=>L(!0),children:[c(Xc,{className:"h-4 w-4 mr-2"}),"New Treatment Plan"]})]})}),c("div",{className:"flex items-center justify-end",children:w("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[c("div",{className:`h-2 w-2 rounded-full ${o?"bg-green-500":"bg-red-500"}`}),w("span",{children:["Real-time updates ",o?"active":"inactive"]})]})}),r&&c("div",{className:"flex justify-center my-12",children:w("div",{className:"flex flex-col items-center gap-2",children:[c(Zn,{className:"h-8 w-8 animate-spin text-primary"}),c("p",{className:"text-muted-foreground",children:"Loading treatment plans..."})]})}),!r&&u(b,C,O).length===0&&w("div",{className:"text-center py-12 border rounded-lg",children:[c(JH,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c("h3",{className:"text-lg font-medium",children:"No Treatment Plans Found"}),c("p",{className:"text-muted-foreground mt-1 mb-6",children:"Create your first treatment plan to get started"}),w(Le,{onClick:()=>L(!0),children:[c(Xc,{className:"h-4 w-4 mr-2"}),"New Treatment Plan"]})]}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u(b,C,O).map(Ne=>c(MIe,{plan:Ne,onViewDetails:de},Ne.id))}),c(jIe,{open:I,onOpenChange:L,onSubmit:Q,patients:n,loading:r}),U&&a&&c(K7e,{open:U,onOpenChange:Ne=>{P(Ne),Ne?Ne&&a&&(async()=>{try{console.log(`[TreatmentPlansPage] fetchIds: About to call getAppointmentTreatmentIdsForPlan with planId: ${a.id}`);const De=await IT(a.id);console.log("[TreatmentPlansPage] fetchIds: Received ids:",De),q(De)}catch(De){console.error("[TreatmentPlansPage] fetchIds: Error fetching booked visit IDs on dialog open:",De),q([])}})():q([])},plan:a,onRefresh:async()=>{if(await d(),a)try{const Ne=await IT(a.id);q(Ne)}catch(Ne){console.error("Error fetching booked visit IDs after refresh:",Ne),q([])}},onAddTreatment:J,onStatusChange:ge,onDeletePlan:async Ne=>{await y(Ne),P(!1)},onTreatmentStatusChange:ne,onDeleteTreatment:g,onEditTreatment:oe,loading:r||l||s,navigateToPatient:ue,aiInitialSuggestion:te,bookedVisitIds:G},a.id),a&&c($z,{open:M,onOpenChange:j,onSubmit:ie,planId:a.id,loading:r}),a&&Y&&c($z,{open:D,onOpenChange:Ne=>{Ne||Z(null),K(Ne)},onSubmit:ae,planId:a.id,initialData:Y,loading:r,isEditMode:!0}),c(Y7e,{open:V,onOpenChange:X,patients:n})]})}var I3="Switch",[Z7e,BJe]=Yi(I3),[J7e,Q7e]=Z7e(I3),one=A.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=A.useState(null),x=zr(t,S=>m(S)),g=A.useRef(!1),y=h?d||!!h.closest("form"):!0,[_,b]=cl({prop:a,defaultProp:i??!1,onChange:u,caller:I3});return w(J7e,{scope:r,checked:_,disabled:s,children:[c(hr.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":une(_),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:x,onClick:Ut(e.onClick,S=>{b(C=>!C),y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),y&&c(cne,{control:h,bubbles:!g.current,name:n,value:l,checked:_,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});one.displayName=I3;var sne="SwitchThumb",lne=A.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Q7e(sne,r);return c(hr.span,{"data-state":une(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});lne.displayName=sne;var eMe="SwitchBubbleInput",cne=A.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=A.useRef(null),s=zr(o,i),l=T4(r),u=p4(t);return A.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(x)}},[l,r,n]),c("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cne.displayName=eMe;function une(e){return e?"checked":"unchecked"}var dne=one,tMe=lne;const k2=A.forwardRef(({className:e,...t},r)=>c(dne,{className:Rt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:c(tMe,{className:Rt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));k2.displayName=dne.displayName;function rMe(){const[e,t]=A.useState(null),[r,n]=A.useState([]),[a,i]=A.useState(!0),[o,s]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState({first_name:"",last_name:"",email:"",role:"doctor",specialization:"",working_hours:JSON.stringify([{day:"monday",start:"09:00",end:"17:00"},{day:"tuesday",start:"09:00",end:"17:00"},{day:"wednesday",start:"09:00",end:"17:00"},{day:"thursday",start:"09:00",end:"17:00"},{day:"friday",start:"09:00",end:"17:00"}])}),[h,m]=A.useState([]),[x,g]=A.useState(!0),[y,_]=A.useState(!1),[b,S]=A.useState({staff_id:"",start_time:"",end_time:"",reason:""}),[C,E]=A.useState(null),[O,T]=A.useState(null),[I,L]=A.useState(!1);A.useEffect(()=>{Promise.all([M(),U(),P()])},[]),A.useEffect(()=>{const Y=localStorage.getItem("customClinicLogo");Y&&E(Y)},[]);const U=async()=>{try{const Y=await Kt.staff.getAll();n(Y)}catch(Y){console.error("Error fetching staff:",Y)}},P=async()=>{g(!0);try{const Y=await Kt.absences.getAll();m(Y||[])}catch(Y){console.error("Error fetching absences:",Y),ji({title:"Error",description:"Could not fetch staff absences.",variant:"destructive"})}finally{g(!1)}},M=async()=>{try{const Y=await Kt.settings.get();t(Y),i(!1)}catch(Y){console.error("Error fetching settings:",Y),i(!1)}},j=async()=>{if(e){ji({title:"Saving changes...",description:"Please wait while we update your settings."}),s(!0);try{await Kt.settings.update(e),ji({title:"Settings saved successfully",description:"All your changes have been updated.",variant:"default"})}catch(Y){console.error("Error saving settings:",Y),ji({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{s(!1)}}},V=(Y,Z,D)=>{if(!e)return;const K=[...e.working_hours],Q=K.findIndex(ie=>ie.day===Y);Q!==-1&&(K[Q]={...K[Q],[Z]:D},t({...e,working_hours:K}))},X=async()=>{try{await Kt.staff.create(d),u(!1),U(),f({first_name:"",last_name:"",email:"",role:"doctor",specialization:"",working_hours:JSON.stringify([{day:"monday",start:"09:00",end:"17:00"},{day:"tuesday",start:"09:00",end:"17:00"},{day:"wednesday",start:"09:00",end:"17:00"},{day:"thursday",start:"09:00",end:"17:00"},{day:"friday",start:"09:00",end:"17:00"}])}),ji({title:"Staff member created",description:"New staff member has been added successfully."})}catch(Y){console.error("Error creating staff:",Y),ji({title:"Error",description:"Failed to create staff member. Please try again.",variant:"destructive"})}},te=async()=>{if(!b.staff_id||!b.start_time||!b.end_time){ji({title:"Missing Information",description:"Please select staff, start time, and end time.",variant:"destructive"});return}const Y=new Date(b.start_time).toISOString(),Z=new Date(b.end_time).toISOString();if(new Date(Z)<=new Date(Y)){ji({title:"Invalid Dates",description:"End time must be after start time.",variant:"destructive"});return}try{await Kt.absences.create({...b,start_time:Y,end_time:Z}),_(!1),P(),S({staff_id:"",start_time:"",end_time:"",reason:""}),ji({title:"Absence Added",description:"Staff absence recorded successfully."})}catch(D){console.error("Error creating absence:",D),ji({title:"Error",description:`Failed to add absence: ${D instanceof Error?D.message:"Unknown error"}`,variant:"destructive"})}},z=async Y=>{if(confirm("Are you sure you want to delete this absence record?"))try{await Kt.absences.delete(Y),P(),ji({title:"Absence Deleted",description:"The absence record has been removed."})}catch(Z){console.error("Error deleting absence:",Z),ji({title:"Error",description:"Failed to delete absence.",variant:"destructive"})}},G=Y=>{if(Y.target.files&&Y.target.files[0]){const Z=Y.target.files[0];if(Z.size>1*1024*1024){ji({title:"File Too Large",description:"Please upload a logo smaller than 1MB.",variant:"destructive"});return}T(Z);const D=new FileReader;D.onloadend=()=>{E(D.result),L(!1)},D.readAsDataURL(Z)}},q=()=>{C?(localStorage.setItem("customClinicLogo",C),ji({title:"Logo Saved",description:"Your new clinic logo has been saved.",variant:"default"}),L(!0)):ji({title:"No Logo Selected",description:"Please select a logo file first.",variant:"destructive"})};return a?c("div",{children:"Loading settings..."}):e?w(Sr,{children:[w("div",{className:"space-y-6",children:[c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(lce,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Clinic Information"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your clinic details and contact information"})]})]}),w("div",{className:"mt-6 space-y-4",children:[w("div",{className:"space-y-2",children:[c(Yt,{children:"Clinic Name"}),c(ot,{value:e.name,onChange:Y=>t({...e,name:Y.target.value})})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Address"}),c(ot,{value:e.address,onChange:Y=>t({...e,address:Y.target.value})})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Yt,{children:"Phone"}),c(ot,{value:e.phone,onChange:Y=>t({...e,phone:Y.target.value})})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Email"}),c(ot,{type:"email",value:e.email,onChange:Y=>t({...e,email:Y.target.value})})]})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Website"}),c(ot,{value:e.website,onChange:Y=>t({...e,website:Y.target.value})})]}),w("div",{className:"mt-6 space-y-4",children:[w("div",{children:[c(Yt,{htmlFor:"logo-upload",className:"block text-sm font-medium text-gray-700",children:"Clinic Logo"}),c("p",{className:"text-xs text-gray-500 mt-1 mb-2",children:"Recommended aspect ratio: 4:1 (e.g., 200x50 pixels). Max file size: 1MB."}),c("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-400 transition-colors duration-150 ease-in-out",children:w("div",{className:"space-y-1 text-center",children:[!C&&c("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:c("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),C&&c("div",{className:"my-2 flex justify-center",children:c("img",{src:C,alt:"Clinic Logo Preview",className:"max-h-24 max-w-[250px] object-contain rounded-md shadow-md"})}),w("div",{className:"flex text-sm text-gray-600 justify-center",children:[w("label",{htmlFor:"logo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[c("span",{children:C?"Change logo":"Upload a file"}),c("input",{id:"logo-upload",name:"logo-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg, image/svg+xml",onChange:G})]}),!C&&c("p",{className:"pl-1",children:"or drag and drop"})]}),c("p",{className:"text-xs text-gray-500",children:"PNG, JPG, SVG up to 1MB"})]})})]}),O&&c("div",{className:"mt-3 flex justify-center",children:c(Le,{onClick:q,className:"min-w-[120px]",disabled:I,children:I?"Logo Saved!":"Save Logo"})})]})]})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(Yc,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Working Hours"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Set your clinic's operating hours"})]})]}),c("div",{className:"mt-6",children:c("div",{className:"space-y-4",children:e.working_hours.map(Y=>w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center gap-4",children:[c(k2,{checked:Y.is_open,onCheckedChange:Z=>V(Y.day,"is_open",Z)}),c("span",{className:"text-sm font-medium capitalize",children:Y.day})]}),w("div",{className:"flex items-center gap-2",children:[c(ot,{type:"time",value:Y.start,onChange:Z=>V(Y.day,"start",Z.target.value),disabled:!Y.is_open,className:"w-32"}),c("span",{className:"text-sm text-muted-foreground",children:"to"}),c(ot,{type:"time",value:Y.end,onChange:Z=>V(Y.day,"end",Z.target.value),disabled:!Y.is_open,className:"w-32"})]})]},Y.day))})})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(a4,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Configure your notification settings"})]})]}),w("div",{className:"mt-6 space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"space-y-0.5",children:[c(Yt,{children:"Email Notifications"}),c("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),c(k2,{checked:e.notification_preferences.email_notifications,onCheckedChange:Y=>t({...e,notification_preferences:{...e.notification_preferences,email_notifications:Y}})})]}),w("div",{className:"flex items-center justify-between",children:[w("div",{className:"space-y-0.5",children:[c(Yt,{children:"SMS Notifications"}),c("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via SMS"})]}),c(k2,{checked:e.notification_preferences.sms_notifications,onCheckedChange:Y=>t({...e,notification_preferences:{...e.notification_preferences,sms_notifications:Y}})})]}),w("div",{className:"flex items-center justify-between",children:[w("div",{className:"space-y-0.5",children:[c(Yt,{children:"Appointment Reminders"}),c("p",{className:"text-sm text-muted-foreground",children:"Send reminders for upcoming appointments"})]}),c(k2,{checked:e.notification_preferences.appointment_reminders,onCheckedChange:Y=>t({...e,notification_preferences:{...e.notification_preferences,appointment_reminders:Y}})})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Reminder Time"}),w(Ur,{value:e.notification_preferences.reminder_time,onValueChange:Y=>t({...e,notification_preferences:{...e.notification_preferences,reminder_time:Y}}),children:[c(jr,{children:c(qr,{})}),w($r,{children:[c(gt,{value:"1h",children:"1 hour before"}),c(gt,{value:"2h",children:"2 hours before"}),c(gt,{value:"24h",children:"24 hours before"}),c(gt,{value:"48h",children:"48 hours before"})]})]})]})]})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(l4,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Staff Management"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage clinic staff and their roles"})]})]}),w(Le,{onClick:()=>u(!0),children:[c(Xc,{className:"h-4 w-4 mr-2"}),"Add Staff Member"]})]}),c("div",{className:"mt-6 space-y-4",children:r.map(Y=>w("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[w("div",{className:"flex items-center space-x-4",children:[c("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:c(ao,{className:"h-5 w-5 text-gray-600"})}),w("div",{children:[w("h3",{className:"font-medium",children:[Y.first_name," ",Y.last_name]}),w("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[c("span",{className:"capitalize",children:Y.role}),Y.specialization&&w("span",{children:["• ",Y.specialization]})]})]})]}),w("div",{className:"flex items-center space-x-2",children:[w(Le,{variant:"ghost",size:"sm",children:[c(o4,{className:"h-4 w-4 mr-2"}),Y.email]}),c(Le,{variant:"destructive",size:"sm",onClick:()=>{confirm("Are you sure you want to remove this staff member?")},children:c(am,{className:"h-4 w-4"})})]})]},Y.id))})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:w("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:[c(Yc,{className:"h-6 w-6 text-orange-600"})," "]})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Staff Absences"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage scheduled staff absences"})]})]}),w(Le,{onClick:()=>{S({staff_id:"",start_time:"",end_time:"",reason:""}),_(!0)},children:[c(Xc,{className:"h-4 w-4 mr-2"}),"Add Absence"]})]}),w("div",{className:"mt-6 space-y-4",children:[x&&c("div",{children:"Loading absences..."}),!x&&h.length===0&&c("p",{className:"text-sm text-gray-500",children:"No absences recorded."}),!x&&h.map(Y=>{var Z,D;return w("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[w("div",{className:"flex items-center space-x-4",children:[c("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:c(ao,{className:"h-5 w-5 text-gray-600"})}),w("div",{children:[w("h3",{className:"font-medium",children:[((Z=Y.staff)==null?void 0:Z.first_name)||"Unknown"," ",((D=Y.staff)==null?void 0:D.last_name)||"Staff"]}),w("p",{className:"text-sm text-gray-500",children:[Vt(on(Y.start_time),"MMM d, yyyy h:mm a")," - ",Vt(on(Y.end_time),"MMM d, yyyy h:mm a")]}),Y.reason&&w("p",{className:"text-xs text-gray-400",children:["Reason: ",Y.reason]})]})]}),c(Le,{variant:"destructive",size:"sm",onClick:()=>z(Y.id),children:c(am,{className:"h-4 w-4"})})]},Y.id)})]})]})}),c("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w("div",{className:"p-6",children:[w("div",{className:"flex items-center",children:[c("div",{className:"flex-shrink-0",children:c("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:c(Oce,{className:"h-6 w-6 text-blue-600"})})}),w("div",{className:"ml-4",children:[c("h2",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),c("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your security preferences and access controls"})]})]}),w("div",{className:"mt-6",children:[c(Le,{className:"w-full",children:"Change Password"}),c("div",{className:"mt-4",children:w("div",{className:"relative flex items-start",children:[c("div",{className:"flex items-center h-5",children:c("input",{id:"2fa",name:"2fa",type:"checkbox",className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),w("div",{className:"ml-3 text-sm",children:[c("label",{htmlFor:"2fa",className:"font-medium text-gray-700",children:"Enable Two-Factor Authentication"}),c("p",{className:"text-gray-500",children:"Add an extra layer of security to your account"})]})]})})]})]})}),c("div",{className:"flex justify-end",children:c(Le,{onClick:j,disabled:o,className:"min-w-[120px]",children:o?"Saving...":"Save Changes"})})]}),c(Za,{open:l,onOpenChange:u,children:w(Da,{children:[c(Ia,{children:c(Ra,{children:"Add Staff Member"})}),w("div",{className:"space-y-4",children:[w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Yt,{children:"First Name"}),c(ot,{value:d.first_name,onChange:Y=>f({...d,first_name:Y.target.value})})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Last Name"}),c(ot,{value:d.last_name,onChange:Y=>f({...d,last_name:Y.target.value})})]})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Email"}),c(ot,{type:"email",value:d.email,onChange:Y=>f({...d,email:Y.target.value})})]}),w("div",{className:"space-y-2",children:[c(Yt,{children:"Role"}),w(Ur,{value:d.role,onValueChange:Y=>f({...d,role:Y}),children:[c(jr,{children:c(qr,{})}),w($r,{children:[c(gt,{value:"doctor",children:"Doctor"}),c(gt,{value:"assistant",children:"Assistant"}),c(gt,{value:"receptionist",children:"Receptionist"})]})]})]}),d.role==="doctor"&&w("div",{className:"space-y-2",children:[c(Yt,{children:"Specialization"}),c(ot,{value:d.specialization,onChange:Y=>f({...d,specialization:Y.target.value}),placeholder:"e.g., Orthodontics, Periodontics"})]})]}),w(lo,{children:[c(Le,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c(Le,{onClick:X,children:"Add Staff Member"})]})]})}),c(Za,{open:y,onOpenChange:_,children:w(Da,{children:[c(Ia,{children:c(Ra,{children:"Add Staff Absence"})}),w("div",{className:"space-y-4 py-4",children:[w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"absence-staff",children:"Staff Member"}),w(Ur,{value:b.staff_id,onValueChange:Y=>S({...b,staff_id:Y}),children:[c(jr,{id:"absence-staff",children:c(qr,{placeholder:"Select staff member"})}),c($r,{children:r.map(Y=>w(gt,{value:Y.id,children:[Y.first_name," ",Y.last_name," (",Y.role,")"]},Y.id))})]})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"absence-start",children:"Start Time"}),c(ot,{id:"absence-start",type:"datetime-local",value:b.start_time,onChange:Y=>S({...b,start_time:Y.target.value})})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"absence-end",children:"End Time"}),c(ot,{id:"absence-end",type:"datetime-local",value:b.end_time,onChange:Y=>S({...b,end_time:Y.target.value})})]})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"absence-reason",children:"Reason (Optional)"}),c(ot,{id:"absence-reason",value:b.reason,onChange:Y=>S({...b,reason:Y.target.value}),placeholder:"e.g., Vacation, Conference"})]})]}),w(lo,{children:[c(Le,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),c(Le,{onClick:te,children:"Add Absence"})]})]})})]}):c("div",{children:"No settings found"})}var nMe="Separator",Vz="horizontal",aMe=["horizontal","vertical"],fne=A.forwardRef((e,t)=>{const{decorative:r,orientation:n=Vz,...a}=e,i=iMe(n)?n:Vz,s=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c(hr.div,{"data-orientation":i,...s,...a,ref:t})});fne.displayName=nMe;function iMe(e){return aMe.includes(e)}var hne=fne;const rm=A.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>c(hne,{ref:a,decorative:r,orientation:t,className:Rt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));rm.displayName=hne.displayName;function oMe(){var b,S,C,E;const{user:e}=ii(),{toast:t}=vn(),[r,n]=A.useState(null),[a,i]=A.useState(!0),[o,s]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState(null),x=A.useCallback(async()=>{if(e){i(!0);try{const{data:O,error:T,status:I}=await Me.from("profiles").select("id, first_name, last_name, mobile_number, address, date_of_birth, gender, avatar_url").eq("id",e.id).single();if(T&&I!==406)throw T;O?(n({...O,mobile_number:O.mobile_number||null,address:O.address||null,date_of_birth:O.date_of_birth||null,gender:O.gender||null,avatar_url:O.avatar_url||null,current_plan:"Pro Plan",payment_method_details:"Visa ending in 4242"}),m(O.avatar_url||null)):(n({id:e.id,first_name:"",last_name:"",mobile_number:null,address:null,date_of_birth:null,gender:null,avatar_url:null,current_plan:"Free Plan",payment_method_details:"N/A"}),m(null))}catch(O){console.error("Error fetching profile:",O),t({title:"Error Fetching Profile",description:O.message||"Could not load profile data.",variant:"destructive"}),n({id:(e==null?void 0:e.id)||"",first_name:"",last_name:"",mobile_number:null,address:null,date_of_birth:null,gender:null,avatar_url:null,current_plan:"Free Plan",payment_method_details:"N/A"}),m(null)}finally{i(!1)}}},[e,t]);A.useEffect(()=>{x()},[x]);const g=O=>{const{name:T,value:I}=O.target;n(L=>L?{...L,[T]:I}:null)},y=O=>{if(O.target.files&&O.target.files[0]){const T=O.target.files[0],I=2*1024*1024;if(T.size>I){t({title:"File Too Large",description:"Please select an image smaller than 2MB.",variant:"destructive"}),O.target.value="",f(null);return}f(T);const L=new FileReader;L.onloadend=()=>{m(L.result)},L.readAsDataURL(T)}else f(null),m((r==null?void 0:r.avatar_url)||null)},_=async O=>{if(O.preventDefault(),!r||!e)return;s(!0);let T=r.avatar_url;try{if(d){const U=d.name.split(".").pop(),P=`${e.id}-${Date.now()}.${U}`,{error:M}=await Me.storage.from("avatars").upload(P,d,{cacheControl:"3600",upsert:!0});if(M)throw new Error(`Failed to upload avatar: ${M.message}`);const{data:j}=Me.storage.from("avatars").getPublicUrl(P);j!=null&&j.publicUrl?T=j.publicUrl:console.warn("Could not get public URL for uploaded avatar, but upload might have succeeded.")}const I={id:e.id,first_name:r.first_name||"",last_name:r.last_name||"",mobile_number:r.mobile_number,address:r.address,date_of_birth:r.date_of_birth,gender:r.gender,avatar_url:T,updated_at:new Date().toISOString()},{error:L}=await Me.from("profiles").upsert(I,{onConflict:"id"});if(L)throw L;t({title:"Profile updated successfully!"}),f(null),T!==r.avatar_url&&(n(U=>U?{...U,avatar_url:T}:null),m(T??null)),u(!1)}catch(I){console.error("Failed to save profile:",I),t({title:"Update Failed",description:I.message||"Could not save profile changes.",variant:"destructive"})}finally{s(!1)}};return a?c(ka,{heading:"Profile",text:"Loading profile..."}):!e||!r?c(ka,{heading:"Profile",text:"Could not load profile data."}):w("div",{className:"container mx-auto py-8",children:[c(ka,{heading:"User Profile",text:"View and update your personal information."}),w(cr,{className:"max-w-2xl mx-auto mt-6",children:[c(yr,{children:c(xr,{children:"Your Details"})}),w("form",{onSubmit:_,children:[w(vr,{className:"space-y-6",children:[" ",w("div",{className:"flex flex-col items-center space-y-4",children:[w(mD,{className:"h-24 w-24",children:[c(gD,{src:h||(r==null?void 0:r.avatar_url)||void 0,alt:"User Avatar"}),w(vD,{children:[(S=(b=r==null?void 0:r.first_name)==null?void 0:b[0])==null?void 0:S.toUpperCase(),(E=(C=r==null?void 0:r.last_name)==null?void 0:C[0])==null?void 0:E.toUpperCase()]})]}),l&&w("div",{className:"w-full max-w-xs",children:[c(Yt,{htmlFor:"avatarFile",className:"sr-only",children:"Upload Profile Picture"}),c(ot,{id:"avatarFile",name:"avatarFile",type:"file",accept:"image/png, image/jpeg, image/gif",onChange:y,disabled:o,className:"text-sm file:mr-4 file:pt-0 file:pb-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),c("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Upload a square picture (e.g., 100x100px). Max 2MB (JPG, PNG, GIF)."})," "]})]}),c(rm,{})," ",w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"email",children:"Email"}),c(ot,{id:"email",type:"email",value:e.email||"",disabled:!0}),c("p",{className:"text-sm text-muted-foreground",children:"Email address cannot be changed here."})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"first_name",children:"First Name"}),c(ot,{id:"first_name",name:"first_name",value:r.first_name||"",onChange:g,disabled:!l||o})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"last_name",children:"Last Name"}),c(ot,{id:"last_name",name:"last_name",value:r.last_name||"",onChange:g,disabled:!l||o})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"mobile_number",children:"Mobile Number"}),c(ot,{id:"mobile_number",name:"mobile_number",type:"tel",value:r.mobile_number||"",onChange:g,disabled:!l||o,placeholder:"e.g., +1 123 456 7890"})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"address",children:"Address"}),c(ot,{id:"address",name:"address",value:r.address||"",onChange:g,disabled:!l||o,placeholder:"e.g., 123 Main St, Anytown, USA"})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"date_of_birth",children:"Date of Birth"}),c(ot,{id:"date_of_birth",name:"date_of_birth",type:"date",value:r.date_of_birth||"",onChange:g,disabled:!l||o})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"gender",children:"Gender"}),c(ot,{id:"gender",name:"gender",value:r.gender||"",onChange:g,disabled:!l||o,placeholder:"e.g., Male, Female, Non-binary, Prefer not to say"})]}),c(rm,{}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Subscription"}),w("div",{className:"flex justify-between items-center",children:[c("span",{className:"text-muted-foreground",children:"Current Plan:"}),c("span",{children:r.current_plan||"N/A"})]})]}),w("div",{className:"space-y-2",children:[c("h3",{className:"text-lg font-medium",children:"Payment Method"}),w("div",{className:"flex justify-between items-center",children:[c("span",{className:"text-muted-foreground",children:"Payment Details:"}),c("span",{children:r.payment_method_details||"N/A"})]})]})]}),c(Y0,{className:"flex justify-end gap-2",children:l?w(Sr,{children:[c(Le,{type:"button",variant:"outline",onClick:()=>{u(!1),f(null),m((r==null?void 0:r.avatar_url)||null),x()},disabled:o,children:"Cancel"}),c(Le,{type:"submit",disabled:o,children:o?"Saving...":"Save Changes"})]}):c(Le,{type:"button",onClick:()=>u(!0),children:"Edit Profile"})})]})]})]})}const Pp={free:{name:"Free Plan",price:"₹0",features:["Basic Patient Record Management","Appointment Scheduling (up to 10/month)","Standard Email Reminders","Community Support"]},professional:{name:"Professional Plan",price:"₹49",priceSuffix:"/ month",features:["All features in Free Plan","Unlimited Patient Records","Unlimited Appointment Scheduling","Automated SMS & Email Reminders","Basic Treatment Planning","Consent Form Management","Priority Email Support","5 GB Document Storage"]}},sMe=[{question:"Can I change my plan later?",answer:"Yes, you can upgrade or downgrade your plan at any time from your account settings. Changes will take effect from the next billing cycle."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, Mastercard, American Express) and PayPal."},{question:"Is my payment information secure?",answer:"Absolutely. We use industry-standard encryption and partner with Stripe, a leading payment processor, to ensure your payment details are handled securely."},{question:"What happens if my payment fails?",answer:"If a payment fails, we'll notify you and attempt to retry the payment method. You'll have a grace period to update your payment details before any service interruption."}];function lMe(){const[e,t]=A.useState("professional"),[r,n]=A.useState(""),[a,i]=A.useState(!1),o=Pp[e],s=e==="free"?0:49,l=e==="free"?0:4,u=s+l;return w("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8",children:[c(ka,{heading:"Payments & Subscription",text:"Manage your billing details and subscription plan."}),w("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-6",children:[w(cr,{className:"lg:col-span-2",children:[w(yr,{children:[c(xr,{children:"Payment Details"}),c(vc,{children:"Enter your payment information to subscribe."})]}),c(vr,{children:w("form",{onSubmit:f=>{f.preventDefault(),console.log("Processing payment for:",e,"Total:",u)},className:"space-y-6",children:[w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"email",children:"Email address"}),c(ot,{id:"email",type:"email",placeholder:"you@example.com",required:!0,defaultValue:"m@example.com"})," "]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"cardNumber",children:"Credit Card Number"}),c(ot,{id:"cardNumber",type:"text",placeholder:"XXXX XXXX XXXX XXXX",required:!0})]}),w("div",{className:"grid grid-cols-2 gap-4",children:[w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"expiryDate",children:"Expiry Date"}),c(ot,{id:"expiryDate",type:"text",placeholder:"MM / YY",required:!0})]}),w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"cvv",children:"CVV"}),c(ot,{id:"cvv",type:"text",placeholder:"XXX",required:!0})]})]}),w("div",{className:"flex items-center space-x-2",children:[c(Ps,{id:"promo",checked:a,onCheckedChange:f=>i(!!f)}),c(Yt,{htmlFor:"promo",className:"cursor-pointer",children:"I have a promo code"})]}),a&&w("div",{className:"space-y-2",children:[c(Yt,{htmlFor:"promoCode",children:"Promo Code"}),c(ot,{id:"promoCode",type:"text",placeholder:"Enter code",value:r,onChange:f=>n(f.target.value)})]}),w("div",{className:"space-y-2 border-t pt-4 mt-4",children:[w("div",{className:"flex justify-between",children:[c("span",{children:"Subtotal"}),w("span",{children:["₹",s.toFixed(2)]})]}),w("div",{className:"flex justify-between text-muted-foreground",children:[c("span",{children:"Platform Fee"}),w("span",{children:["₹",l.toFixed(2)]})]}),w("div",{className:"flex justify-between font-semibold text-lg border-t pt-2 mt-2",children:[c("span",{children:"Total Amount"}),w("span",{children:["₹",u.toFixed(2)]})]})]}),c(Le,{type:"submit",className:"w-full",disabled:e==="free",children:e==="free"?"Free Plan Selected":`Subscribe to ${o.name}`})]})})]}),w("div",{className:"space-y-8",children:[w(cr,{children:[c(yr,{children:c(xr,{children:"Choose Your Plan"})}),c(vr,{children:w(Fo,{value:e,onValueChange:f=>t(f),children:[w(Yt,{htmlFor:"free-plan",className:`flex flex-col items-start space-y-1 rounded-md border p-4 cursor-pointer transition-colors ${e==="free"?"border-primary bg-primary/5":"hover:bg-accent hover:text-accent-foreground"}`,children:[w("div",{className:"flex justify-between w-full items-center",children:[c("span",{className:"font-semibold",children:Pp.free.name}),c(Pn,{value:"free",id:"free-plan",className:"translate-y-0"})]}),c("span",{className:"text-2xl font-bold",children:Pp.free.price}),c("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 mt-2",children:Pp.free.features.map((f,h)=>c("li",{children:f},h))})]}),w(Yt,{htmlFor:"professional-plan",className:`flex flex-col items-start space-y-1 rounded-md border p-4 cursor-pointer transition-colors ${e==="professional"?"border-primary bg-primary/5":"hover:bg-accent hover:text-accent-foreground"}`,children:[w("div",{className:"flex justify-between w-full items-center",children:[c("span",{className:"font-semibold",children:Pp.professional.name}),c(Pn,{value:"professional",id:"professional-plan",className:"translate-y-0"})]}),w("span",{className:"text-2xl font-bold",children:[Pp.professional.price,c("span",{className:"text-sm font-normal text-muted-foreground",children:Pp.professional.priceSuffix})]}),c("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 mt-2",children:Pp.professional.features.map((f,h)=>c("li",{children:f},h))})]})]})}),w(Y0,{children:[c(Le,{variant:"outline",className:"w-full",children:"Modify Plan"})," "]})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Frequently Asked Questions"})}),c(vr,{children:c(FD,{type:"single",collapsible:!0,className:"w-full",children:sMe.map((f,h)=>w(Ld,{value:`item-${h+1}`,children:[c(jd,{children:f.question}),c($d,{children:f.answer})]},h))})})]})]})]})]})}function cMe(){const[e,t]=A.useState([]),[r,n]=A.useState(""),[a,i]=A.useState(null),[o,s]=A.useState(null),[l,u]=A.useState([]),[d,f]=A.useState(!1),[h,m]=A.useState(!1),[x,g]=A.useState(null),[y,_]=A.useState(null),[b,S]=A.useState(!1),[C,E]=A.useState(!1),{toast:O}=vn();A.useEffect(()=>{(async()=>{f(!0),g(null);try{const{data:M,error:j}=await Me.from("patients").select("id, first_name, last_name, phone, registration_number").order("last_name",{ascending:!0}).order("first_name",{ascending:!0});if(j)throw j;t(M||[])}catch(M){g("Failed to fetch patients."),console.error("Error fetching patients:",M)}finally{f(!1)}})()},[]);const T=A.useCallback(async P=>{if(P){m(!0),_(null),u([]);try{if(!P)throw new Error("Patient ID became null unexpectedly.");const{data:M,error:j}=await Me.from("medical_records").select(`
           *,
           staff:created_by ( first_name, last_name ),
           teeth:medical_record_teeth ( teeth ( id, description ) ) 
         `).eq("patient_id",P).order("record_date",{ascending:!1});if(j)throw j;const V=(M||[]).map(X=>{const z=(X.teeth||[]).map(G=>G.teeth).filter(Boolean);return{...X,teeth:z}});u(V)}catch(M){_("Failed to fetch medical records."),console.error("Error fetching medical records:",M)}finally{m(!1)}}},[]);A.useEffect(()=>{a?T(a):u([])},[a,T]);const I=P=>{i(P.id),s(`${P.first_name||""} ${P.last_name||""}`.trim()),n("")},L=()=>{if(!a){O({title:"No Patient Selected",description:"Please select a patient before adding a record.",variant:"destructive"});return}S(!0)},U=async(P,M)=>{if(!a)return;E(!0);let j={};switch(P.general_notes&&String(P.general_notes).trim()!==""&&(j.general_notes=P.general_notes),P.record_type){case"examination":P.consultation_subjective&&(j.subjective=P.consultation_subjective),P.consultation_objective&&(j.objective=P.consultation_objective),P.consultation_assessment&&(j.assessment=P.consultation_assessment),P.consultation_plan&&(j.plan=P.consultation_plan),P.diagnosis_code&&(j.code=P.diagnosis_code),P.diagnosis_description&&(j.description=P.diagnosis_description);break;case"procedure":j={...j,procedure:P.treatment_procedure,details:P.treatment_details};break;case"prescription":j={...j,medication:P.prescription_medication,dosage:P.prescription_dosage,frequency:P.prescription_frequency,duration:P.prescription_duration};break;case"lab_result":j={...j,test_name:P.lab_test_name,result_value:P.lab_result_value,units:P.lab_units,reference_range:P.lab_reference_range};break;case"note":P.other_details&&String(P.other_details).trim()!==""&&(j.details=P.other_details);break}const V=Object.keys(j).length>0?JSON.stringify(j):"{}",X=new Date,te=new Date(P.record_date+"T00:00:00");X.setFullYear(te.getFullYear()),X.setMonth(te.getMonth()),X.setDate(te.getDate());const z=X.toISOString(),G={patient_id:a,record_date:z,record_type:P.record_type,description:V};try{await Kt.patients.createMedicalRecord(G,M),O({title:"Success",description:"Medical record added successfully."}),S(!1),T(a)}catch(q){console.error("Error saving medical record:",q),O({title:"Error",description:"Failed to save medical record. "+q.message,variant:"destructive"})}finally{E(!1)}};return w("div",{children:[c(ka,{heading:"Patient Medical Records",text:"Select a patient to view or add medical records."}),w("div",{className:"mt-6 mb-8 max-w-md relative",children:[" ",c(Yt,{htmlFor:"patient-search",children:"Select Patient"}),c(ot,{type:"search",id:"patient-search",value:r,onChange:P=>{n(P.target.value),i(null),s(null)},placeholder:o||"Search by name, phone, or registration...",disabled:d,className:"w-full"}),d&&c("p",{className:"text-sm text-muted-foreground mt-1",children:"Loading patients..."}),x&&c("p",{className:"text-sm text-destructive mt-1",children:x}),r&&!d&&!x&&w(df,{className:"absolute z-10 w-full bg-background border rounded-md shadow-lg mt-1 max-h-60",children:[" ",c("div",{className:"p-2",children:e.filter(P=>{var te,z;const M=`${P.first_name||""} ${P.last_name||""}`.toLowerCase(),j=((te=P.phone)==null?void 0:te.toLowerCase())||"",V=((z=P.registration_number)==null?void 0:z.toLowerCase())||"",X=r.toLowerCase();return M.includes(X)||j.includes(X)||V.includes(X)}).length>0?e.filter(P=>{var te,z;const M=`${P.first_name||""} ${P.last_name||""}`.toLowerCase(),j=((te=P.phone)==null?void 0:te.toLowerCase())||"",V=((z=P.registration_number)==null?void 0:z.toLowerCase())||"",X=r.toLowerCase();return M.includes(X)||j.includes(X)||V.includes(X)}).map(P=>c(Le,{variant:"ghost",className:"w-full justify-start text-left h-auto py-2 px-3 mb-1",onClick:()=>I(P),children:w("div",{children:[c("div",{children:`${P.first_name||""} ${P.last_name||""}`.trim()}),w("div",{className:"text-xs text-muted-foreground",children:[P.registration_number&&`Reg: ${P.registration_number}`,P.registration_number&&P.phone&&" | ",P.phone&&`Ph: ${P.phone}`," "]})]})},P.id)):w("p",{className:"text-sm text-muted-foreground p-2",children:['No patients found matching "',r,'"']})})]})]}),a&&(h?c("p",{children:"Loading medical records..."}):y?c("p",{className:"text-destructive",children:y}):c(nre,{medicalRecords:l,onAddMedicalRecord:L})),!a&&!d&&!r&&c("p",{className:"text-muted-foreground mt-8",children:"Please search for and select a patient to view their medical records."}),c(Za,{open:b,onOpenChange:S,children:w(Da,{className:"sm:max-w-[600px]",children:[" ",c(Ia,{children:c(Ra,{children:"Add New Medical Record"})}),a&&c(yre,{patientId:a,onSubmit:U,onCancel:()=>S(!1),isLoading:C})]})})]})}const Fs=A.forwardRef(({className:e,...t},r)=>c("div",{className:"relative w-full overflow-auto",children:c("table",{ref:r,className:Rt("w-full caption-bottom text-sm",e),...t})}));Fs.displayName="Table";const Ls=A.forwardRef(({className:e,...t},r)=>c("thead",{ref:r,className:Rt("[&_tr]:border-b",e),...t}));Ls.displayName="TableHeader";const js=A.forwardRef(({className:e,...t},r)=>c("tbody",{ref:r,className:Rt("[&_tr:last-child]:border-0",e),...t}));js.displayName="TableBody";const uMe=A.forwardRef(({className:e,...t},r)=>c("tfoot",{ref:r,className:Rt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));uMe.displayName="TableFooter";const En=A.forwardRef(({className:e,...t},r)=>c("tr",{ref:r,className:Rt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));En.displayName="TableRow";const Wt=A.forwardRef(({className:e,...t},r)=>c("th",{ref:r,className:Rt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Wt.displayName="TableHead";const jt=A.forwardRef(({className:e,...t},r)=>c("td",{ref:r,className:Rt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));jt.displayName="TableCell";const dMe=A.forwardRef(({className:e,...t},r)=>c("caption",{ref:r,className:Rt("mt-4 text-sm text-muted-foreground",e),...t}));dMe.displayName="TableCaption";const fMe=Ew("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),td=A.forwardRef(({className:e,variant:t,...r},n)=>c("div",{ref:n,role:"alert",className:Rt(fMe({variant:t}),e),...r}));td.displayName="Alert";const rd=A.forwardRef(({className:e,...t},r)=>c("h5",{ref:r,className:Rt("mb-1 font-medium leading-none tracking-tight",e),...t}));rd.displayName="AlertTitle";const nd=A.forwardRef(({className:e,...t},r)=>c("div",{ref:r,className:Rt("text-sm [&_p]:leading-relaxed",e),...t}));nd.displayName="AlertDescription";function Rl({className:e,...t}){return c("div",{className:Rt("animate-pulse rounded-md bg-muted",e),...t})}const R3="inventory_items",kR=async()=>{const{data:e,error:t}=await Me.from(R3).select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching inventory items:",t),new Error(t.message);return e||[]},hMe=async e=>{const{data:t,error:r}=await Me.from(R3).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return console.log(`Inventory item with id ${e} not found.`),null;throw console.error(`Error fetching inventory item ${e}:`,r),new Error(r.message)}return t},pMe=async e=>{var i;const{data:t,error:r}=await Me.from(R3).insert([e]).select().single();if(r)throw console.error("Error adding inventory item:",r),new Error(r.message);if(!t)throw new Error("Failed to add inventory item, no data returned.");const n={inventory_item_id:t.id,item_id:null,quantity_change:t.quantity,change_type:"initial_stock",user_id:((i=(await Me.auth.getUser()).data.user)==null?void 0:i.id)||null,notes:"Initial stock set during item creation",inventory_item_batch_id:null,purchase_order_item_id:null},{error:a}=await Me.from("inventory_log").insert([n]);return a&&console.error("Error logging initial inventory stock:",a),t},mMe=async(e,t)=>{var i;const r=await hMe(e);if(!r)throw new Error(`Inventory item ${e} not found.`);if(t.quantity!==void 0&&t.quantity!==r.quantity){const o=t.quantity-r.quantity,s={inventory_item_id:e,item_id:null,quantity_change:o,change_type:o>0?"add":"use",user_id:((i=(await Me.auth.getUser()).data.user)==null?void 0:i.id)||null,notes:`Quantity updated from ${r.quantity} to ${t.quantity}`,inventory_item_batch_id:null,purchase_order_item_id:null},{error:l}=await Me.from("inventory_log").insert([s]);l&&console.error("Error logging inventory quantity change:",l)}const{data:n,error:a}=await Me.from(R3).update(t).eq("id",e).select().single();if(a)throw console.error(`Error updating inventory item ${e}:`,a),new Error(a.message);if(!n)throw new Error(`Failed to update inventory item ${e}, no data returned.`);return n},Hz=async(e,t)=>{const{data:r,error:n}=await Me.from("inventory_log").select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(n)throw console.error("Error fetching inventory log entries:",n),new Error(n.message);return r||[]},gMe=async e=>{let t=Me.from("inventory_log").select(`
      *,
      inventory_items (item_name, item_code)
    `).order("created_at",{ascending:!1});const r=["Expired","Damaged","Lost","Stock Count Correction","Used","Other","adjustment"];if(t=t.in("change_type",r),e.startDate&&(t=t.gte("created_at",e.startDate.toISOString())),e.endDate){const i=new Date(e.endDate);i.setDate(i.getDate()+1),t=t.lt("created_at",i.toISOString())}if(e.searchTerm){const i=`%${e.searchTerm}%`;t=t.or(`inventory_items.item_name.ilike.${i},inventory_items.item_code.ilike.${i},notes.ilike.${i},change_type.ilike.${i}`)}const{data:n,error:a}=await t;if(a)throw console.error("Error fetching detailed inventory logs:",a),new Error(a.message);return n||[]},Gz=async e=>{const{data:t,error:r}=await Me.from("inventory_adjustment_requests").insert({inventory_item_id:e.inventory_item_id,inventory_item_batch_id:e.inventory_item_batch_id,quantity_to_decrease:e.quantity_to_decrease,reason:e.reason,notes:e.notes,photo_url:e.photo_url,requested_by_user_id:e.requested_by_user_id,custom_approver_emails:e.custom_approver_emails,approver_role_target:e.approver_role_target,status:"pending"}).select("id, inventory_item_id, inventory_item_batch_id, quantity_to_decrease, reason, notes, photo_url, status, requested_by_user_id, requested_at, reviewed_by_user_id, reviewed_at, reviewer_notes, created_at, updated_at, approval_token, approval_token_expires_at, custom_approver_emails, approver_role_target").single();if(r)throw console.error("Error creating inventory adjustment request:",r),r;if(!t)throw new Error("Failed to create adjustment request, no data returned.");return t},Kz=async(e,t)=>{const r=e.name.split(".").pop(),n=`inventory_adjustments/${t}/${Date.now()}.${r}`;try{const{error:a,data:i}=await Me.storage.from("inventory-proofs").upload(n,e);return a?(console.error("Error uploading adjustment photo (likely CORS or network issue):",a),null):n}catch(a){return console.error("Exception during photo upload:",a),null}},vMe=async(e,t)=>{let r=Me.from("inventory_adjustment_requests").select(`
            *,
            inventory_items ( item_name ),
            requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
        `).eq("status","pending").neq("requested_by_user_id",e);if(t==="admin")r=r.or("approver_role_target.eq.admin,approver_role_target.is.null");else if(t==="owner")r=r.or("approver_role_target.eq.owner,approver_role_target.is.null");else if(t==="doctor")r=r.eq("approver_role_target","doctor");else return[];r=r.order("requested_at",{ascending:!0});const{data:n,error:a}=await r;if(a)throw console.error("Error fetching pending adjustment requests:",a),a;return n||[]},yMe=async e=>{const{data:t,error:r}=await Me.from("inventory_adjustment_requests").select(`
            *,
            inventory_items ( item_name ),
            requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
        `).eq("id",e).single();if(r){if(r.code==="PGRST116")return console.log(`Adjustment request with id ${e} not found.`),null;throw console.error(`Error fetching adjustment request ${e}:`,r),r}return t},xMe=async(e,t,r=20)=>{let n=Me.from("inventory_adjustment_requests").select(`
      *,
      inventory_items ( item_name ),
      requester_profile:profiles!inventory_adjustment_requests_requested_by_user_id_fkey ( first_name, last_name )
    `).eq("requested_by_user_id",e);t&&t.length>0&&(n=n.in("status",t)),n=n.order("requested_at",{ascending:!1}).limit(r);const{data:a,error:i}=await n;if(i)throw console.error("Error fetching adjustment requests for user:",i),i;return a||[]},RS=async e=>{if(!e)return null;const{data:t,error:r}=await Me.storage.from("inventory-proofs").createSignedUrl(e,60*10);return r?(console.error("Error creating signed URL for adjustment photo:",r),null):(t==null?void 0:t.signedUrl)||null},pne=async(e,t,r)=>{const{error:n}=await Me.rpc("process_approved_adjustment",{p_request_id:e,p_reviewer_user_id:t,p_reviewer_notes:r===void 0?null:r});if(n)throw console.error(`Error approving adjustment request ${e}:`,n),n},mne=async(e,t,r)=>{const{error:n}=await Me.from("inventory_adjustment_requests").update({status:"rejected",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r}).eq("id",e).eq("status","pending");if(n)throw console.error(`Error rejecting adjustment request ${e}:`,n),n},wMe=async(e,t)=>{const{data:r,error:n}=await Me.rpc("verify_adjustment_approval_token",{p_request_id:e,p_raw_token:t});return n?(console.error("Error verifying adjustment token:",n),null):r&&r.length>0?r[0]:null},_Me=async e=>{const{data:t,error:r}=await Me.from("stock_takes").insert(e).select().single();if(r)throw console.error("Error creating stock take entry:",r),r;if(!t)throw new Error("Failed to create stock take entry, no data returned.");return t},gne=Qe.forwardRef(({status:e,className:t,onClick:r},n)=>{let a="",i="";switch(e){case"In Stock":a="bg-green-100 text-green-800";break;case"Low Stock":a="bg-yellow-100 text-yellow-800",i="animate-pulse";break;case"Expired":a="bg-red-100 text-red-800";break;default:a="bg-gray-100 text-gray-800"}return c("span",{ref:n,className:un("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold capitalize",a,i,t),onClick:r,children:e})});gne.displayName="InventoryStatusBadge";const bMe=e=>(e.quantity??0)<=(e.low_stock_threshold??0)?"Low Stock":"In Stock",SMe=e=>{switch(e){case"In Stock":return"text-green-600 font-bold";case"Low Stock":return"text-red-600 font-bold";default:return""}},AMe=({onEditItem:e,refreshTrigger:t,searchTerm:r,categoryFilter:n,onDataFiltered:a})=>{const[i,o]=A.useState([]),[s,l]=A.useState(!0),[u,d]=A.useState(null),[f,h]=A.useState("item_name"),[m,x]=A.useState("asc");Uo();const{toast:g}=vn(),{user:y}=ii(),_=A.useRef(null),b=A.useRef(null),S=A.useRef(0),C=5,E=1e3,O=3e4,T=A.useCallback(async()=>{l(!0),d(null);try{let U=Me.from("inventory_items").select("*");r&&(U=U.ilike("item_name",`%${r}%`)),n!=="all"&&(U=U.eq("category",n));const P={ascending:m==="asc"};U=U.order(f,P);const{data:M,error:j}=await U;if(j)throw j;const V=await Promise.all((M||[]).map(async X=>{let te=[];if(X.is_batched){const{data:z,error:G}=await Me.from("inventory_item_batches").select("*").eq("inventory_item_id",X.id).order("expiry_date",{ascending:!0,nullsFirst:!1});G?console.error(`Failed to fetch batches for item ${X.id}:`,G):te=z||[]}return{...X,stock_status:bMe(X),batches:te}}));o(V),a(V)}catch(U){console.error("Failed to fetch inventory items:",U),d(U instanceof Error?U.message:"An unknown error occurred"),g({title:"Error Fetching Inventory",description:U instanceof Error?U.message:"Could not load items.",variant:"destructive"})}finally{l(!1)}},[r,n,f,m,a]);A.useEffect(()=>{T()},[T,t]),A.useEffect(()=>{if(!Me){console.error("Supabase client is not available");return}let U=Me.channel("inventory_items_changes").on("postgres_changes",{event:"*",schema:"public",table:"inventory_items"},P=>{T()}).subscribe((P,M)=>{if(P==="SUBSCRIBED")S.current=0,b.current&&(clearTimeout(b.current),b.current=null);else if(P==="CHANNEL_ERROR"||P==="TIMED_OUT"||P==="CLOSED")if(console.error(`List Realtime subscription ${P}:`,M),M&&console.error("Error message:",M.message),S.current<C){S.current+=1;const j=Math.min(E*Math.pow(2,S.current-1),O);console.error(`List attempting to reconnect in ${j/1e3} seconds...`),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{_.current&&_.current.subscribe()},j)}else console.error("List max reconnection attempts reached."),g({title:"Realtime Connection Issue",description:"Inventory list updates may be delayed. Please refresh if needed.",variant:"destructive",duration:1e4})});return _.current=U,()=>{b.current&&clearTimeout(b.current);const P=_.current;P&&(Me.removeChannel(P).catch(M=>console.error("Error removing list channel:",M)),_.current=null)}},[Me,T,g]);const I=U=>{f===U?x(P=>P==="asc"?"desc":"asc"):(h(U),x("asc"))},L=U=>f!==U?c(u5,{className:"ml-2 h-4 w-4 opacity-30 group-hover:opacity-100"}):c(u5,{className:`ml-2 h-4 w-4 ${m==="asc"?"":"rotate-180"}`});return s?c("div",{className:"space-y-2",children:[...Array(5)].map((U,P)=>c(Rl,{className:"h-10 w-full"},P))}):u?w(td,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(rd,{children:"Error"}),c(nd,{children:u})]}):i.length===0?c("p",{className:"text-center text-gray-500 mt-4",children:"No inventory items found. Add one to get started!"}):c("div",{className:"rounded-md border",children:w(Fs,{className:"min-w-full divide-y divide-gray-200 bg-white shadow-md rounded-lg overflow-hidden",children:[c(Ls,{className:"bg-gray-50",children:w(En,{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[c(Wt,{className:"px-6 py-3",children:w(Le,{variant:"ghost",onClick:()=>I("item_code"),className:"px-0 group",children:["Item Code ",L("item_code")]})}),c(Wt,{className:"px-6 py-3",children:"Batch No / Info"}),c(Wt,{className:"px-6 py-3",children:"Supplier ID/Info"}),c(Wt,{className:"px-6 py-3",children:w(Le,{variant:"ghost",onClick:()=>I("item_name"),className:"px-0 group",children:["Item Name ",L("item_name")]})}),c(Wt,{className:"px-6 py-3 text-right",children:w(Le,{variant:"ghost",onClick:()=>I("quantity"),className:"px-0 group",children:["Quantity ",L("quantity")]})}),c(Wt,{className:"px-6 py-3",children:"Status"})]})}),c(js,{className:"bg-white divide-y divide-gray-200",children:i.map(U=>w(En,{className:"hover:bg-gray-100 text-sm text-gray-900",children:[c(jt,{className:"px-6 py-4 whitespace-nowrap",children:U.item_code||"N/A"}),c(jt,{className:"px-6 py-4 whitespace-nowrap",children:U.is_batched&&U.batches&&U.batches.length>0?U.batches.map(P=>P.batch_number||"N/A").join(", "):U.is_batched?"No batches":"N/A"}),c(jt,{className:"px-6 py-4 whitespace-nowrap",children:U.supplier_info||"N/A"}),c(jt,{className:"px-6 py-4 whitespace-nowrap",children:U.item_name}),c(jt,{className:"px-6 py-4 whitespace-nowrap text-right",children:U.quantity??"-"}),c(jt,{className:"px-6 py-4 whitespace-nowrap",children:c(gne,{status:U.stock_status,className:SMe(U.stock_status)})})]},U.id))})]})})},kMe=async(e,t,r)=>{if(!e)throw new Error("No file provided for upload.");if(!t)throw new Error("User ID is required for upload.");const n=e.name.split(".").pop(),i=`invoices/${`${t}_${Date.now()}.${n}`}`,{data:o,error:s}=await Me.storage.from("invoices").upload(i,e);if(s)throw console.error("Error uploading invoice to storage:",s),new Error(`Storage upload failed: ${s.message}`);console.log("File uploaded successfully to:",o.path);const l={file_name:e.name,storage_path:o.path,uploaded_by_user_id:t,inventory_item_id:r},{data:u,error:d}=await Me.from("invoices").insert(l).select().single();if(d)throw console.error("Error inserting invoice record:",d),await Me.storage.from("invoices").remove([o.path]),console.warn("Orphaned file removed from storage due to DB insert failure:",o.path),new Error(`Database insert failed: ${d.message}`);return console.log("Invoice record created successfully:",u),o.path},NMe=async()=>{const{data:e,error:t}=await Me.from("invoices").select(`
            *,
            inventory_items (
                item_name
            )
        `).order("uploaded_at",{ascending:!1});if(t)throw console.error("Error fetching invoices with item names:",t),t;return e},EMe=async(e,t=60)=>{const{data:r,error:n}=await Me.storage.from("invoices").createSignedUrl(e,t);if(n)throw console.error("Error creating signed URL:",n),n;return r.signedUrl},CMe=N3({item_name:es().min(1,{message:"Item name is required"}),category:sw(["Medicines","Tools","Consumables"],{required_error:"Category is required"}),supplier_info:es().optional().nullable(),low_stock_threshold:iR.number().int().min(0,{message:"Threshold must be 0 or greater"}),item_code:es().optional().nullable()}),TMe=({itemToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=vn(),{user:a}=ii(),[i,o]=A.useState(null),s=!!e,l=["Medicines","Tools","Consumables"],u=y=>{if(y&&l.includes(y))return y},d=sd({resolver:ld(CMe),defaultValues:{item_name:(e==null?void 0:e.item_name)??"",category:u(e==null?void 0:e.category),supplier_info:(e==null?void 0:e.supplier_info)??"",low_stock_threshold:Number((e==null?void 0:e.low_stock_threshold)??10),item_code:(e==null?void 0:e.item_code)??""}}),{handleSubmit:f,control:h,reset:m}=d;A.useEffect(()=>{m(e?{item_name:e.item_name,category:u(e.category),supplier_info:e.supplier_info??"",low_stock_threshold:Number(e.low_stock_threshold??10),item_code:e.item_code??""}:{item_name:"",category:void 0,supplier_info:"",low_stock_threshold:10,item_code:""})},[e,m]);const x=y=>{y.target.files&&y.target.files[0]?o(y.target.files[0]):o(null)};return c(Dh,{...d,children:w("form",{onSubmit:f(async y=>{if(!a){n({title:"Error",description:"You must be logged in to save items.",variant:"destructive"});return}let _=null;try{if(s&&e){const b={item_name:y.item_name,category:y.category,supplier_info:y.supplier_info||null,low_stock_threshold:y.low_stock_threshold,item_code:y.item_code||null};_=await mMe(e.id,b),n({title:"Success",description:"Inventory item updated."})}else{const b={item_name:y.item_name,category:y.category,quantity:0,supplier_info:y.supplier_info||null,low_stock_threshold:y.low_stock_threshold,item_code:y.item_code||null,is_batched:y.category==="Medicines",photo_url:null,updated_at:null};if(_=await pMe(b),n({title:"Success",description:"New inventory item added."}),i&&_)try{console.log(`Uploading invoice for new item ID: ${_.id}`),await kMe(i,a.id,_.id),n({title:"Invoice Uploaded",description:`Invoice "${i.name}" uploaded successfully.`})}catch(S){console.error("Invoice upload failed after item creation:",S),n({title:"Warning",description:`Item was added, but invoice upload failed: ${S instanceof Error?S.message:"Unknown error"}`,variant:"default",duration:7e3})}}if(!_)throw new Error("Failed to get saved item data.");t(_),o(null)}catch(b){console.error("Failed to save inventory item:",b),n({title:"Error",description:`Failed to save item: ${b instanceof Error?b.message:"Unknown error"}`,variant:"destructive"})}}),className:"flex flex-col h-full",children:[w(df,{className:"flex-grow pr-6",children:[w("div",{className:"space-y-4",children:[c(He,{control:h,name:"item_name",render:({field:y})=>w(Oe,{children:[c(Pe,{children:"Item Name"}),c(Ie,{children:c(ot,{placeholder:"e.g., Amoxicillin 500mg",...y})}),c(Ze,{})]})}),c(He,{control:h,name:"category",render:({field:y})=>w(Oe,{children:[c(Pe,{children:"Category"}),w(Ur,{onValueChange:y.onChange,value:y.value??"",defaultValue:y.value??"",children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select a category"})})}),c($r,{children:l.map(_=>c(gt,{value:_,children:_},_))})]}),c(Ze,{})]})}),c(He,{control:h,name:"low_stock_threshold",render:({field:y})=>w(Oe,{children:[c(Pe,{children:"Low Stock Threshold"}),c(Ie,{children:c(ot,{type:"number",min:"0",placeholder:"10",...y,value:String(y.value??"")})}),c(Ze,{})]})}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[c(He,{control:h,name:"supplier_info",render:({field:y})=>w(Oe,{children:[c(Pe,{children:"Supplier Info (Optional)"}),c(Ie,{children:c(ot,{placeholder:"e.g., Supplier Name, Contact",...y,value:y.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"item_code",render:({field:y})=>w(Oe,{children:[c(Pe,{children:"Item Code/SKU (Optional)"}),c(Ie,{children:c(ot,{placeholder:"e.g., MED-001",...y,value:y.value??""})}),c(Ze,{})]})})]}),!s&&w(Oe,{className:"col-span-1 md:col-span-2",children:[" ",c(Pe,{children:"Attach Invoice (Optional)"}),c(Ie,{children:c("div",{className:"flex items-center justify-center w-full",children:w("label",{htmlFor:"invoice-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted/50",children:[w("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c(nx,{className:"w-8 h-8 mb-4 text-muted-foreground"}),w("p",{className:"mb-2 text-sm text-muted-foreground",children:[c("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c("p",{className:"text-xs text-muted-foreground",children:"PDF, DOCX, XLSX, PNG, JPG (MAX. 5MB)"})]}),c(ot,{id:"invoice-upload",type:"file",className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.csv,.jpg,.jpeg,.png",onChange:x})]})})}),i&&w("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Selected: ",i.name]})]})]})," "]})," ",w("div",{className:"flex justify-end space-x-2 pt-4 flex-shrink-0",children:[c(Le,{type:"button",variant:"outline",onClick:()=>{o(null),r()},children:"Cancel"}),c(Le,{type:"submit",disabled:d.formState.isSubmitting,children:d.formState.isSubmitting?"Saving...":s?"Update Item":"Add Item"})]})]})})},PMe={reorder:c(ZH,{className:"text-blue-500",size:16}),expiry:c(yo,{className:"text-red-500",size:16}),clinical:c(vce,{className:"text-orange-500",size:16})},Yz={High:"bg-red-100 text-red-600",Medium:"bg-yellow-100 text-yellow-600",Low:"bg-green-100 text-green-600"},OMe=e=>{var a;const t={},r=[];let n=null;for(const i of e){const o=i.message.trim(),s=o.match(/\*\*(.*?)\*\*/),l=((a=s==null?void 0:s[1])==null?void 0:a.trim())||null;if(l){n=l;const u=o.replace(/\*\*(.*?)\*\*\s*:?/,"").trim();t[n]||(t[n]=[]),u&&u!=="-"&&u.length>5&&t[n].push({insight:i,content:u})}else n?o&&o!=="-"&&o.length>5&&t[n].push({insight:i,content:o}):o&&o.length>10&&o!=="-"&&r.push({insight:i,content:o})}return{grouped:t,ungrouped:r}},DMe=({onLoadingChange:e,onInitialFetchComplete:t})=>{const[r,n]=A.useState(null),[a,i]=A.useState(""),[o,s]=A.useState(!1),[l,u]=A.useState(null),d=async m=>{var x;s(!0),u(null),e(!0);try{m==null||m.throwIfAborted();const{data:g,error:y}=await Me.functions.invoke("ai-insights");if(m==null||m.throwIfAborted(),y)throw y;const _=g;if((x=_.assets)!=null&&x.structuredInsights)n(_.assets.structuredInsights),i(_.generatedAt);else throw new Error("Invalid AI insight format.")}catch(g){g.name==="AbortError"?u("AI insights request timed out (120 seconds)."):g&&typeof g=="object"&&"message"in g?u(g.message||"Unknown error fetching AI insights"):u("An unknown error occurred while fetching AI insights."),n(null)}finally{s(!1),e(!1),t()}};if(A.useEffect(()=>{const m=new AbortController,x=setTimeout(()=>m.abort(),12e4);return d(m.signal),()=>{clearTimeout(x),m.abort(),e(!1),t()}},[e,t]),o)return w(cr,{children:[c(yr,{children:c(xr,{className:"animate-pulse",children:"AI Suggestions"})}),w(vr,{children:[c(Rl,{className:"h-4 w-full mb-2"}),c(Rl,{className:"h-4 w-full mb-2"}),c(Rl,{className:"h-4 w-full mb-2"})]})]});if(l)return w(td,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(rd,{children:"Error"}),c(nd,{children:l})]});if(!r)return null;const{grouped:f,ungrouped:h}=OMe(r);return w("div",{className:"space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"text-xl font-semibold flex gap-2 items-center",children:[c(XM,{className:"text-yellow-400"}),"AI Suggestions"]}),w("div",{className:"text-xs text-muted-foreground",children:["Generated: ",new Date(a).toLocaleString()]})]}),w("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[Object.entries(f).map(([m,x],g)=>!x||x.length===0?null:w("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-4 space-y-3 hover:shadow-md transition-all",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{className:"font-semibold text-base flex items-center gap-2",children:[PMe[x[0].insight.type],m]}),w("div",{className:`text-xs px-2 py-1 rounded-full font-medium ${Yz[x[0].insight.impact]}`,children:[x[0].insight.impact," Impact"]})]}),c("ul",{className:"space-y-2 text-sm text-gray-700",children:x.map((y,_)=>c("li",{className:"border-l-2 pl-3 border-gray-300",children:y.content},_))})]},g)),h.length>0&&w("div",{className:"bg-white rounded-2xl border border-blue-200 shadow-sm p-4 space-y-3 col-span-full",children:[w("div",{className:"font-semibold text-base flex items-center gap-2",children:[c(XM,{className:"text-purple-500"}),"General Suggestions"]}),c("ul",{className:"space-y-2 text-sm text-gray-700",children:h.map((m,x)=>w("li",{className:"flex justify-between items-start border-l-2 pl-3 border-gray-300",children:[c("span",{children:m.content}),c("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${Yz[m.insight.impact]}`,children:m.insight.impact})]},x))})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var MS={};MS.version="0.18.5";var vne=1252,IMe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],NR={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},ER=function(e){IMe.indexOf(e)!=-1&&(vne=NR[0]=e)};function RMe(){ER(1252)}var qu=function(e){ER(e)};function CR(){qu(1200),RMe()}function Xz(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function MMe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function yne(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var N2=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?MMe(e.slice(2)):t==254&&r==255?yne(e.slice(2)):t==65279?e.slice(1):e},_b=function(t){return String.fromCharCode(t)},Zz=function(t){return String.fromCharCode(t)},e8,Yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function lw(e){for(var t="",r=0,n=0,a=0,i=0,o=0,s=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),s=(n&15)<<2|a>>6,l=a&63,isNaN(n)?s=l=64:isNaN(a)&&(l=64),t+=Yp.charAt(i)+Yp.charAt(o)+Yp.charAt(s)+Yp.charAt(l);return t}function yc(e){var t="",r=0,n=0,a=0,i=0,o=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Yp.indexOf(e.charAt(u++)),o=Yp.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),s=Yp.indexOf(e.charAt(u++)),n=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(n)),l=Yp.indexOf(e.charAt(u++)),a=(s&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Sn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Rh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ym(e){return Sn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Jz(e){return Sn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var lc=function(t){return Sn?Rh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function M3(e){if(typeof ArrayBuffer>"u")return lc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Fm(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function FMe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function TR(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return TR(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var jo=Sn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Rh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function LMe(e){for(var t=[],r=0,n=e.length+250,a=ym(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|s>>6&15|(o&3)<<4,a[r++]=128|s&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=ym(65535),n=65530)}return t.push(a.slice(0,r)),jo(t)}var ll=/\u0000/g,E2=/[\u0001-\u0006]/g;function a1(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function zu(e,t){var r=""+e;return r.length>=t?r:Ai("0",t-r.length)+r}function PR(e,t){var r=""+e;return r.length>=t?r:Ai(" ",t-r.length)+r}function FS(e,t){var r=""+e;return r.length>=t?r:r+Ai(" ",t-r.length)}function jMe(e,t){var r=""+Math.round(e);return r.length>=t?r:Ai("0",t-r.length)+r}function $Me(e,t){var r=""+e;return r.length>=t?r:Ai("0",t-r.length)+r}var Qz=Math.pow(2,32);function Tv(e,t){if(e>Qz||e<-Qz)return jMe(e,t);var r=Math.round(e);return $Me(r,t)}function LS(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var eW=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],jT=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function BMe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Vr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},tW={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},UMe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jS(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,s=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),s=f*o+i,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=o,o=s,l=u,u=d;if(d>t&&(u>t?(d=l,s=i):(d=u,s=o)),!r)return[0,n*s,d];var h=Math.floor(n*s/d);return[h,n*s-h*d,d]}function L0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],s={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(n+=1462),s.u>.9999&&(s.u=0,++a==86400&&(s.T=a=0,++n,++s.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=GMe(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var xne=new Date(1899,11,31,0,0,0),qMe=xne.getTime(),zMe=new Date(1900,2,1,0,0,0);function wne(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=zMe&&(r+=24*60*60*1e3),(r-(qMe+(e.getTimezoneOffset()-xne.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function OR(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function WMe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function VMe(e){var t=e<0?12:11,r=OR(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function HMe(e){var t=OR(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function cw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=VMe(e):t===10?r=e.toFixed(10).substr(0,12):r=HMe(e),OR(WMe(r.toUpperCase()))}function dg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):cw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return tu(14,wne(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function GMe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function KMe(e,t,r,n){var a="",i=0,o=0,s=r.y,l,u=0;switch(e){case 98:s=r.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,u=2;break;default:l=s%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return jT[r.m-1][1];case 5:return jT[r.m-1][0];default:return jT[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return eW[r.q][0];default:return eW[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?zu(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=zu(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=s,u=1;break}var d=u>0?zu(l,u):"";return d}function Xp(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var _ne=/%/g;function YMe(e,t,r){var n=t.replace(_ne,""),a=t.length-n.length;return fh(e,n,r*Math.pow(10,2*a))+Ai("%",a)}function XMe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return fh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function bne(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+bne(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Sne=/# (\?+)( ?)\/( ?)(\d+)/;function ZMe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,s=n;return r+(i===0?"":""+i)+" "+(o===0?Ai(" ",e[1].length+1+e[4].length):PR(o,e[1].length)+e[2]+"/"+e[3]+zu(s,e[4].length))}function JMe(e,t,r){return r+(t===0?"":""+t)+Ai(" ",e[1].length+2+e[4].length)}var Ane=/^#*0*\.([0#]+)/,kne=/\).*[0#]/,Nne=/\(###\) ###\\?-####/;function tl(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function rW(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function nW(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function QMe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function eFe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Bc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(kne)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Bc("n",n,r):"("+Bc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return XMe(e,t,r);if(t.indexOf("%")!==-1)return YMe(e,t,r);if(t.indexOf("E")!==-1)return bne(t,r);if(t.charCodeAt(0)===36)return"$"+Bc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,s,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Tv(l,t.length);if(t.match(/^[#?]+$/))return a=Tv(r,0),a==="0"&&(a=""),a.length>t.length?a:tl(t.substr(0,t.length-a.length))+a;if(i=t.match(Sne))return ZMe(i,l,u);if(t.match(/^#+0+$/))return u+Tv(l,t.length-t.indexOf("0"));if(i=t.match(Ane))return a=rW(r,i[1].length).replace(/^([^\.]+)$/,"$1."+tl(i[1])).replace(/\.$/,"."+tl(i[1])).replace(/\.(\d*)$/,function(x,g){return"."+g+Ai("0",tl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+rW(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Xp(Tv(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Bc(e,t,-r):Xp(""+(Math.floor(r)+QMe(r,i[1].length)))+"."+zu(nW(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Bc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=a1(Bc(e,t.replace(/[\\-]/g,""),r)),o=0,a1(a1(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(Nne))return a=Bc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=jS(l,Math.pow(10,o)-1,!1),a=""+u,d=fh("n",i[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=FS(s[2],o),d.length<i[4].length&&(d=tl(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=jS(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?PR(s[1],o)+i[2]+"/"+i[3]+FS(s[2],o):Ai(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Tv(r,0),t.length<=a.length?a:tl(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return tl(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=nW(r,i[1].length),r<0?"-"+Bc(e,t,-r):Xp(eFe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?zu(0,3-x.length):"")+x})+"."+zu(o,i[1].length);switch(t){case"###,##0.00":return Bc(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Xp(Tv(l,0));return m!=="0"?u+m:"";case"###,###.00":return Bc(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Bc(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function tFe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return fh(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function rFe(e,t,r){var n=t.replace(_ne,""),a=t.length-n.length;return fh(e,n,r*Math.pow(10,2*a))+Ai("%",a)}function Ene(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Ene(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Rd(e,t,r){if(e.charCodeAt(0)===40&&!t.match(kne)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Rd("n",n,r):"("+Rd("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return tFe(e,t,r);if(t.indexOf("%")!==-1)return rFe(e,t,r);if(t.indexOf("E")!==-1)return Ene(t,r);if(t.charCodeAt(0)===36)return"$"+Rd(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,s,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+zu(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:tl(t.substr(0,t.length-a.length))+a;if(i=t.match(Sne))return JMe(i,l,u);if(t.match(/^#+0+$/))return u+zu(l,t.length-t.indexOf("0"));if(i=t.match(Ane))return a=(""+r).replace(/^([^\.]+)$/,"$1."+tl(i[1])).replace(/\.$/,"."+tl(i[1])),a=a.replace(/\.(\d*)$/,function(x,g){return"."+g+Ai("0",tl(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Xp(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Rd(e,t,-r):Xp(""+r)+"."+Ai("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Rd(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=a1(Rd(e,t.replace(/[\\-]/g,""),r)),o=0,a1(a1(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(Nne))return a=Rd(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=jS(l,Math.pow(10,o)-1,!1),a=""+u,d=fh("n",i[1],s[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=FS(s[2],o),d.length<i[4].length&&(d=tl(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=jS(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?PR(s[1],o)+i[2]+"/"+i[3]+FS(s[2],o):Ai(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:tl(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return tl(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Rd(e,t,-r):Xp(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?zu(0,3-x.length):"")+x})+"."+zu(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Xp(""+l);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Rd(e,t.slice(0,t.lastIndexOf(".")),r)+tl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function fh(e,t,r){return(r|0)===r?Rd(e,t,r):Bc(e,t,r)}function nFe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Cne=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function xy(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":LS(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Cne))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function aFe(e,t,r,n){for(var a=[],i="",o=0,s="",l="t",u,d,f,h="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!LS(e,o))throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),x=m==="("||m===")"?m:"t";a[a.length]={t:x,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=L0(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=L0(t,r),u==null))return"";for(i=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)i+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=h),a[a.length]={t:s,v:i},l=s;break;case"A":case"a":case"上":var g={t:s,v:s};if(u==null&&(u=L0(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(g.v=u.H>=12?"下午":"上午"),g.t="T",o+=5,h="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,l=s;break;case"[":for(i=s;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Cne)){if(u==null&&(u=L0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",xy(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=s;++o<e.length&&(s=e.charAt(o))==="0";)i+=s;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)i+=s;a[a.length]={t:"n",v:i};break;case"?":for(i=s;e.charAt(++o)===s;)i+=s;a[a.length]={t:s,v:i},l=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:s,v:s},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"t",v:s},++o;break}var y=0,_=0,b;for(o=a.length-1,l="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,l="h",y<1&&(y=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(_=Math.max(_,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=a[o].t;break;case"m":l==="s"&&(a[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[o].v.match(/[Hh]/)&&(y=1),y<2&&a[o].v.match(/[Mm]/)&&(y=2),y<3&&a[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",C;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=KMe(a[o].t.charCodeAt(0),a[o].v,u,_),a[o].t="t";break;case"n":case"?":for(C=o+1;a[C]!=null&&((s=a[C].t)==="?"||s==="D"||(s===" "||s==="t")&&a[C+1]!=null&&(a[C+1].t==="?"||a[C+1].t==="t"&&a[C+1].v==="/")||a[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(a[C].v==="/"||a[C].v===" "&&a[C+1]!=null&&a[C+1].t=="?"));)a[o].v+=a[C].v,a[C]={v:"",t:";"},++C;S+=a[o].v,o=C-1;break;case"G":a[o].t="t",a[o].v=dg(t,r);break}var E="",O,T;if(S.length>0){S.charCodeAt(0)==40?(O=t<0&&S.charCodeAt(0)===45?-t:t,T=fh("n",S,O)):(O=t<0&&n>1?-t:t,T=fh("n",S,O),O<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),C=T.length-1;var I=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){I=o;break}var L=a.length;if(I===a.length&&T.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(C>=a[o].v.length-1?(C-=a[o].v.length,a[o].v=T.substr(C+1,a[o].v.length)):C<0?a[o].v="":(a[o].v=T.substr(0,C+1),C=-1),a[o].t="t",L=o);C>=0&&L<a.length&&(a[L].v=T.substr(0,C+1)+a[L].v)}else if(I!==a.length&&T.indexOf("E")===-1){for(C=T.indexOf(".")-1,o=I;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")-1:a[o].v.length-1,E=a[o].v.substr(d+1);d>=0;--d)C>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(E=T.charAt(C--)+E);a[o].v=E,a[o].t="t",L=o}for(C>=0&&L<a.length&&(a[L].v=T.substr(0,C+1)+a[L].v),C=T.indexOf(".")+1,o=I;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==I)){for(d=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")+1:0,E=a[o].v.substr(0,d);d<a[o].v.length;++d)C<T.length&&(E+=T.charAt(C++));a[o].v=E,a[o].t="t",L=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(O=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=fh(a[o].t,a[o].v,O),a[o].t="t");var U="";for(o=0;o!==a.length;++o)a[o]!=null&&(U+=a[o].v);return U}var aW=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function iW(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function iFe(e,t){var r=nFe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(aW),s=r[1].match(aW);return iW(t,o)?[n,r[0]]:iW(t,s)?[n,r[1]]:[n,r[o!=null&&s!=null?2:1]]}return[n,i]}function tu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Vr)[e],n==null&&(n=r.table&&r.table[tW[e]]||Vr[tW[e]]),n==null&&(n=UMe[e]||"General");break}if(LS(n,0))return dg(t,r);t instanceof Date&&(t=wne(t,r.date1904));var a=iFe(n,t);if(LS(a[1]))return dg(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return aFe(a[1],t,r,a[0])}function hh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Vr[r]==null){t<0&&(t=r);continue}if(Vr[r]==e){t=r;break}}t<0&&(t=391)}return Vr[t]=e,t}function F3(e){for(var t=0;t!=392;++t)e[t]!==void 0&&hh(e[t],t)}function wy(){Vr=BMe()}var oFe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Tne=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function sFe(e){var t=typeof e=="number"?Vr[e]:e;return t=t.replace(Tne,"(\\d+)"),new RegExp("^"+t+"$")}function lFe(e,t,r){var n=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(Tne)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":o=m;break;case"s":l=m;break;case"m":o>=0?s=m:a=m;break}}),l>=0&&s==-1&&a>=0&&(s=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var cFe=function(){var e={};e.version="1.2.0";function t(){for(var T=0,I=new Array(256),L=0;L!=256;++L)T=L,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,I[L]=T;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function n(T){var I=0,L=0,U=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)P[U]=T[U];for(U=0;U!=256;++U)for(L=T[U],I=256+U;I<4096;I+=256)L=P[I]=L>>>8^T[L&255];var M=[];for(U=1;U!=16;++U)M[U-1]=typeof Int32Array<"u"?P.subarray(U*256,U*256+256):P.slice(U*256,U*256+256);return M}var a=n(r),i=a[0],o=a[1],s=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],x=a[9],g=a[10],y=a[11],_=a[12],b=a[13],S=a[14];function C(T,I){for(var L=I^-1,U=0,P=T.length;U<P;)L=L>>>8^r[(L^T.charCodeAt(U++))&255];return~L}function E(T,I){for(var L=I^-1,U=T.length-15,P=0;P<U;)L=S[T[P++]^L&255]^b[T[P++]^L>>8&255]^_[T[P++]^L>>16&255]^y[T[P++]^L>>>24]^g[T[P++]]^x[T[P++]]^m[T[P++]]^h[T[P++]]^f[T[P++]]^d[T[P++]]^u[T[P++]]^l[T[P++]]^s[T[P++]]^o[T[P++]]^i[T[P++]]^r[T[P++]];for(U+=15;P<U;)L=L>>>8^r[(L^T[P++])&255];return~L}function O(T,I){for(var L=I^-1,U=0,P=T.length,M=0,j=0;U<P;)M=T.charCodeAt(U++),M<128?L=L>>>8^r[(L^M)&255]:M<2048?(L=L>>>8^r[(L^(192|M>>6&31))&255],L=L>>>8^r[(L^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,j=T.charCodeAt(U++)&1023,L=L>>>8^r[(L^(240|M>>8&7))&255],L=L>>>8^r[(L^(128|M>>2&63))&255],L=L>>>8^r[(L^(128|j>>6&15|(M&3)<<4))&255],L=L>>>8^r[(L^(128|j&63))&255]):(L=L>>>8^r[(L^(224|M>>12&15))&255],L=L>>>8^r[(L^(128|M>>6&63))&255],L=L>>>8^r[(L^(128|M&63))&255]);return~L}return e.table=r,e.bstr=C,e.buf=E,e.str=O,e}(),Rr=function(){var t={};t.version="1.2.1";function r(ce,Se){for(var ye=ce.split("/"),we=Se.split("/"),be=0,ke=0,et=Math.min(ye.length,we.length);be<et;++be){if(ke=ye[be].length-we[be].length)return ke;if(ye[be]!=we[be])return ye[be]<we[be]?-1:1}return ye.length-we.length}function n(ce){if(ce.charAt(ce.length-1)=="/")return ce.slice(0,-1).indexOf("/")===-1?ce:n(ce.slice(0,-1));var Se=ce.lastIndexOf("/");return Se===-1?ce:ce.slice(0,Se+1)}function a(ce){if(ce.charAt(ce.length-1)=="/")return a(ce.slice(0,-1));var Se=ce.lastIndexOf("/");return Se===-1?ce:ce.slice(Se+1)}function i(ce,Se){typeof Se=="string"&&(Se=new Date(Se));var ye=Se.getHours();ye=ye<<6|Se.getMinutes(),ye=ye<<5|Se.getSeconds()>>>1,ce.write_shift(2,ye);var we=Se.getFullYear()-1980;we=we<<4|Se.getMonth()+1,we=we<<5|Se.getDate(),ce.write_shift(2,we)}function o(ce){var Se=ce.read_shift(2)&65535,ye=ce.read_shift(2)&65535,we=new Date,be=ye&31;ye>>>=5;var ke=ye&15;ye>>>=4,we.setMilliseconds(0),we.setFullYear(ye+1980),we.setMonth(ke-1),we.setDate(be);var et=Se&31;Se>>>=5;var pt=Se&63;return Se>>>=6,we.setHours(Se),we.setMinutes(pt),we.setSeconds(et<<1),we}function s(ce){ts(ce,0);for(var Se={},ye=0;ce.l<=ce.length-4;){var we=ce.read_shift(2),be=ce.read_shift(2),ke=ce.l+be,et={};switch(we){case 21589:ye=ce.read_shift(1),ye&1&&(et.mtime=ce.read_shift(4)),be>5&&(ye&2&&(et.atime=ce.read_shift(4)),ye&4&&(et.ctime=ce.read_shift(4))),et.mtime&&(et.mt=new Date(et.mtime*1e3));break}ce.l=ke,Se[we]=et}return Se}var l;function u(){return l||(l={})}function d(ce,Se){if(ce[0]==80&&ce[1]==75)return Vn(ce,Se);if((ce[0]|32)==109&&(ce[1]|32)==105)return bo(ce,Se);if(ce.length<512)throw new Error("CFB file size "+ce.length+" < 512");var ye=3,we=512,be=0,ke=0,et=0,pt=0,Ye=0,at=[],st=ce.slice(0,512);ts(st,0);var It=f(st);switch(ye=It[0],ye){case 3:we=512;break;case 4:we=4096;break;case 0:if(It[1]==0)return Vn(ce,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}we!==512&&(st=ce.slice(0,we),ts(st,28));var Gt=ce.slice(0,we);h(st,ye);var or=st.read_shift(4,"i");if(ye===3&&or!==0)throw new Error("# Directory Sectors: Expected 0 saw "+or);st.l+=4,et=st.read_shift(4,"i"),st.l+=4,st.chk("00100000","Mini Stream Cutoff Size: "),pt=st.read_shift(4,"i"),be=st.read_shift(4,"i"),Ye=st.read_shift(4,"i"),ke=st.read_shift(4,"i");for(var zt=-1,$t=0;$t<109&&(zt=st.read_shift(4,"i"),!(zt<0));++$t)at[$t]=zt;var Gr=m(ce,we);y(Ye,ke,Gr,we,at);var Mn=b(Gr,et,at,we);Mn[et].name="!Directory",be>0&&pt!==j&&(Mn[pt].name="!MiniFAT"),Mn[at[0]].name="!FAT",Mn.fat_addrs=at,Mn.ssz=we;var Qn={},Fa=[],Bl=[],xc=[];S(et,Mn,Gr,Fa,be,Qn,Bl,pt),x(Bl,xc,Fa),Fa.shift();var Us={FileIndex:Bl,FullPaths:xc};return Se&&Se.raw&&(Us.raw={header:Gt,sectors:Gr}),Us}function f(ce){if(ce[ce.l]==80&&ce[ce.l+1]==75)return[0,0];ce.chk(V,"Header Signature: "),ce.l+=16;var Se=ce.read_shift(2,"u");return[ce.read_shift(2,"u"),Se]}function h(ce,Se){var ye=9;switch(ce.l+=2,ye=ce.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}ce.chk("0600","Mini Sector Shift: "),ce.chk("000000000000","Reserved: ")}function m(ce,Se){for(var ye=Math.ceil(ce.length/Se)-1,we=[],be=1;be<ye;++be)we[be-1]=ce.slice(be*Se,(be+1)*Se);return we[ye-1]=ce.slice(ye*Se),we}function x(ce,Se,ye){for(var we=0,be=0,ke=0,et=0,pt=0,Ye=ye.length,at=[],st=[];we<Ye;++we)at[we]=st[we]=we,Se[we]=ye[we];for(;pt<st.length;++pt)we=st[pt],be=ce[we].L,ke=ce[we].R,et=ce[we].C,at[we]===we&&(be!==-1&&at[be]!==be&&(at[we]=at[be]),ke!==-1&&at[ke]!==ke&&(at[we]=at[ke])),et!==-1&&(at[et]=we),be!==-1&&we!=at[we]&&(at[be]=at[we],st.lastIndexOf(be)<pt&&st.push(be)),ke!==-1&&we!=at[we]&&(at[ke]=at[we],st.lastIndexOf(ke)<pt&&st.push(ke));for(we=1;we<Ye;++we)at[we]===we&&(ke!==-1&&at[ke]!==ke?at[we]=at[ke]:be!==-1&&at[be]!==be&&(at[we]=at[be]));for(we=1;we<Ye;++we)if(ce[we].type!==0){if(pt=we,pt!=at[pt])do pt=at[pt],Se[we]=Se[pt]+"/"+Se[we];while(pt!==0&&at[pt]!==-1&&pt!=at[pt]);at[we]=-1}for(Se[0]+="/",we=1;we<Ye;++we)ce[we].type!==2&&(Se[we]+="/")}function g(ce,Se,ye){for(var we=ce.start,be=ce.size,ke=[],et=we;ye&&be>0&&et>=0;)ke.push(Se.slice(et*M,et*M+M)),be-=M,et=E0(ye,et*4);return ke.length===0?Nt(0):jo(ke).slice(0,ce.size)}function y(ce,Se,ye,we,be){var ke=j;if(ce===j){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(ce!==-1){var et=ye[ce],pt=(we>>>2)-1;if(!et)return;for(var Ye=0;Ye<pt&&(ke=E0(et,Ye*4))!==j;++Ye)be.push(ke);y(E0(et,we-4),Se-1,ye,we,be)}}function _(ce,Se,ye,we,be){var ke=[],et=[];be||(be=[]);var pt=we-1,Ye=0,at=0;for(Ye=Se;Ye>=0;){be[Ye]=!0,ke[ke.length]=Ye,et.push(ce[Ye]);var st=ye[Math.floor(Ye*4/we)];if(at=Ye*4&pt,we<4+at)throw new Error("FAT boundary crossed: "+Ye+" 4 "+we);if(!ce[st])break;Ye=E0(ce[st],at)}return{nodes:ke,data:vW([et])}}function b(ce,Se,ye,we){var be=ce.length,ke=[],et=[],pt=[],Ye=[],at=we-1,st=0,It=0,Gt=0,or=0;for(st=0;st<be;++st)if(pt=[],Gt=st+Se,Gt>=be&&(Gt-=be),!et[Gt]){Ye=[];var zt=[];for(It=Gt;It>=0;){zt[It]=!0,et[It]=!0,pt[pt.length]=It,Ye.push(ce[It]);var $t=ye[Math.floor(It*4/we)];if(or=It*4&at,we<4+or)throw new Error("FAT boundary crossed: "+It+" 4 "+we);if(!ce[$t]||(It=E0(ce[$t],or),zt[It]))break}ke[Gt]={nodes:pt,data:vW([Ye])}}return ke}function S(ce,Se,ye,we,be,ke,et,pt){for(var Ye=0,at=we.length?2:0,st=Se[ce].data,It=0,Gt=0,or;It<st.length;It+=128){var zt=st.slice(It,It+128);ts(zt,64),Gt=zt.read_shift(2),or=jR(zt,0,Gt-at),we.push(or);var $t={name:or,type:zt.read_shift(1),color:zt.read_shift(1),L:zt.read_shift(4,"i"),R:zt.read_shift(4,"i"),C:zt.read_shift(4,"i"),clsid:zt.read_shift(16),state:zt.read_shift(4,"i"),start:0,size:0},Gr=zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2);Gr!==0&&($t.ct=C(zt,zt.l-8));var Mn=zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2);Mn!==0&&($t.mt=C(zt,zt.l-8)),$t.start=zt.read_shift(4,"i"),$t.size=zt.read_shift(4,"i"),$t.size<0&&$t.start<0&&($t.size=$t.type=0,$t.start=j,$t.name=""),$t.type===5?(Ye=$t.start,be>0&&Ye!==j&&(Se[Ye].name="!StreamData")):$t.size>=4096?($t.storage="fat",Se[$t.start]===void 0&&(Se[$t.start]=_(ye,$t.start,Se.fat_addrs,Se.ssz)),Se[$t.start].name=$t.name,$t.content=Se[$t.start].data.slice(0,$t.size)):($t.storage="minifat",$t.size<0?$t.size=0:Ye!==j&&$t.start!==j&&Se[Ye]&&($t.content=g($t,Se[Ye].data,(Se[pt]||{}).data))),$t.content&&ts($t.content,0),ke[or]=$t,et.push($t)}}function C(ce,Se){return new Date((ic(ce,Se+4)/1e7*Math.pow(2,32)+ic(ce,Se)/1e7-11644473600)*1e3)}function E(ce,Se){return u(),d(l.readFileSync(ce),Se)}function O(ce,Se){var ye=Se&&Se.type;switch(ye||Sn&&Buffer.isBuffer(ce)&&(ye="buffer"),ye||"base64"){case"file":return E(ce,Se);case"base64":return d(lc(yc(ce)),Se);case"binary":return d(lc(ce),Se)}return d(ce,Se)}function T(ce,Se){var ye=Se||{},we=ye.root||"Root Entry";if(ce.FullPaths||(ce.FullPaths=[]),ce.FileIndex||(ce.FileIndex=[]),ce.FullPaths.length!==ce.FileIndex.length)throw new Error("inconsistent CFB structure");ce.FullPaths.length===0&&(ce.FullPaths[0]=we+"/",ce.FileIndex[0]={name:we,type:5}),ye.CLSID&&(ce.FileIndex[0].clsid=ye.CLSID),I(ce)}function I(ce){var Se="Sh33tJ5";if(!Rr.find(ce,"/"+Se)){var ye=Nt(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,ce.FileIndex.push({name:Se,type:2,content:ye,size:4,L:69,R:69,C:69}),ce.FullPaths.push(ce.FullPaths[0]+Se),L(ce)}}function L(ce,Se){T(ce);for(var ye=!1,we=!1,be=ce.FullPaths.length-1;be>=0;--be){var ke=ce.FileIndex[be];switch(ke.type){case 0:we?ye=!0:(ce.FileIndex.pop(),ce.FullPaths.pop());break;case 1:case 2:case 5:we=!0,isNaN(ke.R*ke.L*ke.C)&&(ye=!0),ke.R>-1&&ke.L>-1&&ke.R==ke.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!Se)){var et=new Date(1987,1,19),pt=0,Ye=Object.create?Object.create(null):{},at=[];for(be=0;be<ce.FullPaths.length;++be)Ye[ce.FullPaths[be]]=!0,ce.FileIndex[be].type!==0&&at.push([ce.FullPaths[be],ce.FileIndex[be]]);for(be=0;be<at.length;++be){var st=n(at[be][0]);we=Ye[st],we||(at.push([st,{name:a(st).replace("/",""),type:1,clsid:te,ct:et,mt:et,content:null}]),Ye[st]=!0)}for(at.sort(function(or,zt){return r(or[0],zt[0])}),ce.FullPaths=[],ce.FileIndex=[],be=0;be<at.length;++be)ce.FullPaths[be]=at[be][0],ce.FileIndex[be]=at[be][1];for(be=0;be<at.length;++be){var It=ce.FileIndex[be],Gt=ce.FullPaths[be];if(It.name=a(Gt).replace("/",""),It.L=It.R=It.C=-(It.color=1),It.size=It.content?It.content.length:0,It.start=0,It.clsid=It.clsid||te,be===0)It.C=at.length>1?1:-1,It.size=0,It.type=5;else if(Gt.slice(-1)=="/"){for(pt=be+1;pt<at.length&&n(ce.FullPaths[pt])!=Gt;++pt);for(It.C=pt>=at.length?-1:pt,pt=be+1;pt<at.length&&n(ce.FullPaths[pt])!=n(Gt);++pt);It.R=pt>=at.length?-1:pt,It.type=1}else n(ce.FullPaths[be+1]||"")==n(Gt)&&(It.R=be+1),It.type=2}}}function U(ce,Se){var ye=Se||{};if(ye.fileType=="mad")return Cr(ce,ye);switch(L(ce),ye.fileType){case"zip":return Qa(ce,ye)}var we=function(or){for(var zt=0,$t=0,Gr=0;Gr<or.FileIndex.length;++Gr){var Mn=or.FileIndex[Gr];if(Mn.content){var Qn=Mn.content.length;Qn>0&&(Qn<4096?zt+=Qn+63>>6:$t+=Qn+511>>9)}}for(var Fa=or.FullPaths.length+3>>2,Bl=zt+7>>3,xc=zt+127>>7,Us=Bl+$t+Fa+xc,mi=Us+127>>7,wc=mi<=109?0:Math.ceil((mi-109)/127);Us+mi+wc+127>>7>mi;)wc=++mi<=109?0:Math.ceil((mi-109)/127);var La=[1,wc,mi,xc,Fa,$t,zt,0];return or.FileIndex[0].size=zt<<6,La[7]=(or.FileIndex[0].start=La[0]+La[1]+La[2]+La[3]+La[4]+La[5])+(La[6]+7>>3),La}(ce),be=Nt(we[7]<<9),ke=0,et=0;{for(ke=0;ke<8;++ke)be.write_shift(1,X[ke]);for(ke=0;ke<8;++ke)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),ke=0;ke<3;++ke)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,we[2]),be.write_shift(4,we[0]+we[1]+we[2]+we[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,we[3]?we[0]+we[1]+we[2]-1:j),be.write_shift(4,we[3]),be.write_shift(-4,we[1]?we[0]-1:j),be.write_shift(4,we[1]),ke=0;ke<109;++ke)be.write_shift(-4,ke<we[2]?we[1]+ke:-1)}if(we[1])for(et=0;et<we[1];++et){for(;ke<236+et*127;++ke)be.write_shift(-4,ke<we[2]?we[1]+ke:-1);be.write_shift(-4,et===we[1]-1?j:et+1)}var pt=function(or){for(et+=or;ke<et-1;++ke)be.write_shift(-4,ke+1);or&&(++ke,be.write_shift(-4,j))};for(et=ke=0,et+=we[1];ke<et;++ke)be.write_shift(-4,z.DIFSECT);for(et+=we[2];ke<et;++ke)be.write_shift(-4,z.FATSECT);pt(we[3]),pt(we[4]);for(var Ye=0,at=0,st=ce.FileIndex[0];Ye<ce.FileIndex.length;++Ye)st=ce.FileIndex[Ye],st.content&&(at=st.content.length,!(at<4096)&&(st.start=et,pt(at+511>>9)));for(pt(we[6]+7>>3);be.l&511;)be.write_shift(-4,z.ENDOFCHAIN);for(et=ke=0,Ye=0;Ye<ce.FileIndex.length;++Ye)st=ce.FileIndex[Ye],st.content&&(at=st.content.length,!(!at||at>=4096)&&(st.start=et,pt(at+63>>6)));for(;be.l&511;)be.write_shift(-4,z.ENDOFCHAIN);for(ke=0;ke<we[4]<<2;++ke){var It=ce.FullPaths[ke];if(!It||It.length===0){for(Ye=0;Ye<17;++Ye)be.write_shift(4,0);for(Ye=0;Ye<3;++Ye)be.write_shift(4,-1);for(Ye=0;Ye<12;++Ye)be.write_shift(4,0);continue}st=ce.FileIndex[ke],ke===0&&(st.start=st.size?st.start-1:j);var Gt=ke===0&&ye.root||st.name;if(at=2*(Gt.length+1),be.write_shift(64,Gt,"utf16le"),be.write_shift(2,at),be.write_shift(1,st.type),be.write_shift(1,st.color),be.write_shift(-4,st.L),be.write_shift(-4,st.R),be.write_shift(-4,st.C),st.clsid)be.write_shift(16,st.clsid,"hex");else for(Ye=0;Ye<4;++Ye)be.write_shift(4,0);be.write_shift(4,st.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,st.start),be.write_shift(4,st.size),be.write_shift(4,0)}for(ke=1;ke<ce.FileIndex.length;++ke)if(st=ce.FileIndex[ke],st.size>=4096)if(be.l=st.start+1<<9,Sn&&Buffer.isBuffer(st.content))st.content.copy(be,be.l,0,st.size),be.l+=st.size+511&-512;else{for(Ye=0;Ye<st.size;++Ye)be.write_shift(1,st.content[Ye]);for(;Ye&511;++Ye)be.write_shift(1,0)}for(ke=1;ke<ce.FileIndex.length;++ke)if(st=ce.FileIndex[ke],st.size>0&&st.size<4096)if(Sn&&Buffer.isBuffer(st.content))st.content.copy(be,be.l,0,st.size),be.l+=st.size+63&-64;else{for(Ye=0;Ye<st.size;++Ye)be.write_shift(1,st.content[Ye]);for(;Ye&63;++Ye)be.write_shift(1,0)}if(Sn)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function P(ce,Se){var ye=ce.FullPaths.map(function(Ye){return Ye.toUpperCase()}),we=ye.map(function(Ye){var at=Ye.split("/");return at[at.length-(Ye.slice(-1)=="/"?2:1)]}),be=!1;Se.charCodeAt(0)===47?(be=!0,Se=ye[0].slice(0,-1)+Se):be=Se.indexOf("/")!==-1;var ke=Se.toUpperCase(),et=be===!0?ye.indexOf(ke):we.indexOf(ke);if(et!==-1)return ce.FileIndex[et];var pt=!ke.match(E2);for(ke=ke.replace(ll,""),pt&&(ke=ke.replace(E2,"!")),et=0;et<ye.length;++et)if((pt?ye[et].replace(E2,"!"):ye[et]).replace(ll,"")==ke||(pt?we[et].replace(E2,"!"):we[et]).replace(ll,"")==ke)return ce.FileIndex[et];return null}var M=64,j=-2,V="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],te="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(ce,Se,ye){u();var we=U(ce,ye);l.writeFileSync(Se,we)}function q(ce){for(var Se=new Array(ce.length),ye=0;ye<ce.length;++ye)Se[ye]=String.fromCharCode(ce[ye]);return Se.join("")}function Y(ce,Se){var ye=U(ce,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),l.writeFileSync(Se.filename,ye),ye;case"binary":return typeof ye=="string"?ye:q(ye);case"base64":return lw(typeof ye=="string"?ye:q(ye));case"buffer":if(Sn)return Buffer.isBuffer(ye)?ye:Rh(ye);case"array":return typeof ye=="string"?lc(ye):ye}return ye}var Z;function D(ce){try{var Se=ce.InflateRaw,ye=new Se;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)Z=ce;else throw new Error("zlib does not expose bytesRead")}catch(we){console.error("cannot use native zlib: "+(we.message||we))}}function K(ce,Se){if(!Z)return fn(ce,Se);var ye=Z.InflateRaw,we=new ye,be=we._processChunk(ce.slice(ce.l),we._finishFlushFlag);return ce.l+=we.bytesRead,be}function Q(ce){return Z?Z.deflateRawSync(ce):At(ce)}var ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(ce){var Se=(ce<<1|ce<<11)&139536|(ce<<5|ce<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var J=typeof Uint8Array<"u",ue=J?new Uint8Array(256):[],ge=0;ge<256;++ge)ue[ge]=de(ge);function ne(ce,Se){var ye=ue[ce&255];return Se<=8?ye>>>8-Se:(ye=ye<<8|ue[ce>>8&255],Se<=16?ye>>>16-Se:(ye=ye<<8|ue[ce>>16&255],ye>>>24-Se))}function Ne(ce,Se){var ye=Se&7,we=Se>>>3;return(ce[we]|(ye<=6?0:ce[we+1]<<8))>>>ye&3}function Re(ce,Se){var ye=Se&7,we=Se>>>3;return(ce[we]|(ye<=5?0:ce[we+1]<<8))>>>ye&7}function De(ce,Se){var ye=Se&7,we=Se>>>3;return(ce[we]|(ye<=4?0:ce[we+1]<<8))>>>ye&15}function pe(ce,Se){var ye=Se&7,we=Se>>>3;return(ce[we]|(ye<=3?0:ce[we+1]<<8))>>>ye&31}function Je(ce,Se){var ye=Se&7,we=Se>>>3;return(ce[we]|(ye<=1?0:ce[we+1]<<8))>>>ye&127}function mt(ce,Se,ye){var we=Se&7,be=Se>>>3,ke=(1<<ye)-1,et=ce[be]>>>we;return ye<8-we||(et|=ce[be+1]<<8-we,ye<16-we)||(et|=ce[be+2]<<16-we,ye<24-we)||(et|=ce[be+3]<<24-we),et&ke}function dt(ce,Se,ye){var we=Se&7,be=Se>>>3;return we<=5?ce[be]|=(ye&7)<<we:(ce[be]|=ye<<we&255,ce[be+1]=(ye&7)>>8-we),Se+3}function Tt(ce,Se,ye){var we=Se&7,be=Se>>>3;return ye=(ye&1)<<we,ce[be]|=ye,Se+1}function lt(ce,Se,ye){var we=Se&7,be=Se>>>3;return ye<<=we,ce[be]|=ye&255,ye>>>=8,ce[be+1]=ye,Se+8}function _e(ce,Se,ye){var we=Se&7,be=Se>>>3;return ye<<=we,ce[be]|=ye&255,ye>>>=8,ce[be+1]=ye&255,ce[be+2]=ye>>>8,Se+16}function Ce(ce,Se){var ye=ce.length,we=2*ye>Se?2*ye:Se+5,be=0;if(ye>=Se)return ce;if(Sn){var ke=Jz(we);if(ce.copy)ce.copy(ke);else for(;be<ce.length;++be)ke[be]=ce[be];return ke}else if(J){var et=new Uint8Array(we);if(et.set)et.set(ce);else for(;be<ye;++be)et[be]=ce[be];return et}return ce.length=we,ce}function We(ce){for(var Se=new Array(ce),ye=0;ye<ce;++ye)Se[ye]=0;return Se}function ft(ce,Se,ye){var we=1,be=0,ke=0,et=0,pt=0,Ye=ce.length,at=J?new Uint16Array(32):We(32);for(ke=0;ke<32;++ke)at[ke]=0;for(ke=Ye;ke<ye;++ke)ce[ke]=0;Ye=ce.length;var st=J?new Uint16Array(Ye):We(Ye);for(ke=0;ke<Ye;++ke)at[be=ce[ke]]++,we<be&&(we=be),st[ke]=0;for(at[0]=0,ke=1;ke<=we;++ke)at[ke+16]=pt=pt+at[ke-1]<<1;for(ke=0;ke<Ye;++ke)pt=ce[ke],pt!=0&&(st[ke]=at[pt+16]++);var It=0;for(ke=0;ke<Ye;++ke)if(It=ce[ke],It!=0)for(pt=ne(st[ke],we)>>we-It,et=(1<<we+4-It)-1;et>=0;--et)Se[pt|et<<It]=It&15|ke<<4;return we}var vt=J?new Uint16Array(512):We(512),Fe=J?new Uint16Array(32):We(32);if(!J){for(var Ve=0;Ve<512;++Ve)vt[Ve]=0;for(Ve=0;Ve<32;++Ve)Fe[Ve]=0}(function(){for(var ce=[],Se=0;Se<32;Se++)ce.push(5);ft(ce,Fe,32);var ye=[];for(Se=0;Se<=143;Se++)ye.push(8);for(;Se<=255;Se++)ye.push(9);for(;Se<=279;Se++)ye.push(7);for(;Se<=287;Se++)ye.push(8);ft(ye,vt,288)})();var _t=function(){for(var Se=J?new Uint8Array(32768):[],ye=0,we=0;ye<oe.length-1;++ye)for(;we<oe[ye+1];++we)Se[we]=ye;for(;we<32768;++we)Se[we]=29;var be=J?new Uint8Array(259):[];for(ye=0,we=0;ye<ae.length-1;++ye)for(;we<ae[ye+1];++we)be[we]=ye;function ke(pt,Ye){for(var at=0;at<pt.length;){var st=Math.min(65535,pt.length-at),It=at+st==pt.length;for(Ye.write_shift(1,+It),Ye.write_shift(2,st),Ye.write_shift(2,~st&65535);st-- >0;)Ye[Ye.l++]=pt[at++]}return Ye.l}function et(pt,Ye){for(var at=0,st=0,It=J?new Uint16Array(32768):[];st<pt.length;){var Gt=Math.min(65535,pt.length-st);if(Gt<10){for(at=dt(Ye,at,+(st+Gt==pt.length)),at&7&&(at+=8-(at&7)),Ye.l=at/8|0,Ye.write_shift(2,Gt),Ye.write_shift(2,~Gt&65535);Gt-- >0;)Ye[Ye.l++]=pt[st++];at=Ye.l*8;continue}at=dt(Ye,at,+(st+Gt==pt.length)+2);for(var or=0;Gt-- >0;){var zt=pt[st];or=(or<<5^zt)&32767;var $t=-1,Gr=0;if(($t=It[or])&&($t|=st&-32768,$t>st&&($t-=32768),$t<st))for(;pt[$t+Gr]==pt[st+Gr]&&Gr<250;)++Gr;if(Gr>2){zt=be[Gr],zt<=22?at=lt(Ye,at,ue[zt+1]>>1)-1:(lt(Ye,at,3),at+=5,lt(Ye,at,ue[zt-23]>>5),at+=3);var Mn=zt<8?0:zt-4>>2;Mn>0&&(_e(Ye,at,Gr-ae[zt]),at+=Mn),zt=Se[st-$t],at=lt(Ye,at,ue[zt]>>3),at-=3;var Qn=zt<4?0:zt-2>>1;Qn>0&&(_e(Ye,at,st-$t-oe[zt]),at+=Qn);for(var Fa=0;Fa<Gr;++Fa)It[or]=st&32767,or=(or<<5^pt[st])&32767,++st;Gt-=Gr-1}else zt<=143?zt=zt+48:at=Tt(Ye,at,1),at=lt(Ye,at,ue[zt]),It[or]=st&32767,++st}at=lt(Ye,at,0)-1}return Ye.l=(at+7)/8|0,Ye.l}return function(Ye,at){return Ye.length<8?ke(Ye,at):et(Ye,at)}}();function At(ce){var Se=Nt(50+Math.floor(ce.length*1.1)),ye=_t(ce,Se);return Se.slice(0,ye)}var ut=J?new Uint16Array(32768):We(32768),wr=J?new Uint16Array(32768):We(32768),nr=J?new Uint16Array(128):We(128),Jr=1,dn=1;function bn(ce,Se){var ye=pe(ce,Se)+257;Se+=5;var we=pe(ce,Se)+1;Se+=5;var be=De(ce,Se)+4;Se+=4;for(var ke=0,et=J?new Uint8Array(19):We(19),pt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ye=1,at=J?new Uint8Array(8):We(8),st=J?new Uint8Array(8):We(8),It=et.length,Gt=0;Gt<be;++Gt)et[ie[Gt]]=ke=Re(ce,Se),Ye<ke&&(Ye=ke),at[ke]++,Se+=3;var or=0;for(at[0]=0,Gt=1;Gt<=Ye;++Gt)st[Gt]=or=or+at[Gt-1]<<1;for(Gt=0;Gt<It;++Gt)(or=et[Gt])!=0&&(pt[Gt]=st[or]++);var zt=0;for(Gt=0;Gt<It;++Gt)if(zt=et[Gt],zt!=0){or=ue[pt[Gt]]>>8-zt;for(var $t=(1<<7-zt)-1;$t>=0;--$t)nr[or|$t<<zt]=zt&7|Gt<<3}var Gr=[];for(Ye=1;Gr.length<ye+we;)switch(or=nr[Je(ce,Se)],Se+=or&7,or>>>=3){case 16:for(ke=3+Ne(ce,Se),Se+=2,or=Gr[Gr.length-1];ke-- >0;)Gr.push(or);break;case 17:for(ke=3+Re(ce,Se),Se+=3;ke-- >0;)Gr.push(0);break;case 18:for(ke=11+Je(ce,Se),Se+=7;ke-- >0;)Gr.push(0);break;default:Gr.push(or),Ye<or&&(Ye=or);break}var Mn=Gr.slice(0,ye),Qn=Gr.slice(ye);for(Gt=ye;Gt<286;++Gt)Mn[Gt]=0;for(Gt=we;Gt<30;++Gt)Qn[Gt]=0;return Jr=ft(Mn,ut,286),dn=ft(Qn,wr,30),Se}function Pi(ce,Se){if(ce[0]==3&&!(ce[1]&3))return[ym(Se),2];for(var ye=0,we=0,be=Jz(Se||1<<18),ke=0,et=be.length>>>0,pt=0,Ye=0;(we&1)==0;){if(we=Re(ce,ye),ye+=3,we>>>1)we>>1==1?(pt=9,Ye=5):(ye=bn(ce,ye),pt=Jr,Ye=dn);else{ye&7&&(ye+=8-(ye&7));var at=ce[ye>>>3]|ce[(ye>>>3)+1]<<8;if(ye+=32,at>0)for(!Se&&et<ke+at&&(be=Ce(be,ke+at),et=be.length);at-- >0;)be[ke++]=ce[ye>>>3],ye+=8;continue}for(;;){!Se&&et<ke+32767&&(be=Ce(be,ke+32767),et=be.length);var st=mt(ce,ye,pt),It=we>>>1==1?vt[st]:ut[st];if(ye+=It&15,It>>>=4,(It>>>8&255)===0)be[ke++]=It;else{if(It==256)break;It-=257;var Gt=It<8?0:It-4>>2;Gt>5&&(Gt=0);var or=ke+ae[It];Gt>0&&(or+=mt(ce,ye,Gt),ye+=Gt),st=mt(ce,ye,Ye),It=we>>>1==1?Fe[st]:wr[st],ye+=It&15,It>>>=4;var zt=It<4?0:It-2>>1,$t=oe[It];for(zt>0&&($t+=mt(ce,ye,zt),ye+=zt),!Se&&et<or&&(be=Ce(be,or+100),et=be.length);ke<or;)be[ke]=be[ke-$t],++ke}}}return Se?[be,ye+7>>>3]:[be.slice(0,ke),ye+7>>>3]}function fn(ce,Se){var ye=ce.slice(ce.l||0),we=Pi(ye,Se);return ce.l+=we[1],we[0]}function oi(ce,Se){if(ce)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function Vn(ce,Se){var ye=ce;ts(ye,0);var we=[],be=[],ke={FileIndex:we,FullPaths:be};T(ke,{root:Se.root});for(var et=ye.length-4;(ye[et]!=80||ye[et+1]!=75||ye[et+2]!=5||ye[et+3]!=6)&&et>=0;)--et;ye.l=et+4,ye.l+=4;var pt=ye.read_shift(2);ye.l+=6;var Ye=ye.read_shift(4);for(ye.l=Ye,et=0;et<pt;++et){ye.l+=20;var at=ye.read_shift(4),st=ye.read_shift(4),It=ye.read_shift(2),Gt=ye.read_shift(2),or=ye.read_shift(2);ye.l+=8;var zt=ye.read_shift(4),$t=s(ye.slice(ye.l+It,ye.l+It+Gt));ye.l+=It+Gt+or;var Gr=ye.l;ye.l=zt+4,Ja(ye,at,st,ke,$t),ye.l=Gr}return ke}function Ja(ce,Se,ye,we,be){ce.l+=2;var ke=ce.read_shift(2),et=ce.read_shift(2),pt=o(ce);if(ke&8257)throw new Error("Unsupported ZIP encryption");for(var Ye=ce.read_shift(4),at=ce.read_shift(4),st=ce.read_shift(4),It=ce.read_shift(2),Gt=ce.read_shift(2),or="",zt=0;zt<It;++zt)or+=String.fromCharCode(ce[ce.l++]);if(Gt){var $t=s(ce.slice(ce.l,ce.l+Gt));($t[21589]||{}).mt&&(pt=$t[21589].mt),((be||{})[21589]||{}).mt&&(pt=be[21589].mt)}ce.l+=Gt;var Gr=ce.slice(ce.l,ce.l+at);switch(et){case 8:Gr=K(ce,st);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+et)}var Mn=!1;ke&8&&(Ye=ce.read_shift(4),Ye==134695760&&(Ye=ce.read_shift(4),Mn=!0),at=ce.read_shift(4),st=ce.read_shift(4)),at!=Se&&oi(Mn,"Bad compressed size: "+Se+" != "+at),st!=ye&&oi(Mn,"Bad uncompressed size: "+ye+" != "+st),wt(we,or,Gr,{unsafe:!0,mt:pt})}function Qa(ce,Se){var ye=Se||{},we=[],be=[],ke=Nt(1),et=ye.compression?8:0,pt=0,Ye=0,at=0,st=0,It=0,Gt=ce.FullPaths[0],or=Gt,zt=ce.FileIndex[0],$t=[],Gr=0;for(Ye=1;Ye<ce.FullPaths.length;++Ye)if(or=ce.FullPaths[Ye].slice(Gt.length),zt=ce.FileIndex[Ye],!(!zt.size||!zt.content||or=="Sh33tJ5")){var Mn=st,Qn=Nt(or.length);for(at=0;at<or.length;++at)Qn.write_shift(1,or.charCodeAt(at)&127);Qn=Qn.slice(0,Qn.l),$t[It]=cFe.buf(zt.content,0);var Fa=zt.content;et==8&&(Fa=Q(Fa)),ke=Nt(30),ke.write_shift(4,67324752),ke.write_shift(2,20),ke.write_shift(2,pt),ke.write_shift(2,et),zt.mt?i(ke,zt.mt):ke.write_shift(4,0),ke.write_shift(-4,$t[It]),ke.write_shift(4,Fa.length),ke.write_shift(4,zt.content.length),ke.write_shift(2,Qn.length),ke.write_shift(2,0),st+=ke.length,we.push(ke),st+=Qn.length,we.push(Qn),st+=Fa.length,we.push(Fa),ke=Nt(46),ke.write_shift(4,33639248),ke.write_shift(2,0),ke.write_shift(2,20),ke.write_shift(2,pt),ke.write_shift(2,et),ke.write_shift(4,0),ke.write_shift(-4,$t[It]),ke.write_shift(4,Fa.length),ke.write_shift(4,zt.content.length),ke.write_shift(2,Qn.length),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(4,0),ke.write_shift(4,Mn),Gr+=ke.l,be.push(ke),Gr+=Qn.length,be.push(Qn),++It}return ke=Nt(22),ke.write_shift(4,101010256),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,It),ke.write_shift(2,It),ke.write_shift(4,Gr),ke.write_shift(4,st),ke.write_shift(2,0),jo([jo(we),jo(be),ke])}var Dn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ge(ce,Se){if(ce.ctype)return ce.ctype;var ye=ce.name||"",we=ye.match(/\.([^\.]+)$/);return we&&Dn[we[1]]||Se&&(we=(ye=Se).match(/[\.\\]([^\.\\])+$/),we&&Dn[we[1]])?Dn[we[1]]:"application/octet-stream"}function Pt(ce){for(var Se=lw(ce),ye=[],we=0;we<Se.length;we+=76)ye.push(Se.slice(we,we+76));return ye.join(`\r
`)+`\r
`}function An(ce){var Se=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(at){var st=at.charCodeAt(0).toString(16).toUpperCase();return"="+(st.length==1?"0"+st:st)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],we=Se.split(`\r
`),be=0;be<we.length;++be){var ke=we[be];if(ke.length==0){ye.push("");continue}for(var et=0;et<ke.length;){var pt=76,Ye=ke.slice(et,et+pt);Ye.charAt(pt-1)=="="?pt--:Ye.charAt(pt-2)=="="?pt-=2:Ye.charAt(pt-3)=="="&&(pt-=3),Ye=ke.slice(et,et+pt),et+=pt,et<ke.length&&(Ye+="="),ye.push(Ye)}}return ye.join(`\r
`)}function ha(ce){for(var Se=[],ye=0;ye<ce.length;++ye){for(var we=ce[ye];ye<=ce.length&&we.charAt(we.length-1)=="=";)we=we.slice(0,we.length-1)+ce[++ye];Se.push(we)}for(var be=0;be<Se.length;++be)Se[be]=Se[be].replace(/[=][0-9A-Fa-f]{2}/g,function(ke){return String.fromCharCode(parseInt(ke.slice(1),16))});return lc(Se.join(`\r
`))}function co(ce,Se,ye){for(var we="",be="",ke="",et,pt=0;pt<10;++pt){var Ye=Se[pt];if(!Ye||Ye.match(/^\s*$/))break;var at=Ye.match(/^(.*?):\s*([^\s].*)$/);if(at)switch(at[1].toLowerCase()){case"content-location":we=at[2].trim();break;case"content-type":ke=at[2].trim();break;case"content-transfer-encoding":be=at[2].trim();break}}switch(++pt,be.toLowerCase()){case"base64":et=lc(yc(Se.slice(pt).join("")));break;case"quoted-printable":et=ha(Se.slice(pt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var st=wt(ce,we.slice(ye.length),et,{unsafe:!0});ke&&(st.ctype=ke)}function bo(ce,Se){if(q(ce.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=Se&&Se.root||"",we=(Sn&&Buffer.isBuffer(ce)?ce.toString("binary"):q(ce)).split(`\r
`),be=0,ke="";for(be=0;be<we.length;++be)if(ke=we[be],!!/^Content-Location:/i.test(ke)&&(ke=ke.slice(ke.indexOf("file")),ye||(ye=ke.slice(0,ke.lastIndexOf("/")+1)),ke.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),ke.slice(0,ye.length)!=ye););var et=(we[1]||"").match(/boundary="(.*?)"/);if(!et)throw new Error("MAD cannot find boundary");var pt="--"+(et[1]||""),Ye=[],at=[],st={FileIndex:Ye,FullPaths:at};T(st);var It,Gt=0;for(be=0;be<we.length;++be){var or=we[be];or!==pt&&or!==pt+"--"||(Gt++&&co(st,we.slice(It,be),ye),It=be)}return st}function Cr(ce,Se){var ye=Se||{},we=ye.boundary||"SheetJS";we="------="+we;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+we.slice(2)+'"',"","",""],ke=ce.FullPaths[0],et=ke,pt=ce.FileIndex[0],Ye=1;Ye<ce.FullPaths.length;++Ye)if(et=ce.FullPaths[Ye].slice(ke.length),pt=ce.FileIndex[Ye],!(!pt.size||!pt.content||et=="Sh33tJ5")){et=et.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Gr){return"_x"+Gr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Gr){return"_u"+Gr.charCodeAt(0).toString(16)+"_"});for(var at=pt.content,st=Sn&&Buffer.isBuffer(at)?at.toString("binary"):q(at),It=0,Gt=Math.min(1024,st.length),or=0,zt=0;zt<=Gt;++zt)(or=st.charCodeAt(zt))>=32&&or<128&&++It;var $t=It>=Gt*4/5;be.push(we),be.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+et),be.push("Content-Transfer-Encoding: "+($t?"quoted-printable":"base64")),be.push("Content-Type: "+Ge(pt,et)),be.push(""),be.push($t?An(st):Pt(st))}return be.push(we+`--\r
`),be.join(`\r
`)}function xt(ce){var Se={};return T(Se,ce),Se}function wt(ce,Se,ye,we){var be=we&&we.unsafe;be||T(ce);var ke=!be&&Rr.find(ce,Se);if(!ke){var et=ce.FullPaths[0];Se.slice(0,et.length)==et?et=Se:(et.slice(-1)!="/"&&(et+="/"),et=(et+Se).replace("//","/")),ke={name:a(Se),type:2},ce.FileIndex.push(ke),ce.FullPaths.push(et),be||Rr.utils.cfb_gc(ce)}return ke.content=ye,ke.size=ye?ye.length:0,we&&(we.CLSID&&(ke.clsid=we.CLSID),we.mt&&(ke.mt=we.mt),we.ct&&(ke.ct=we.ct)),ke}function mr(ce,Se){T(ce);var ye=Rr.find(ce,Se);if(ye){for(var we=0;we<ce.FileIndex.length;++we)if(ce.FileIndex[we]==ye)return ce.FileIndex.splice(we,1),ce.FullPaths.splice(we,1),!0}return!1}function Nr(ce,Se,ye){T(ce);var we=Rr.find(ce,Se);if(we){for(var be=0;be<ce.FileIndex.length;++be)if(ce.FileIndex[be]==we)return ce.FileIndex[be].name=a(ye),ce.FullPaths[be]=ye,!0}return!1}function Zt(ce){L(ce,!0)}return t.find=P,t.read=O,t.parse=d,t.write=Y,t.writeFile=G,t.utils={cfb_new:xt,cfb_add:wt,cfb_del:mr,cfb_mov:Nr,cfb_gc:Zt,ReadShift:z2,CheckField:Zne,prep_blob:ts,bconcat:jo,use_zlib:D,_deflateRaw:At,_inflateRaw:fn,consts:z},t}();function uFe(e){return typeof e=="string"?M3(e):Array.isArray(e)?FMe(e):e}function e_(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=M3(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Kd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([uFe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=Fm(t)),s.write(t),s.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function dFe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ti(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function oW(e,t){for(var r=[],n=Ti(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function L3(e){for(var t=[],r=Ti(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function j3(e){for(var t=[],r=Ti(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function fFe(e){for(var t=[],r=Ti(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var $S=new Date(1899,11,30,0,0,0);function wo(e,t){var r=e.getTime(),n=$S.getTime()+(e.getTimezoneOffset()-$S.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Pne=new Date,hFe=$S.getTime()+(Pne.getTimezoneOffset()-$S.getTimezoneOffset())*6e4,sW=Pne.getTimezoneOffset();function $3(e){var t=new Date;return t.setTime(e*24*60*60*1e3+hFe),t.getTimezoneOffset()!==sW&&t.setTime(t.getTime()+(t.getTimezoneOffset()-sW)*6e4),t}function pFe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var lW=new Date("2017-02-19T19:06:09.000Z"),One=isNaN(lW.getFullYear())?new Date("2/19/17"):lW,mFe=One.getFullYear()==2017;function Ya(e,t){var r=new Date(e);if(mFe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(One.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function fg(e,t){if(Sn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Kd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Kd(yne(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Kd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Kd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Xa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Xa(e[r]));return t}function Ai(e,t){for(var r="";r.length<t;)r+=e;return r}function Gu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var gFe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Z1(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&gFe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var vFe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],s=1;s<i.length;++s)o.push(a),o.push(i[s]);return o}}();function Dne(e){return e?e.content&&e.type?fg(e.content,!0):e.data?N2(e.data):e.asNodeBuffer&&Sn?N2(e.asNodeBuffer().toString("binary")):e.asBinary?N2(e.asBinary()):e._data&&e._data.getContent?N2(fg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Ine(e){if(!e)return null;if(e.data)return Xz(e.data);if(e.asNodeBuffer&&Sn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Xz(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function yFe(e){return e&&e.name.slice(-4)===".bin"?Ine(e):Dne(e)}function zc(e,t){for(var r=e.FullPaths||Ti(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function DR(e,t){var r=zc(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ro(e,t,r){if(!r)return yFe(DR(e,t));if(!t)return null;try{return ro(e,t)}catch{return null}}function cc(e,t,r){if(!r)return Dne(DR(e,t));if(!t)return null;try{return cc(e,t)}catch{return null}}function xFe(e,t,r){return Ine(DR(e,t))}function cW(e){for(var t=e.FullPaths||Ti(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function wn(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Sn?n=Rh(r):n=LMe(r),Rr.utils.cfb_add(e,t,n)}Rr.utils.cfb_add(e,t,r)}else e.file(t,r)}function IR(){return Rr.utils.cfb_new()}function Rne(e,t){switch(t.type){case"base64":return Rr.read(e,{type:"base64"});case"binary":return Rr.read(e,{type:"binary"});case"buffer":case"array":return Rr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function C2(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Xi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,wFe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,uW=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,_Fe=/<[^>]*>/g,Bs=Xi.match(uW)?uW:_Fe,bFe=/<\w*:/,SFe=/<(\/?)\w+:/;function tn(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(wFe),s=0,l="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),s=0;s!=d.length&&d.charCodeAt(s)!==58;++s);if(s===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var m=(s===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(s+1);if(n[m]&&d.slice(s-3,s)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function vf(e){return e.replace(SFe,"<$1")}var Mne={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},RR=L3(Mne),zn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(s,l){return Mne[s]||String.fromCharCode(parseInt(l,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,l){return String.fromCharCode(parseInt(l,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}}(),MR=/[&<>'"]/g,AFe=/[\u0000-\u0008\u000b-\u001f]/g;function ya(e){var t=e+"";return t.replace(MR,function(r){return RR[r]}).replace(AFe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function dW(e){return ya(e).replace(/ /g,"_x0020_")}var Fne=/[\u0000-\u001f]/g;function FR(e){var t=e+"";return t.replace(MR,function(r){return RR[r]}).replace(/\n/g,"<br/>").replace(Fne,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function kFe(e){var t=e+"";return t.replace(MR,function(r){return RR[r]}).replace(Fne,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var fW=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function NFe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ha(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function $T(e){for(var t="",r=0,n=0,a=0,i=0,o=0,s=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),s=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function hW(e){var t=ym(2*e.length),r,n,a=1,i=0,o=0,s;for(n=0;n<e.length;n+=a)a=1,(s=e.charCodeAt(n))<128?r=s:s<224?(r=(s&31)*64+(e.charCodeAt(n+1)&63),a=2):s<240?(r=(s&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(s&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function pW(e){return Rh(e,"binary").toString("utf8")}var bb="foo bar bazâð£",_a=Sn&&(pW(bb)==$T(bb)&&pW||hW(bb)==$T(bb)&&hW)||$T,Kd=Sn?function(e){return Rh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},uw=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Lne=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),EFe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),CFe=/<\/?(?:vt:)?variant>/g,TFe=/<(?:vt:)([^>]*)>([\s\S]*)</;function mW(e,t){var r=tn(e),n=e.match(EFe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(CFe,"").match(TFe);o&&a.push({v:_a(o[2]),t:o[1]})}),a}var jne=/(^\s|\s$|\n)/;function ns(e,t){return"<"+e+(t.match(jne)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function dw(e){return Ti(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function er(e,t,r){return"<"+e+(r!=null?dw(r):"")+(t!=null?(t.match(jne)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function t8(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function PFe(e,t){switch(typeof e){case"string":var r=er("vt:lpwstr",ya(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return er((e|0)==e?"vt:i4":"vt:r8",ya(String(e)));case"boolean":return er("vt:bool",e?"true":"false")}if(e instanceof Date)return er("vt:filetime",t8(e));throw new Error("Unable to serialize "+e)}function LR(e){if(Sn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return _a(Fm(TR(e)));throw new Error("Bad input format: expected Buffer or string")}var fw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,vo={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Pg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ac={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function OFe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function DFe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[r+s]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var gW=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},vW=Sn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Rh(t)})):gW(e)}:gW,yW=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(lh(e,a)));return n.join("").replace(ll,"")},jR=Sn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ll,""):yW(e,t,r)}:yW,xW=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},$ne=Sn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):xW(e,t,r)}:xW,wW=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Fv(e,a)));return n.join("")},t_=Sn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):wW(t,r,n)}:wW,Bne=function(e,t){var r=ic(e,t);return r>0?t_(e,t+4,t+4+r-1):""},Une=Bne,qne=function(e,t){var r=ic(e,t);return r>0?t_(e,t+4,t+4+r-1):""},zne=qne,Wne=function(e,t){var r=2*ic(e,t);return r>0?t_(e,t+4,t+4+r-1):""},Vne=Wne,Hne=function(t,r){var n=ic(t,r);return n>0?jR(t,r+4,r+4+n):""},Gne=Hne,Kne=function(e,t){var r=ic(e,t);return r>0?t_(e,t+4,t+4+r):""},Yne=Kne,Xne=function(e,t){return OFe(e,t)},BS=Xne,$R=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Sn&&(Une=function(t,r){if(!Buffer.isBuffer(t))return Bne(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},zne=function(t,r){if(!Buffer.isBuffer(t))return qne(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Vne=function(t,r){if(!Buffer.isBuffer(t))return Wne(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Gne=function(t,r){if(!Buffer.isBuffer(t))return Hne(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Yne=function(t,r){if(!Buffer.isBuffer(t))return Kne(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},BS=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Xne(t,r)},$R=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Fv=function(e,t){return e[t]},lh=function(e,t){return e[t+1]*256+e[t]},IFe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ic=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},E0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},RFe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function z2(e,t){var r="",n,a,i=[],o,s,l,u;switch(t){case"dbcs":if(u=this.l,Sn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(lh(this,u)),u+=2;e*=2;break;case"utf8":r=t_(this,this.l,this.l+e);break;case"utf16le":e*=2,r=jR(this,this.l,this.l+e);break;case"wstr":return z2.call(this,e,"dbcs");case"lpstr-ansi":r=Une(this,this.l),e=4+ic(this,this.l);break;case"lpstr-cp":r=zne(this,this.l),e=4+ic(this,this.l);break;case"lpwstr":r=Vne(this,this.l),e=4+2*ic(this,this.l);break;case"lpp4":e=4+ic(this,this.l),r=Gne(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ic(this,this.l),r=Yne(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Fv(this,this.l+e++))!==0;)i.push(_b(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=lh(this,this.l+e))!==0;)i.push(_b(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Fv(this,u),this.l=u+1,s=z2.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(_b(lh(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Fv(this,u),this.l=u+1,s=z2.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(_b(Fv(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Fv(this,this.l),this.l++,n;case 2:return n=(t==="i"?IFe:lh)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?E0:RFe)(this,this.l),this.l+=4,n):(a=ic(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=BS(this,this.l):a=BS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=$ne(this,this.l,e);break}}return this.l+=e,r}var MFe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},FFe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},LFe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function jFe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)LFe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,MFe(this,t,this.l);break;case 8:if(n=8,r==="f"){DFe(this,t,this.l);break}case 16:break;case-4:n=4,FFe(this,t,this.l);break}return this.l+=n,this}function Zne(e,t){var r=$ne(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ts(e,t){e.l=t,e.read_shift=z2,e.chk=Zne,e.write_shift=jFe}function $s(e,t){e.l+=t}function Nt(e){var t=ym(e);return ts(t,0),t}function Mh(e,t,r){if(e){var n,a,i;ts(e,e.l||0);for(var o=e.length,s=0,l=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var u=yw[s]||yw[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=l,t(d,u,s))return}}}function Ml(){var e=[],t=Sn?256:2048,r=function(u){var d=Nt(u);return ts(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),jo(e)},s=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:s,end:o,_bufs:e}}function Dt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=yw[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var s=0;s!=4;++s)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&$R(r)&&e.push(r)}}function W2(e,t,r){var n=Xa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function _W(e,t,r){var n=Xa(e);return n.s=W2(n.s,t.s,r),n.e=W2(n.e,t.s,r),n}function V2(e,t){if(e.cRel&&e.c<0)for(e=Xa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Xa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Xr(e);return!e.cRel&&e.cRel!=null&&(r=UFe(r)),!e.rRel&&e.rRel!=null&&(r=$Fe(r)),r}function BT(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+hi(e.s.c)+":"+(e.e.cRel?"":"$")+hi(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ki(e.s.r)+":"+(e.e.rRel?"":"$")+Ki(e.e.r):V2(e.s,t.biff)+":"+V2(e.e,t.biff)}function BR(e){return parseInt(BFe(e),10)-1}function Ki(e){return""+(e+1)}function $Fe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function BFe(e){return e.replace(/\$(\d+)$/,"$1")}function UR(e){for(var t=qFe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function hi(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function UFe(e){return e.replace(/^([A-Z])/,"$$$1")}function qFe(e){return e.replace(/^\$([A-Z])/,"$1")}function zFe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function pi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Xr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Fl(e){var t=e.indexOf(":");return t==-1?{s:pi(e),e:pi(e)}:{s:pi(e.slice(0,t)),e:pi(e.slice(t+1))}}function mn(e,t){return typeof t>"u"||typeof t=="number"?mn(e.s,e.e):(typeof e!="string"&&(e=Xr(e)),typeof t!="string"&&(t=Xr(t)),e==t?e:e+":"+t)}function Wn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function bW(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=tu(e.z,r?wo(t):t)}catch{}try{return e.w=tu((e.XF||{}).numFmtId||(r?14:0),r?wo(t):t)}catch{return""+t}}function Sh(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Fh[e.v]||e.v:t==null?bW(e,e.v):bW(e,t))}function Lm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Jne(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,s=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?pi(n.origin):n.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Wn(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},x=o+f,g=s+h;if(u.s.r>x&&(u.s.r=x),u.s.c>g&&(u.s.c=g),u.e.r<x&&(u.e.r=x),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Vr[14],n.cellDates?(m.t="d",m.w=tu(m.z,wo(m.v))):(m.t="n",m.v=wo(m.v),m.w=tu(m.z,m.v))):m.t="s";if(a)i[x]||(i[x]=[]),i[x][g]&&i[x][g].z&&(m.z=i[x][g].z),i[x][g]=m;else{var y=Xr({c:g,r:x});i[y]&&i[y].z&&(m.z=i[y].z),i[y]=m}}}return u.s.c<1e7&&(i["!ref"]=mn(u)),i}function _y(e,t){return Jne(null,e,t)}function WFe(e){return e.read_shift(4,"i")}function Ku(e,t){return t||(t=Nt(4)),t.write_shift(4,e),t}function Rs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function $o(e,t){var r=!1;return t==null&&(r=!0,t=Nt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function VFe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function HFe(e,t){return t||(t=Nt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function qR(e,t){var r=e.l,n=e.read_shift(1),a=Rs(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(VFe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function GFe(e,t){var r=!1;return t==null&&(r=!0,t=Nt(15+4*e.t.length)),t.write_shift(1,0),$o(e.t,t),r?t.slice(0,t.l):t}var KFe=qR;function YFe(e,t){var r=!1;return t==null&&(r=!0,t=Nt(23+4*e.t.length)),t.write_shift(1,1),$o(e.t,t),t.write_shift(4,1),HFe({},t),r?t.slice(0,t.l):t}function iu(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Og(e,t){return t==null&&(t=Nt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Dg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Ig(e,t){return t==null&&(t=Nt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var XFe=Rs,Qne=$o;function zR(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function US(e,t){var r=!1;return t==null&&(r=!0,t=Nt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var ZFe=Rs,r8=zR,WR=US;function VR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?BS([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):E0(t,0)>>2;return r?a/100:a}function eae(e,t){t==null&&(t=Nt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function tae(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function JFe(e,t){return t||(t=Nt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Rg=tae,by=JFe;function Os(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function hg(e,t){return(t||Nt(8)).write_shift(8,e,"f")}function QFe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=z0[a];u&&(t.rgb=pw(u));break;case 2:t.rgb=pw([o,s,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function qS(e,t){if(t||(t=Nt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function eLe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function tLe(e,t){t||(t=Nt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function rae(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function rLe(e){return rae(e,1)}function nLe(e){return rae(e,2)}var HR=2,El=3,Sb=11,SW=12,zS=19,Ab=64,aLe=65,iLe=71,oLe=4108,sLe=4126,Ro=80,nae=81,lLe=[Ro,nae],n8={1:{n:"CodePage",t:HR},2:{n:"Category",t:Ro},3:{n:"PresentationFormat",t:Ro},4:{n:"ByteCount",t:El},5:{n:"LineCount",t:El},6:{n:"ParagraphCount",t:El},7:{n:"SlideCount",t:El},8:{n:"NoteCount",t:El},9:{n:"HiddenCount",t:El},10:{n:"MultimediaClipCount",t:El},11:{n:"ScaleCrop",t:Sb},12:{n:"HeadingPairs",t:oLe},13:{n:"TitlesOfParts",t:sLe},14:{n:"Manager",t:Ro},15:{n:"Company",t:Ro},16:{n:"LinksUpToDate",t:Sb},17:{n:"CharacterCount",t:El},19:{n:"SharedDoc",t:Sb},22:{n:"HyperlinksChanged",t:Sb},23:{n:"AppVersion",t:El,p:"version"},24:{n:"DigSig",t:aLe},26:{n:"ContentType",t:Ro},27:{n:"ContentStatus",t:Ro},28:{n:"Language",t:Ro},29:{n:"Version",t:Ro},255:{},2147483648:{n:"Locale",t:zS},2147483651:{n:"Behavior",t:zS},1919054434:{}},a8={1:{n:"CodePage",t:HR},2:{n:"Title",t:Ro},3:{n:"Subject",t:Ro},4:{n:"Author",t:Ro},5:{n:"Keywords",t:Ro},6:{n:"Comments",t:Ro},7:{n:"Template",t:Ro},8:{n:"LastAuthor",t:Ro},9:{n:"RevNumber",t:Ro},10:{n:"EditTime",t:Ab},11:{n:"LastPrinted",t:Ab},12:{n:"CreatedDate",t:Ab},13:{n:"ModifiedDate",t:Ab},14:{n:"PageCount",t:El},15:{n:"WordCount",t:El},16:{n:"CharCount",t:El},17:{n:"Thumbnail",t:iLe},18:{n:"Application",t:Ro},19:{n:"DocSecurity",t:El},255:{},2147483648:{n:"Locale",t:zS},2147483651:{n:"Behavior",t:zS},1919054434:{}},AW={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},cLe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function uLe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var dLe=uLe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),z0=Xa(dLe),Fh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},aae={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},i8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},kb={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function GR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function fLe(e){var t=GR();if(!e||!e.match)return t;var r={};if((e.match(Bs)||[]).forEach(function(n){var a=tn(n);switch(a[0].replace(bFe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[i8[a.ContentType]]!==void 0&&t[i8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==vo.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function iae(e,t){var r=fFe(i8),n=[],a;n[n.length]=Xi,n[n.length]=er("Types",null,{xmlns:vo.CT,"xmlns:xsd":vo.xsd,"xmlns:xsi":vo.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return er("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=er("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:kb[l][t.bookType]||kb[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=er("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:kb[l][t.bookType]||kb[l].xlsx})})},s=function(l){(e[l]||[]).forEach(function(u){n[n.length]=er("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return i("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Nn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function hw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function H2(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Bs)||[]).forEach(function(a){var i=tn(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var s=i.TargetMode==="External"?i.Target:C2(i.Target,t);r[s]=o,n[i.Id]=o}}),r["!id"]=n,r}function i1(e){var t=[Xi,er("Relationships",null,{xmlns:vo.RELS})];return Ti(e["!id"]).forEach(function(r){t[t.length]=er("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function va(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Nn.HLINK,Nn.XPATH,Nn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var hLe="application/vnd.oasis.opendocument.spreadsheet";function pLe(e,t){for(var r=LR(e),n,a;n=fw.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=tn(n[0],!1),a.path=="/"&&a.type!==hLe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function mLe(e){var t=[Xi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function kW(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function gLe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function vLe(e){var t=[Xi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(kW(e[r][0],e[r][1])),t.push(gLe("",e[r][0]));return t.push(kW("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function oae(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+MS.version+"</meta:generator></office:meta></office:document-meta>"}var Jc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],yLe=function(){for(var e=new Array(Jc.length),t=0;t<Jc.length;++t){var r=Jc[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function sae(e){var t={};e=_a(e);for(var r=0;r<Jc.length;++r){var n=Jc[r],a=e.match(yLe[r]);a!=null&&a.length>0&&(t[n[1]]=zn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ya(t[n[1]]))}return t}function UT(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=ya(t),n[n.length]=r?er(e,t,r):ns(e,t))}function lae(e,t){var r=t||{},n=[Xi,er("cp:coreProperties",null,{"xmlns:cp":vo.CORE_PROPS,"xmlns:dc":vo.dc,"xmlns:dcterms":vo.dcterms,"xmlns:dcmitype":vo.dcmitype,"xmlns:xsi":vo.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&UT("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:t8(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&UT("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:t8(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Jc.length;++i){var o=Jc[i],s=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&UT(o[0],s,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var W0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],cae=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function uae(e,t,r,n){var a=[];if(typeof e=="string")a=mW(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?mW(t,n).map(function(d){return d.v}):t,s=0,l=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=o.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=o.slice(s,s+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=o.slice(s,s+l);break}s+=l}}function xLe(e,t,r){var n={};return t||(t={}),e=_a(e),W0.forEach(function(a){var i=(e.match(uw(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=zn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&uae(n.HeadingPairs,n.TitlesOfParts,t,r),t}function dae(e){var t=[],r=er;return e||(e={}),e.Application="SheetJS",t[t.length]=Xi,t[t.length]=er("Properties",null,{xmlns:vo.EXT_PROPS,"xmlns:vt":vo.vt}),W0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=ya(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+ya(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var wLe=/<[^>]+>[^<]*/g;function _Le(e,t){var r={},n="",a=e.match(wLe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],s=tn(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":n=zn(s.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=zn(d);break;case"bool":r[n]=Ha(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Ya(d);break;case"cy":case"error":r[n]=zn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function fae(e){var t=[Xi,er("Properties",null,{xmlns:vo.CUST_PROPS,"xmlns:vt":vo.vt})];if(!e)return t.join("");var r=1;return Ti(e).forEach(function(a){++r,t[t.length]=er("property",PFe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ya(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var o8={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},qT;function bLe(e,t,r){qT||(qT=L3(o8)),t=qT[t]||t,e[t]=r}function SLe(e,t){var r=[];return Ti(o8).map(function(n){for(var a=0;a<Jc.length;++a)if(Jc[a][1]==n)return Jc[a];for(a=0;a<W0.length;++a)if(W0[a][1]==n)return W0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ns(o8[n[1]]||n[1],a))}}),er("DocumentProperties",r.join(""),{xmlns:ac.o})}function ALe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ti(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Jc.length;++o)if(i==Jc[o][1])return;for(o=0;o<W0.length;++o)if(i==W0[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var s=e[i],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s=String(s),a.push(er(dW(i),s,{"dt:dt":l}))}}),t&&Ti(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),a.push(er(dW(i),o,{"dt:dt":s}))}}),"<"+n+' xmlns="'+ac.o+'">'+a.join("")+"</"+n+">"}function KR(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function kLe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=Nt(8);return o.write_shift(4,n),o.write_shift(4,a),o}function hae(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function pae(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function mae(e,t,r){return t===31?pae(e):hae(e,t,r)}function s8(e,t,r){return mae(e,t,r===!1?0:4)}function NLe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return mae(e,t,0)}function ELe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ll,""),e.l-a&2&&(e.l+=2)}return r}function CLe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ll,"");return r}function TLe(e){var t=e.l,r=WS(e,nae);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=WS(e,El);return[r,n]}function PLe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(TLe(e));return r}function NW(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(ll,"").replace(E2,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function gae(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function OLe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function WS(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==SW&&n!==t&&lLe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===SW?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return hae(e,n,4).replace(ll,"");case 31:return pae(e);case 64:return KR(e);case 65:return gae(e);case 71:return OLe(e);case 80:return s8(e,n,!i.raw).replace(ll,"");case 81:return NLe(e,n).replace(ll,"");case 4108:return PLe(e);case 4126:case 4127:return n==4127?ELe(e):CLe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function EW(e,t){var r=Nt(4),n=Nt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Nt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=kLe(t);break;case 31:case 80:for(n=Nt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return jo([r,n])}function CW(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,s=0,l=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(b,S){return b[1]-S[1]});var h={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var m=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],m=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],m=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(m=!1,e.l=i[o][1]),m)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var x=t[i[o][0]];if(h[x.n]=WS(e,x.t,{raw:!0}),x.p==="version"&&(h[x.n]=String(h[x.n]>>16)+"."+("0000"+String(h[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(h[x.n]){case 0:h[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:qu(s=h[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[x.n])}}else if(i[o][0]===1){if(s=h.CodePage=WS(e,HR),qu(s),l!==-1){var g=e.l;e.l=i[l][1],u=NW(e,s),e.l=g}}else if(i[o][0]===0){if(s===0){l=o,e.l=i[o+1][1];continue}u=NW(e,s)}else{var y=u[i[o][0]],_;switch(e[e.l]){case 65:e.l+=4,_=gae(e);break;case 30:e.l+=4,_=s8(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=s8(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=Li(e,4);break;case 64:e.l+=4,_=Ya(KR(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[y]=_}}return e.l=r+n,h}var vae=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function DLe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function TW(e,t,r){var n=Nt(8),a=[],i=[],o=8,s=0,l=Nt(8),u=Nt(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),a.push(u),o+=8+l.length,!t){u=Nt(8),u.write_shift(4,0),a.unshift(u);var d=[Nt(4)];for(d[0].write_shift(4,e.length),s=0;s<e.length;++s){var f=e[s][0];for(l=Nt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,s+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=jo(d),i.unshift(l),o+=8+l.length}for(s=0;s<e.length;++s)if(!(t&&!t[e[s][0]])&&!(vae.indexOf(e[s][0])>-1||cae.indexOf(e[s][0])>-1)&&e[s][1]!=null){var h=e[s][1],m=0;if(t){m=+t[e[s][0]];var x=r[m];if(x.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=EW(x.t,h)}else{var y=DLe(h);y==-1&&(y=31,h=String(h)),l=EW(y,h)}i.push(l),u=Nt(8),u.write_shift(4,t?m:2+s),a.push(u),o+=8+l.length}var _=8*(i.length+1);for(s=0;s<i.length;++s)a[s].write_shift(4,_),_+=i[s].length;return n.write_shift(4,o),n.write_shift(4,i.length),jo([n].concat(a).concat(i))}function PW(e,t,r){var n=e.content;if(!n)return{};ts(n,0);var a,i,o,s,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Rr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),s=n.read_shift(4),a===1&&s!==n.l)throw new Error("Length mismatch: "+s+" !== "+n.l);a===2&&(o=n.read_shift(16),l=n.read_shift(4));var f=CW(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var x;try{x=CW(n,null)}catch{}for(m in x)h[m]=x[m];return h.FMTID=[i,o],h}function OW(e,t,r,n,a,i){var o=Nt(a?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Rr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var l=TW(e,r,n);if(s.push(l),a){var u=TW(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),s.push(u)}return jo(s)}function Op(e,t){return e.read_shift(t),null}function ILe(e,t){t||(t=Nt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function RLe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Li(e,t){return e.read_shift(t)===1}function rl(e,t){return t||(t=Nt(2)),t.write_shift(2,+!!e),t}function no(e){return e.read_shift(2,"u")}function Wc(e,t){return t||(t=Nt(2)),t.write_shift(2,e),t}function yae(e,t){return RLe(e,t,no)}function MLe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function xae(e,t,r){return r||(r=Nt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function r_(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function FLe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),o=0,s,l={};a&&(o=e.read_shift(2)),n&&(s=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=s),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function LLe(e){var t=e.t||"",r=Nt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Nt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return jo(a)}function pg(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function n_(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):pg(e,n,r)}function Mg(e,t,r){if(r.biff>5)return n_(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function wae(e,t,r){return r||(r=Nt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function jLe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function $Le(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ll,"");return n&&(e.l+=24),a}function BLe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(ll,"");return r+o}function ULe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return $Le(e);case"0303000000000000c000000000000046":return BLe(e);default:throw new Error("Unsupported Moniker "+r)}}function Nb(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ll,""):"";return r}function DW(e,t){t||(t=Nt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function qLe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,s,l,u="",d,f;a&16&&(i=Nb(e,r-e.l)),a&128&&(o=Nb(e,r-e.l)),(a&257)===257&&(s=Nb(e,r-e.l)),(a&257)===1&&(l=ULe(e,r-e.l)),a&8&&(u=Nb(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=KR(e)),e.l=r;var h=o||s||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),i&&(m.Tooltip=i),m}function zLe(e){var t=Nt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),DW(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var s=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)t.write_shift(2,s.charCodeAt(r));t.write_shift(2,0),i&8&&DW(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function _ae(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function bae(e,t){var r=_ae(e);return r[3]=0,r}function yf(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function mg(e,t,r,n){return n||(n=Nt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function WLe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function VLe(e,t,r){return t===0?"":Mg(e,t,r)}function HLe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function Sae(e){var t=e.read_shift(2),r=VR(e);return[t,r]}function GLe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=r_(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function B3(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Aae(e,t){return t||(t=Nt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function kae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var KLe=kae;function Nae(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function YLe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function XLe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function vs(e){e.l+=2,e.l+=e.read_shift(2)}var ZLe={0:vs,4:vs,5:vs,6:vs,7:XLe,8:vs,9:vs,10:vs,11:vs,12:vs,13:YLe,14:vs,15:vs,16:vs,17:vs,18:vs,19:vs,20:vs,21:Nae};function JLe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(ZLe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Eb(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function YR(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Nt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function QLe(e,t){return t===0||e.read_shift(2),1200}function e9e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Mg(e,0,r);return e.read_shift(t+n-e.l),a}function t9e(e,t){var r=!t||t.biff==8,n=Nt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function r9e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function n9e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=r_(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function a9e(e,t){var r=!t||t.biff>=8?2:1,n=Nt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function i9e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(FLe(e));return i.Count=n,i.Unique=a,i}function o9e(e,t){var r=Nt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=LLe(e[a]);var i=jo([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function s9e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function l9e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function c9e(e){var t=WLe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function u9e(e){return e.read_shift(2),e.read_shift(4)}function IW(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function d9e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:s,Selected:l,TabRatio:u}}function f9e(){var e=Nt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function h9e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function p9e(e){var t=Nt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function m9e(){}function g9e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=r_(e,0,r),n}function v9e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Nt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function y9e(e){var t=yf(e);return t.isst=e.read_shift(4),t}function x9e(e,t,r,n){var a=Nt(10);return mg(e,t,n,a),a.write_shift(4,r),a}function w9e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=yf(e);r.biff==2&&e.l++;var i=n_(e,n-e.l,r);return a.val=i,a}function _9e(e,t,r,n,a){var i=!a||a.biff==8,o=Nt(8+ +i+(1+i)*r.length);return mg(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function b9e(e,t,r){var n=e.read_shift(2),a=Mg(e,0,r);return[n,a]}function S9e(e,t,r,n){var a=r&&r.biff==5;n||(n=Nt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var A9e=Mg;function RW(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),s=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:s},e:{r:o,c:l}}}function k9e(e,t){var r=t.biff==8||!t.biff?4:2,n=Nt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function N9e(e){var t=e.read_shift(2),r=e.read_shift(2),n=Sae(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function E9e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Sae(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function C9e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function T9e(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(2);return a.patternType=cLe[s>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=s&127,a.icvBottom=s>>7&127,a.icvDiag=s>>14&127,a.dgDiag=s>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function P9e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=T9e(e,t,n.fStyle,r),n}function MW(e,t,r,n){var a=r&&r.biff==5;n||(n=Nt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function O9e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function D9e(e){var t=Nt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function FW(e,t,r){var n=yf(e);(r.biff==2||t==9)&&++e.l;var a=MLe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function I9e(e,t,r,n,a,i){var o=Nt(8);return mg(e,t,n,o),xae(r,i,o),o}function R9e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=yf(e),a=Os(e);return n.val=a,n}function M9e(e,t,r,n){var a=Nt(14);return mg(e,t,n,a),hg(r,a),a}var LW=VLe;function F9e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=pg(e,i),s=[];n>e.l;)s.push(n_(e));return[i,a,o,s]}function jW(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=GLe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var L9e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function $W(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=pg(e,o,r);a&32&&(u=L9e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||s===0||!(d>0)?[]:JUe(e,d,r,s);return{chKey:i,Name:u,itab:l,rgce:f}}function Eae(e,t,r){if(r.biff<8)return j9e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(HLe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function j9e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=r_(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function $9e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=pg(e,n,r),o=pg(e,a,r);return[i,o]}function B9e(e,t,r){var n=kae(e);e.l++;var a=e.read_shift(1);return t-=8,[QUe(e,t,r),a,n]}function BW(e,t,r){var n=KLe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,XUe(e,t,r)]}function U9e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function q9e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=Mg(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},s,o,i]}}function z9e(e,t,r){return q9e(e,t,r)}function W9e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(B3(e));return r}function V9e(e){var t=Nt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Aae(e[r],t);return t}function H9e(e,t,r){if(r&&r.biff<8)return K9e(e,t,r);var n=Nae(e),a=JLe(e,t-22,n[1]);return{cmo:n,ft:a}}var G9e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function K9e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((G9e[n]||$s)(e,t,r)),{cmo:[a,n,i],ft:o}}function Y9e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=jLe(e,6,r);var s=e.read_shift(2);e.read_shift(2),no(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=pg(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?s:2*s))break}if(a.length!==s&&a.length!==s*2)throw new Error("cchText: "+s+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function X9e(e,t){var r=B3(e);e.l+=16;var n=qLe(e,t-24);return[r,n]}function Z9e(e){var t=Nt(24),r=pi(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return jo([t,zLe(e[1])])}function J9e(e,t){e.read_shift(2);var r=B3(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ll,""),[r,n]}function Q9e(e){var t=e[1].Tooltip,r=Nt(10+2*(t.length+1));r.write_shift(2,2048);var n=pi(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function eje(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=AW[r]||r,r=e.read_shift(2),t[1]=AW[r]||r,t}function tje(e){return e||(e=Nt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function rje(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(bae(e));return r}function nje(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(bae(e));return r}function aje(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Cae(e,t,r){if(!r.cellStyles)return $s(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:s,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function ije(e,t){var r=Nt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function oje(e,t){var r={};return t<32||(e.l+=16,r.header=Os(e),r.footer=Os(e),e.l+=2),r}function sje(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function lje(e){for(var t=Nt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var cje=yf,uje=yae,dje=n_;function fje(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function hje(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=yf(e);++e.l;var a=Mg(e,t-7,r);return n.t="str",n.val=a,n}function pje(e){var t=yf(e);++e.l;var r=Os(e);return t.t="n",t.val=r,t}function mje(e,t,r){var n=Nt(15);return s_(n,e,t),n.write_shift(8,r,"f"),n}function gje(e){var t=yf(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function vje(e,t,r){var n=Nt(9);return s_(n,e,t),n.write_shift(2,r),n}function yje(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function xje(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function wje(e,t,r){var n=e.l+t,a=yf(e),i=e.read_shift(2),o=pg(e,i,r);return e.l=n,a.t="str",a.val=o,a}var _je=[2,3,48,49,131,139,140,245],l8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=L3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(s,l){var u=[],d=ym(1);switch(l.type){case"base64":d=lc(yc(s));break;case"binary":d=lc(s);break;case"buffer":case"array":d=s;break}ts(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=d.read_shift(2));var _=d.read_shift(2),b=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var S=[],C={},E=Math.min(d.length,f==2?521:y-10-(m?264:0)),O=x?32:11;d.l<E&&d[d.l]!=13;)switch(C={},C.name=e8.utils.decode(b,d.slice(d.l,d.l+O)).replace(/[\u0000\r\n].*$/g,""),d.l+=O,C.type=String.fromCharCode(d.read_shift(1)),f!=2&&!x&&(C.offset=d.read_shift(4)),C.len=d.read_shift(1),f==2&&(C.offset=d.read_shift(2)),C.dec=d.read_shift(1),C.name.length&&S.push(C),f!=2&&(d.l+=x?13:14),C.type){case"B":(!m||C.len!=8)&&l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var T=0,I=0;for(u[0]=[],I=0;I!=S.length;++I)u[0][I]=S[I].name;for(;g-- >0;){if(d[d.l]===42){d.l+=_;continue}for(++d.l,u[++T]=[],I=0,I=0;I!=S.length;++I){var L=d.slice(d.l,d.l+S[I].len);d.l+=S[I].len,ts(L,0);var U=e8.utils.decode(b,L);switch(S[I].type){case"C":U.trim().length&&(u[T][I]=U.replace(/\s+$/,""));break;case"D":U.length===8?u[T][I]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):u[T][I]=U;break;case"F":u[T][I]=parseFloat(U.trim());break;case"+":case"I":u[T][I]=x?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":u[T][I]=!0;break;case"N":case"F":u[T][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[T][I]="##MEMO##"+(x?parseInt(U.trim(),10):L.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(u[T][I]=+U||0);break;case"@":u[T][I]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":u[T][I]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":u[T][I]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[T][I]=-L.read_shift(-8,"f");break;case"B":if(m&&S[I].len==8){u[T][I]=L.read_shift(8,"f");break}case"G":case"P":L.l+=S[I].len;break;case"0":if(S[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[I].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=S,u}function n(s,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=_y(r(s,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(s,l){try{return Lm(n(s,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var u=l||{};if(+u.codepage>=0&&qu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Ml(),f=GS(s,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),x=s["!cols"]||[],g=0,y=0,_=0,b=1;for(g=0;g<h.length;++g){if(((x[g]||{}).DBF||{}).name){h[g]=x[g].DBF.name,++_;continue}if(h[g]!=null){if(++_,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(y=0;y<1024;++y)if(h.indexOf(h[g]+"_"+y)==-1){h[g]+="_"+y;break}}}}var S=Wn(s["!ref"]),C=[],E=[],O=[];for(g=0;g<=S.e.c-S.s.c;++g){var T="",I="",L=0,U=[];for(y=0;y<m.length;++y)m[y][g]!=null&&U.push(m[y][g]);if(U.length==0||h[g]==null){C[g]="?";continue}for(y=0;y<U.length;++y){switch(typeof U[y]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=U[y]instanceof Date?"D":"C";break;default:I="C"}L=Math.max(L,String(U[y]).length),T=T&&T!=I?"C":I}L>250&&(L=250),I=((x[g]||{}).DBF||{}).type,I=="C"&&x[g].DBF.len>L&&(L=x[g].DBF.len),T=="B"&&I=="N"&&(T="N",O[g]=x[g].DBF.dec,L=x[g].DBF.len),E[g]=T=="C"||I=="N"?L:i[T]||0,b+=E[g],C[g]=T}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,m.length),P.write_shift(2,296+32*_),P.write_shift(2,b),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+t[vne]||3)<<8),g=0,y=0;g<h.length;++g)if(h[g]!=null){var M=d.next(32),j=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,j,"sbcs"),M.write_shift(1,C[g]=="?"?"C":C[g],"sbcs"),M.write_shift(4,y),M.write_shift(1,E[g]||i[C[g]]||0),M.write_shift(1,O[g]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),y+=E[g]||i[C[g]]||0}var V=d.next(264);for(V.write_shift(4,13),g=0;g<65;++g)V.write_shift(4,0);for(g=0;g<m.length;++g){var X=d.next(b);for(X.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(C[y]){case"L":X.write_shift(1,m[g][y]==null?63:m[g][y]?84:70);break;case"B":X.write_shift(8,m[g][y]||0,"f");break;case"N":var te="0";for(typeof m[g][y]=="number"&&(te=m[g][y].toFixed(O[y]||0)),_=0;_<E[y]-te.length;++_)X.write_shift(1,32);X.write_shift(1,te,"sbcs");break;case"D":m[g][y]?(X.write_shift(4,("0000"+m[g][y].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(m[g][y].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+m[g][y].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var z=String(m[g][y]!=null?m[g][y]:"").slice(0,E[y]);for(X.write_shift(1,z,"sbcs"),_=0;_<E[y]-z.length;++_)X.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),Tae=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ti(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var x=e[m];return typeof x=="number"?Zz(x):x},n=function(h,m,x){var g=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return g==59?h:Zz(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(yc(h),m);case"binary":return i(h,m);case"buffer":return i(Sn&&Buffer.isBuffer(h)?h.toString("binary"):Fm(h),m);case"array":return i(fg(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var x=h.split(/[\n\r]+/),g=-1,y=-1,_=0,b=0,S=[],C=[],E=null,O={},T=[],I=[],L=[],U=0,P;for(+m.codepage>=0&&qu(+m.codepage);_!==x.length;++_){U=0;var M=x[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),j=M.replace(/;;/g,"\0").split(";").map(function(ie){return ie.replace(/\u0000/g,";")}),V=j[0],X;if(M.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&C.push(M.slice(3).replace(/;;/g,";"));break;case"C":var te=!1,z=!1,G=!1,q=!1,Y=-1,Z=-1;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"A":break;case"X":y=parseInt(j[b].slice(1))-1,z=!0;break;case"Y":for(g=parseInt(j[b].slice(1))-1,z||(y=0),P=S.length;P<=g;++P)S[P]=[];break;case"K":X=j[b].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Gu(X))?isNaN(Z1(X).getDate())||(X=Ya(X)):(X=Gu(X),E!==null&&xy(E)&&(X=$3(X))),te=!0;break;case"E":q=!0;var D=o1(j[b].slice(1),{r:g,c:y});S[g][y]=[S[g][y],D];break;case"S":G=!0,S[g][y]=[S[g][y],"S5S"];break;case"G":break;case"R":Y=parseInt(j[b].slice(1))-1;break;case"C":Z=parseInt(j[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+M)}if(te&&(S[g][y]&&S[g][y].length==2?S[g][y][0]=X:S[g][y]=X,E=null),G){if(q)throw new Error("SYLK shared formula cannot have own formula");var K=Y>-1&&S[Y][Z];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");S[g][y][1]=Gae(K[1],{r:g-Y,c:y-Z})}break;case"F":var Q=0;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"X":y=parseInt(j[b].slice(1))-1,++Q;break;case"Y":for(g=parseInt(j[b].slice(1))-1,P=S.length;P<=g;++P)S[P]=[];break;case"M":U=parseInt(j[b].slice(1))/20;break;case"F":break;case"G":break;case"P":E=C[parseInt(j[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=j[b].slice(1).split(" "),P=parseInt(L[0],10);P<=parseInt(L[1],10);++P)U=parseInt(L[2],10),I[P-1]=U===0?{hidden:!0}:{wch:U},xm(I[P-1]);break;case"C":y=parseInt(j[b].slice(1))-1,I[y]||(I[y]={});break;case"R":g=parseInt(j[b].slice(1))-1,T[g]||(T[g]={}),U>0?(T[g].hpt=U,T[g].hpx=Q1(U)):U===0&&(T[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+M)}Q<1&&(E=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+M)}}return T.length>0&&(O["!rows"]=T),I.length>0&&(O["!cols"]=I),m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),[S,O]}function o(h,m){var x=a(h,m),g=x[0],y=x[1],_=_y(g,m);return Ti(y).forEach(function(b){_[b]=y[b]}),_}function s(h,m){return Lm(o(h,m),m)}function l(h,m,x,g){var y="C;Y"+(x+1)+";X"+(g+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+t7(h.f,{r:x,c:g}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(h,m){m.forEach(function(x,g){var y="F;W"+(g+1)+" "+(g+1)+" ";x.hidden?y+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=mw(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=gw(x.wpx)),typeof x.wch=="number"&&(y+=Math.round(x.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function d(h,m){m.forEach(function(x,g){var y="F;";x.hidden?y+="M0;":x.hpt?y+="M"+20*x.hpt+";":x.hpx&&(y+="M"+20*vw(x.hpx)+";"),y.length>2&&h.push(y+"R"+(g+1))})}function f(h,m){var x=["ID;PWXL;N;E"],g=[],y=Wn(h["!ref"]),_,b=Array.isArray(h),S=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),h["!cols"]&&u(x,h["!cols"]),h["!rows"]&&d(x,h["!rows"]),x.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var C=y.s.r;C<=y.e.r;++C)for(var E=y.s.c;E<=y.e.c;++E){var O=Xr({r:C,c:E});_=b?(h[C]||[])[E]:h[O],!(!_||_.v==null&&(!_.f||_.F))&&g.push(l(_,h,C,E))}return x.join(S)+S+g.join(S)+S+"E"+S}return{to_workbook:s,to_sheet:o,from_sheet:f}}(),Pae=function(){function e(i,o){switch(o.type){case"base64":return t(yc(i),o);case"binary":return t(i,o);case"buffer":return t(Sn&&Buffer.isBuffer(i)?i.toString("binary"):Fm(i),o);case"array":return t(fg(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var s=i.split(`
`),l=-1,u=-1,d=0,f=[];d!==s.length;++d){if(s[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=s[d].trim().split(","),m=h[0],x=h[1];++d;for(var g=s[d]||"";(g.match(/["]/g)||[]).length&1&&d<s.length-1;)g+=`
`+s[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN(Gu(x))?isNaN(Z1(x).getDate())?f[l][u]=x:f[l][u]=Ya(x):f[l][u]=Gu(x),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return _y(e(i,o),o)}function n(i,o){return Lm(r(i,o),o)}var a=function(){var i=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},o=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=Wn(l["!ref"]),f,h=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var g=Xr({r:m,c:x});if(f=h?(l[m]||[])[x]:l[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,y,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=tu(f.z||Vr[14],wo(Ya(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var _=`\r
`,b=u.join(_);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Oae=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),x=-1,g=-1,y=0,_=[];y!==m.length;++y){var b=m[y].trim().split(":");if(b[0]==="cell"){var S=pi(b[1]);if(_.length<=S.r)for(x=_.length;x<=S.r;++x)_[x]||(_[x]=[]);switch(x=S.r,g=S.c,b[2]){case"t":_[x][g]=e(b[3]);break;case"v":_[x][g]=+b[3];break;case"vtf":var C=b[b.length-1];case"vtc":switch(b[3]){case"nl":_[x][g]=!!+b[4];break;default:_[x][g]=+b[4];break}b[2]=="vtf"&&(_[x][g]=[_[x][g],C])}}}return h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),_}function n(f,h){return _y(r(f,h),h)}function a(f,h){return Lm(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],x,g="",y=Fl(f["!ref"]),_=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var S=y.s.c;S<=y.e.c;++S)if(g=Xr({r:b,c:S}),x=_?(f[b]||[])[S]:f[g],!(!x||x.v==null||x.t==="z")){switch(m=["cell",g,"t"],x.t){case"s":case"str":m.push(t(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=t(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var C=wo(Ya(x.v));m[2]="vtc",m[3]="nd",m[4]=""+C,m[5]=x.w||tu(x.z||Vr[14],C);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,s,o,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),J1=function(){function e(d,f,h,m,x){x.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Gu(d))?isNaN(Z1(d).getDate())?f[h][m]=d:f[h][m]=Ya(d):f[h][m]=Gu(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var x=d.split(/[\r\n]/),g=x.length-1;g>=0&&x[g].length===0;)--g;for(var y=10,_=0,b=0;b<=g;++b)_=x[b].indexOf(" "),_==-1?_=x[b].length:_++,y=Math.max(y,_);for(b=0;b<=g;++b){m[b]=[];var S=0;for(e(x[b].slice(0,y).trim(),m,b,S,h),S=1;S<=(x[b].length-y)/10+1;++S)e(x[b].slice(y+(S-1)*10,y+S*10).trim(),m,b,S,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,x=0;m<d.length;++m)(x=d.charCodeAt(m))==34?h=!h:!h&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m]);if(!x.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m])}return x.sort(function(g,y){return g[0]-y[0]||n[g[1]]-n[y[1]]}),r[x.pop()[1]]||44}function i(d,f){var h=f||{},m="",x=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var y=0,_=0,b=0,S=0,C=0,E=m.charCodeAt(0),O=!1,T=0,I=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var L=h.dateNF!=null?sFe(h.dateNF):null;function U(){var P=d.slice(S,C),M={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)M.t="z";else if(h.raw)M.t="s",M.v=P;else if(P.trim().length===0)M.t="s",M.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(M.t="s",M.v=P.slice(2,-1).replace(/""/g,'"')):FBe(P)?(M.t="n",M.f=P.slice(1)):(M.t="s",M.v=P);else if(P=="TRUE")M.t="b",M.v=!0;else if(P=="FALSE")M.t="b",M.v=!1;else if(!isNaN(b=Gu(P)))M.t="n",h.cellText!==!1&&(M.w=P),M.v=b;else if(!isNaN(Z1(P).getDate())||L&&P.match(L)){M.z=h.dateNF||Vr[14];var j=0;L&&P.match(L)&&(P=lFe(P,h.dateNF,P.match(L)||[]),j=1),h.cellDates?(M.t="d",M.v=Ya(P,j)):(M.t="n",M.v=wo(Ya(P,j))),h.cellText!==!1&&(M.w=tu(M.z,M.v instanceof Date?wo(M.v):M.v)),h.cellNF||delete M.z}else M.t="s",M.v=P;if(M.t=="z"||(h.dense?(x[y]||(x[y]=[]),x[y][_]=M):x[Xr({c:_,r:y})]=M),S=C+1,I=d.charCodeAt(S),g.e.c<_&&(g.e.c=_),g.e.r<y&&(g.e.r=y),T==E)++_;else if(_=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;C<d.length;++C)switch(T=d.charCodeAt(C)){case 34:I===34&&(O=!O);break;case E:case 10:case 13:if(!O&&U())break e;break}return C-S>0&&U(),x["!ref"]=mn(g),x}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):_y(t(d,f),f)}function s(d,f){var h="",m=f.type=="string"?[0,0,0,0]:c7(d,f);switch(f.type){case"base64":h=yc(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):(f.codepage,h=Sn&&Buffer.isBuffer(d)?d.toString("binary"):Fm(d));break;case"array":h=fg(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=_a(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=_a(h):f.type=="binary",h.slice(0,19)=="socialcalc:version:"?Oae.to_sheet(f.type=="string"?h:_a(h),f):o(h,f)}function l(d,f){return Lm(s(d,f),f)}function u(d){for(var f=[],h=Wn(d["!ref"]),m,x=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var y=[],_=h.s.c;_<=h.e.c;++_){var b=Xr({r:g,c:_});if(m=x?(d[g]||[])[_]:d[b],!m||m.v==null){y.push("          ");continue}for(var S=(m.w||(Sh(m),m.w)||"").slice(0,10);S.length<10;)S+=" ";y.push(S+(_===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:u}}();function bje(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Tae.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return J1.to_workbook(e,t)}}var V0=function(){function e(D,K,Q){if(D){ts(D,D.l||0);for(var ie=Q.Enum||Y;D.l<D.length;){var ae=D.read_shift(2),oe=ie[ae]||ie[65535],de=D.read_shift(2),J=D.l+de,ue=oe.f&&oe.f(D,de,Q);if(D.l=J,K(ue,oe,ae))return}}}function t(D,K){switch(K.type){case"base64":return r(lc(yc(D)),K);case"binary":return r(lc(D),K);case"buffer":case"array":return r(D,K)}throw"Unsupported type "+K.type}function r(D,K){if(!D)return D;var Q=K||{},ie=Q.dense?[]:{},ae="Sheet1",oe="",de=0,J={},ue=[],ge=[],ne={s:{r:0,c:0},e:{r:0,c:0}},Ne=Q.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)Q.Enum=Y,e(D,function(Je,mt,dt){switch(dt){case 0:Q.vers=Je,Je>=4096&&(Q.qpro=!0);break;case 6:ne=Je;break;case 204:Je&&(oe=Je);break;case 222:oe=Je;break;case 15:case 51:Q.qpro||(Je[1].v=Je[1].v.slice(1));case 13:case 14:case 16:dt==14&&(Je[2]&112)==112&&(Je[2]&15)>1&&(Je[2]&15)<15&&(Je[1].z=Q.dateNF||Vr[14],Q.cellDates&&(Je[1].t="d",Je[1].v=$3(Je[1].v))),Q.qpro&&Je[3]>de&&(ie["!ref"]=mn(ne),J[ae]=ie,ue.push(ae),ie=Q.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},de=Je[3],ae=oe||"Sheet"+(de+1),oe="");var Tt=Q.dense?(ie[Je[0].r]||[])[Je[0].c]:ie[Xr(Je[0])];if(Tt){Tt.t=Je[1].t,Tt.v=Je[1].v,Je[1].z!=null&&(Tt.z=Je[1].z),Je[1].f!=null&&(Tt.f=Je[1].f);break}Q.dense?(ie[Je[0].r]||(ie[Je[0].r]=[]),ie[Je[0].r][Je[0].c]=Je[1]):ie[Xr(Je[0])]=Je[1];break}},Q);else if(D[2]==26||D[2]==14)Q.Enum=Z,D[2]==14&&(Q.qpro=!0,D.l=0),e(D,function(Je,mt,dt){switch(dt){case 204:ae=Je;break;case 22:Je[1].v=Je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Je[3]>de&&(ie["!ref"]=mn(ne),J[ae]=ie,ue.push(ae),ie=Q.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},de=Je[3],ae="Sheet"+(de+1)),Ne>0&&Je[0].r>=Ne)break;Q.dense?(ie[Je[0].r]||(ie[Je[0].r]=[]),ie[Je[0].r][Je[0].c]=Je[1]):ie[Xr(Je[0])]=Je[1],ne.e.c<Je[0].c&&(ne.e.c=Je[0].c),ne.e.r<Je[0].r&&(ne.e.r=Je[0].r);break;case 27:Je[14e3]&&(ge[Je[14e3][0]]=Je[14e3][1]);break;case 1537:ge[Je[0]]=Je[1],Je[0]==de&&(ae=Je[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(ie["!ref"]=mn(ne),J[oe||ae]=ie,ue.push(oe||ae),!ge.length)return{SheetNames:ue,Sheets:J};for(var Re={},De=[],pe=0;pe<ge.length;++pe)J[ue[pe]]?(De.push(ge[pe]||ue[pe]),Re[ge[pe]]=J[ge[pe]]||J[ue[pe]]):(De.push(ge[pe]),Re[ge[pe]]={"!ref":"A1"});return{SheetNames:De,Sheets:Re}}function n(D,K){var Q=K||{};if(+Q.codepage>=0&&qu(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var ie=Ml(),ae=Wn(D["!ref"]),oe=Array.isArray(D),de=[];tr(ie,0,i(1030)),tr(ie,6,l(ae));for(var J=Math.min(ae.e.r,8191),ue=ae.s.r;ue<=J;++ue)for(var ge=Ki(ue),ne=ae.s.c;ne<=ae.e.c;++ne){ue===ae.s.r&&(de[ne]=hi(ne));var Ne=de[ne]+ge,Re=oe?(D[ue]||[])[ne]:D[Ne];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?tr(ie,13,m(ue,ne,Re.v)):tr(ie,14,g(ue,ne,Re.v));else{var De=Sh(Re);tr(ie,15,f(ue,ne,De.slice(0,239)))}}return tr(ie,1),ie.end()}function a(D,K){var Q=K||{};if(+Q.codepage>=0&&qu(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var ie=Ml();tr(ie,0,o(D));for(var ae=0,oe=0;ae<D.SheetNames.length;++ae)(D.Sheets[D.SheetNames[ae]]||{})["!ref"]&&tr(ie,27,q(D.SheetNames[ae],oe++));var de=0;for(ae=0;ae<D.SheetNames.length;++ae){var J=D.Sheets[D.SheetNames[ae]];if(!(!J||!J["!ref"])){for(var ue=Wn(J["!ref"]),ge=Array.isArray(J),ne=[],Ne=Math.min(ue.e.r,8191),Re=ue.s.r;Re<=Ne;++Re)for(var De=Ki(Re),pe=ue.s.c;pe<=ue.e.c;++pe){Re===ue.s.r&&(ne[pe]=hi(pe));var Je=ne[pe]+De,mt=ge?(J[Re]||[])[pe]:J[Je];if(!(!mt||mt.t=="z"))if(mt.t=="n")tr(ie,23,U(Re,pe,de,mt.v));else{var dt=Sh(mt);tr(ie,22,T(Re,pe,de,dt.slice(0,239)))}}++de}}return tr(ie,1),ie.end()}function i(D){var K=Nt(2);return K.write_shift(2,D),K}function o(D){var K=Nt(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var Q=0,ie=0,ae=0,oe=0;oe<D.SheetNames.length;++oe){var de=D.SheetNames[oe],J=D.Sheets[de];if(!(!J||!J["!ref"])){++ae;var ue=Fl(J["!ref"]);Q<ue.e.r&&(Q=ue.e.r),ie<ue.e.c&&(ie=ue.e.c)}}return Q>8191&&(Q=8191),K.write_shift(2,Q),K.write_shift(1,ae),K.write_shift(1,ie),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function s(D,K,Q){var ie={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&Q.qpro?(ie.s.c=D.read_shift(1),D.l++,ie.s.r=D.read_shift(2),ie.e.c=D.read_shift(1),D.l++,ie.e.r=D.read_shift(2),ie):(ie.s.c=D.read_shift(2),ie.s.r=D.read_shift(2),K==12&&Q.qpro&&(D.l+=2),ie.e.c=D.read_shift(2),ie.e.r=D.read_shift(2),K==12&&Q.qpro&&(D.l+=2),ie.s.c==65535&&(ie.s.c=ie.e.c=ie.s.r=ie.e.r=0),ie)}function l(D){var K=Nt(8);return K.write_shift(2,D.s.c),K.write_shift(2,D.s.r),K.write_shift(2,D.e.c),K.write_shift(2,D.e.r),K}function u(D,K,Q){var ie=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(ie[0].c=D.read_shift(1),ie[3]=D.read_shift(1),ie[0].r=D.read_shift(2),D.l+=2):(ie[2]=D.read_shift(1),ie[0].c=D.read_shift(2),ie[0].r=D.read_shift(2)),ie}function d(D,K,Q){var ie=D.l+K,ae=u(D,K,Q);if(ae[1].t="s",Q.vers==20768){D.l++;var oe=D.read_shift(1);return ae[1].v=D.read_shift(oe,"utf8"),ae}return Q.qpro&&D.l++,ae[1].v=D.read_shift(ie-D.l,"cstr"),ae}function f(D,K,Q){var ie=Nt(7+Q.length);ie.write_shift(1,255),ie.write_shift(2,K),ie.write_shift(2,D),ie.write_shift(1,39);for(var ae=0;ae<ie.length;++ae){var oe=Q.charCodeAt(ae);ie.write_shift(1,oe>=128?95:oe)}return ie.write_shift(1,0),ie}function h(D,K,Q){var ie=u(D,K,Q);return ie[1].v=D.read_shift(2,"i"),ie}function m(D,K,Q){var ie=Nt(7);return ie.write_shift(1,255),ie.write_shift(2,K),ie.write_shift(2,D),ie.write_shift(2,Q,"i"),ie}function x(D,K,Q){var ie=u(D,K,Q);return ie[1].v=D.read_shift(8,"f"),ie}function g(D,K,Q){var ie=Nt(13);return ie.write_shift(1,255),ie.write_shift(2,K),ie.write_shift(2,D),ie.write_shift(8,Q,"f"),ie}function y(D,K,Q){var ie=D.l+K,ae=u(D,K,Q);if(ae[1].v=D.read_shift(8,"f"),Q.qpro)D.l=ie;else{var oe=D.read_shift(2);C(D.slice(D.l,D.l+oe),ae),D.l+=oe}return ae}function _(D,K,Q){var ie=K&32768;return K&=-32769,K=(ie?D:0)+(K>=8192?K-16384:K),(ie?"":"$")+(Q?hi(K):Ki(K))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(D,K){ts(D,0);for(var Q=[],ie=0,ae="",oe="",de="",J="";D.l<D.length;){var ue=D[D.l++];switch(ue){case 0:Q.push(D.read_shift(8,"f"));break;case 1:oe=_(K[0].c,D.read_shift(2),!0),ae=_(K[0].r,D.read_shift(2),!1),Q.push(oe+ae);break;case 2:{var ge=_(K[0].c,D.read_shift(2),!0),ne=_(K[0].r,D.read_shift(2),!1);oe=_(K[0].c,D.read_shift(2),!0),ae=_(K[0].r,D.read_shift(2),!1),Q.push(ge+ne+":"+oe+ae)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(D.read_shift(2));break;case 6:{for(var Ne="";ue=D[D.l++];)Ne+=String.fromCharCode(ue);Q.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:J=Q.pop(),de=Q.pop(),Q.push(["AND","OR"][ue-20]+"("+de+","+J+")");break;default:if(ue<32&&S[ue])J=Q.pop(),de=Q.pop(),Q.push(de+S[ue]+J);else if(b[ue]){if(ie=b[ue][1],ie==69&&(ie=D[D.l++]),ie>Q.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+Q.join("|")+"|");return}var Re=Q.slice(-ie);Q.length-=ie,Q.push(b[ue][0]+"("+Re.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}Q.length==1?K[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function E(D){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=D.read_shift(2),K[3]=D[D.l++],K[0].c=D[D.l++],K}function O(D,K){var Q=E(D);return Q[1].t="s",Q[1].v=D.read_shift(K-4,"cstr"),Q}function T(D,K,Q,ie){var ae=Nt(6+ie.length);ae.write_shift(2,D),ae.write_shift(1,Q),ae.write_shift(1,K),ae.write_shift(1,39);for(var oe=0;oe<ie.length;++oe){var de=ie.charCodeAt(oe);ae.write_shift(1,de>=128?95:de)}return ae.write_shift(1,0),ae}function I(D,K){var Q=E(D);Q[1].v=D.read_shift(2);var ie=Q[1].v>>1;if(Q[1].v&1)switch(ie&7){case 0:ie=(ie>>3)*5e3;break;case 1:ie=(ie>>3)*500;break;case 2:ie=(ie>>3)/20;break;case 3:ie=(ie>>3)/200;break;case 4:ie=(ie>>3)/2e3;break;case 5:ie=(ie>>3)/2e4;break;case 6:ie=(ie>>3)/16;break;case 7:ie=(ie>>3)/64;break}return Q[1].v=ie,Q}function L(D,K){var Q=E(D),ie=D.read_shift(4),ae=D.read_shift(4),oe=D.read_shift(2);if(oe==65535)return ie===0&&ae===3221225472?(Q[1].t="e",Q[1].v=15):ie===0&&ae===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var de=oe&32768;return oe=(oe&32767)-16446,Q[1].v=(1-de*2)*(ae*Math.pow(2,oe+32)+ie*Math.pow(2,oe)),Q}function U(D,K,Q,ie){var ae=Nt(14);if(ae.write_shift(2,D),ae.write_shift(1,Q),ae.write_shift(1,K),ie==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var oe=0,de=0,J=0,ue=0;return ie<0&&(oe=1,ie=-ie),de=Math.log2(ie)|0,ie/=Math.pow(2,de-31),ue=ie>>>0,(ue&2147483648)==0&&(ie/=2,++de,ue=ie>>>0),ie-=ue,ue|=2147483648,ue>>>=0,ie*=Math.pow(2,32),J=ie>>>0,ae.write_shift(4,J),ae.write_shift(4,ue),de+=16383+(oe?32768:0),ae.write_shift(2,de),ae}function P(D,K){var Q=L(D);return D.l+=K-14,Q}function M(D,K){var Q=E(D),ie=D.read_shift(4);return Q[1].v=ie>>6,Q}function j(D,K){var Q=E(D),ie=D.read_shift(8,"f");return Q[1].v=ie,Q}function V(D,K){var Q=j(D);return D.l+=K-10,Q}function X(D,K){return D[D.l+K-1]==0?D.read_shift(K,"cstr"):""}function te(D,K){var Q=D[D.l++];Q>K-1&&(Q=K-1);for(var ie="";ie.length<Q;)ie+=String.fromCharCode(D[D.l++]);return ie}function z(D,K,Q){if(!(!Q.qpro||K<21)){var ie=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var ae=D.read_shift(K-21,"cstr");return[ie,ae]}}function G(D,K){for(var Q={},ie=D.l+K;D.l<ie;){var ae=D.read_shift(2);if(ae==14e3){for(Q[ae]=[0,""],Q[ae][0]=D.read_shift(2);D[D.l];)Q[ae][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return Q}function q(D,K){var Q=Nt(5+D.length);Q.write_shift(2,14e3),Q.write_shift(2,K);for(var ie=0;ie<D.length;++ie){var ae=D.charCodeAt(ie);Q[Q.l++]=ae>127?95:ae}return Q[Q.l++]=0,Q}var Y={0:{n:"BOF",f:no},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:te},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Sje(e){var t={},r=e.match(Bs),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=tn(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=NR[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var Aje=function(){var e=uw("t"),t=uw("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:zn(o[1])},l=i.match(t);return l&&(s.s=Sje(l[1])),s}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(s){return s.v})}}(),kje=function(){var t=/(\r\n|\n)/g;function r(a,i,o){var s=[];a.u&&s.push("text-decoration: underline;"),a.uval&&s.push("text-underline-style:"+a.uval+";"),a.sz&&s.push("font-size:"+a.sz+"pt;"),a.outline&&s.push("text-effect: outline;"),a.shadow&&s.push("text-shadow: auto;"),i.push('<span style="'+s.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),Nje=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Eje=/<(?:\w+:)?r>/,Cje=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function XR(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=zn(_a(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=_a(e),r&&(n.h=FR(n.t))):e.match(Eje)&&(n.r=_a(e),n.t=zn(_a((e.replace(Cje,"").match(Nje)||[]).join("").replace(Bs,""))),r&&(n.h=kje(Aje(n.r)))),n):{t:""}}var Tje=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Pje=/<(?:\w+:)?(?:si|sstItem)>/g,Oje=/<\/(?:\w+:)?(?:si|sstItem)>/;function Dje(e,t){var r=[],n="";if(!e)return r;var a=e.match(Tje);if(a){n=a[2].replace(Pje,"").split(Oje);for(var i=0;i!=n.length;++i){var o=XR(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=tn(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var Ije=/^\s|\s$|[\t\n\r]/;function Dae(e,t){if(!t.bookSST)return"";var r=[Xi];r[r.length]=er("sst",null,{xmlns:Pg[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Ije)&&(i+=' xml:space="preserve"'),i+=">"+ya(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Rje(e){return[e.read_shift(4),e.read_shift(4)]}function Mje(e,t){var r=[],n=!1;return Mh(e,function(i,o,s){switch(s){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function Fje(e,t){return t||(t=Nt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Lje=GFe;function jje(e){var t=Ml();Dt(t,159,Fje(e));for(var r=0;r<e.length;++r)Dt(t,19,Lje(e[r]));return Dt(t,160),t.end()}function Iae(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ph(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function $je(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ph(e,4),t.U=ph(e,4),t.W=ph(e,4),t}function Bje(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Uje(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Bje(e));return t}function qje(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function zje(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ph(e,4),t.U=ph(e,4),t.W=ph(e,4),t}function Wje(e){var t=zje(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Rae(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Mae(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Vje(e){var t=ph(e);switch(t.Minor){case 2:return[t.Minor,Hje(e)];case 3:return[t.Minor,Gje()];case 4:return[t.Minor,Kje(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Hje(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Rae(e,r),a=Mae(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Gje(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Kje(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Bs,function(i){var o=tn(i);switch(vf(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){n[s]=o[s]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function Yje(e,t){var r={},n=r.EncryptionVersionInfo=ph(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Rae(e,a),t-=a,r.EncryptionVerifier=Mae(e,t),r}function Xje(e){var t={},r=t.EncryptionVersionInfo=ph(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function ZR(e){var t=0,r,n=Iae(e),a=n.length+1,i,o,s,l,u;for(r=ym(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],s=(t&16384)===0?0:1,l=t<<1&32767,u=s|l,t=u^o;return t^52811}var Fae=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,s){return n(o^s)},i=function(o){for(var s=t[o.length-1],l=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(s^=r[l]),d*=2,--l;return s};return function(o){for(var s=Iae(o),l=i(s),u=s.length,d=ym(16),f=0;f!=16;++f)d[f]=0;var h,m,x;for((u&1)===1&&(h=l>>8,d[u]=a(e[0],h),--u,h=l&255,m=s[s.length-1],d[u]=a(m,h));u>0;)--u,h=l>>8,d[u]=a(s[u],h),--u,h=l&255,d[u]=a(s[u],h);for(u=15,x=15-s.length;x>0;)h=l>>8,d[u]=a(e[x],h),--u,--x,h=l&255,d[u]=a(s[u],h),--u,--x;return d}}(),Zje=function(e,t,r,n,a){a||(a=t),n||(n=Fae(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},Jje=function(e){var t=0,r=Fae(e);return function(n){var a=Zje("",n,t,r);return t=a[1],a[0]}};function Qje(e,t,r,n){var a={key:no(e),verificationBytes:no(e)};return r.password&&(a.verifier=ZR(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Jje(r.password)),a}function e$e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Xje(e):n.Data=Yje(e,t),n}function t$e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?e$e(e,t-2,n):Qje(e,r.biff>=8?t:t-2,r,n),n}var Lae=function(){function e(a,i){switch(i.type){case"base64":return t(yc(a),i);case"binary":return t(a,i);case"buffer":return t(Sn&&Buffer.isBuffer(a)?a.toString("binary"):Fm(a),i);case"array":return t(fg(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},s=o.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(s)&&(s[f]=[]);for(var h=/\\\w+\b/g,m=0,x,g=-1;x=h.exec(d);){switch(x[0]){case"\\cell":var y=d.slice(m,h.lastIndex-x[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var _={v:y,t:"s"};Array.isArray(s)?s[f][g]=_:s[Xr({r:f,c:g})]=_}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),s["!ref"]=mn(u),s}function r(a,i){return Lm(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Wn(a["!ref"]),s,l=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Xr({r:u,c:d});s=l?(a[u]||[])[d]:a[f],!(!s||s.v==null&&(!s.f||s.F))&&(i.push(" "+(s.w||(Sh(s),s.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function r$e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function pw(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function n$e(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var s=0,l=0,u=a+i;switch(l=o/(u>1?2-u:u),a){case t:s=((r-n)/o+6)%6;break;case r:s=(n-t)/o+2;break;case n:s=(t-r)/o+4;break}return[s/6,l,u/2]}function a$e(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],s=6*t,l;if(r!==0)switch(s|0){case 0:case 6:l=a*s,o[0]+=a,o[1]+=l;break;case 1:l=a*(2-s),o[0]+=l,o[1]+=a;break;case 2:l=a*(s-2),o[1]+=a,o[2]+=l;break;case 3:l=a*(4-s),o[1]+=l,o[2]+=a;break;case 4:l=a*(s-4),o[2]+=a,o[0]+=l;break;case 5:l=a*(6-s),o[2]+=l,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function VS(e,t){if(t===0)return e;var r=n$e(r$e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),pw(a$e(r))}var jae=6,i$e=15,o$e=1,Ts=jae;function mw(e){return Math.floor((e+Math.round(128/Ts)/256)*Ts)}function gw(e){return Math.floor((e-5)/Ts*100+.5)/100}function HS(e){return Math.round((e*Ts+5)/Ts*256)/256}function zT(e){return HS(gw(mw(e)))}function JR(e){var t=Math.abs(e-zT(e)),r=Ts;if(t>.005)for(Ts=o$e;Ts<i$e;++Ts)Math.abs(e-zT(e))<=t&&(t=Math.abs(e-zT(e)),r=Ts);Ts=r}function xm(e){e.width?(e.wpx=mw(e.width),e.wch=gw(e.wpx),e.MDW=Ts):e.wpx?(e.wch=gw(e.wpx),e.width=HS(e.wch),e.MDW=Ts):typeof e.wch=="number"&&(e.width=HS(e.wch),e.wpx=mw(e.width),e.MDW=Ts),e.customWidth&&delete e.customWidth}var s$e=96,$ae=s$e;function vw(e){return e*96/$ae}function Q1(e){return e*$ae/96}var l$e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function c$e(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Bs)||[]).forEach(function(o){var s=tn(o);switch(vf(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},s.diagonalUp&&(a.diagonalUp=Ha(s.diagonalUp)),s.diagonalDown&&(a.diagonalDown=Ha(s.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in borders")}})}function u$e(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Bs)||[]).forEach(function(o){var s=tn(o);switch(vf(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":s.patternType&&(a.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),s.indexed&&(a.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(a.bgColor.theme=parseInt(s.theme,10)),s.tint&&(a.bgColor.tint=parseFloat(s.tint)),s.rgb&&(a.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),s.theme&&(a.fgColor.theme=parseInt(s.theme,10)),s.tint&&(a.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(a.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fills")}})}function d$e(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Bs)||[]).forEach(function(o){var s=tn(o);switch(vf(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=_a(s.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=s.val?Ha(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?Ha(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?Ha(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?Ha(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?Ha(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?Ha(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?Ha(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=NR[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=Ha(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var l=z0[a.color.index];a.color.index==81&&(l=z0[1]),l||(l=z0[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=VS(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}})}function f$e(e,t,r){t.NumberFmt=[];for(var n=Ti(Vr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Vr[n[a]];var i=e[0].match(Bs);if(i)for(a=0;a<i.length;++a){var o=tn(i[a]);switch(vf(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=zn(_a(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=s}hh(s,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function h$e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=er("numFmt",null,{numFmtId:n,formatCode:ya(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=er("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Cb=["numFmtId","fillId","fontId","borderId","xfId"],Tb=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function p$e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Bs)||[]).forEach(function(i){var o=tn(i),s=0;switch(vf(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],s=0;s<Cb.length;++s)n[Cb[s]]&&(n[Cb[s]]=parseInt(n[Cb[s]],10));for(s=0;s<Tb.length;++s)n[Tb[s]]&&(n[Tb[s]]=Ha(n[Tb[s]]));if(t.NumberFmt&&n.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[s]){n.numFmtId=s;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=Ha(o.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function m$e(e){var t=[];return t[t.length]=er("cellXfs",null),e.forEach(function(r){t[t.length]=er("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=er("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var g$e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,l,u){var d={};if(!s)return d;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=s.match(t))&&f$e(f,d,u),(f=s.match(a))&&d$e(f,d,l,u),(f=s.match(n))&&u$e(f,d,l,u),(f=s.match(i))&&c$e(f,d,l,u),(f=s.match(r))&&p$e(f,d,u),d}}();function Bae(e,t){var r=[Xi,er("styleSheet",null,{xmlns:Pg[0],"xmlns:vt":vo.vt})],n;return e.SSF&&(n=h$e(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=m$e(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function v$e(e,t){var r=e.read_shift(2),n=Rs(e);return[r,n]}function y$e(e,t,r){r||(r=Nt(6+4*t.length)),r.write_shift(2,e),$o(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function x$e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=eLe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var s=e.read_shift(1);s>0&&(n.family=s);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=QFe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Rs(e),n}function w$e(e,t){t||(t=Nt(25+4*32)),t.write_shift(2,e.sz*20),tLe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),qS(e.color,t);var n=0;return n=2,t.write_shift(1,n),$o(e.name,t),t.length>t.l?t.slice(0,t.l):t}var _$e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],WT,b$e=$s;function UW(e,t){t||(t=Nt(4*3+8*7+16*1)),WT||(WT=L3(_$e));var r=WT[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(qS({auto:1},t),qS({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function S$e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Uae(e,t,r){r||(r=Nt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function d2(e,t){return t||(t=Nt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var A$e=$s;function k$e(e,t){return t||(t=Nt(51)),t.write_shift(1,0),d2(null,t),d2(null,t),d2(null,t),d2(null,t),d2(null,t),t.length>t.l?t.slice(0,t.l):t}function N$e(e,t){return t||(t=Nt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),US(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function E$e(e,t,r){var n=Nt(2052);return n.write_shift(4,e),US(t,n),US(r,n),n.length>n.l?n.slice(0,n.l):n}function C$e(e,t,r){var n={};n.NumberFmt=[];for(var a in Vr)n.NumberFmt[a]=Vr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Mh(e,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],hh(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=VS(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function T$e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Dt(e,615,Ku(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Dt(e,44,y$e(a,t[a]))}),Dt(e,616))}}function P$e(e){var t=1;Dt(e,611,Ku(t)),Dt(e,43,w$e({sz:12,color:{theme:1},name:"Calibri",family:2})),Dt(e,612)}function O$e(e){var t=2;Dt(e,603,Ku(t)),Dt(e,45,UW({patternType:"none"})),Dt(e,45,UW({patternType:"gray125"})),Dt(e,604)}function D$e(e){var t=1;Dt(e,613,Ku(t)),Dt(e,46,k$e()),Dt(e,614)}function I$e(e){var t=1;Dt(e,626,Ku(t)),Dt(e,47,Uae({numFmtId:0},65535)),Dt(e,627)}function R$e(e,t){Dt(e,617,Ku(t.length)),t.forEach(function(r){Dt(e,47,Uae(r,0))}),Dt(e,618)}function M$e(e){var t=1;Dt(e,619,Ku(t)),Dt(e,48,N$e({xfId:0,name:"Normal"})),Dt(e,620)}function F$e(e){var t=0;Dt(e,505,Ku(t)),Dt(e,506)}function L$e(e){var t=0;Dt(e,508,E$e(t,"TableStyleMedium9","PivotStyleMedium4")),Dt(e,509)}function j$e(e,t){var r=Ml();return Dt(r,278),T$e(r,e.SSF),P$e(r),O$e(r),D$e(r),I$e(r),R$e(r,t.cellXfs),M$e(r),F$e(r),L$e(r),Dt(r,279),r.end()}var $$e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function B$e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Bs)||[]).forEach(function(a){var i=tn(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[$$e.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function U$e(){}function q$e(){}var z$e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,W$e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,V$e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function H$e(e,t,r){t.themeElements={};var n;[["clrScheme",z$e,B$e],["fontScheme",W$e,U$e],["fmtScheme",V$e,q$e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var G$e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function qae(e,t){(!e||e.length===0)&&(e=QR());var r,n={};if(!(r=e.match(G$e)))throw new Error("themeElements not found in theme");return H$e(r[0],n,t),n.raw=e,n}function QR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Xi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function K$e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=Rne(i,{type:"array"})}catch{return}var s=cc(o,"theme/theme/theme1.xml",!0);if(s)return qae(s,r)}}function Y$e(e){return e.read_shift(4)}function X$e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Z$e(e,4);break;case 2:t.xclrValue=_ae(e);break;case 3:t.xclrValue=Y$e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Z$e(e,t){return $s(e,t)}function J$e(e,t){return $s(e,t)}function Q$e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=X$e(e);break;case 6:n[1]=J$e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function eBe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Q$e(e,r-e.l));return{ixfe:n,ext:i}}function tBe(e,t){t.forEach(function(r){r[0]})}function rBe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Rs(e)}}function nBe(e){var t=Nt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),$o(e.name,t),t.slice(0,t.l)}function aBe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function iBe(e){var t=Nt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function oBe(e,t){var r=Nt(8+2*t.length);return r.write_shift(4,e),$o(t,r),r.slice(0,r.l)}function sBe(e){return e.l+=4,e.read_shift(4)!=0}function lBe(e,t){var r=Nt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function cBe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,s=2;return Mh(e,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){s==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):s==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:s=l?1:0;break;case 338:s=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function uBe(){var e=Ml();return Dt(e,332),Dt(e,334,Ku(1)),Dt(e,335,nBe({name:"XLDAPR",version:12e4,flags:3496657072})),Dt(e,336),Dt(e,339,oBe(1,"XLDAPR")),Dt(e,52),Dt(e,35,Ku(514)),Dt(e,4096,Ku(0)),Dt(e,4097,Wc(1)),Dt(e,36),Dt(e,53),Dt(e,340),Dt(e,337,lBe(1)),Dt(e,51,iBe([[1,0]])),Dt(e,338),Dt(e,333),e.end()}function dBe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(Bs,function(s){var l=tn(s);switch(vf(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return s}),n}function zae(){var e=[Xi];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function fBe(e){var t=[];if(!e)return t;var r=1;return(e.match(Bs)||[]).forEach(function(n){var a=tn(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function hBe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Xr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function pBe(e,t,r){var n=[];return Mh(e,function(i,o,s){switch(s){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+s.toString(16))}}),n}function mBe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Mh(e,function(s,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function gBe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Vv=1024;function Wae(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[er("xml",null,{"xmlns:v":ac.v,"xmlns:o":ac.o,"xmlns:x":ac.x,"xmlns:mv":ac.mv}).replace(/\/>/,">"),er("o:shapelayout",er("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),er("v:shapetype",[er("v:stroke",null,{joinstyle:"miter"}),er("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Vv<e*1e3;)Vv+=1e3;return t.forEach(function(i){var o=pi(i[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var l=s.type=="gradient"?er("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=er("v:fill",l,s),d={on:"t",obscured:"t"};++Vv,a=a.concat(["<v:shape"+dw({id:"_x0000_s"+Vv,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,er("v:shadow",null,d),er("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ns("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ns("x:AutoFill","False"),ns("x:Row",String(o.r)),ns("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function qW(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var s=pi(o.ref);if(a?(e[s.r]||(e[s.r]=[]),i=e[s.r][s.c]):i=e[o.ref],!i){i={t:"z"},a?e[s.r][s.c]=i:e[o.ref]=i;var l=Wn(e["!ref"]||"BDWGO1000001:A1");l.s.r>s.r&&(l.s.r=s.r),l.e.r<s.r&&(l.e.r=s.r),l.s.c>s.c&&(l.s.c=s.c),l.e.c<s.c&&(l.e.c=s.c);var u=mn(l);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function vBe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&r.push(s[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var l=tn(s[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=pi(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&XR(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function Vae(e){var t=[Xi,er("comments",null,{xmlns:Pg[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=ya(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(ya(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ns("t",ya(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,s=1;s<i.length;++s)o+=`Reply:
    `+i[s]+`
`;t.push(ns("t",ya(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function yBe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Bs,function(s,l){var u=tn(s);switch(vf(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+s.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return s}),r}function xBe(e,t,r){var n=[Xi,er("ThreadedComments",null,{xmlns:vo.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};s==0?i=l.id:l.parentId=i,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(er("threadedComment",ns("text",o.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function wBe(e,t){var r=[],n=!1;return e.replace(Bs,function(i){var o=tn(i);switch(vf(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function _Be(e){var t=[Xi,er("personList",null,{xmlns:vo.TCMNT,"xmlns:x":Pg[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(er("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function bBe(e){var t={};t.iauthor=e.read_shift(4);var r=Rg(e);return t.rfx=r.s,t.ref=Xr(r.s),e.l+=16,t}function SBe(e,t){return t==null&&(t=Nt(36)),t.write_shift(4,e[1].iauthor),by(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var ABe=Rs;function kBe(e){return $o(e.slice(0,54))}function NBe(e,t){var r=[],n=[],a={},i=!1;return Mh(e,function(s,l,u){switch(u){case 632:n.push(s);break;case 635:a=s;break;case 637:a.t=s.t,a.h=s.h,a.r=s.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function EBe(e){var t=Ml(),r=[];return Dt(t,628),Dt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Dt(t,632,kBe(a.a)))})}),Dt(t,631),Dt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:pi(n[0]),e:pi(n[0])};Dt(t,635,SBe([i,a])),a.t&&a.t.length>0&&Dt(t,637,YFe(a)),Dt(t,636),delete a.iauthor})}),Dt(t,634),Dt(t,629),t.end()}var CBe="application/vnd.ms-office.vbaProject";function TBe(e){var t=Rr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Rr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Rr.write(t)}function PBe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Rr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Hae=["xlsb","xlsm","xlam","biff8","xla"];function OBe(){return{"!type":"dialog"}}function DBe(){return{"!type":"dialog"}}function IBe(){return{"!type":"macro"}}function RBe(){return{"!type":"macro"}}var o1=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var s=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return s?d+=t.c:--d,l?u+=t.r:--u,a+(s?"":"$")+hi(d)+(l?"":"$")+Ki(u)}return function(a,i){return t=i,a.replace(e,r)}}(),e7=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,t7=function(){return function(t,r){return t.replace(e7,function(n,a,i,o,s,l){var u=UR(o)-(i?0:r.c),d=BR(l)-(s?0:r.r),f=d==0?"":s?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function Gae(e,t){return e.replace(e7,function(r,n,a,i,o,s){return n+(a=="$"?a+i:hi(UR(i)+t.c))+(o=="$"?o+s:Ki(BR(s)+t.r))})}function MBe(e,t,r){var n=Fl(t),a=n.s,i=pi(r),o={r:i.r-a.r,c:i.c-a.c};return Gae(e,o)}function FBe(e){return e.length!=1}function zW(e){return e.replace(/_xlfn\./g,"")}function Qi(e){e.l+=1}function wm(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Kae(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Yae(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=wm(e),s=wm(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Yae(e){var t=wm(e),r=wm(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function LBe(e,t,r){if(r.biff<8)return Yae(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=wm(e),o=wm(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Xae(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return jBe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=wm(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function jBe(e){var t=wm(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function $Be(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function BBe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return UBe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,s=(i&32768)>>15;if(i&=16383,s==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:s}}function UBe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function qBe(e,t,r){var n=(e[e.l++]&96)>>5,a=Kae(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function zBe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Kae(e,i,r);return[n,a,o]}function WBe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function VBe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function HBe(e,t,r){var n=(e[e.l++]&96)>>5,a=LBe(e,t-1,r);return[n,a]}function GBe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function WW(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function KBe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function YBe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function XBe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ZBe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function JBe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Zae(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function QBe(e){return e.read_shift(2),Zae(e)}function eUe(e){return e.read_shift(2),Zae(e)}function tUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Xae(e,0,r);return[n,a]}function rUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=BBe(e,0,r);return[n,a]}function nUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Xae(e,0,r);return[n,a,i]}function aUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[sqe[a],eie[a],n]}function iUe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:oUe(e);return[a,(i[0]===0?eie:oqe)[i[1]]]}function oUe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function sUe(e,t,r){e.l+=r&&r.biff==2?3:4}function lUe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function cUe(e){return e.l++,Fh[e.read_shift(1)]}function uUe(e){return e.l++,e.read_shift(2)}function dUe(e){return e.l++,e.read_shift(1)!==0}function fUe(e){return e.l++,Os(e)}function hUe(e,t,r){return e.l++,r_(e,t-1,r)}function pUe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Li(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Fh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Os(e);break;case 2:r[1]=Mg(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function mUe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Rg:B3)(e));return a}function gUe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=pUe(e,r.biff);return o}function vUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function yUe(e,t,r){if(r.biff==5)return xUe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function xUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function wUe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function _Ue(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function bUe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function SUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var AUe=$s,kUe=$s,NUe=$s;function a_(e,t,r){return e.l+=2,[$Be(e)]}function r7(e){return e.l+=6,[]}var EUe=a_,CUe=r7,TUe=r7,PUe=a_;function Jae(e){return e.l+=2,[no(e),e.read_shift(2)&1]}var OUe=a_,DUe=Jae,IUe=r7,RUe=a_,MUe=a_,FUe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function LUe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=FUe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function jUe(e){return e.l+=2,[e.read_shift(4)]}function $Ue(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function BUe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function UUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function qUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function zUe(e){return e.l+=4,[0,0]}var VW={1:{n:"PtgExp",f:lUe},2:{n:"PtgTbl",f:NUe},3:{n:"PtgAdd",f:Qi},4:{n:"PtgSub",f:Qi},5:{n:"PtgMul",f:Qi},6:{n:"PtgDiv",f:Qi},7:{n:"PtgPower",f:Qi},8:{n:"PtgConcat",f:Qi},9:{n:"PtgLt",f:Qi},10:{n:"PtgLe",f:Qi},11:{n:"PtgEq",f:Qi},12:{n:"PtgGe",f:Qi},13:{n:"PtgGt",f:Qi},14:{n:"PtgNe",f:Qi},15:{n:"PtgIsect",f:Qi},16:{n:"PtgUnion",f:Qi},17:{n:"PtgRange",f:Qi},18:{n:"PtgUplus",f:Qi},19:{n:"PtgUminus",f:Qi},20:{n:"PtgPercent",f:Qi},21:{n:"PtgParen",f:Qi},22:{n:"PtgMissArg",f:Qi},23:{n:"PtgStr",f:hUe},26:{n:"PtgSheet",f:$Ue},27:{n:"PtgEndSheet",f:BUe},28:{n:"PtgErr",f:cUe},29:{n:"PtgBool",f:dUe},30:{n:"PtgInt",f:uUe},31:{n:"PtgNum",f:fUe},32:{n:"PtgArray",f:GBe},33:{n:"PtgFunc",f:aUe},34:{n:"PtgFuncVar",f:iUe},35:{n:"PtgName",f:vUe},36:{n:"PtgRef",f:tUe},37:{n:"PtgArea",f:qBe},38:{n:"PtgMemArea",f:wUe},39:{n:"PtgMemErr",f:AUe},40:{n:"PtgMemNoMem",f:kUe},41:{n:"PtgMemFunc",f:_Ue},42:{n:"PtgRefErr",f:bUe},43:{n:"PtgAreaErr",f:WBe},44:{n:"PtgRefN",f:rUe},45:{n:"PtgAreaN",f:HBe},46:{n:"PtgMemAreaN",f:UUe},47:{n:"PtgMemNoMemN",f:qUe},57:{n:"PtgNameX",f:yUe},58:{n:"PtgRef3d",f:nUe},59:{n:"PtgArea3d",f:zBe},60:{n:"PtgRefErr3d",f:SUe},61:{n:"PtgAreaErr3d",f:VBe},255:{}},WUe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},VUe={1:{n:"PtgElfLel",f:Jae},2:{n:"PtgElfRw",f:RUe},3:{n:"PtgElfCol",f:EUe},6:{n:"PtgElfRwV",f:MUe},7:{n:"PtgElfColV",f:PUe},10:{n:"PtgElfRadical",f:OUe},11:{n:"PtgElfRadicalS",f:IUe},13:{n:"PtgElfColS",f:CUe},15:{n:"PtgElfColSV",f:TUe},16:{n:"PtgElfRadicalLel",f:DUe},25:{n:"PtgList",f:LUe},29:{n:"PtgSxName",f:jUe},255:{}},HUe={0:{n:"PtgAttrNoop",f:zUe},1:{n:"PtgAttrSemi",f:JBe},2:{n:"PtgAttrIf",f:XBe},4:{n:"PtgAttrChoose",f:KBe},8:{n:"PtgAttrGoto",f:YBe},16:{n:"PtgAttrSum",f:sUe},32:{n:"PtgAttrBaxcel",f:WW},33:{n:"PtgAttrBaxcel",f:WW},64:{n:"PtgAttrSpace",f:QBe},65:{n:"PtgAttrSpaceSemi",f:eUe},128:{n:"PtgAttrIfError",f:ZBe},255:{}};function i_(e,t,r,n){if(n.biff<8)return $s(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=gUe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=mUe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push($s(e,t)),i}function o_(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=VW[i]||VW[WUe[i]],(i===24||i===25)&&(a=(i===24?VUe:HUe)[e[e.l+1]]),!a||!a.f?$s(e,t):o.push([a.n,a.f(e,t,r)]);return o}function GUe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var KUe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function YUe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Qae(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function HW(e,t,r){var n=Qae(e,t,r);return n=="#REF"?n:YUe(n,r)}function Es(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},s=[],l,u,d,f=0,h=0,m,x="";if(!e[0]||!e[0][0])return"";for(var g=-1,y="",_=0,b=e[0].length;_<b;++_){var S=e[0][_];switch(S[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),u=s.pop(),g>=0){switch(e[0][g][1][0]){case 0:y=Ai(" ",e[0][g][1][1]);break;case 1:y=Ai("\r",e[0][g][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+y,g=-1}s.push(u+KUe[S[0]]+l);break;case"PtgIsect":l=s.pop(),u=s.pop(),s.push(u+" "+l);break;case"PtgUnion":l=s.pop(),u=s.pop(),s.push(u+","+l);break;case"PtgRange":l=s.pop(),u=s.pop(),s.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=W2(S[1][1],o,a),s.push(V2(d,i));break;case"PtgRefN":d=r?W2(S[1][1],r,a):S[1][1],s.push(V2(d,i));break;case"PtgRef3d":f=S[1][1],d=W2(S[1][2],o,a),x=HW(n,f,a),s.push(x+"!"+V2(d,i));break;case"PtgFunc":case"PtgFuncVar":var C=S[1][0],E=S[1][1];C||(C=0),C&=127;var O=C==0?[]:s.slice(-C);s.length-=C,E==="User"&&(E=O.shift()),s.push(E+"("+O.join(",")+")");break;case"PtgBool":s.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(S[1]);break;case"PtgNum":s.push(String(S[1]));break;case"PtgStr":s.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(S[1]);break;case"PtgAreaN":m=_W(S[1][1],r?{s:r}:o,a),s.push(BT(m,a));break;case"PtgArea":m=_W(S[1][1],o,a),s.push(BT(m,a));break;case"PtgArea3d":f=S[1][1],m=S[1][2],x=HW(n,f,a),s.push(x+"!"+BT(m,a));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=S[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],I=T?T.Name:"SH33TJSNAME"+String(h);I&&I.slice(0,6)=="_xlfn."&&!a.xlfn&&(I=I.slice(6)),s.push(I);break;case"PtgNameX":var L=S[1][1];h=S[1][2];var U;if(a.biff<=5)L<0&&(L=-L),n[L]&&(U=n[L][h]);else{var P="";if(((n[L]||[])[0]||[])[0]==14849||(((n[L]||[])[0]||[])[0]==1025?n[L][h]&&n[L][h].itab>0&&(P=n.SheetNames[n[L][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[L]&&n[L][h])P+=n[L][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var M=(Qae(n,L,a)||"").split(";;");M[h-1]?P=M[h-1]:P+="SH33TJSERRX"}s.push(P);break}U||(U={Name:"SH33TJSERRY"}),s.push(U.Name);break;case"PtgParen":var j="(",V=")";if(g>=0){switch(y="",e[0][g][1][0]){case 2:j=Ai(" ",e[0][g][1][1])+j;break;case 3:j=Ai("\r",e[0][g][1][1])+j;break;case 4:V=Ai(" ",e[0][g][1][1])+V;break;case 5:V=Ai("\r",e[0][g][1][1])+V;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}s.push(j+s.pop()+V);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":d={c:S[1][1],r:S[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[Xr(d)]){var te=n.sharedf[Xr(d)];s.push(Es(te,o,X,n,a))}else{var z=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){s.push(Es(u[1],o,X,n,a)),z=!0;break}z||s.push(S[1])}break;case"PtgArray":s.push("{"+GUe(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&G.indexOf(e[0][_][0])==-1){S=e[0][g];var q=!0;switch(S[1][0]){case 4:q=!1;case 0:y=Ai(" ",S[1][1]);break;case 5:q=!1;case 1:y=Ai("\r",S[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}s.push((q?y:"")+s.pop()+(q?"":y)),g=-1}}if(s.length>1&&a.WTF)throw new Error("bad formula stack");return s[0]}function XUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],$s(e,t-2)];var s=o_(e,o,r);return t!==o+a&&(i=i_(e,t-o-a,s,r)),e.l=n,[s,i]}function ZUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],$s(e,t-2)];var s=o_(e,o,r);return t!==o+a&&(i=i_(e,t-o-a,s,r)),e.l=n,[s,i]}function JUe(e,t,r,n){var a=e.l+t,i=o_(e,n,r),o;return a!==e.l&&(o=i_(e,a-e.l,i,r)),[i,o]}function QUe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=o_(e,i,r);return i==65535?[[],$s(e,t-2)]:(t!==i+2&&(a=i_(e,n-i-2,o,r)),[o,a])}function eqe(e){var t;if(lh(e,e.l+6)!==65535)return[Os(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function tqe(e){if(e==null){var t=Nt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return hg(e);return hg(0)}function VT(e,t,r){var n=e.l+t,a=yf(e);r.biff==2&&++e.l;var i=eqe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var s=ZUe(e,n-e.l,r);return{cell:a,val:i[0],formula:s,shared:o>>3&1,tt:i[1]}}function rqe(e,t,r,n,a){var i=mg(t,r,a),o=tqe(e.v),s=Nt(6),l=33;s.write_shift(2,l),s.write_shift(4,0);for(var u=Nt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=jo([i,o,s,u]);return f}function U3(e,t,r){var n=e.read_shift(4),a=o_(e,n,r),i=e.read_shift(4),o=i>0?i_(e,i,a,r):null;return[a,o]}var nqe=U3,q3=U3,aqe=U3,iqe=U3,oqe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},eie={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},sqe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function GW(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function lqe(e){var t="of:="+e.replace(e7,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function HT(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function cqe(e){return e.replace(/\./,"!")}var G2={},s1={},K2=typeof Map<"u";function n7(e,t,r){var n=0,a=e.length;if(r){if(K2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=K2?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(K2?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function z3(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ts=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=gw(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=HS(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function H0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function jm(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){hh(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function tie(e,t,r,n,a,i){try{n.cellNF&&(e.z=Vr[t])}catch(s){if(n.WTF)throw s}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ya(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Vr[t]==null&&hh(oFe[t]||"General",t),e.t==="e")e.w=e.w||Fh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=cw(e.v);else if(e.t==="d"){var o=wo(e.v);(o|0)===o?e.w=o.toString(10):e.w=cw(o)}else{if(e.v===void 0)return"";e.w=dg(e.v,s1)}else e.t==="d"?e.w=tu(t,wo(e.v),s1):e.w=tu(t,e.v,s1)}catch(s){if(n.WTF)throw s}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=VS(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=VS(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(n.WTF&&i.Fills)throw s}}}function uqe(e,t,r){if(e&&e["!ref"]){var n=Wn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function dqe(e,t){var r=Wn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=mn(r))}var fqe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,hqe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,pqe=/<(?:\w:)?hyperlink [^>]*>/mg,mqe=/"(\w*:\w*)"/,gqe=/<(?:\w:)?col\b[^>]*[\/]?>/g,vqe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,yqe=/<(?:\w:)?pageMargins[^>]*\/>/g,rie=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,xqe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,wqe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function _qe(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var s=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(hqe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(rie);h?a7(h[0],s,a,r):(h=u.match(xqe))&&Sqe(h[0],h[1]||"",s,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var x=u.slice(m,m+50).match(mqe);x&&dqe(s,x[1])}var g=u.match(wqe);g&&g[1]&&Fqe(g[1],a);var y=[];if(t.cellStyles){var _=u.match(gqe);_&&Oqe(y,_)}f&&$qe(f[1],s,t,l,i,o);var b=d.match(vqe);b&&(s["!autofilter"]=Iqe(b[0]));var S=[],C=d.match(fqe);if(C)for(m=0;m!=C.length;++m)S[m]=Wn(C[m].slice(C[m].indexOf('"')+1));var E=d.match(pqe);E&&Cqe(s,E,n);var O=d.match(yqe);if(O&&(s["!margins"]=Tqe(tn(O[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=mn(l)),t.sheetRows>0&&s["!ref"]){var T=Wn(s["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),s["!fullref"]=s["!ref"],s["!ref"]=mn(T))}return y.length>0&&(s["!cols"]=y),S.length>0&&(s["!merges"]=S),s}function bqe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+mn(e[r])+'"/>';return t+"</mergeCells>"}function a7(e,t,r,n){var a=tn(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=zn(_a(a.codeName)))}function Sqe(e,t,r,n,a){a7(e.slice(0,e.indexOf(">")),r,n,a)}function Aqe(e,t,r,n,a){var i=!1,o={},s=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,o.codeName=Kd(ya(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),s=(s||"")+er("outlinePr",null,u)}!i&&!s||(a[a.length]=er("sheetPr",s,o))}var kqe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Nqe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Eqe(e){var t={sheet:1};return kqe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Nqe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=ZR(e.password).toString(16).toUpperCase()),er("sheetProtection",null,t)}function Cqe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=tn(_a(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+zn(i.location))):(i.Target="#"+zn(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var s=Wn(i.ref),l=s.s.r;l<=s.e.r;++l)for(var u=s.s.c;u<=s.e.c;++u){var d=Xr({c:u,r:l});n?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function Tqe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Pqe(e){return H0(e),er("pageMargins",null,e)}function Oqe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=tn(t[n],!0);a.hidden&&(a.hidden=Ha(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,JR(a.width)),xm(a);i<=o;)e[i++]=Xa(a)}}function Dqe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=er("col",null,z3(a,n)));return r[r.length]="</cols>",r.join("")}function Iqe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function Rqe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:mn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Fl(a);o.s.r==o.e.r&&(o.e.r=Fl(t["!ref"]).e.r,a=mn(o));for(var s=0;s<i.length;++s){var l=i[s];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return s==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),er("autoFilter",null,{ref:a})}var Mqe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Fqe(e,t){t.Views||(t.Views=[{}]),(e.match(Mqe)||[]).forEach(function(r,n){var a=tn(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ha(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function Lqe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),er("sheetViews",er("sheetView",null,a),{})}function jqe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Fh[e.v];break;case"d":n&&n.cellDates?a=Ya(e.v,-1).toISOString():(e=Xa(e),e.t="n",a=""+(e.v=wo(Ya(e.v)))),typeof e.z>"u"&&(e.z=Vr[14]);break;default:a=e.v;break}var s=ns("v",ya(a)),l={r:t},u=jm(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){s=ns("v",""+n7(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=er("f",ya(e.f),d)+(e.v!=null?s:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),er("c",s,l)}var $qe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=uw("v"),o=uw("f");return function(l,u,d,f,h,m){for(var x=0,g="",y=[],_=[],b=0,S=0,C=0,E="",O,T,I=0,L=0,U,P,M=0,j=0,V=Array.isArray(m.CellXf),X,te=[],z=[],G=Array.isArray(u),q=[],Y={},Z=!1,D=!!d.sheetStubs,K=l.split(t),Q=0,ie=K.length;Q!=ie;++Q){g=K[Q].trim();var ae=g.length;if(ae!==0){var oe=0;e:for(x=0;x<ae;++x)switch(g[x]){case">":if(g[x-1]!="/"){++x;break e}if(d&&d.cellStyles){if(T=tn(g.slice(oe,x),!0),I=T.r!=null?parseInt(T.r,10):I+1,L=-1,d.sheetRows&&d.sheetRows<I)continue;Y={},Z=!1,T.ht&&(Z=!0,Y.hpt=parseFloat(T.ht),Y.hpx=Q1(Y.hpt)),T.hidden=="1"&&(Z=!0,Y.hidden=!0),T.outlineLevel!=null&&(Z=!0,Y.level=+T.outlineLevel),Z&&(q[I-1]=Y)}break;case"<":oe=x;break}if(oe>=x)break;if(T=tn(g.slice(oe,x),!0),I=T.r!=null?parseInt(T.r,10):I+1,L=-1,!(d.sheetRows&&d.sheetRows<I)){f.s.r>I-1&&(f.s.r=I-1),f.e.r<I-1&&(f.e.r=I-1),d&&d.cellStyles&&(Y={},Z=!1,T.ht&&(Z=!0,Y.hpt=parseFloat(T.ht),Y.hpx=Q1(Y.hpt)),T.hidden=="1"&&(Z=!0,Y.hidden=!0),T.outlineLevel!=null&&(Z=!0,Y.level=+T.outlineLevel),Z&&(q[I-1]=Y)),y=g.slice(x).split(e);for(var de=0;de!=y.length&&y[de].trim().charAt(0)=="<";++de);for(y=y.slice(de),x=0;x!=y.length;++x)if(g=y[x].trim(),g.length!==0){if(_=g.match(r),b=x,S=0,C=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,_!=null&&_.length===2){for(b=0,E=_[1],S=0;S!=E.length&&!((C=E.charCodeAt(S)-64)<1||C>26);++S)b=26*b+C;--b,L=b}else++L;for(S=0;S!=g.length&&g.charCodeAt(S)!==62;++S);if(++S,T=tn(g.slice(0,S),!0),T.r||(T.r=Xr({r:I-1,c:L})),E=g.slice(S),O={t:""},(_=E.match(i))!=null&&_[1]!==""&&(O.v=zn(_[1])),d.cellFormula){if((_=E.match(o))!=null&&_[1]!==""){if(O.f=zn(_a(_[1])).replace(/\r\n/g,`
`),d.xlfn||(O.f=zW(O.f)),_[0].indexOf('t="array"')>-1)O.F=(E.match(a)||[])[1],O.F.indexOf(":")>-1&&te.push([Wn(O.F),O.F]);else if(_[0].indexOf('t="shared"')>-1){P=tn(_[0]);var J=zn(_a(_[1]));d.xlfn||(J=zW(J)),z[parseInt(P.si,10)]=[P,J,T.r]}}else(_=E.match(/<f[^>]*\/>/))&&(P=tn(_[0]),z[P.si]&&(O.f=MBe(z[P.si][1],z[P.si][2],T.r)));var ue=pi(T.r);for(S=0;S<te.length;++S)ue.r>=te[S][0].s.r&&ue.r<=te[S][0].e.r&&ue.c>=te[S][0].s.c&&ue.c<=te[S][0].e.c&&(O.F=te[S][1])}if(T.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(D)O.t="z";else continue;else O.t=T.t||"n";switch(f.s.c>L&&(f.s.c=L),f.e.c<L&&(f.e.c=L),O.t){case"n":if(O.v==""||O.v==null){if(!D)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!D)continue;O.t="z"}else U=G2[parseInt(O.v,10)],O.v=U.t,O.r=U.r,d.cellHTML&&(O.h=U.h);break;case"str":O.t="s",O.v=O.v!=null?_a(O.v):"",d.cellHTML&&(O.h=FR(O.v));break;case"inlineStr":_=E.match(n),O.t="s",_!=null&&(U=XR(_[1]))?(O.v=U.t,d.cellHTML&&(O.h=U.h)):O.v="";break;case"b":O.v=Ha(O.v);break;case"d":d.cellDates?O.v=Ya(O.v,1):(O.v=wo(Ya(O.v,1)),O.t="n");break;case"e":(!d||d.cellText!==!1)&&(O.w=O.v),O.v=aae[O.v];break}if(M=j=0,X=null,V&&T.s!==void 0&&(X=m.CellXf[T.s],X!=null&&(X.numFmtId!=null&&(M=X.numFmtId),d.cellStyles&&X.fillId!=null&&(j=X.fillId))),tie(O,M,j,d,h,m),d.cellDates&&V&&O.t=="n"&&xy(Vr[M])&&(O.t="d",O.v=$3(O.v)),T.cm&&d.xlmeta){var ge=(d.xlmeta.Cell||[])[+T.cm-1];ge&&ge.type=="XLDAPR"&&(O.D=!0)}if(G){var ne=pi(T.r);u[ne.r]||(u[ne.r]=[]),u[ne.r][ne.c]=O}else u[T.r]=O}}}}q.length>0&&(u["!rows"]=q)}}();function Bqe(e,t,r,n){var a=[],i=[],o=Wn(e["!ref"]),s="",l,u="",d=[],f=0,h=0,m=e["!rows"],x=Array.isArray(e),g={r:u},y,_=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=hi(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Ki(f),h=o.s.c;h<=o.e.c;++h){l=d[h]+u;var b=x?(e[f]||[])[h]:e[l];b!==void 0&&(s=jqe(b,l,e,t))!=null&&i.push(s)}(i.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(y=m[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=vw(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),a[a.length]=er("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},y=m[f],y.hidden&&(g.hidden=1),_=-1,y.hpx?_=vw(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(g.ht=_,g.customHeight=1),y.level&&(g.outlineLevel=y.level),a[a.length]=er("row","",g));return a.join("")}function nie(e,t,r,n){var a=[Xi,er("worksheet",null,{xmlns:Pg[0],"xmlns:r":vo.r})],i=r.SheetNames[e],o=0,s="",l=r.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",d=Wn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=mn(d)}n||(n={}),l["!comments"]=[];var f=[];Aqe(l,r,e,t,a),a[a.length]=er("dimension",null,{ref:u}),a[a.length]=Lqe(l,t,e,r),t.sheetFormat&&(a[a.length]=er("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=Dqe(l,l["!cols"])),a[o=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(s=Bqe(l,t),s.length>0&&(a[a.length]=s)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),l["!protect"]&&(a[a.length]=Eqe(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=Rqe(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=bqe(l["!merges"]));var h=-1,m,x=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(x=va(n,-1,ya(g[1].Target).replace(/#.*$/,""),Nn.HLINK),m["r:id"]="rId"+x),(h=g[1].Target.indexOf("#"))>-1&&(m.location=ya(g[1].Target.slice(h+1))),g[1].Tooltip&&(m.tooltip=ya(g[1].Tooltip)),a[a.length]=er("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=Pqe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ns("ignoredErrors",er("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=va(n,-1,"../drawings/drawing"+(e+1)+".xml",Nn.DRAW),a[a.length]=er("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=f),l["!comments"].length>0&&(x=va(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Nn.VML),a[a.length]=er("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Uqe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function qqe(e,t,r){var n=Nt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=vw(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var s=0,l=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Xr(u)];x&&(f<0&&(f=m),h=m)}f<0||(++s,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=l,n.write_shift(4,s),n.l=g,n.length>n.l?n.slice(0,n.l):n}function zqe(e,t,r,n){var a=qqe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Dt(e,0,a)}var Wqe=Rg,Vqe=by;function Hqe(){}function Gqe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=XFe(e),r}function Kqe(e,t,r){r==null&&(r=Nt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return qS({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Qne(e,r),r.slice(0,r.l)}function Yqe(e){var t=iu(e);return[t]}function Xqe(e,t,r){return r==null&&(r=Nt(8)),Og(t,r)}function Zqe(e){var t=Dg(e);return[t]}function Jqe(e,t,r){return r==null&&(r=Nt(4)),Ig(t,r)}function Qqe(e){var t=iu(e),r=e.read_shift(1);return[t,r,"b"]}function eze(e,t,r){return r==null&&(r=Nt(9)),Og(t,r),r.write_shift(1,e.v?1:0),r}function tze(e){var t=Dg(e),r=e.read_shift(1);return[t,r,"b"]}function rze(e,t,r){return r==null&&(r=Nt(5)),Ig(t,r),r.write_shift(1,e.v?1:0),r}function nze(e){var t=iu(e),r=e.read_shift(1);return[t,r,"e"]}function aze(e,t,r){return r==null&&(r=Nt(9)),Og(t,r),r.write_shift(1,e.v),r}function ize(e){var t=Dg(e),r=e.read_shift(1);return[t,r,"e"]}function oze(e,t,r){return r==null&&(r=Nt(8)),Ig(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function sze(e){var t=iu(e),r=e.read_shift(4);return[t,r,"s"]}function lze(e,t,r){return r==null&&(r=Nt(12)),Og(t,r),r.write_shift(4,t.v),r}function cze(e){var t=Dg(e),r=e.read_shift(4);return[t,r,"s"]}function uze(e,t,r){return r==null&&(r=Nt(8)),Ig(t,r),r.write_shift(4,t.v),r}function dze(e){var t=iu(e),r=Os(e);return[t,r,"n"]}function fze(e,t,r){return r==null&&(r=Nt(16)),Og(t,r),hg(e.v,r),r}function aie(e){var t=Dg(e),r=Os(e);return[t,r,"n"]}function hze(e,t,r){return r==null&&(r=Nt(12)),Ig(t,r),hg(e.v,r),r}function pze(e){var t=iu(e),r=VR(e);return[t,r,"n"]}function mze(e,t,r){return r==null&&(r=Nt(12)),Og(t,r),eae(e.v,r),r}function gze(e){var t=Dg(e),r=VR(e);return[t,r,"n"]}function vze(e,t,r){return r==null&&(r=Nt(8)),Ig(t,r),eae(e.v,r),r}function yze(e){var t=iu(e),r=qR(e);return[t,r,"is"]}function xze(e){var t=iu(e),r=Rs(e);return[t,r,"str"]}function wze(e,t,r){return r==null&&(r=Nt(12+4*e.v.length)),Og(t,r),$o(e.v,r),r.length>r.l?r.slice(0,r.l):r}function _ze(e){var t=Dg(e),r=Rs(e);return[t,r,"str"]}function bze(e,t,r){return r==null&&(r=Nt(8+4*e.v.length)),Ig(t,r),$o(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Sze(e,t,r){var n=e.l+t,a=iu(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var s=q3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}function Aze(e,t,r){var n=e.l+t,a=iu(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var s=q3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}function kze(e,t,r){var n=e.l+t,a=iu(e);a.r=r["!row"];var i=Os(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var s=q3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}function Nze(e,t,r){var n=e.l+t,a=iu(e);a.r=r["!row"];var i=Rs(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var s=q3(e,n-e.l,r);o[3]=Es(s,null,a,r.supbooks,r)}else e.l=n;return o}var Eze=Rg,Cze=by;function Tze(e,t){return t==null&&(t=Nt(4)),t.write_shift(4,e),t}function Pze(e,t){var r=e.l+t,n=Rg(e),a=zR(e),i=Rs(e),o=Rs(e),s=Rs(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}function Oze(e,t){var r=Nt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));by({s:pi(e[0]),e:pi(e[0])},r),WR("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return $o(a||"",r),$o(e[1].Tooltip||"",r),$o("",r),r.slice(0,r.l)}function Dze(){}function Ize(e,t,r){var n=e.l+t,a=tae(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var s=nqe(e,n-e.l,r);o[1]=s}else e.l=n;return o}function Rze(e,t,r){var n=e.l+t,a=Rg(e),i=[a];if(r.cellFormula){var o=iqe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function Mze(e,t,r){r==null&&(r=Nt(18));var n=z3(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var iie=["left","right","top","bottom","header","footer"];function Fze(e){var t={};return iie.forEach(function(r){t[r]=Os(e)}),t}function Lze(e,t){return t==null&&(t=Nt(6*8)),H0(e),iie.forEach(function(r){hg(e[r],t)}),t}function jze(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function $ze(e,t,r){r==null&&(r=Nt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Bze(e){var t=Nt(24);return t.write_shift(4,4),t.write_shift(4,1),by(e,t),t}function Uze(e,t){return t==null&&(t=Nt(16*4+2)),t.write_shift(2,e.password?ZR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function qze(){}function zze(){}function Wze(e,t,r,n,a,i,o){if(!e)return e;var s=t||{};n||(n={"!id":{}});var l=s.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,x,g,y,_,b,S,C,E,O=[];s.biff=12,s["!row"]=0;var T=0,I=!1,L=[],U={},P=s.supbooks||a.supbooks||[[]];if(P.sharedf=U,P.arrayf=L,P.SheetNames=a.SheetNames||a.Sheets.map(function(G){return G.name}),!s.supbooks&&(s.supbooks=P,a.Names))for(var M=0;M<a.Names.length;++M)P[0][M+1]=a.Names[M];var j=[],V=[],X=!1;yw[16]={n:"BrtShortReal",f:aie};var te;if(Mh(e,function(q,Y,Z){if(!h)switch(Z){case 148:u=q;break;case 0:m=q,s.sheetRows&&s.sheetRows<=m.r&&(h=!0),C=Ki(y=m.r),s["!row"]=m.r,(q.hidden||q.hpt||q.level!=null)&&(q.hpt&&(q.hpx=Q1(q.hpt)),V[q.r]=q);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:q[2]},q[2]){case"n":x.v=q[1];break;case"s":S=G2[q[1]],x.v=S.t,x.r=S.r;break;case"b":x.v=!!q[1];break;case"e":x.v=q[1],s.cellText!==!1&&(x.w=Fh[x.v]);break;case"str":x.t="s",x.v=q[1];break;case"is":x.t="s",x.v=q[1].t;break}if((g=o.CellXf[q[0].iStyleRef])&&tie(x,g.numFmtId,null,s,i,o),_=q[0].c==-1?_+1:q[0].c,s.dense?(l[y]||(l[y]=[]),l[y][_]=x):l[hi(_)+C]=x,s.cellFormula){for(I=!1,T=0;T<L.length;++T){var D=L[T];m.r>=D[0].s.r&&m.r<=D[0].e.r&&_>=D[0].s.c&&_<=D[0].e.c&&(x.F=mn(D[0]),I=!0)}!I&&q.length>3&&(x.f=q[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>_&&(d.s.c=_),d.e.r<m.r&&(d.e.r=m.r),d.e.c<_&&(d.e.c=_),s.cellDates&&g&&x.t=="n"&&xy(Vr[g.numFmtId])){var K=L0(x.v);K&&(x.t="d",x.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}te&&(te.type=="XLDAPR"&&(x.D=!0),te=void 0);break;case 1:case 12:if(!s.sheetStubs||f)break;x={t:"z",v:void 0},_=q[0].c==-1?_+1:q[0].c,s.dense?(l[y]||(l[y]=[]),l[y][_]=x):l[hi(_)+C]=x,d.s.r>m.r&&(d.s.r=m.r),d.s.c>_&&(d.s.c=_),d.e.r<m.r&&(d.e.r=m.r),d.e.c<_&&(d.e.c=_),te&&(te.type=="XLDAPR"&&(x.D=!0),te=void 0);break;case 176:O.push(q);break;case 49:te=((s.xlmeta||{}).Cell||[])[q-1];break;case 494:var Q=n["!id"][q.relId];for(Q?(q.Target=Q.Target,q.loc&&(q.Target+="#"+q.loc),q.Rel=Q):q.relId==""&&(q.Target="#"+q.loc),y=q.rfx.s.r;y<=q.rfx.e.r;++y)for(_=q.rfx.s.c;_<=q.rfx.e.c;++_)s.dense?(l[y]||(l[y]=[]),l[y][_]||(l[y][_]={t:"z",v:void 0}),l[y][_].l=q):(b=Xr({c:_,r:y}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=q);break;case 426:if(!s.cellFormula)break;L.push(q),E=s.dense?l[y][_]:l[hi(_)+C],E.f=Es(q[1],d,{r:m.r,c:_},P,s),E.F=mn(q[0]);break;case 427:if(!s.cellFormula)break;U[Xr(q[0].s)]=q[1],E=s.dense?l[y][_]:l[hi(_)+C],E.f=Es(q[1],d,{r:m.r,c:_},P,s);break;case 60:if(!s.cellStyles)break;for(;q.e>=q.s;)j[q.e--]={width:q.w/256,hidden:!!(q.flags&1),level:q.level},X||(X=!0,JR(q.w/256)),xm(j[q.e+1]);break;case 161:l["!autofilter"]={ref:mn(q)};break;case 476:l["!margins"]=q;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),q.name&&(a.Sheets[r].CodeName=q.name),(q.above||q.left)&&(l["!outline"]={above:q.above,left:q.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),q.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Y.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},s),delete s.supbooks,delete s["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=mn(u||d)),s.sheetRows&&l["!ref"]){var z=Wn(l["!ref"]);s.sheetRows<=+z.e.r&&(z.e.r=s.sheetRows-1,z.e.r>d.e.r&&(z.e.r=d.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>d.e.c&&(z.e.c=d.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=mn(z))}return O.length>0&&(l["!merges"]=O),j.length>0&&(l["!cols"]=j),V.length>0&&(l["!rows"]=V),l}function Vze(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":t=Xa(t),t.z=t.z||Vr[14],t.v=wo(Ya(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v;break}var l={r,c:n};switch(l.s=jm(a.cellXfs,t,a),t.l&&i["!links"].push([Xr(l),t.l]),t.c&&i["!comments"].push([Xr(l),t.c]),t.t){case"s":case"str":return a.bookSST?(s=n7(a.Strings,t.v,a.revStrings),l.t="s",l.v=s,o?Dt(e,18,uze(t,l)):Dt(e,7,lze(t,l))):(l.t="str",o?Dt(e,17,bze(t,l)):Dt(e,6,wze(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Dt(e,13,vze(t,l)):Dt(e,2,mze(t,l)):o?Dt(e,16,hze(t,l)):Dt(e,5,fze(t,l)),!0;case"b":return l.t="b",o?Dt(e,15,rze(t,l)):Dt(e,4,eze(t,l)),!0;case"e":return l.t="e",o?Dt(e,14,oze(t,l)):Dt(e,3,aze(t,l)),!0}return o?Dt(e,12,Jqe(t,l)):Dt(e,1,Xqe(t,l)),!0}function Hze(e,t,r,n){var a=Wn(t["!ref"]||"A1"),i,o="",s=[];Dt(e,145);var l=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Ki(d),zqe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(s[h]=hi(h)),i=s[h]+o;var m=l?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=Vze(e,m,d,h,n,t,f)}}Dt(e,146)}function Gze(e,t){!t||!t["!merges"]||(Dt(e,177,Tze(t["!merges"].length)),t["!merges"].forEach(function(r){Dt(e,176,Cze(r))}),Dt(e,178))}function Kze(e,t){!t||!t["!cols"]||(Dt(e,390),t["!cols"].forEach(function(r,n){r&&Dt(e,60,Mze(n,r))}),Dt(e,391))}function Yze(e,t){!t||!t["!ref"]||(Dt(e,648),Dt(e,649,Bze(Wn(t["!ref"]))),Dt(e,650))}function Xze(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=va(r,-1,n[1].Target.replace(/#.*$/,""),Nn.HLINK);Dt(e,494,Oze(n,a))}}),delete t["!links"]}function Zze(e,t,r,n){if(t["!comments"].length>0){var a=va(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Nn.VML);Dt(e,551,WR("rId"+a)),t["!legacy"]=a}}function Jze(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:mn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,s=Fl(i);s.s.r==s.e.r&&(s.e.r=Fl(t["!ref"]).e.r,i=mn(s));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Dt(e,161,by(Wn(i))),Dt(e,162)}}function Qze(e,t,r){Dt(e,133),Dt(e,137,$ze(t,r)),Dt(e,138),Dt(e,134)}function eWe(e,t){t["!protect"]&&Dt(e,535,Uze(t["!protect"]))}function tWe(e,t,r,n){var a=Ml(),i=r.SheetNames[e],o=r.Sheets[i]||{},s=i;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch{}var l=Wn(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Dt(a,129),(r.vbaraw||o["!outline"])&&Dt(a,147,Kqe(s,o["!outline"])),Dt(a,148,Vqe(l)),Qze(a,o,r.Workbook),Kze(a,o),Hze(a,o,e,t),eWe(a,o),Jze(a,o,r,e),Gze(a,o),Xze(a,o,n),o["!margins"]&&Dt(a,476,Lze(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Yze(a,o),Zze(a,o,e,n),Dt(a,130),a.end()}function rWe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=zn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function nWe(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var s=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=rWe(f);d.s.r=d.s.c=0,d.e.c=s,u=hi(s),h[0].forEach(function(m,x){o[u+Ki(x)]={t:"n",v:m,z:h[1]},l=x}),d.e.r<l&&(d.e.r=l),++s}),s>0&&(o["!ref"]=mn(d)),o}function aWe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match(rie);return s&&a7(s[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function iWe(e,t){e.l+=10;var r=Rs(e);return{name:r}}function oWe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Mh(e,function(l,u,d){switch(d){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var i7=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sWe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],lWe=[],cWe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function KW(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Ha(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function YW(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ha(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function oie(e){YW(e.WBProps,i7),YW(e.CalcPr,cWe),KW(e.WBView,sWe),KW(e.Sheets,lWe),s1.date1904=Ha(e.WBProps.date1904)}function uWe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Ha(e.Workbook.WBProps.date1904)?"true":"false"}var dWe="][*?/\\".split("");function sie(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return dWe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function fWe(e,t,r){e.forEach(function(n,a){sie(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function hWe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];fWe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)uqe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var pWe=/<\w+:workbook/;function mWe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(Bs,function(l,u){var d=tn(l);switch(vf(d[0])){case"<?xml":break;case"<workbook":l.match(pWe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":i7.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ha(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=_a(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=zn(_a(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=_a(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Ha(d.hidden||"0")&&(i.Hidden=!0),o=u+l.length;break;case"</definedName>":i.Ref=zn(_a(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Pg.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return oie(r),r}function lie(e){var t=[Xi];t[t.length]=er("workbook",null,{xmlns:Pg[0],"xmlns:r":vo.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(i7.forEach(function(s){e.Workbook.WBProps[s[0]]!=null&&e.Workbook.WBProps[s[0]]!=s[1]&&(n[s[0]]=e.Workbook.WBProps[s[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=er("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:ya(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=er("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(s){var l={name:s.Name};s.Comment&&(l.comment=s.Comment),s.Sheet!=null&&(l.localSheetId=""+s.Sheet),s.Hidden&&(l.hidden="1"),s.Ref&&(t[t.length]=er("definedName",ya(s.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function gWe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=r8(e),r.name=Rs(e),r}function vWe(e,t){return t||(t=Nt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),WR(e.strRelID,t),$o(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function yWe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Rs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function xWe(e,t){t||(t=Nt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Qne(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function wWe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function _We(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=ZFe(e),o=aqe(e,0,r),s=zR(e);e.l=n;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}function bWe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],yw[16]={n:"BrtFRTArchID$",f:wWe},Mh(e,function(l,u,d){switch(d){case 156:o.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Es(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,l]):o[0]=[d,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),oie(r),r.Names=i,r.supbooks=o,r}function SWe(e,t){Dt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Dt(e,156,vWe(a))}Dt(e,144)}function AWe(e,t){t||(t=Nt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return $o("SheetJS",t),$o(MS.version,t),$o(MS.version,t),$o("7262",t),t.length>t.l?t.slice(0,t.l):t}function kWe(e,t){t||(t=Nt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function NWe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Dt(e,135),Dt(e,158,kWe(a)),Dt(e,136))}}function EWe(e,t){var r=Ml();return Dt(r,131),Dt(r,128,AWe()),Dt(r,153,xWe(e.Workbook&&e.Workbook.WBProps||null)),NWe(r,e),SWe(r,e),Dt(r,132),r.end()}function CWe(e,t,r){return t.slice(-4)===".bin"?bWe(e,r):mWe(e,r)}function TWe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?Wze(e,n,r,a,i,o,s):_qe(e,n,r,a,i,o,s)}function PWe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?oWe(e,n,r,a,i):aWe(e,n,r,a,i)}function OWe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?IBe():RBe()}function DWe(e,t,r,n,a,i,o,s){return t.slice(-4)===".bin"?OBe():DBe()}function IWe(e,t,r,n){return t.slice(-4)===".bin"?C$e(e,r,n):g$e(e,r,n)}function RWe(e,t,r){return qae(e,r)}function MWe(e,t,r){return t.slice(-4)===".bin"?Mje(e,r):Dje(e,r)}function FWe(e,t,r){return t.slice(-4)===".bin"?NBe(e,r):vBe(e,r)}function LWe(e,t,r){return t.slice(-4)===".bin"?pBe(e):fBe(e)}function jWe(e,t,r,n){return r.slice(-4)===".bin"?mBe(e,t,r,n):void 0}function $We(e,t,r){return t.slice(-4)===".bin"?cBe(e,t,r):dBe(e,t,r)}function BWe(e,t,r){return(t.slice(-4)===".bin"?EWe:lie)(e)}function UWe(e,t,r,n,a){return(t.slice(-4)===".bin"?tWe:nie)(e,r,n,a)}function qWe(e,t,r){return(t.slice(-4)===".bin"?j$e:Bae)(e,r)}function zWe(e,t,r){return(t.slice(-4)===".bin"?jje:Dae)(e,r)}function WWe(e,t,r){return(t.slice(-4)===".bin"?EBe:Vae)(e)}function VWe(e){return(e.slice(-4)===".bin"?uBe:zae)()}var cie=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,uie=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Tu(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(cie),i,o,s,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(uie),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(o+1),n[s]=i[2].slice(1,i[2].length-1));return n}function HWe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(cie),a,i,o,s;if(n)for(s=0;s!=n.length;++s)a=n[s].match(uie),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var Y2;function GWe(e,t){var r=Y2[e]||zn(e);return r==="General"?dg(t):tu(r,t)}function KWe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ha(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ya(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[zn(t)]=a}function YWe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Fh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=cw(e.v):e.w=dg(e.v):e.w=GWe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Y2[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&xy(n)){var a=L0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function XWe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=l$e[n.Pattern]||n.Pattern)}e[t.ID]=t}function ZWe(e,t,r,n,a,i,o,s,l,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],x=0;for(f===void 0&&s&&(f=s.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ha(e);break;case"String":n.t="s",n.r=fW(zn(e)),n.v=e.indexOf("<")>-1?zn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ya(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=zn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=aae[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=fW(t||e));break}if(YWe(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=zn(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=o1(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=o1("RC:RC",a):n.ArrayRange&&(n.F=o1(n.ArrayRange,a),l.push([Wn(n.F),n.F]))}else for(x=0;x<l.length;++x)a.r>=l[x][0].s.r&&a.r<=l[x][0].e.r&&a.c>=l[x][0].s.c&&a.c<=l[x][0].e.c&&(n.F=l[x][1]);u.cellStyles&&(m.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function JWe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function GT(e,t){var r=t||{};wy();var n=N2(LR(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=_a(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Xa(r);return o.type="string",J1.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(mt){a.indexOf("<"+mt)>=0&&(i=!0)}),i)return LVe(n,r);Y2={"General Number":"General","General Date":Vr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Vr[15],"Short Date":Vr[14],"Long Time":Vr[19],"Medium Time":Vr[18],"Short Time":Vr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Vr[2],Standard:Vr[4],Percent:Vr[10],Scientific:Vr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,l=[],u,d={},f=[],h=r.dense?[]:{},m="",x={},g={},y=Tu('<Data ss:Type="String">'),_=0,b=0,S=0,C={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},O={},T="",I=0,L=[],U={},P={},M=0,j=[],V=[],X={},te=[],z,G=!1,q=[],Y=[],Z={},D=0,K=0,Q={Sheets:[],WBProps:{date1904:!1}},ie={};fw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";s=fw.exec(n);)switch(s[3]=(ae=s[3]).toLowerCase()){case"data":if(ae=="data"){if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break}if(l[l.length-1][1])break;s[1]==="/"?ZWe(n.slice(_,s.index),T,y,l[l.length-1][0]=="comment"?X:x,{c:b,r:S},E,te[b],g,q,r):(T="",y=Tu(s[0]),_=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(V.length>0&&(x.c=V),(!r.sheetRows||r.sheetRows>S)&&x.v!==void 0&&(r.dense?(h[S]||(h[S]=[]),h[S][b]=x):h[hi(b)+Ki(S)]=x),x.HRef&&(x.l={Target:zn(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(D=b+(parseInt(x.MergeAcross,10)|0),K=S+(parseInt(x.MergeDown,10)|0),L.push({s:{c:b,r:S},e:{c:D,r:K}})),!r.sheetStubs)x.MergeAcross?b=D+1:++b;else if(x.MergeAcross||x.MergeDown){for(var oe=b;oe<=D;++oe)for(var de=S;de<=K;++de)(oe>b||de>S)&&(r.dense?(h[de]||(h[de]=[]),h[de][oe]={t:"z"}):h[hi(oe)+Ki(de)]={t:"z"});b=D+1}else++b;else x=HWe(s[0]),x.Index&&(b=+x.Index-1),b<C.s.c&&(C.s.c=b),b>C.e.c&&(C.e.c=b),s[0].slice(-2)==="/>"&&++b,V=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(S<C.s.r&&(C.s.r=S),S>C.e.r&&(C.e.r=S),s[0].slice(-2)==="/>"&&(g=Tu(s[0]),g.Index&&(S=+g.Index-1)),b=0,++S):(g=Tu(s[0]),g.Index&&(S=+g.Index-1),Z={},(g.AutoFitHeight=="0"||g.Height)&&(Z.hpx=parseInt(g.Height,10),Z.hpt=vw(Z.hpx),Y[S]=Z),g.Hidden=="1"&&(Z.hidden=!0,Y[S]=Z));break;case"worksheet":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));f.push(m),C.s.r<=C.e.r&&C.s.c<=C.e.c&&(h["!ref"]=mn(C),r.sheetRows&&r.sheetRows<=C.e.r&&(h["!fullref"]=h["!ref"],C.e.r=r.sheetRows-1,h["!ref"]=mn(C))),L.length&&(h["!merges"]=L),te.length>0&&(h["!cols"]=te),Y.length>0&&(h["!rows"]=Y),d[m]=h}else C={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=b=0,l.push([s[3],!1]),u=Tu(s[0]),m=zn(u.Name),h=r.dense?[]:{},L=[],q=[],Y=[],ie={name:m,Hidden:0},Q.Sheets.push(ie);break;case"table":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else{if(s[0].slice(-2)=="/>")break;l.push([s[3],!1]),te=[],G=!1}break;case"style":s[1]==="/"?XWe(E,O,r):O=Tu(s[0]);break;case"numberformat":O.nf=zn(Tu(s[0]).Format||"General"),Y2[O.nf]&&(O.nf=Y2[O.nf]);for(var J=0;J!=392&&Vr[J]!=O.nf;++J);if(J==392){for(J=57;J!=392;++J)if(Vr[J]==null){hh(O.nf,J);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(z=Tu(s[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!G&&z.wpx>10){G=!0,Ts=jae;for(var ue=0;ue<te.length;++ue)te[ue]&&xm(te[ue])}G&&xm(z),te[z.Index-1||te.length]=z;for(var ge=0;ge<+z.Span;++ge)te[te.length]=Xa(z);break;case"namedrange":if(s[1]==="/")break;Q.Names||(Q.Names=[]);var ne=tn(s[0]),Ne={Name:ne.Name,Ref:o1(ne.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(Ne.Sheet=Q.Sheets.length-1),Q.Names.push(Ne);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?T+=n.slice(I,s.index):I=s.index+s[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=Tu(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?bLe(U,ae,n.slice(M,s.index)):M=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else l.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));JWe(X),V.push(X)}else l.push([s[3],!1]),u=Tu(s[0]),X={a:u.Author};break;case"autofilter":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var Re=Tu(s[0]);h["!autofilter"]={ref:o1(Re.Range).replace(/\$/g,"")},l.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"null":break;default:if(l.length==0&&s[3]=="document"||l.length==0&&s[3]=="uof")return eV(n,r);var De=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:De=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:De=!1}break;case"excelworkbook":switch(s[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:De=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:De=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(n.slice(M,s.index)){case"SheetHidden":ie.Hidden=1;break;case"SheetVeryHidden":ie.Hidden=2;break}else M=s.index+s[0].length;break;case"header":h["!margins"]||H0(h["!margins"]={},"xlml"),isNaN(+tn(s[0]).Margin)||(h["!margins"].header=+tn(s[0]).Margin);break;case"footer":h["!margins"]||H0(h["!margins"]={},"xlml"),isNaN(+tn(s[0]).Margin)||(h["!margins"].footer=+tn(s[0]).Margin);break;case"pagemargins":var pe=tn(s[0]);h["!margins"]||H0(h["!margins"]={},"xlml"),isNaN(+pe.Top)||(h["!margins"].top=+pe.Top),isNaN(+pe.Left)||(h["!margins"].left=+pe.Left),isNaN(+pe.Right)||(h["!margins"].right=+pe.Right),isNaN(+pe.Bottom)||(h["!margins"].bottom=+pe.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:De=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:De=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:De=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:De=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:De=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:De=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:De=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:De=!1}break;case"smarttags":break;default:De=!1;break}if(De||s[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?KWe(P,ae,j,n.slice(M,s.index)):(j=s,M=s.index+s[0].length);break}if(r.WTF)throw"Unrecognized tag: "+s[3]+"|"+l.join("|")}var Je={};return!r.bookSheets&&!r.bookProps&&(Je.Sheets=d),Je.SheetNames=f,Je.Workbook=Q,Je.SSF=Xa(Vr),Je.Props=U,Je.Custprops=P,Je}function c8(e,t){switch(s7(t=t||{}),t.type||"base64"){case"base64":return GT(yc(e),t);case"binary":case"buffer":case"file":return GT(e,t);case"array":return GT(Fm(e),t)}}function QWe(e,t){var r=[];return e.Props&&r.push(SLe(e.Props,t)),e.Custprops&&r.push(ALe(e.Props,e.Custprops)),r.join("")}function eVe(){return""}function tVe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(er("NumberFormat",null,{"ss:Format":ya(Vr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(er("Style",i.join(""),o))}),er("Styles",r.join(""))}function die(e){return er("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+t7(e.Ref,{r:0,c:0})})}function rVe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(die(a)))}return er("Names",r.join(""))}function nVe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var s=a[o];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||i.push(die(s)))}return i.join("")}function aVe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(er("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(er("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(er("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(er("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ns("ProtectContents","True")),e["!protect"].objects&&a.push(ns("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ns("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ns("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ns("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":er("WorksheetOptions",a.join(""),{xmlns:ac.x})}function iVe(e){return e.map(function(t){var r=NFe(t.t||""),n=er("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return er("Comment",n,{"ss:Author":t.a})}).join("")}function oVe(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var s={};if(e.f&&(s["ss:Formula"]="="+ya(t7(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=pi(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=ya(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=ya(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(s["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(s["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Fh[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Vr[14]);break;case"s":f="String",h=kFe(e.v||"");break}var m=jm(n.cellXfs,e,n);s["ss:StyleID"]="s"+(21+m),s["ss:Index"]=o.c+1;var x=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(g+=iVe(e.c)),er("Cell",g,s)}function sVe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Q1(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function lVe(e,t,r,n){if(!e["!ref"])return"";var a=Wn(e["!ref"]),i=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach(function(y,_){xm(y);var b=!!y.width,S=z3(_,y),C={"ss:Index":_+1};b&&(C["ss:Width"]=mw(S.width)),y.hidden&&(C["ss:Hidden"]="1"),s.push(er("Column",null,C))});for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[sVe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},x=Xr(m),g=l?(e[u]||[])[f]:e[x];d.push(oVe(g,x,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&s.push(d.join(""))}return s.join("")}function cVe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?nVe(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?lVe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(aVe(i,t,e,r)),n.join("")}function uVe(e,t){t||(t={}),e.SSF||(e.SSF=Xa(Vr)),e.SSF&&(wy(),F3(e.SSF),t.revssf=j3(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],jm(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(QWe(e,t)),r.push(eVe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(er("Worksheet",cVe(n,t,e),{"ss:Name":ya(e.SheetNames[n])}));return r[2]=tVe(e,t),r[3]=rVe(e),Xi+er("Workbook",r.join(""),{xmlns:ac.ss,"xmlns:o":ac.o,"xmlns:x":ac.x,"xmlns:ss":ac.ss,"xmlns:dt":ac.dt,"xmlns:html":ac.html})}function dVe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=rLe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=nLe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var fVe=[60,1084,2066,2165,2175];function hVe(e,t,r,n,a){var i=n,o=[],s=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(s)}o.push(s),r.l+=i;for(var l=lh(r,r.l),u=u8[l],d=0;u!=null&&fVe.indexOf(l)>-1;)i=lh(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),s=r.slice(d,r.l+4+i),o.push(s),r.l+=4+i,u=u8[l=lh(r,r.l)];var f=jo(o);ts(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Dd(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Vr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Fh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=cw(e.v):e.w=dg(e.v):e.w=tu(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&xy(Vr[n]||String(n))){var a=L0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Pb(e,t,r){return{v:e,ixfe:t,t:r}}function pVe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},s=null,l=[],u="",d={},f,h="",m,x,g,y,_={},b=[],S,C,E=[],O=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},L=function(At){return At<8?z0[At]:At<64&&O[At-8]||z0[At]},U=function(At,ut,wr){var nr=ut.XF.data;if(!(!nr||!nr.patternType||!wr||!wr.cellStyles)){ut.s={},ut.s.patternType=nr.patternType;var Jr;(Jr=pw(L(nr.icvFore)))&&(ut.s.fgColor={rgb:Jr}),(Jr=pw(L(nr.icvBack)))&&(ut.s.bgColor={rgb:Jr})}},P=function(At,ut,wr){if(!(Z>1)&&!(wr.sheetRows&&At.r>=wr.sheetRows)){if(wr.cellStyles&&ut.XF&&ut.XF.data&&U(At,ut,wr),delete ut.ixfe,delete ut.XF,f=At,h=Xr(At),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),At.r<o.s.r&&(o.s.r=At.r),At.c<o.s.c&&(o.s.c=At.c),At.r+1>o.e.r&&(o.e.r=At.r+1),At.c+1>o.e.c&&(o.e.c=At.c+1),wr.cellFormula&&ut.f){for(var nr=0;nr<b.length;++nr)if(!(b[nr][0].s.c>At.c||b[nr][0].s.r>At.r)&&!(b[nr][0].e.c<At.c||b[nr][0].e.r<At.r)){ut.F=mn(b[nr][0]),(b[nr][0].s.c!=At.c||b[nr][0].s.r!=At.r)&&delete ut.f,ut.f&&(ut.f=""+Es(b[nr][1],o,At,q,M));break}}wr.dense?(a[At.r]||(a[At.r]=[]),a[At.r][At.c]=ut):a[h]=ut}},M={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(M.password=t.password);var j,V=[],X=[],te=[],z=[],G=!1,q=[];q.SheetNames=M.snames,q.sharedf=M.sharedf,q.arrayf=M.arrayf,q.names=[],q.XTI=[];var Y=0,Z=0,D=0,K=[],Q=[],ie;M.codepage=1200,qu(1200);for(var ae=!1;e.l<e.length-1;){var oe=e.l,de=e.read_shift(2);if(de===0&&Y===10)break;var J=e.l===e.length?0:e.read_shift(2),ue=u8[de];if(ue&&ue.f){if(t.bookSheets&&Y===133&&de!==133)break;if(Y=de,ue.r===2||ue.r==12){var ge=e.read_shift(2);if(J-=2,!M.enc&&ge!==de&&((ge&255)<<8|ge>>8)!==de)throw new Error("rt mismatch: "+ge+"!="+de);ue.r==12&&(e.l+=10,J-=10)}var ne={};if(de===10?ne=ue.f(e,J,M):ne=hVe(de,ue,e,J,M),Z==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(de){case 34:r.opts.Date1904=T.WBProps.date1904=ne;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(M.enc||(e.l=0),M.enc=ne,!t.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=ne;break;case 66:var Ne=Number(ne);switch(Ne){case 21010:Ne=1200;break;case 32768:Ne=1e4;break;case 32769:Ne=1252;break}qu(M.codepage=Ne),ae=!0;break;case 317:M.rrtabid=ne;break;case 25:M.winlocked=ne;break;case 439:r.opts.RefreshAll=ne;break;case 12:r.opts.CalcCount=ne;break;case 16:r.opts.CalcDelta=ne;break;case 17:r.opts.CalcIter=ne;break;case 13:r.opts.CalcMode=ne;break;case 14:r.opts.CalcPrecision=ne;break;case 95:r.opts.CalcSaveRecalc=ne;break;case 15:M.CalcRefMode=ne;break;case 2211:r.opts.FullCalc=ne;break;case 129:ne.fDialog&&(a["!type"]="dialog"),ne.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),ne.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:E.push(ne);break;case 430:q.push([ne]),q[q.length-1].XTI=[];break;case 35:case 547:q[q.length-1].push(ne);break;case 24:case 536:ie={Name:ne.Name,Ref:Es(ne.rgce,o,null,q,M)},ne.itab>0&&(ie.Sheet=ne.itab-1),q.names.push(ie),q[0]||(q[0]=[],q[0].XTI=[]),q[q.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(Q[ne.itab-1]={ref:mn(ne.rgce[0][0][1][2])});break;case 22:M.ExternCount=ne;break;case 23:q.length==0&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat(ne),q.XTI=q.XTI.concat(ne);break;case 2196:if(M.biff<8)break;ie!=null&&(ie.Comment=ne[1]);break;case 18:a["!protect"]=ne;break;case 19:ne!==0&&M.WTF&&console.error("Password verifier: "+ne);break;case 133:i[ne.pos]=ne,M.snames.push(ne.name);break;case 10:{if(--Z)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=mn(o),t.sheetRows&&t.sheetRows<=o.e.r){var Re=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=mn(o),o.e.r=Re}o.e.r++,o.e.c++}V.length>0&&(a["!merges"]=V),X.length>0&&(a["!objects"]=X),te.length>0&&(a["!cols"]=te),z.length>0&&(a["!rows"]=z),T.Sheets.push(I)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),M.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(M.biff=5,ae=!0,qu(M.codepage=28591)),M.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(M.biff=2),Z++)break;if(a=t.dense?[]:{},M.biff<8&&!ae&&(ae=!0,qu(M.codepage=t.codepage||1252)),M.biff<5||ne.BIFFVer==0&&ne.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var De={pos:e.l-J,name:u};i[De.pos]=De,M.snames.push(u)}else u=(i[oe]||{name:""}).name;ne.dt==32&&(a["!type"]="chart"),ne.dt==64&&(a["!type"]="macro"),V=[],X=[],M.arrayf=b=[],te=[],z=[],G=!1,I={Hidden:(i[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[ne.r]||[])[ne.c]:a[Xr({c:ne.c,r:ne.r})])&&++ne.c,S={ixfe:ne.ixfe,XF:E[ne.ixfe]||{},v:ne.val,t:"n"},D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ne.c,r:ne.r},S,t);break;case 5:case 517:S={ixfe:ne.ixfe,XF:E[ne.ixfe],v:ne.val,t:ne.t},D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ne.c,r:ne.r},S,t);break;case 638:S={ixfe:ne.ixfe,XF:E[ne.ixfe],v:ne.rknum,t:"n"},D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ne.c,r:ne.r},S,t);break;case 189:for(var pe=ne.c;pe<=ne.C;++pe){var Je=ne.rkrec[pe-ne.c][0];S={ixfe:Je,XF:E[Je],v:ne.rkrec[pe-ne.c][1],t:"n"},D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:pe,r:ne.r},S,t)}break;case 6:case 518:case 1030:{if(ne.val=="String"){s=ne;break}if(S=Pb(ne.val,ne.cell.ixfe,ne.tt),S.XF=E[S.ixfe],t.cellFormula){var mt=ne.formula;if(mt&&mt[0]&&mt[0][0]&&mt[0][0][0]=="PtgExp"){var dt=mt[0][0][1][0],Tt=mt[0][0][1][1],lt=Xr({r:dt,c:Tt});_[lt]?S.f=""+Es(ne.formula,o,ne.cell,q,M):S.F=((t.dense?(a[dt]||[])[Tt]:a[lt])||{}).F}else S.f=""+Es(ne.formula,o,ne.cell,q,M)}D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P(ne.cell,S,t),s=ne}break;case 7:case 519:if(s)s.val=ne,S=Pb(ne,s.cell.ixfe,"s"),S.XF=E[S.ixfe],t.cellFormula&&(S.f=""+Es(s.formula,o,s.cell,q,M)),D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P(s.cell,S,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(ne);var _e=Xr(ne[0].s);if(m=t.dense?(a[ne[0].s.r]||[])[ne[0].s.c]:a[_e],t.cellFormula&&m){if(!s||!_e||!m)break;m.f=""+Es(ne[1],o,ne[0],q,M),m.F=mn(ne[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!s)break;_[Xr(s.cell)]=ne[0],m=t.dense?(a[s.cell.r]||[])[s.cell.c]:a[Xr(s.cell)],(m||{}).f=""+Es(ne[0],o,f,q,M)}}break;case 253:S=Pb(l[ne.isst].t,ne.ixfe,"s"),l[ne.isst].h&&(S.h=l[ne.isst].h),S.XF=E[S.ixfe],D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ne.c,r:ne.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:ne.ixfe,XF:E[ne.ixfe],t:"z"},D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ne.c,r:ne.r},S,t));break;case 190:if(t.sheetStubs)for(var Ce=ne.c;Ce<=ne.C;++Ce){var We=ne.ixfe[Ce-ne.c];S={ixfe:We,XF:E[We],t:"z"},D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:Ce,r:ne.r},S,t)}break;case 214:case 516:case 4:S=Pb(ne.val,ne.ixfe,"s"),S.XF=E[S.ixfe],D>0&&(S.z=K[S.ixfe>>8&63]),Dd(S,t,r.opts.Date1904),P({c:ne.c,r:ne.r},S,t);break;case 0:case 512:Z===1&&(o=ne);break;case 252:l=ne;break;case 1054:if(M.biff==4){K[D++]=ne[1];for(var ft=0;ft<D+163&&Vr[ft]!=ne[1];++ft);ft>=163&&hh(ne[1],D+163)}else hh(ne[1],ne[0]);break;case 30:{K[D++]=ne;for(var vt=0;vt<D+163&&Vr[vt]!=ne;++vt);vt>=163&&hh(ne,D+163)}break;case 229:V=V.concat(ne);break;case 93:X[ne.cmo[0]]=M.lastobj=ne;break;case 438:M.lastobj.TxO=ne;break;case 127:M.lastobj.ImData=ne;break;case 440:for(y=ne[0].s.r;y<=ne[0].e.r;++y)for(g=ne[0].s.c;g<=ne[0].e.c;++g)m=t.dense?(a[y]||[])[g]:a[Xr({c:g,r:y})],m&&(m.l=ne[1]);break;case 2048:for(y=ne[0].s.r;y<=ne[0].e.r;++y)for(g=ne[0].s.c;g<=ne[0].e.c;++g)m=t.dense?(a[y]||[])[g]:a[Xr({c:g,r:y})],m&&m.l&&(m.l.Tooltip=ne[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;m=t.dense?(a[ne[0].r]||[])[ne[0].c]:a[Xr(ne[0])];var Fe=X[ne[2]];m||(t.dense?(a[ne[0].r]||(a[ne[0].r]=[]),m=a[ne[0].r][ne[0].c]={t:"z"}):m=a[Xr(ne[0])]={t:"z"},o.e.r=Math.max(o.e.r,ne[0].r),o.s.r=Math.min(o.s.r,ne[0].r),o.e.c=Math.max(o.e.c,ne[0].c),o.s.c=Math.min(o.s.c,ne[0].c)),m.c||(m.c=[]),x={a:ne[1],t:Fe.TxO.t},m.c.push(x)}break;case 2173:tBe(E[ne.ixfe],ne.ext);break;case 125:{if(!M.cellStyles)break;for(;ne.e>=ne.s;)te[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},G||(G=!0,JR(ne.w/256)),xm(te[ne.e+1])}break;case 520:{var Ve={};ne.level!=null&&(z[ne.r]=Ve,Ve.level=ne.level),ne.hidden&&(z[ne.r]=Ve,Ve.hidden=!0),ne.hpt&&(z[ne.r]=Ve,Ve.hpt=ne.hpt,Ve.hpx=Q1(ne.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||H0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=ne;break;case 161:a["!margins"]||H0(a["!margins"]={}),a["!margins"].header=ne.header,a["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(T.Views[0].RTL=!0);break;case 146:O=ne;break;case 2198:j=ne;break;case 140:C=ne;break;case 442:u?I.CodeName=ne||I.name:T.WBProps.CodeName=ne||"ThisWorkbook";break}}else ue||console.error("Missing Info for XLS Record 0x"+de.toString(16)),e.l+=J}return r.SheetNames=Ti(i).sort(function(_t,At){return Number(_t)-Number(At)}).map(function(_t){return i[_t].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&Q.forEach(function(_t,At){r.Sheets[r.SheetNames[At]]["!autofilter"]=_t}),r.Strings=l,r.SSF=Xa(Vr),M.enc&&(r.Encryption=M.enc),j&&(r.Themes=j),r.Metadata={},C!==void 0&&(r.Metadata.Country=C),q.names.length>0&&(T.Names=q.names),r.Workbook=T,r}var X2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function mVe(e,t,r){var n=Rr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=PW(n,n8,X2.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Rr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=PW(o,a8,X2.SI);for(var l in s)t[l]==null&&(t[l]=s[l])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(uae(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function gVe(e,t){var r=[],n=[],a=[],i=0,o,s=oW(n8,"n"),l=oW(a8,"n");if(e.Props)for(o=Ti(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(s,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Ti(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(s,o[i])?r:Object.prototype.hasOwnProperty.call(l,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)vae.indexOf(a[i][0])>-1||cae.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Rr.utils.cfb_add(t,"/SummaryInformation",OW(n,X2.SI,l,a8)),(r.length||u.length)&&Rr.utils.cfb_add(t,"/DocumentSummaryInformation",OW(r,X2.DSI,s,n8,u.length?u:null,X2.UDI))}function fie(e,t){t||(t={}),s7(t),CR(),t.codepage&&ER(t.codepage);var r,n;if(e.FullPaths){if(Rr.find(e,"/encryption"))throw new Error("File is password-protected");r=Rr.find(e,"!CompObj"),n=Rr.find(e,"/Workbook")||Rr.find(e,"/Book")}else{switch(t.type){case"base64":e=lc(yc(e));break;case"binary":e=lc(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ts(e,0),n={content:e}}var a,i;if(r&&dVe(r),t.bookProps&&!t.bookSheets)a={};else{var o=Sn?"buffer":"array";if(n&&n.content)a=pVe(n.content,t);else if((i=Rr.find(e,"PerfectOffice_MAIN"))&&i.content)a=V0.to_workbook(i.content,(t.type=o,t));else if((i=Rr.find(e,"NativeContent_MAIN"))&&i.content)a=V0.to_workbook(i.content,(t.type=o,t));else throw(i=Rr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Rr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=TBe(e))}var s={};return e.FullPaths&&mVe(e,s,t),a.Props=a.Custprops=s,t.bookFiles&&(a.cfb=e),a}function vVe(e,t){var r=t||{},n=Rr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Rr.utils.cfb_add(n,a,hie(e,r)),r.biff==8&&(e.Props||e.Custprops)&&gVe(e,n),r.biff==8&&e.vbaraw&&PBe(n,Rr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var yw={0:{f:Uqe},1:{f:Yqe},2:{f:pze},3:{f:nze},4:{f:Qqe},5:{f:dze},6:{f:xze},7:{f:sze},8:{f:Nze},9:{f:kze},10:{f:Sze},11:{f:Aze},12:{f:Zqe},13:{f:gze},14:{f:ize},15:{f:tze},16:{f:aie},17:{f:_ze},18:{f:cze},19:{f:qR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_We},40:{},42:{},43:{f:x$e},44:{f:v$e},45:{f:b$e},46:{f:A$e},47:{f:S$e},48:{},49:{f:WFe},50:{},51:{f:aBe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Cae},62:{f:yze},63:{f:hBe},64:{f:qze},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:$s,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:jze},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Gqe},148:{f:Wqe,p:16},151:{f:Dze},152:{},153:{f:yWe},154:{},155:{},156:{f:gWe},157:{},158:{},159:{T:1,f:Rje},160:{T:-1},161:{T:1,f:Rg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Eze},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:rBe},336:{T:-1},337:{f:sBe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:r8},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Eae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ize},427:{f:Rze},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Fze},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Hqe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Pze},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:r8},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:ABe},633:{T:1},634:{T:-1},635:{T:1,f:bBe},636:{T:-1},637:{f:KFe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:iWe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:zze},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},u8={6:{f:VT},10:{f:Op},12:{f:no},13:{f:no},14:{f:Li},15:{f:Li},16:{f:Os},17:{f:Li},18:{f:Li},19:{f:no},20:{f:LW},21:{f:LW},23:{f:Eae},24:{f:$W},25:{f:Li},26:{},27:{},28:{f:z9e},29:{},34:{f:Li},35:{f:jW},38:{f:Os},39:{f:Os},40:{f:Os},41:{f:Os},42:{f:Li},43:{f:Li},47:{f:t$e},49:{f:g9e},51:{f:no},60:{},61:{f:d9e},64:{f:Li},65:{f:m9e},66:{f:no},77:{},80:{},81:{},82:{},85:{f:no},89:{},90:{},91:{},92:{f:e9e},93:{f:H9e},94:{},95:{f:Li},96:{},97:{},99:{f:Li},125:{f:Cae},128:{f:O9e},129:{f:r9e},130:{f:no},131:{f:Li},132:{f:Li},133:{f:n9e},134:{},140:{f:eje},141:{f:no},144:{},146:{f:nje},151:{},152:{},153:{},154:{},155:{},156:{f:no},157:{},158:{},160:{f:uje},161:{f:oje},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:E9e},190:{f:C9e},193:{f:Op},197:{},198:{},199:{},200:{},201:{},202:{f:Li},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:no},220:{},221:{f:Li},222:{},224:{f:P9e},225:{f:QLe},226:{f:Op},227:{},229:{f:W9e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:i9e},253:{f:y9e},255:{f:s9e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:yae},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Li},353:{f:Op},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:F9e},431:{f:Li},432:{},433:{},434:{},437:{},438:{f:Y9e},439:{f:Li},440:{f:X9e},441:{},442:{f:n_},443:{},444:{f:no},445:{},446:{},448:{f:Op},449:{f:u9e,r:2},450:{f:Op},512:{f:RW},513:{f:cje},515:{f:R9e},516:{f:w9e},517:{f:FW},519:{f:dje},520:{f:l9e},523:{},545:{f:BW},549:{f:IW},566:{},574:{f:h9e},638:{f:N9e},659:{},1048:{},1054:{f:b9e},1084:{},1212:{f:B9e},2048:{f:J9e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Eb},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Op},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:aje,r:12},2173:{f:eBe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Li,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:$9e,r:12},2197:{},2198:{f:K$e,r:12},2199:{},2200:{},2201:{},2202:{f:U9e,r:12},2203:{f:Op},2204:{},2205:{},2206:{},2207:{},2211:{f:c9e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:no},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:sje},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:rje},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:RW},1:{},2:{f:gje},3:{f:pje},4:{f:hje},5:{f:FW},7:{f:yje},8:{},9:{f:Eb},11:{},22:{f:no},30:{f:A9e},31:{},32:{},33:{f:BW},36:{},37:{f:IW},50:{f:xje},62:{},52:{},67:{},68:{f:no},69:{},86:{},126:{},127:{f:fje},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:wje},223:{},234:{},354:{},421:{},518:{f:VT},521:{f:Eb},536:{f:$W},547:{f:jW},561:{},579:{},1030:{f:VT},1033:{f:Eb},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function tr(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&$R(r)&&e.push(r)}}function yVe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return tr(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],s=0,l=0,u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function s_(e,t,r){return e||(e=Nt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function xVe(e,t,r,n){var a=Nt(9);return s_(a,e,t),xae(r,n||"b",a),a}function wVe(e,t,r){var n=Nt(8+2*r.length);return s_(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function _Ve(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?wo(Ya(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?tr(e,2,vje(r,n,a)):tr(e,3,mje(r,n,a));return;case"b":case"e":tr(e,5,xVe(r,n,t.v,t.t));return;case"s":case"str":tr(e,4,wVe(r,n,(t.v||"").slice(0,255)));return}tr(e,1,s_(null,r,n))}function bVe(e,t,r,n){var a=Array.isArray(t),i=Wn(t["!ref"]||"A1"),o,s="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=mn(i)}for(var u=i.s.r;u<=i.e.r;++u){s=Ki(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(l[d]=hi(d)),o=l[d]+s;var f=a?(t[u]||[])[d]:t[o];f&&_Ve(e,f,u,d)}}}function SVe(e,t){for(var r=t||{},n=Ml(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return tr(n,r.biff==4?1033:r.biff==3?521:9,YR(e,16,r)),bVe(n,e.Sheets[e.SheetNames[a]],a,r),tr(n,10),n.end()}function AVe(e,t,r){tr(e,49,v9e({sz:12,name:"Arial"},r))}function kVe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&tr(e,1054,S9e(a,t[a],r))})}function NVe(e,t){var r=Nt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),tr(e,2151,r),r=Nt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Aae(Wn(t["!ref"]||"A1"),r),r.write_shift(4,4),tr(e,2152,r)}function EVe(e,t){for(var r=0;r<16;++r)tr(e,224,MW({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){tr(e,224,MW(n,0,t))})}function CVe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];tr(e,440,Z9e(n)),n[1].Tooltip&&tr(e,2048,Q9e(n))}delete t["!links"]}function TVe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&tr(e,125,ije(z3(a,n),a))})}}function PVe(e,t,r,n,a){var i=16+jm(a.cellXfs,t,a);if(t.v==null&&!t.bf){tr(e,513,mg(r,n,i));return}if(t.bf)tr(e,6,rqe(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?wo(Ya(t.v)):t.v;tr(e,515,M9e(r,n,o,i));break;case"b":case"e":tr(e,517,I9e(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var s=n7(a.Strings,t.v,a.revStrings);tr(e,253,x9e(r,n,s,i))}else tr(e,516,_9e(r,n,(t.v||"").slice(0,255),i,a));break;default:tr(e,513,mg(r,n,i))}}function OVe(e,t,r){var n=Ml(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},s=(o.Sheets||[])[e]||{},l=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=Wn(i["!ref"]||"A1"),x=u?65536:16384;if(m.e.c>255||m.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,x-1)}tr(n,2057,YR(r,16,t)),tr(n,13,Wc(1)),tr(n,12,Wc(100)),tr(n,15,rl(!0)),tr(n,17,rl(!1)),tr(n,16,hg(.001)),tr(n,95,rl(!0)),tr(n,42,rl(!1)),tr(n,43,rl(!1)),tr(n,130,Wc(1)),tr(n,128,D9e()),tr(n,131,rl(!1)),tr(n,132,rl(!1)),u&&TVe(n,i["!cols"]),tr(n,512,k9e(m,t)),u&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=Ki(g);for(var y=m.s.c;y<=m.e.c;++y){g===m.s.r&&(h[y]=hi(y)),d=h[y]+f;var _=l?(i[g]||[])[y]:i[d];_&&(PVe(n,_,g,y,t),u&&_.l&&i["!links"].push([d,_.l]))}}var b=s.CodeName||s.name||a;return u&&tr(n,574,p9e((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&tr(n,229,V9e(i["!merges"])),u&&CVe(n,i),tr(n,442,wae(b)),u&&NVe(n,i),tr(n,10),n.end()}function DVe(e,t,r){var n=Ml(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},s=r.biff==8,l=r.biff==5;if(tr(n,2057,YR(e,5,r)),r.bookType=="xla"&&tr(n,135),tr(n,225,s?Wc(1200):null),tr(n,193,ILe(2)),l&&tr(n,191),l&&tr(n,192),tr(n,226),tr(n,92,t9e("SheetJS",r)),tr(n,66,Wc(s?1200:1252)),s&&tr(n,353,Wc(0)),s&&tr(n,448),tr(n,317,lje(e.SheetNames.length)),s&&e.vbaraw&&tr(n,211),s&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";tr(n,442,wae(u))}tr(n,156,Wc(17)),tr(n,25,rl(!1)),tr(n,18,rl(!1)),tr(n,19,Wc(0)),s&&tr(n,431,rl(!1)),s&&tr(n,444,Wc(0)),tr(n,61,f9e()),tr(n,64,rl(!1)),tr(n,141,Wc(0)),tr(n,34,rl(uWe(e)=="true")),tr(n,14,rl(!0)),s&&tr(n,439,rl(!1)),tr(n,218,Wc(0)),AVe(n,e,r),kVe(n,e.SSF,r),EVe(n,r),s&&tr(n,352,rl(!1));var d=n.end(),f=Ml();s&&tr(f,140,tje()),s&&r.Strings&&yVe(f,252,o9e(r.Strings)),tr(f,10);var h=f.end(),m=Ml(),x=0,g=0;for(g=0;g<e.SheetNames.length;++g)x+=(s?12:11)+(s?2:1)*e.SheetNames[g].length;var y=d.length+x+h.length;for(g=0;g<e.SheetNames.length;++g){var _=i[g]||{};tr(m,133,a9e({pos:y,hs:_.Hidden||0,dt:0,name:e.SheetNames[g]},r)),y+=t[g].length}var b=m.end();if(x!=b.length)throw new Error("BS8 "+x+" != "+b.length);var S=[];return d.length&&S.push(d),b.length&&S.push(b),h.length&&S.push(h),jo(S)}function IVe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Xa(Vr)),e&&e.SSF&&(wy(),F3(e.SSF),r.revssf=j3(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,l7(r),r.cellXfs=[],jm(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=OVe(a,r,e);return n.unshift(DVe(e,n,r)),jo(n)}function hie(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Fl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return IVe(e,t);case 4:case 3:case 2:return SVe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function XW(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,s=i&&i.index||e.length,l=vFe(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(o=0;o<l.length;++o){var g=l[o].trim(),y=g.slice(0,3).toLowerCase();if(y=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(y!="<td"&&y!="<th")){var _=g.split(/<\/t[dh]>/i);for(s=0;s<_.length;++s){var b=_[s].trim();if(b.match(/<t[dh]/i)){for(var S=b,C=0;S.charAt(0)=="<"&&(C=S.indexOf(">"))>-1;)S=S.slice(C+1);for(var E=0;E<x.length;++E){var O=x[E];O.s.c==d&&O.s.r<u&&u<=O.e.r&&(d=O.e.c+1,E=-1)}var T=tn(b.slice(0,b.indexOf(">")));h=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||h>1)&&x.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var I=T.t||T["data-t"]||"";if(!S.length){d+=h;continue}if(S=Lne(S),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!S.length){d+=h;continue}var L={t:"s",v:S};r.raw||!S.trim().length||I=="s"||(S==="TRUE"?L={t:"b",v:!0}:S==="FALSE"?L={t:"b",v:!1}:isNaN(Gu(S))?isNaN(Z1(S).getDate())||(L={t:"d",v:Ya(S)},r.cellDates||(L={t:"n",v:wo(L.v)}),L.z=r.dateNF||Vr[14]):L={t:"n",v:Gu(S)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=L):n[Xr({r:u,c:d})]=L,d+=h}}}}return n["!ref"]=mn(m),x.length&&(n["!merges"]=x),n}function RVe(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){s=-1;break}s=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(s<0)){var d=Xr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||FR(f.w||(Sh(f),f.w)||""))||"",m={};s>1&&(m.rowspan=s),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(er("td",h,m))}}var x="<tr>";return x+i.join("")+"</tr>"}var MVe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',FVe="</body></html>";function LVe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Lm(XW(r[0],t),t);var n=f7();return r.forEach(function(a,i){h7(n,XW(a,t),"Sheet"+(i+1))}),n}function jVe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function pie(e,t){var r=t||{},n=r.header!=null?r.header:MVe,a=r.footer!=null?r.footer:FVe,i=[n],o=Fl(e["!ref"]);r.dense=Array.isArray(e),i.push(jVe(e,o,r));for(var s=o.s.r;s<=o.e.r;++s)i.push(RVe(e,o,s,r));return i.push("</table>"+a),i.join("")}function mie(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?pi(n.origin):n.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Fl(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),x=0,g=0,y=0,_=0,b=0,S=0;for(e["!cols"]||(e["!cols"]=[]);x<s.length&&g<l;++x){var C=s[x];if(ZW(C)){if(n.display)continue;m[g]={hidden:!0}}var E=C.children;for(y=_=0;y<E.length;++y){var O=E[y];if(!(n.display&&ZW(O))){var T=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):Lne(O.innerHTML),I=O.getAttribute("data-z")||O.getAttribute("z");for(h=0;h<f.length;++h){var L=f[h];L.s.c==_+i&&L.s.r<g+a&&g+a<=L.e.r&&(_=L.e.c+1-i,h=-1)}S=+O.getAttribute("colspan")||1,((b=+O.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:g+a,c:_+i},e:{r:g+a+(b||1)-1,c:_+i+(S||1)-1}});var U={t:"s",v:T},P=O.getAttribute("data-t")||O.getAttribute("t")||"";T!=null&&(T.length==0?U.t=P||"z":n.raw||T.trim().length==0||P=="s"||(T==="TRUE"?U={t:"b",v:!0}:T==="FALSE"?U={t:"b",v:!1}:isNaN(Gu(T))?isNaN(Z1(T).getDate())||(U={t:"d",v:Ya(T)},n.cellDates||(U={t:"n",v:wo(U.v)}),U.z=n.dateNF||Vr[14]):U={t:"n",v:Gu(T)})),U.z===void 0&&I!=null&&(U.z=I);var M="",j=O.getElementsByTagName("A");if(j&&j.length)for(var V=0;V<j.length&&!(j[V].hasAttribute("href")&&(M=j[V].getAttribute("href"),M.charAt(0)!="#"));++V);M&&M.charAt(0)!="#"&&(U.l={Target:M}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][_+i]=U):e[Xr({c:_+i,r:g+a})]=U,u.e.c<_+i&&(u.e.c=_+i),_+=S}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=mn(u),g>=l&&(e["!fullref"]=mn((u.e.r=s.length-x+g-1+a,u))),e}function gie(e,t){var r=t||{},n=r.dense?[]:{};return mie(n,e,t)}function $Ve(e,t){return Lm(gie(e,t),t)}function ZW(e){var t="",r=BVe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function BVe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function UVe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=zn(t.replace(/<[^>]*>/g,""));return[r]}var JW={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function vie(e,t){var r=t||{},n=LR(e),a=[],i,o,s={name:""},l="",u=0,d,f,h={},m=[],x=r.dense?[]:{},g,y,_={value:""},b="",S=0,C=[],E=-1,O=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,L={},U=[],P={},M=0,j=0,V=[],X=1,te=1,z=[],G={Names:[]},q={},Y=["",""],Z=[],D={},K="",Q=0,ie=!1,ae=!1,oe=0;for(fw.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=fw.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"工作表":g[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?x["!ref"]=mn(T):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(x["!fullref"]=x["!ref"],T.e.r=r.sheetRows-1,x["!ref"]=mn(T)),U.length&&(x["!merges"]=U),V.length&&(x["!rows"]=V),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=x,ae=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=tn(g[0],!1),E=O=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,x=r.dense?[]:{},U=[],V=[],ae=!0);break;case"table-row-group":g[1]==="/"?--I:++I;break;case"table-row":case"行":if(g[1]==="/"){E+=X,X=1;break}if(f=tn(g[0],!1),f.行号?E=f.行号-1:E==-1&&(E=0),X=+f["number-rows-repeated"]||1,X<10)for(oe=0;oe<X;++oe)I>0&&(V[E+oe]={level:I});O=-1;break;case"covered-table-cell":g[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(x[E]||(x[E]=[]),x[E][O]={t:"z"}):x[Xr({r:E,c:O})]={t:"z"}),b="",C=[];break;case"table-cell":case"数据":if(g[0].charAt(g[0].length-2)==="/")++O,_=tn(g[0],!1),te=parseInt(_["number-columns-repeated"]||"1",10),y={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(y.f=GW(zn(_.formula))),(_.数据类型||_["value-type"])=="string"&&(y.t="s",y.v=zn(_["string-value"]||""),r.dense?(x[E]||(x[E]=[]),x[E][O]=y):x[Xr({r:E,c:O})]=y),O+=te-1;else if(g[1]!=="/"){++O,b="",S=0,C=[],te=1;var de=X?E+X-1:E;if(O>T.e.c&&(T.e.c=O),O<T.s.c&&(T.s.c=O),E<T.s.r&&(T.s.r=E),de>T.e.r&&(T.e.r=de),_=tn(g[0],!1),Z=[],D={},y={t:_.数据类型||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=zn(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(M=parseInt(_["number-matrix-rows-spanned"],10)||0,j=parseInt(_["number-matrix-columns-spanned"],10)||0,P={s:{r:E,c:O},e:{r:E+M-1,c:O+j-1}},y.F=mn(P),z.push([P,y.F])),_.formula)y.f=GW(_.formula);else for(oe=0;oe<z.length;++oe)E>=z[oe][0].s.r&&E<=z[oe][0].e.r&&O>=z[oe][0].s.c&&O<=z[oe][0].e.c&&(y.F=z[oe][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(M=parseInt(_["number-rows-spanned"],10)||0,j=parseInt(_["number-columns-spanned"],10)||0,P={s:{r:E,c:O},e:{r:E+M-1,c:O+j-1}},U.push(P)),_["number-columns-repeated"]&&(te=parseInt(_["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Ha(_["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(_.value);break;case"percentage":y.t="n",y.v=parseFloat(_.value);break;case"currency":y.t="n",y.v=parseFloat(_.value);break;case"date":y.t="d",y.v=Ya(_["date-value"]),r.cellDates||(y.t="n",y.v=wo(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=pFe(_["time-value"])/86400,r.cellDates&&(y.t="d",y.v=$3(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(_.数据数值);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",_["string-value"]!=null&&(b=zn(_["string-value"]),C=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(ie=!1,y.t==="s"&&(y.v=b||"",C.length&&(y.R=C),ie=S==0),q.Target&&(y.l=q),Z.length>0&&(y.c=Z,Z=[]),b&&r.cellText!==!1&&(y.w=b),ie&&(y.t="z",delete y.v),(!ie||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var J=0;J<X;++J){if(te=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(x[E+J]||(x[E+J]=[]),x[E+J][O]=J==0?y:Xa(y);--te>0;)x[E+J][O+te]=Xa(y);else for(x[Xr({r:E+J,c:O})]=y;--te>0;)x[Xr({r:E+J,c:O+te})]=Xa(y);T.e.c<=O&&(T.e.c=O)}te=parseInt(_["number-columns-repeated"]||"1",10),O+=te-1,te=0,y={},b="",C=[]}q={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;D.t=b,C.length&&(D.R=C),D.a=K,Z.push(D)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);K="",Q=0,b="",S=0,C=[];break;case"creator":g[1]==="/"?K=n.slice(Q,g.index):Q=g.index+g[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",S=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(L[s.name]=l,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(l="",s=tn(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=tn(g[0],!1),l+=JW[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=tn(g[0],!1),l+=JW[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=tn(g[0],!1),Y=HT(o["cell-range-address"]);var ue={Name:o.name,Ref:Y[0]+"!"+Y[1]};ae&&(ue.Sheet=m.length),G.Names.push(ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!_||!_["string-value"])){var ge=UVe(n.slice(S,g.index));b=(b.length>0?b+`
`:"")+ge[0]}else tn(g[0],!1),S=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Y=HT(tn(g[0])["target-range-address"]),h[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(q=tn(g[0],!1),!q.href)break;q.Target=zn(q.href),delete q.href,q.Target.charAt(0)=="#"&&q.Target.indexOf(".")>-1?(Y=HT(q.Target.slice(1)),q.Target="#"+Y[0]+"!"+Y[1]):q.Target.match(/^\.\.[\\\/]/)&&(q.Target=q.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(g)}}var ne={Sheets:h,SheetNames:m,Workbook:G};return r.bookSheets&&delete ne.Sheets,ne}function QW(e,t){t=t||{},zc(e,"META-INF/manifest.xml")&&pLe(ro(e,"META-INF/manifest.xml"),t);var r=cc(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=vie(_a(r),t);return zc(e,"meta.xml")&&(n.Props=sae(ro(e,"meta.xml"))),n}function eV(e,t){return vie(e,t)}var qVe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+dw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Xi+t}}(),tV=function(){var e=function(i){return ya(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,s){var l=[];l.push('      <table:table table:name="'+ya(o.SheetNames[s])+`" table:style-name="ta1">
`);var u=0,d=0,f=Fl(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,x=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",y=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=y[u]?' table:style-name="ro'+y[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var _=!1,b={},S="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(_=!0),b["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,b["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(_){l.push(r);continue}var C=Xr({r:u,c:d}),E=x?(i[u]||[])[d]:i[C];if(E&&E.f&&(b["table:formula"]=ya(lqe(E.f)),E.F&&E.F.slice(0,C.length)==C)){var O=Fl(E.F);b["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,b["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!E){l.push(t);continue}switch(E.t){case"b":S=E.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=E.v?"true":"false";break;case"n":S=E.w||String(E.v||0),b["office:value-type"]="float",b["office:value"]=E.v||0;break;case"s":case"str":S=E.v==null?"":E.v,b["office:value-type"]="string";break;case"d":S=E.w||Ya(E.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Ya(E.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(t);continue}var T=e(S);if(E.l&&E.l.Target){var I=E.l.Target;I=I.charAt(0)=="#"?"#"+cqe(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),T=er("text:a",T,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+er("table:table-cell",er("text:p",T,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;xm(f),f.ods=s;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++s}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,s){var l=[Xi],u=dw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=dw({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(oae().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),a(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)l.push(n(o.Sheets[o.SheetNames[f]],o,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),s.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function yie(e,t){if(t.bookType=="fods")return tV(e,t);var r=IR(),n="",a=[],i=[];return n="mimetype",wn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",wn(r,n,tV(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",wn(r,n,qVe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",wn(r,n,Xi+oae()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",wn(r,n,vLe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",wn(r,n,mLe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function gg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function d8(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):_a(Fm(e))}function zVe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):lc(Kd(e))}function WVe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function _m(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function rV(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function VVe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function HVe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function xw(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ga(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ei(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Xn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=xw(e,r),i=a&7;a=Math.floor(a/8);var o=0,s;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);s=e.slice(l,r[0])}break;case 5:o=4,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=xw(e,r),s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:s,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Jo(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(ga(n*8+a.type)),a.type==2&&t.push(ga(a.data.length)),t.push(a.data))})}),_m(t)}function o7(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Uc(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=xw(e,n),i=Xn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Ei(i[1][0].data),messages:[]};i[2].forEach(function(s){var l=Xn(s.data),u=Ei(l[3][0].data);o.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Ei(i[3][0].data)>>>0>0),r.push(o)}return r}function Pv(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:ga(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:ga(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:ga(o.data.length)}],n[2].push({data:Jo(o.meta),type:2})});var i=Jo(n);t.push(ga(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),_m(t)}function GVe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=xw(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[r[0]],s>1&&(o|=t[r[0]+1]<<8),s>2&&(o|=t[r[0]+2]<<16),s>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=s}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[_m(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=_m(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function qc(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(GVe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return _m(t)}function Ov(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=ga(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return _m(t)}function KVe(e,t,r,n){var a=gg(e),i=a.getUint32(4,!0),o=(n>1?12:8)+rV(i&(n>1?3470:398))*4,s=-1,l=-1,u=NaN,d=new Date(2001,0,1);i&512&&(s=a.getUint32(o,!0),o+=4),o+=rV(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function YVe(e,t,r){var n=gg(e),a=n.getUint32(8,!0),i=12,o=-1,s=-1,l=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(l=VVe(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(s=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[s]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function KT(e,t){var r=new Uint8Array(32),n=gg(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,HVe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function YT(e,t){var r=new Uint8Array(32),n=gg(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function XVe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return KVe(e,t,r,e[0]);case 5:return YVe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ns(e){var t=Xn(e);return xw(t[1][0].data)}function nV(e,t){var r=Xn(t.data),n=Ei(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var s=Xn(o.data),l=Ei(s[1][0].data)>>>0;switch(n){case 1:i[l]=d8(s[3][0].data);break;case 8:{var u=e[Ns(s[9][0].data)][0],d=Xn(u.data),f=e[Ns(d[1][0].data)][0],h=Ei(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Xn(f.data);i[l]=m[3].map(function(x){return d8(x.data)}).join("")}break}}),i}function ZVe(e,t){var r,n,a,i,o,s,l,u,d,f,h,m,x,g,y=Xn(e),_=Ei(y[1][0].data)>>>0,b=Ei(y[2][0].data)>>>0,S=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&Ei(y[8][0].data)>0||!1,C,E;if((i=(a=y[7])==null?void 0:a[0])!=null&&i.data&&t!=0)C=(s=(o=y[7])==null?void 0:o[0])==null?void 0:s.data,E=(u=(l=y[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=y[4])==null?void 0:d[0])!=null&&f.data&&t!=1)C=(m=(h=y[4])==null?void 0:h[0])==null?void 0:m.data,E=(g=(x=y[3])==null?void 0:x[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=S?4:1,T=gg(C),I=[],L=0;L<C.length/2;++L){var U=T.getUint16(L*2,!0);U<65535&&I.push([L,U])}if(I.length!=b)throw"Expected ".concat(b," cells, found ").concat(I.length);var P=[];for(L=0;L<I.length-1;++L)P[I[L][0]]=E.subarray(I[L][1]*O,I[L+1][1]*O);return I.length>=1&&(P[I[I.length-1][0]]=E.subarray(I[I.length-1][1]*O)),{R:_,cells:P}}function JVe(e,t){var r,n=Xn(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ei(n[7][0].data)>>>0>0?1:0:-1,i=o7(n[5],function(o){return ZVe(o,a)});return{nrows:Ei(n[4][0].data)>>>0,data:i.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(l,u){if(o[s.R][u])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(u));o[s.R][u]=l}),o},[])}}function QVe(e,t,r){var n,a=Xn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ei(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ei(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=mn(i);var o=Xn(a[4][0].data),s=nV(e,e[Ns(o[4][0].data)][0]),l=(n=o[17])!=null&&n[0]?nV(e,e[Ns(o[17][0].data)][0]):[],u=Xn(o[3][0].data),d=0;u[1].forEach(function(f){var h=Xn(f.data),m=e[Ns(h[2][0].data)][0],x=Ei(m.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var g=JVe(e,m);g.data.forEach(function(y,_){y.forEach(function(b,S){var C=Xr({r:d+_,c:S}),E=XVe(b,s,l);E&&(r[C]=E)})}),d+=g.nrows})}function eHe(e,t){var r=Xn(t.data),n={"!ref":"A1"},a=e[Ns(r[2][0].data)],i=Ei(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return QVe(e,a[0],n),n}function tHe(e,t){var r,n=Xn(t.data),a={name:(r=n[1])!=null&&r[0]?d8(n[1][0].data):"",sheets:[]},i=o7(n[2],Ns);return i.forEach(function(o){e[o].forEach(function(s){var l=Ei(s.meta[1][0].data);l==6e3&&a.sheets.push(eHe(e,s))})}),a}function rHe(e,t){var r=f7(),n=Xn(t.data),a=o7(n[1],Ns);if(a.forEach(function(i){e[i].forEach(function(o){var s=Ei(o.meta[1][0].data);if(s==2){var l=tHe(e,o);l.sheets.forEach(function(u,d){h7(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function XT(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=qc(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=Uc(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var s=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ei(i[1][0].meta[1][0].data)==1&&i[1][0];if(s||o.forEach(function(l){i[l].forEach(function(u){var d=Ei(u.meta[1][0].data)>>>0;if(d==1)if(!s)s=u;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return rHe(i,s)}function nHe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ei(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var l=0,u=gg(e[7][0].data),d=0,f=[],h=gg(e[4][0].data),m=0,x=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),h.setUint16(g*2,m,!0);var y,_;switch(typeof t[g]){case"string":y=KT({t:"s",v:t[g]},r),_=YT({t:"s",v:t[g]},r);break;case"number":y=KT({t:"n",v:t[g]},r),_=YT({t:"n",v:t[g]},r);break;case"boolean":y=KT({t:"b",v:t[g]},r),_=YT({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(y),d+=y.length,x.push(_),m+=_.length,++l}for(e[2][0].data=ga(l);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=_m(f),e[3][0].data=_m(x),l}function aHe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Fl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(mn(n)));var i=GS(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(K){return K.forEach(function(Q){typeof Q=="string"&&o.push(Q)})});var s={},l=[],u=Rr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(K,Q){return[K,u.FullPaths[Q]]}).forEach(function(K){var Q=K[0],ie=K[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var ae=Q.content,oe=qc(ae),de=Uc(oe);de.forEach(function(J){l.push(J.id),s[J.id]={deps:[],location:ie,type:Ei(J.messages[0].meta[1][0].data)}})}}),l.sort(function(K,Q){return K-Q});var d=l.filter(function(K){return K>1}).map(function(K){return[K,ga(K)]});u.FileIndex.map(function(K,Q){return[K,u.FullPaths[Q]]}).forEach(function(K){var Q=K[0];if(K[1],!!Q.name.match(/\.iwa/)){var ie=Uc(qc(Q.content));ie.forEach(function(ae){ae.messages.forEach(function(oe){d.forEach(function(de){ae.messages.some(function(J){return Ei(J.meta[1][0].data)!=11006&&WVe(J.data,de[1])})&&s[de[0]].deps.push(ae.id)})})})}});for(var f=Rr.find(u,s[1].location),h=Uc(qc(f.content)),m,x=0;x<h.length;++x){var g=h[x];g.id==1&&(m=g)}var y=Ns(Xn(m.messages[0].data)[1][0].data);for(f=Rr.find(u,s[y].location),h=Uc(qc(f.content)),x=0;x<h.length;++x)g=h[x],g.id==y&&(m=g);for(y=Ns(Xn(m.messages[0].data)[2][0].data),f=Rr.find(u,s[y].location),h=Uc(qc(f.content)),x=0;x<h.length;++x)g=h[x],g.id==y&&(m=g);for(y=Ns(Xn(m.messages[0].data)[2][0].data),f=Rr.find(u,s[y].location),h=Uc(qc(f.content)),x=0;x<h.length;++x)g=h[x],g.id==y&&(m=g);var _=Xn(m.messages[0].data);{_[6][0].data=ga(n.e.r+1),_[7][0].data=ga(n.e.c+1);var b=Ns(_[46][0].data),S=Rr.find(u,s[b].location),C=Uc(qc(S.content));{for(var E=0;E<C.length&&C[E].id!=b;++E);if(C[E].id!=b)throw"Bad ColumnRowUIDMapArchive";var O=Xn(C[E].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var T=0;T<=n.e.c;++T){var I=[];I[1]=I[2]=[{type:0,data:ga(T+420690)}],O[1].push({type:2,data:Jo(I)}),O[2].push({type:0,data:ga(T)}),O[3].push({type:0,data:ga(T)})}O[4]=[],O[5]=[],O[6]=[];for(var L=0;L<=n.e.r;++L)I=[],I[1]=I[2]=[{type:0,data:ga(L+726270)}],O[4].push({type:2,data:Jo(I)}),O[5].push({type:0,data:ga(L)}),O[6].push({type:0,data:ga(L)});C[E].messages[0].data=Jo(O)}S.content=Ov(Pv(C)),S.size=S.content.length,delete _[46];var U=Xn(_[4][0].data);{U[7][0].data=ga(n.e.r+1);var P=Xn(U[1][0].data),M=Ns(P[2][0].data);S=Rr.find(u,s[M].location),C=Uc(qc(S.content));{if(C[0].id!=M)throw"Bad HeaderStorageBucket";var j=Xn(C[0].messages[0].data);for(L=0;L<i.length;++L){var V=Xn(j[2][0].data);V[1][0].data=ga(L),V[4][0].data=ga(i[L].length),j[2][L]={type:j[2][0].type,data:Jo(V)}}C[0].messages[0].data=Jo(j)}S.content=Ov(Pv(C)),S.size=S.content.length;var X=Ns(U[2][0].data);S=Rr.find(u,s[X].location),C=Uc(qc(S.content));{if(C[0].id!=X)throw"Bad HeaderStorageBucket";for(j=Xn(C[0].messages[0].data),T=0;T<=n.e.c;++T)V=Xn(j[2][0].data),V[1][0].data=ga(T),V[4][0].data=ga(n.e.r+1),j[2][T]={type:j[2][0].type,data:Jo(V)};C[0].messages[0].data=Jo(j)}S.content=Ov(Pv(C)),S.size=S.content.length;var te=Ns(U[4][0].data);(function(){for(var K=Rr.find(u,s[te].location),Q=Uc(qc(K.content)),ie,ae=0;ae<Q.length;++ae){var oe=Q[ae];oe.id==te&&(ie=oe)}var de=Xn(ie.messages[0].data);{de[3]=[];var J=[];o.forEach(function(ne,Ne){J[1]=[{type:0,data:ga(Ne)}],J[2]=[{type:0,data:ga(1)}],J[3]=[{type:2,data:zVe(ne)}],de[3].push({type:2,data:Jo(J)})})}ie.messages[0].data=Jo(de);var ue=Pv(Q),ge=Ov(ue);K.content=ge,K.size=K.content.length})();var z=Xn(U[3][0].data);{var G=z[1][0];delete z[2];var q=Xn(G.data);{var Y=Ns(q[2][0].data);(function(){for(var K=Rr.find(u,s[Y].location),Q=Uc(qc(K.content)),ie,ae=0;ae<Q.length;++ae){var oe=Q[ae];oe.id==Y&&(ie=oe)}var de=Xn(ie.messages[0].data);{delete de[6],delete z[7];var J=new Uint8Array(de[5][0].data);de[5]=[];for(var ue=0,ge=0;ge<=n.e.r;++ge){var ne=Xn(J);ue+=nHe(ne,i[ge],o),ne[1][0].data=ga(ge),de[5].push({data:Jo(ne),type:2})}de[1]=[{type:0,data:ga(n.e.c+1)}],de[2]=[{type:0,data:ga(n.e.r+1)}],de[3]=[{type:0,data:ga(ue)}],de[4]=[{type:0,data:ga(n.e.r+1)}]}ie.messages[0].data=Jo(de);var Ne=Pv(Q),Re=Ov(Ne);K.content=Re,K.size=K.content.length})()}G.data=Jo(q)}U[3][0].data=Jo(z)}_[4][0].data=Jo(U)}m.messages[0].data=Jo(_);var Z=Pv(h),D=Ov(Z);return f.content=D,f.size=f.content.length,u}function xie(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function s7(e){xie([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function l7(e){xie([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function iHe(e){return Nn.WS.indexOf(e)>-1?"sheet":e==Nn.CS?"chart":e==Nn.DS?"dialog":e==Nn.MS?"macro":e&&e.length?e:"sheet"}function oHe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,iHe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function sHe(e,t,r,n,a,i,o,s,l,u,d,f){try{i[n]=H2(cc(e,r,!0),t);var h=ro(e,t),m;switch(s){case"sheet":m=TWe(h,t,a,l,i[n],u,d,f);break;case"chart":if(m=PWe(h,t,a,l,i[n],u,d,f),!m||!m["!drawel"])break;var x=C2(m["!drawel"].Target,t),g=hw(x),y=gBe(cc(e,x,!0),H2(cc(e,g,!0),x)),_=C2(y,x),b=hw(_);m=nWe(cc(e,_,!0),_,l,H2(cc(e,b,!0),_),u,m);break;case"macro":m=OWe(h,t,a,l,i[n],u,d,f);break;case"dialog":m=DWe(h,t,a,l,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+s)}o[n]=m;var S=[];i&&i[n]&&Ti(i[n]).forEach(function(C){var E="";if(i[n][C].Type==Nn.CMNT){E=C2(i[n][C].Target,t);var O=FWe(ro(e,E,!0),E,l);if(!O||!O.length)return;qW(m,O,!1)}i[n][C].Type==Nn.TCMNT&&(E=C2(i[n][C].Target,t),S=S.concat(yBe(ro(e,E,!0),l)))}),S&&S.length&&qW(m,S,!0,l.people||[])}catch(C){if(l.WTF)throw C}}function $c(e){return e.charAt(0)=="/"?e.slice(1):e}function lHe(e,t){if(wy(),t=t||{},s7(t),zc(e,"META-INF/manifest.xml")||zc(e,"objectdata.xml"))return QW(e,t);if(zc(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof XT<"u"){if(e.FileIndex)return XT(e);var r=Rr.utils.cfb_new();return cW(e).forEach(function(V){wn(r,V,xFe(e,V))}),XT(r)}throw new Error("Unsupported NUMBERS file")}if(!zc(e,"[Content_Types].xml"))throw zc(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):zc(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=cW(e),a=fLe(cc(e,"[Content_Types].xml")),i=!1,o,s;if(a.workbooks.length===0&&(s="xl/workbook.xml",ro(e,s,!0)&&a.workbooks.push(s)),a.workbooks.length===0){if(s="xl/workbook.bin",!ro(e,s,!0))throw new Error("Could not find workbook");a.workbooks.push(s),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(G2=[],a.sst)try{G2=MWe(ro(e,$c(a.sst)),a.sst,t)}catch(V){if(t.WTF)throw V}t.cellStyles&&a.themes.length&&(l=RWe(cc(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=IWe(ro(e,$c(a.style)),a.style,l,t))}a.links.map(function(V){try{var X=H2(cc(e,hw($c(V))),V);return jWe(ro(e,$c(V)),X,V,t)}catch{}});var d=CWe(ro(e,$c(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ro(e,$c(a.coreprops[0]),!0),h&&(f=sae(h)),a.extprops.length!==0&&(h=ro(e,$c(a.extprops[0]),!0),h&&xLe(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=cc(e,$c(a.custprops[0]),!0),h&&(m=_Le(h,t)));var x={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(x.Props=f,x.Custprops=m),t.bookSheets&&typeof o<"u"&&(x.SheetNames=o),t.bookSheets?x.SheetNames:t.bookProps))return x;o={};var g={};t.bookDeps&&a.calcchain&&(g=LWe(ro(e,$c(a.calcchain)),a.calcchain));var y=0,_={},b,S;{var C=d.Sheets;f.Worksheets=C.length,f.SheetNames=[];for(var E=0;E!=C.length;++E)f.SheetNames[E]=C[E].name}var O=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),I=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");zc(e,I)||(I="xl/_rels/workbook."+O+".rels");var L=H2(cc(e,I,!0),I.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=$We(ro(e,$c(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=wBe(ro(e,$c(a.people[0])),t)),L&&(L=oHe(L,d.Sheets));var U=ro(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var P="sheet";if(L&&L[y]?(b="xl/"+L[y][1].replace(/[\/]?xl\//,""),zc(e,b)||(b=L[y][1]),zc(e,b)||(b=I.replace(/_rels\/.*$/,"")+L[y][1]),P=L[y][2]):(b="xl/worksheets/sheet"+(y+1-U)+"."+O,b=b.replace(/sheet0\./,"sheet.")),S=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var M=!1,j=0;j!=t.sheets.length;++j)typeof t.sheets[j]=="number"&&t.sheets[j]==y&&(M=1),typeof t.sheets[j]=="string"&&t.sheets[j].toLowerCase()==f.SheetNames[y].toLowerCase()&&(M=1);if(!M)continue e}}sHe(e,b,S,f.SheetNames[y],y,_,o,P,t,d,l,u)}return x={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:G2,Styles:u,Themes:l,SSF:Xa(Vr)},t&&t.bookFiles&&(e.files?(x.keys=n,x.files=e.files):(x.keys=[],x.files={},e.FullPaths.forEach(function(V,X){V=V.replace(/^Root Entry[\/]/,""),x.keys.push(V),x.files[V]=e.FileIndex[X]}))),t&&t.bookVBA&&(a.vba.length>0?x.vbaraw=ro(e,$c(a.vba[0]),!0):a.defaults&&a.defaults.bin===CBe&&(x.vbaraw=ro(e,"xl/vbaProject.bin",!0))),x}function cHe(e,t){var r=t||{},n="Workbook",a=Rr.find(e,n);try{if(n="/!DataSpaces/Version",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if($je(a.content),n="/!DataSpaces/DataSpaceMap",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Uje(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=qje(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Wje(a.content)}catch{}if(n="/EncryptionInfo",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Vje(a.content);if(n="/EncryptedPackage",a=Rr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],a.content,r.password||"",r);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function uHe(e,t){return t.bookType=="ods"?yie(e,t):t.bookType=="numbers"?aHe(e,t):t.bookType=="xlsb"?dHe(e,t):fHe(e,t)}function dHe(e,t){Vv=1024,e&&!e.SSF&&(e.SSF=Xa(Vr)),e&&e.SSF&&(wy(),F3(e.SSF),t.revssf=j3(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,K2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Hae.indexOf(t.bookType)>-1,a=GR();l7(t=t||{});var i=IR(),o="",s=0;if(t.cellXfs=[],jm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",wn(i,o,lae(e.Props,t)),a.coreprops.push(o),va(t.rels,2,o,Nn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,wn(i,o,dae(e.Props)),a.extprops.push(o),va(t.rels,3,o,Nn.EXT_PROPS),e.Custprops!==e.Props&&Ti(e.Custprops||{}).length>0&&(o="docProps/custom.xml",wn(i,o,fae(e.Custprops)),a.custprops.push(o),va(t.rels,4,o,Nn.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},f=e.Sheets[e.SheetNames[s-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,wn(i,o,UWe(s-1,o,t,e,d)),a.sheets.push(o),va(t.wbrels,-1,"worksheets/sheet"+s+"."+r,Nn.WS[0])}if(f){var m=f["!comments"],x=!1,g="";m&&m.length>0&&(g="xl/comments"+s+"."+r,wn(i,g,WWe(m,g)),a.comments.push(g),va(d,-1,"../comments"+s+"."+r,Nn.CMNT),x=!0),f["!legacy"]&&x&&wn(i,"xl/drawings/vmlDrawing"+s+".vml",Wae(s,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&wn(i,hw(o),i1(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,wn(i,o,zWe(t.Strings,o,t)),a.strs.push(o),va(t.wbrels,-1,"sharedStrings."+r,Nn.SST)),o="xl/workbook."+r,wn(i,o,BWe(e,o)),a.workbooks.push(o),va(t.rels,1,o,Nn.WB),o="xl/theme/theme1.xml",wn(i,o,QR(e.Themes,t)),a.themes.push(o),va(t.wbrels,-1,"theme/theme1.xml",Nn.THEME),o="xl/styles."+r,wn(i,o,qWe(e,o,t)),a.styles.push(o),va(t.wbrels,-1,"styles."+r,Nn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",wn(i,o,e.vbaraw),a.vba.push(o),va(t.wbrels,-1,"vbaProject.bin",Nn.VBA)),o="xl/metadata."+r,wn(i,o,VWe(o)),a.metadata.push(o),va(t.wbrels,-1,"metadata."+r,Nn.XLMETA),wn(i,"[Content_Types].xml",iae(a,t)),wn(i,"_rels/.rels",i1(t.rels)),wn(i,"xl/_rels/workbook."+r+".rels",i1(t.wbrels)),delete t.revssf,delete t.ssf,i}function fHe(e,t){Vv=1024,e&&!e.SSF&&(e.SSF=Xa(Vr)),e&&e.SSF&&(wy(),F3(e.SSF),t.revssf=j3(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,K2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Hae.indexOf(t.bookType)>-1,a=GR();l7(t=t||{});var i=IR(),o="",s=0;if(t.cellXfs=[],jm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",wn(i,o,lae(e.Props,t)),a.coreprops.push(o),va(t.rels,2,o,Nn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,wn(i,o,dae(e.Props)),a.extprops.push(o),va(t.rels,3,o,Nn.EXT_PROPS),e.Custprops!==e.Props&&Ti(e.Custprops||{}).length>0&&(o="docProps/custom.xml",wn(i,o,fae(e.Custprops)),a.custprops.push(o),va(t.rels,4,o,Nn.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var f={"!id":{}},h=e.Sheets[e.SheetNames[s-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,wn(i,o,nie(s-1,t,e,f)),a.sheets.push(o),va(t.wbrels,-1,"worksheets/sheet"+s+"."+r,Nn.WS[0])}if(h){var x=h["!comments"],g=!1,y="";if(x&&x.length>0){var _=!1;x.forEach(function(b){b[1].forEach(function(S){S.T==!0&&(_=!0)})}),_&&(y="xl/threadedComments/threadedComment"+s+"."+r,wn(i,y,xBe(x,d,t)),a.threadedcomments.push(y),va(f,-1,"../threadedComments/threadedComment"+s+"."+r,Nn.TCMNT)),y="xl/comments"+s+"."+r,wn(i,y,Vae(x)),a.comments.push(y),va(f,-1,"../comments"+s+"."+r,Nn.CMNT),g=!0}h["!legacy"]&&g&&wn(i,"xl/drawings/vmlDrawing"+s+".vml",Wae(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&wn(i,hw(o),i1(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,wn(i,o,Dae(t.Strings,t)),a.strs.push(o),va(t.wbrels,-1,"sharedStrings."+r,Nn.SST)),o="xl/workbook."+r,wn(i,o,lie(e)),a.workbooks.push(o),va(t.rels,1,o,Nn.WB),o="xl/theme/theme1.xml",wn(i,o,QR(e.Themes,t)),a.themes.push(o),va(t.wbrels,-1,"theme/theme1.xml",Nn.THEME),o="xl/styles."+r,wn(i,o,Bae(e,t)),a.styles.push(o),va(t.wbrels,-1,"styles."+r,Nn.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",wn(i,o,e.vbaraw),a.vba.push(o),va(t.wbrels,-1,"vbaProject.bin",Nn.VBA)),o="xl/metadata."+r,wn(i,o,zae()),a.metadata.push(o),va(t.wbrels,-1,"metadata."+r,Nn.XLMETA),d.length>1&&(o="xl/persons/person.xml",wn(i,o,_Be(d)),a.people.push(o),va(t.wbrels,-1,"persons/person.xml",Nn.PEOPLE)),wn(i,"[Content_Types].xml",iae(a,t)),wn(i,"_rels/.rels",i1(t.rels)),wn(i,"xl/_rels/workbook."+r+".rels",i1(t.wbrels)),delete t.revssf,delete t.ssf,i}function c7(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=yc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function hHe(e,t){return Rr.find(e,"EncryptedPackage")?cHe(e,t):fie(e,t)}function pHe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Sn&&Buffer.isBuffer(e)?"buffer":"base64"),r=Rne(n,a),lHe(r,a)}function wie(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return c8(e.slice(r),t);default:break e}return J1.to_workbook(e,t)}function mHe(e,t){var r="",n=c7(e,t);switch(t.type){case"base64":r=yc(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=fg(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=_a(r)),t.type="binary",wie(r,t)}function gHe(e,t){var r=e;return t.type=="base64"&&(r=yc(r)),r=e8.utils.decode(1200,r.slice(2),"str"),t.type="binary",wie(r,t)}function vHe(e){return e.match(/[^\x00-\x7F]/)?Kd(e):e}function ZT(e,t,r,n){return n?(r.type="string",J1.to_workbook(e,r)):J1.to_workbook(t,r)}function f8(e,t){CR();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return f8(new Uint8Array(e),(r=Xa(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),s1={},r.dateNF&&(s1.dateNF=r.dateNF),r.type||(r.type=Sn&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Sn?"buffer":"binary",n=dFe(e),typeof Uint8Array<"u"&&!Sn&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=vHe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return r=Xa(r),r.type="array",f8(TR(n),r)}switch((a=c7(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return hHe(Rr.read(n,r),r);break;case 9:if(a[1]<=8)return fie(n,r);break;case 60:return c8(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return bje(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Pae.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?pHe(n,r):ZT(e,n,r,i);case 239:return a[3]===60?c8(n,r):ZT(e,n,r,i);case 255:if(a[1]===254)return gHe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return V0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return V0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return l8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Lae.to_workbook(n,r);break;case 10:case 13:case 32:return mHe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return _je.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?l8.to_workbook(n,r):ZT(e,n,r,i)}function _ie(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return e_(t.file,Rr.write(e,{type:Sn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Rr.write(e,t)}function yHe(e,t){var r=Xa(t||{}),n=uHe(e,r);return xHe(n,r)}function xHe(e,t){var r={},n=Sn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Rr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(M3(a))}return t.password&&typeof encrypt_agile<"u"?_ie(encrypt_agile(a,t.password),t):t.type==="file"?e_(t.file,a):t.type=="string"?_a(a):a}function wHe(e,t){var r=t||{},n=vVe(e,r);return _ie(n,r)}function Md(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return lw(Kd(n));case"binary":return Kd(n);case"string":return e;case"file":return e_(t.file,n,"utf8");case"buffer":return Sn?Rh(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Md(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function _He(e,t){switch(t.type){case"base64":return lw(e);case"binary":return e;case"string":return e;case"file":return e_(t.file,e,"binary");case"buffer":return Sn?Rh(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ob(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?lw(r):t.type=="string"?_a(r):r;case"file":return e_(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function bie(e,t){CR(),hWe(e);var r=Xa(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=bie(e,r);return r.type="array",M3(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Md(uVe(e,r),r);case"slk":case"sylk":return Md(Tae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Md(pie(e.Sheets[e.SheetNames[a]],r),r);case"txt":return _He(Sie(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Md(d7(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Md(Pae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Ob(l8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Md(J1.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Md(Lae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Md(Oae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Md(yie(e,r),r);case"wk1":return Ob(V0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Ob(V0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ob(hie(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),wHe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return yHe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function bHe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function u7(e,t,r){var n={};return n.type="file",n.file=t,bHe(n),bie(e,n)}function SHe(e,t,r,n,a,i,o,s){var l=Ki(r),u=s.defval,d=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var x=o?e[r][m]:e[n[m]+l];if(x===void 0||x.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var g=x.v;switch(x.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[m]!=null){if(g==null)if(x.t=="e"&&g===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&g===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(x.t!=="n"||x.t==="n"&&s.rawNumbers!==!1)?g:Sh(x,g,s);g!=null&&(f=!1)}}return{row:h,isempty:f}}function GS(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=Wn(d);break;case"number":l=Wn(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Ki(l.s.r),h=[],m=[],x=0,g=0,y=Array.isArray(e),_=l.s.r,b=0,S={};y&&!e[_]&&(e[_]=[]);var C=u.skipHidden&&e["!cols"]||[],E=u.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(C[b]||{}).hidden)switch(h[b]=hi(b),r=y?e[_][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=u.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),s=o=Sh(r,null,u),g=S[o]||0,!g)S[o]=1;else{do s=o+"_"+g++;while(S[s]);S[o]=g,S[s]=1}i[b]=s}for(_=l.s.r+a;_<=l.e.r;++_)if(!(E[_]||{}).hidden){var O=SHe(e,l,_,h,n,i,y,u);(O.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[x++]=O.row)}return m.length=x,m}var aV=/"/g;function AHe(e,t,r,n,a,i,o,s){for(var l=!0,u=[],d="",f=Ki(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=s.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(s.rawNumbers&&m.t=="n"?m.v:Sh(m,null,s));for(var x=0,g=0;x!==d.length;++x)if((g=d.charCodeAt(x))===a||g===i||g===34||s.forceQuotes){d='"'+d.replace(aV,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(aV,'""')+'"')):d="";u.push(d)}return s.blankrows===!1&&l?null:u.join(o)}function d7(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Wn(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),s=n.RS!==void 0?n.RS:`
`,l=s.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(h[x]||{}).hidden||(f[x]=hi(x));for(var g=0,y=a.s.r;y<=a.e.r;++y)(m[y]||{}).hidden||(d=AHe(e,a,y,f,o,l,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?s:"")+d)));return delete n.dense,r.join("")}function Sie(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=d7(e,t);return r}function kHe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Wn(e["!ref"]),i="",o=[],s,l=[],u=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=hi(s);for(var d=a.s.r;d<=a.e.r;++d)for(i=Ki(d),s=a.s.c;s<=a.e.c;++s)if(t=o[s]+i,r=u?(e[d]||[])[s]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Aie(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,s=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?pi(n.origin):n.origin;o=l.r,s=l.c}var u,d={s:{c:0,r:0},e:{c:s,r:o+t.length-1+a}};if(i["!ref"]){var f=Wn(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,y){Ti(g).forEach(function(_){(m=h.indexOf(_))==-1&&(h[m=h.length]=_);var b=g[_],S="z",C="",E=Xr({c:s+m,r:o+y+a});u=ww(i,E),b&&typeof b=="object"&&!(b instanceof Date)?i[E]=b:(typeof b=="number"?S="n":typeof b=="boolean"?S="b":typeof b=="string"?S="s":b instanceof Date?(S="d",n.cellDates||(S="n",b=wo(b)),C=n.dateNF||Vr[14]):b===null&&n.nullError&&(S="e",b=0),u?(u.t=S,u.v=b,delete u.w,delete u.R,C&&(u.z=C)):i[E]=u={t:S,v:b},C&&(u.z=C))})}),d.e.c=Math.max(d.e.c,s+h.length-1);var x=Ki(o);if(a)for(m=0;m<h.length;++m)i[hi(m+s)+x]={t:"s",v:h[m]};return i["!ref"]=mn(d),i}function NHe(e,t){return Aie(null,e,t)}function ww(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=pi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ww(e,Xr(t)):ww(e,Xr({r:t,c:r||0}))}function EHe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function f7(){return{SheetNames:[],Sheets:{}}}function h7(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(sie(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function CHe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=EHe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function THe(e,t){return e.z=t,e}function kie(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function PHe(e,t,r){return kie(e,"#"+t,r)}function OHe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function DHe(e,t,r,n){for(var a=typeof t!="string"?t:Wn(t),i=typeof t=="string"?t:mn(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=ww(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var rf={encode_col:hi,encode_row:Ki,encode_cell:Xr,encode_range:mn,decode_col:UR,decode_row:BR,split_cell:zFe,decode_cell:pi,decode_range:Fl,format_cell:Sh,sheet_add_aoa:Jne,sheet_add_json:Aie,sheet_add_dom:mie,aoa_to_sheet:_y,json_to_sheet:NHe,table_to_sheet:gie,table_to_book:$Ve,sheet_to_csv:d7,sheet_to_txt:Sie,sheet_to_json:GS,sheet_to_html:pie,sheet_to_formulae:kHe,sheet_to_row_object_array:GS,sheet_get_cell:ww,book_new:f7,book_append_sheet:h7,book_set_sheet_visibility:CHe,cell_set_number_format:THe,cell_set_hyperlink:kie,cell_set_internal_link:PHe,cell_add_comment:OHe,sheet_set_array_formula:DHe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function xa(e){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(e)}var Ds=Uint8Array,uc=Uint16Array,p7=Int32Array,W3=new Ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),V3=new Ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h8=new Ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nie=function(e,t){for(var r=new uc(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new p7(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Eie=Nie(W3,2),Cie=Eie.b,p8=Eie.r;Cie[28]=258,p8[258]=28;var Tie=Nie(V3,0),IHe=Tie.b,iV=Tie.r,m8=new uc(32768);for(var Ka=0;Ka<32768;++Ka){var Dp=(Ka&43690)>>1|(Ka&21845)<<1;Dp=(Dp&52428)>>2|(Dp&13107)<<2,Dp=(Dp&61680)>>4|(Dp&3855)<<4,m8[Ka]=((Dp&65280)>>8|(Dp&255)<<8)>>1}var nf=function(e,t,r){for(var n=e.length,a=0,i=new uc(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new uc(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var s;if(r){s=new uc(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)s[m8[f]>>l]=u}else for(s=new uc(n),a=0;a<n;++a)e[a]&&(s[a]=m8[o[e[a]-1]++]>>15-e[a]);return s},bm=new Ds(288);for(var Ka=0;Ka<144;++Ka)bm[Ka]=8;for(var Ka=144;Ka<256;++Ka)bm[Ka]=9;for(var Ka=256;Ka<280;++Ka)bm[Ka]=7;for(var Ka=280;Ka<288;++Ka)bm[Ka]=8;var _w=new Ds(32);for(var Ka=0;Ka<32;++Ka)_w[Ka]=5;var RHe=nf(bm,9,0),MHe=nf(bm,9,1),FHe=nf(_w,5,0),LHe=nf(_w,5,1),JT=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Pu=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},QT=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},m7=function(e){return(e+7)/8|0},Pie=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ds(e.subarray(t,r))},jHe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Iu=function(e,t,r){var n=new Error(t||jHe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Iu),!r)throw n;return n},$He=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Ds(0);var o=!r,s=o||t.i!=2,l=t.i;o&&(r=new Ds(a*3));var u=function(ge){var ne=r.length;if(ge>ne){var Ne=new Ds(Math.max(ne*2,ge));Ne.set(r),r=Ne}},d=t.f||0,f=t.p||0,h=t.b||0,m=t.l,x=t.d,g=t.m,y=t.n,_=a*8;do{if(!m){d=Pu(e,f,1);var b=Pu(e,f+1,3);if(f+=3,b)if(b==1)m=MHe,x=LHe,g=9,y=5;else if(b==2){var O=Pu(e,f,31)+257,T=Pu(e,f+10,15)+4,I=O+Pu(e,f+5,31)+1;f+=14;for(var L=new Ds(I),U=new Ds(19),P=0;P<T;++P)U[h8[P]]=Pu(e,f+P*3,7);f+=T*3;for(var M=JT(U),j=(1<<M)-1,V=nf(U,M,1),P=0;P<I;){var X=V[Pu(e,f,j)];f+=X&15;var S=X>>4;if(S<16)L[P++]=S;else{var te=0,z=0;for(S==16?(z=3+Pu(e,f,3),f+=2,te=L[P-1]):S==17?(z=3+Pu(e,f,7),f+=3):S==18&&(z=11+Pu(e,f,127),f+=7);z--;)L[P++]=te}}var G=L.subarray(0,O),q=L.subarray(O);g=JT(G),y=JT(q),m=nf(G,g,1),x=nf(q,y,1)}else Iu(1);else{var S=m7(f)+4,C=e[S-4]|e[S-3]<<8,E=S+C;if(E>a){l&&Iu(0);break}s&&u(h+C),r.set(e.subarray(S,E),h),t.b=h+=C,t.p=f=E*8,t.f=d;continue}if(f>_){l&&Iu(0);break}}s&&u(h+131072);for(var Y=(1<<g)-1,Z=(1<<y)-1,D=f;;D=f){var te=m[QT(e,f)&Y],K=te>>4;if(f+=te&15,f>_){l&&Iu(0);break}if(te||Iu(2),K<256)r[h++]=K;else if(K==256){D=f,m=null;break}else{var Q=K-254;if(K>264){var P=K-257,ie=W3[P];Q=Pu(e,f,(1<<ie)-1)+Cie[P],f+=ie}var ae=x[QT(e,f)&Z],oe=ae>>4;ae||Iu(3),f+=ae&15;var q=IHe[oe];if(oe>3){var ie=V3[oe];q+=QT(e,f)&(1<<ie)-1,f+=ie}if(f>_){l&&Iu(0);break}s&&u(h+131072);var de=h+Q;if(h<q){var J=i-q,ue=Math.min(q,de);for(J+h<0&&Iu(3);h<ue;++h)r[h]=n[J+h]}for(;h<de;++h)r[h]=r[h-q]}}t.l=m,t.p=D,t.b=h,t.f=d,m&&(d=1,t.m=g,t.d=x,t.n=y)}while(!d);return h!=r.length&&o?Pie(r,0,h):r.subarray(0,h)},Qf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},f2=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},eP=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Die,l:0};if(a==1){var o=new Ds(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(E,O){return E.f-O.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=a-1;)s=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var m=new uc(h+1),x=g8(r[d-1],m,0);if(x>t){var n=0,g=0,y=x-t,_=1<<y;for(i.sort(function(O,T){return m[T.s]-m[O.s]||O.f-T.f});n<a;++n){var b=i[n].s;if(m[b]>t)g+=_-(1<<x-m[b]),m[b]=t;else break}for(g>>=y;g>0;){var S=i[n].s;m[S]<t?g-=1<<t-m[S]++-1:++n}for(;n>=0&&g;--n){var C=i[n].s;m[C]==t&&(--m[C],++g)}x=t}return{t:new Ds(m),l:x}},g8=function(e,t,r){return e.s==-1?Math.max(g8(e.l,t,r+1),g8(e.r,t,r+1)):t[e.s]=r},oV=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new uc(++t),n=0,a=e[0],i=1,o=function(l){r[n++]=l},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return{c:r.subarray(0,n),n:t}},h2=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Oie=function(e,t,r){var n=r.length,a=m7(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},sV=function(e,t,r,n,a,i,o,s,l,u,d){Qf(t,d++,r),++a[256];for(var f=eP(a,15),h=f.t,m=f.l,x=eP(i,15),g=x.t,y=x.l,_=oV(h),b=_.c,S=_.n,C=oV(g),E=C.c,O=C.n,T=new uc(19),I=0;I<b.length;++I)++T[b[I]&31];for(var I=0;I<E.length;++I)++T[E[I]&31];for(var L=eP(T,7),U=L.t,P=L.l,M=19;M>4&&!U[h8[M-1]];--M);var j=u+5<<3,V=h2(a,bm)+h2(i,_w)+o,X=h2(a,h)+h2(i,g)+o+14+3*M+h2(T,U)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&j<=V&&j<=X)return Oie(t,d,e.subarray(l,l+u));var te,z,G,q;if(Qf(t,d,1+(X<V)),d+=2,X<V){te=nf(h,m,0),z=h,G=nf(g,y,0),q=g;var Y=nf(U,P,0);Qf(t,d,S-257),Qf(t,d+5,O-1),Qf(t,d+10,M-4),d+=14;for(var I=0;I<M;++I)Qf(t,d+3*I,U[h8[I]]);d+=3*M;for(var Z=[b,E],D=0;D<2;++D)for(var K=Z[D],I=0;I<K.length;++I){var Q=K[I]&31;Qf(t,d,Y[Q]),d+=U[Q],Q>15&&(Qf(t,d,K[I]>>5&127),d+=K[I]>>12)}}else te=RHe,z=bm,G=FHe,q=_w;for(var I=0;I<s;++I){var ie=n[I];if(ie>255){var Q=ie>>18&31;f2(t,d,te[Q+257]),d+=z[Q+257],Q>7&&(Qf(t,d,ie>>23&31),d+=W3[Q]);var ae=ie&31;f2(t,d,G[ae]),d+=q[ae],ae>3&&(f2(t,d,ie>>5&8191),d+=V3[ae])}else f2(t,d,te[ie]),d+=z[ie]}return f2(t,d,te[256]),d+z[256]},BHe=new p7([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Die=new Ds(0),UHe=function(e,t,r,n,a,i){var o=i.z||e.length,s=new Ds(n+o+5*(1+Math.ceil(o/7e3))+a),l=s.subarray(n,s.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var f=BHe[t-1],h=f>>13,m=f&8191,x=(1<<r)-1,g=i.p||new uc(32768),y=i.h||new uc(x+1),_=Math.ceil(r/3),b=2*_,S=function(Re){return(e[Re]^e[Re+1]<<_^e[Re+2]<<b)&x},C=new p7(25e3),E=new uc(288),O=new uc(32),T=0,I=0,L=i.i||0,U=0,P=i.w||0,M=0;L+2<o;++L){var j=S(L),V=L&32767,X=y[j];if(g[V]=X,y[j]=V,P<=L){var te=o-L;if((T>7e3||U>24576)&&(te>423||!u)){d=sV(e,l,0,C,E,O,I,U,M,L-M,d),U=T=I=0,M=L;for(var z=0;z<286;++z)E[z]=0;for(var z=0;z<30;++z)O[z]=0}var G=2,q=0,Y=m,Z=V-X&32767;if(te>2&&j==S(L-Z))for(var D=Math.min(h,te)-1,K=Math.min(32767,L),Q=Math.min(258,te);Z<=K&&--Y&&V!=X;){if(e[L+G]==e[L+G-Z]){for(var ie=0;ie<Q&&e[L+ie]==e[L+ie-Z];++ie);if(ie>G){if(G=ie,q=Z,ie>D)break;for(var ae=Math.min(Z,ie-2),oe=0,z=0;z<ae;++z){var de=L-Z+z&32767,J=g[de],ue=de-J&32767;ue>oe&&(oe=ue,X=de)}}}V=X,X=g[V],Z+=V-X&32767}if(q){C[U++]=268435456|p8[G]<<18|iV[q];var ge=p8[G]&31,ne=iV[q]&31;I+=W3[ge]+V3[ne],++E[257+ge],++O[ne],P=L+G,++T}else C[U++]=e[L],++E[e[L]]}}for(L=Math.max(L,P);L<o;++L)C[U++]=e[L],++E[e[L]];d=sV(e,l,u,C,E,O,I,U,M,L-M,d),u||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=y,i.p=g,i.i=L,i.w=P)}else{for(var L=i.w||0;L<o+u;L+=65535){var Ne=L+65535;Ne>=o&&(l[d/8|0]=u,Ne=o),d=Oie(l,d+1,e.subarray(L,Ne))}i.i=o}return Pie(s,0,n+m7(d)+a)},Iie=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},qHe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Ds(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return UHe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Rie=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},zHe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Iie();a.p(t.dictionary),Rie(e,2,a.d())}},WHe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Iu(6,"invalid zlib data"),(e[1]>>5&1)==1&&Iu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function v8(e,t){t||(t={});var r=Iie();r.p(e);var n=qHe(e,t,t.dictionary?6:2,4);return zHe(n,t),Rie(n,n.length-4,r.d()),n}function VHe(e,t){return $He(e.subarray(WHe(e),-4),{i:2},t,t)}var HHe=typeof TextDecoder<"u"&&new TextDecoder,GHe=0;try{HHe.decode(Die,{stream:!0}),GHe=1}catch{}var Kr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function tP(){Kr.console&&typeof Kr.console.log=="function"&&Kr.console.log.apply(Kr.console,arguments)}var Sa={log:tP,warn:function(e){Kr.console&&(typeof Kr.console.warn=="function"?Kr.console.warn.apply(Kr.console,arguments):tP.call(null,arguments))},error:function(e){Kr.console&&(typeof Kr.console.error=="function"?Kr.console.error.apply(Kr.console,arguments):tP(e))}};function rP(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){k0(n.response,t,r)},n.onerror=function(){Sa.error("could not download file")},n.send()}function lV(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Db(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Z2,y8,k0=Kr.saveAs||((typeof window>"u"?"undefined":xa(window))!=="object"||window!==Kr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Kr.URL||Kr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?lV(a.href)?rP(e,t,r):Db(a,a.target="_blank"):Db(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Db(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(lV(e))rP(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Db(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:xa(i)!=="object"&&(Sa.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return rP(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Kr.HTMLElement)||Kr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":xa(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(e)}else{var l=Kr.URL||Kr.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Mie(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function nP(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ys(r,n,a,i,t[0],7,-680876936),i=ys(i,r,n,a,t[1],12,-389564586),a=ys(a,i,r,n,t[2],17,606105819),n=ys(n,a,i,r,t[3],22,-1044525330),r=ys(r,n,a,i,t[4],7,-176418897),i=ys(i,r,n,a,t[5],12,1200080426),a=ys(a,i,r,n,t[6],17,-1473231341),n=ys(n,a,i,r,t[7],22,-45705983),r=ys(r,n,a,i,t[8],7,1770035416),i=ys(i,r,n,a,t[9],12,-1958414417),a=ys(a,i,r,n,t[10],17,-42063),n=ys(n,a,i,r,t[11],22,-1990404162),r=ys(r,n,a,i,t[12],7,1804603682),i=ys(i,r,n,a,t[13],12,-40341101),a=ys(a,i,r,n,t[14],17,-1502002290),r=xs(r,n=ys(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=xs(i,r,n,a,t[6],9,-1069501632),a=xs(a,i,r,n,t[11],14,643717713),n=xs(n,a,i,r,t[0],20,-373897302),r=xs(r,n,a,i,t[5],5,-701558691),i=xs(i,r,n,a,t[10],9,38016083),a=xs(a,i,r,n,t[15],14,-660478335),n=xs(n,a,i,r,t[4],20,-405537848),r=xs(r,n,a,i,t[9],5,568446438),i=xs(i,r,n,a,t[14],9,-1019803690),a=xs(a,i,r,n,t[3],14,-187363961),n=xs(n,a,i,r,t[8],20,1163531501),r=xs(r,n,a,i,t[13],5,-1444681467),i=xs(i,r,n,a,t[2],9,-51403784),a=xs(a,i,r,n,t[7],14,1735328473),r=ws(r,n=xs(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=ws(i,r,n,a,t[8],11,-2022574463),a=ws(a,i,r,n,t[11],16,1839030562),n=ws(n,a,i,r,t[14],23,-35309556),r=ws(r,n,a,i,t[1],4,-1530992060),i=ws(i,r,n,a,t[4],11,1272893353),a=ws(a,i,r,n,t[7],16,-155497632),n=ws(n,a,i,r,t[10],23,-1094730640),r=ws(r,n,a,i,t[13],4,681279174),i=ws(i,r,n,a,t[0],11,-358537222),a=ws(a,i,r,n,t[3],16,-722521979),n=ws(n,a,i,r,t[6],23,76029189),r=ws(r,n,a,i,t[9],4,-640364487),i=ws(i,r,n,a,t[12],11,-421815835),a=ws(a,i,r,n,t[15],16,530742520),r=_s(r,n=ws(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=_s(i,r,n,a,t[7],10,1126891415),a=_s(a,i,r,n,t[14],15,-1416354905),n=_s(n,a,i,r,t[5],21,-57434055),r=_s(r,n,a,i,t[12],6,1700485571),i=_s(i,r,n,a,t[3],10,-1894986606),a=_s(a,i,r,n,t[10],15,-1051523),n=_s(n,a,i,r,t[1],21,-2054922799),r=_s(r,n,a,i,t[8],6,1873313359),i=_s(i,r,n,a,t[15],10,-30611744),a=_s(a,i,r,n,t[6],15,-1560198380),n=_s(n,a,i,r,t[13],21,1309151649),r=_s(r,n,a,i,t[4],6,-145523070),i=_s(i,r,n,a,t[11],10,-1120210379),a=_s(a,i,r,n,t[2],15,718787259),n=_s(n,a,i,r,t[9],21,-343485551),e[0]=Zp(r,e[0]),e[1]=Zp(n,e[1]),e[2]=Zp(a,e[2]),e[3]=Zp(i,e[3])}function H3(e,t,r,n,a,i){return t=Zp(Zp(t,e),Zp(n,i)),Zp(t<<a|t>>>32-a,r)}function ys(e,t,r,n,a,i,o){return H3(t&r|~t&n,e,t,a,i,o)}function xs(e,t,r,n,a,i,o){return H3(t&n|r&~n,e,t,a,i,o)}function ws(e,t,r,n,a,i,o){return H3(t^r^n,e,t,a,i,o)}function _s(e,t,r,n,a,i,o){return H3(r^(t|~n),e,t,a,i,o)}function Fie(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)nP(n,KHe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(nP(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,nP(n,a),n}function KHe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Z2=Kr.atob.bind(Kr),y8=Kr.btoa.bind(Kr);var cV="0123456789abcdef".split("");function YHe(e){for(var t="",r=0;r<4;r++)t+=cV[e>>8*r+4&15]+cV[e>>8*r&15];return t}function XHe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function x8(e){return Fie(e).map(XHe).join("")}var ZHe=function(e){for(var t=0;t<e.length;t++)e[t]=YHe(e[t]);return e.join("")}(Fie("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zp(e,t){if(ZHe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function w8(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var d=s[l];u=(u+d+o.charCodeAt(l))%256,s[l]=s[u],s[u]=d}r=e,n=s}else s=n;var f=t.length,h=0,m=0,x="";for(l=0;l<f;l++)m=(m+(d=s[h=(h+1)%256]))%256,s[h]=s[m],s[m]=d,o=s[(s[h]+s[m])%256],x+=String.fromCharCode(t.charCodeAt(l)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var uV={print:4,modify:8,copy:16,"annot-forms":32};function Lv(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(s){if(uV.perm!==void 0)throw new Error("Invalid permission: "+s);a+=uV[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=x8(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=w8(this.encryptionKey,this.padding)}function jv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function dV(e){if(xa(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(s){Kr.console&&Sa.error("jsPDF PubSub Error",s.message,s)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function KS(e){if(!(this instanceof KS))return new KS(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Lie(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function C0(e,t,r,n,a){if(!(this instanceof C0))return new C0(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Lie.call(this,n,a)}function Hv(e,t,r,n,a){if(!(this instanceof Hv))return new Hv(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Lie.call(this,n,a)}function Lr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,l=16,u="S",d=null;xa(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=dV;var x="1.3",g=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(B){x=B};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return y};var _=m.__private__.getPageFormat=function(B){return y[B]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function C(){this.saveGraphicsState(),pe(new Cr(ut,0,0,-ut,0,xd()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),u="n",S=b.ADVANCED}function E(){this.restoreGraphicsState(),u="S",S=b.COMPAT}var O=m.__private__.combineFontStyleAndFontWeight=function(B,le){if(B=="bold"&&le=="normal"||B=="bold"&&le==400||B=="normal"&&le=="italic"||B=="bold"&&le=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return le&&(B=le==400||le==="normal"?B==="italic"?"italic":"normal":le!=700&&le!=="bold"||B!=="normal"?(le==700?"bold":le)+""+B:"bold"),B};m.advancedAPI=function(B){var le=S===b.COMPAT;return le&&C.call(this),typeof B!="function"||(B(this),le&&E.call(this)),this},m.compatAPI=function(B){var le=S===b.ADVANCED;return le&&E.call(this),typeof B!="function"||(B(this),le&&C.call(this)),this},m.isAdvancedAPI=function(){return S===b.ADVANCED};var T,I=function(B){if(S!==b.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=m.roundToPrecision=m.__private__.roundToPrecision=function(B,le){var Ee=t||le;if(isNaN(B)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(Ee).replace(/0+$/,"")};T=m.hpf=m.__private__.hpf=typeof l=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return L(B,l)}:l==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return L(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return L(B,16)};var U=m.f2=m.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return L(B,2)},P=m.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return L(B,3)},M=m.scale=m.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?B*ut:S===b.ADVANCED?B:void 0},j=function(B){return S===b.COMPAT?xd()-B:S===b.ADVANCED?B:void 0},V=function(B){return M(j(B))};m.__private__.setPrecision=m.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var X,te="00000000000000000000000000000000",z=m.__private__.getFileId=function(){return te},G=m.__private__.setFileId=function(B){return te=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ja=new Lv(d.userPermissions,d.userPassword,d.ownerPassword,te)),te};m.setFileId=function(B){return G(B),this},m.getFileId=function(){return z()};var q=m.__private__.convertDateToPDFDate=function(B){var le=B.getTimezoneOffset(),Ee=le<0?"+":"-",$e=Math.floor(Math.abs(le/60)),tt=Math.abs(le%60),bt=[Ee,Q($e),"'",Q(tt),"'"].join("");return["D:",B.getFullYear(),Q(B.getMonth()+1),Q(B.getDate()),Q(B.getHours()),Q(B.getMinutes()),Q(B.getSeconds()),bt].join("")},Y=m.__private__.convertPDFDateToDate=function(B){var le=parseInt(B.substr(2,4),10),Ee=parseInt(B.substr(6,2),10)-1,$e=parseInt(B.substr(8,2),10),tt=parseInt(B.substr(10,2),10),bt=parseInt(B.substr(12,2),10),Mt=parseInt(B.substr(14,2),10);return new Date(le,Ee,$e,tt,bt,Mt,0)},Z=m.__private__.setCreationDate=function(B){var le;if(B===void 0&&(B=new Date),B instanceof Date)le=q(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");le=B}return X=le},D=m.__private__.getCreationDate=function(B){var le=X;return B==="jsDate"&&(le=Y(X)),le};m.setCreationDate=function(B){return Z(B),this},m.getCreationDate=function(B){return D(B)};var K,Q=m.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},ie=m.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},ae=0,oe=[],de=[],J=0,ue=[],ge=[],ne=!1,Ne=de,Re=function(){ae=0,J=0,de=[],oe=[],ue=[],ye=Zt(),we=Zt()};m.__private__.setCustomOutputDestination=function(B){ne=!0,Ne=B};var De=function(B){ne||(Ne=B)};m.__private__.resetCustomOutputDestination=function(){ne=!1,Ne=de};var pe=m.__private__.out=function(B){return B=B.toString(),J+=B.length+1,Ne.push(B),Ne},Je=m.__private__.write=function(B){return pe(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},mt=m.__private__.getArrayBuffer=function(B){for(var le=B.length,Ee=new ArrayBuffer(le),$e=new Uint8Array(Ee);le--;)$e[le]=B.charCodeAt(le);return Ee},dt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return dt};var Tt=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(B){return Tt=S===b.ADVANCED?B/ut:B,this};var lt,_e=m.__private__.getFontSize=m.getFontSize=function(){return S===b.COMPAT?Tt:Tt*ut},Ce=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(B){return Ce=B,this},m.__private__.getR2L=m.getR2L=function(){return Ce};var We,ft=m.__private__.setZoomMode=function(B){var le=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))lt=B;else if(isNaN(B)){if(le.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');lt=B}else lt=parseInt(B,10)};m.__private__.getZoomMode=function(){return lt};var vt,Fe=m.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');We=B};m.__private__.getPageMode=function(){return We};var Ve=m.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');vt=B};m.__private__.getLayoutMode=function(){return vt},m.__private__.setDisplayMode=m.setDisplayMode=function(B,le,Ee){return ft(B),Ve(le),Fe(Ee),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(B){if(Object.keys(_t).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[B]},m.__private__.getDocumentProperties=function(){return _t},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(B){for(var le in _t)_t.hasOwnProperty(le)&&B[le]&&(_t[le]=B[le]);return this},m.__private__.setDocumentProperty=function(B,le){if(Object.keys(_t).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[B]=le};var At,ut,wr,nr,Jr,dn={},bn={},Pi=[],fn={},oi={},Vn={},Ja={},Qa=null,Dn=0,Ge=[],Pt=new dV(m),An=e.hotfixes||[],ha={},co={},bo=[],Cr=function B(le,Ee,$e,tt,bt,Mt){if(!(this instanceof B))return new B(le,Ee,$e,tt,bt,Mt);isNaN(le)&&(le=1),isNaN(Ee)&&(Ee=0),isNaN($e)&&($e=0),isNaN(tt)&&(tt=1),isNaN(bt)&&(bt=0),isNaN(Mt)&&(Mt=0),this._matrix=[le,Ee,$e,tt,bt,Mt]};Object.defineProperty(Cr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Cr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Cr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Cr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Cr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Cr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Cr.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Cr.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Cr.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Cr.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Cr.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Cr.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Cr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Cr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Cr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Cr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Cr.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(B)},Cr.prototype.multiply=function(B){var le=B.sx*this.sx+B.shy*this.shx,Ee=B.sx*this.shy+B.shy*this.sy,$e=B.shx*this.sx+B.sy*this.shx,tt=B.shx*this.shy+B.sy*this.sy,bt=B.tx*this.sx+B.ty*this.shx+this.tx,Mt=B.tx*this.shy+B.ty*this.sy+this.ty;return new Cr(le,Ee,$e,tt,bt,Mt)},Cr.prototype.decompose=function(){var B=this.sx,le=this.shy,Ee=this.shx,$e=this.sy,tt=this.tx,bt=this.ty,Mt=Math.sqrt(B*B+le*le),sr=(B/=Mt)*Ee+(le/=Mt)*$e;Ee-=B*sr,$e-=le*sr;var Dr=Math.sqrt(Ee*Ee+$e*$e);return sr/=Dr,B*($e/=Dr)<le*(Ee/=Dr)&&(B=-B,le=-le,sr=-sr,Mt=-Mt),{scale:new Cr(Mt,0,0,Dr,0,0),translate:new Cr(1,0,0,1,tt,bt),rotate:new Cr(B,le,-le,B,0,0),skew:new Cr(1,0,sr,1,0,0)}},Cr.prototype.toString=function(B){return this.join(" ")},Cr.prototype.inversed=function(){var B=this.sx,le=this.shy,Ee=this.shx,$e=this.sy,tt=this.tx,bt=this.ty,Mt=1/(B*$e-le*Ee),sr=$e*Mt,Dr=-le*Mt,ln=-Ee*Mt,sn=B*Mt;return new Cr(sr,Dr,ln,sn,-sr*tt-ln*bt,-Dr*tt-sn*bt)},Cr.prototype.applyToPoint=function(B){var le=B.x*this.sx+B.y*this.shx+this.tx,Ee=B.x*this.shy+B.y*this.sy+this.ty;return new kc(le,Ee)},Cr.prototype.applyToRectangle=function(B){var le=this.applyToPoint(B),Ee=this.applyToPoint(new kc(B.x+B.w,B.y+B.h));return new yd(le.x,le.y,Ee.x-le.x,Ee.y-le.y)},Cr.prototype.clone=function(){var B=this.sx,le=this.shy,Ee=this.shx,$e=this.sy,tt=this.tx,bt=this.ty;return new Cr(B,le,Ee,$e,tt,bt)},m.Matrix=Cr;var xt=m.matrixMult=function(B,le){return le.multiply(B)},wt=new Cr(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=wt;var mr=function(B,le){if(!oi[B]){var Ee=(le instanceof C0?"Sh":"P")+(Object.keys(fn).length+1).toString(10);le.id=Ee,oi[B]=Ee,fn[Ee]=le,Pt.publish("addPattern",le)}};m.ShadingPattern=C0,m.TilingPattern=Hv,m.addShadingPattern=function(B,le){return I("addShadingPattern()"),mr(B,le),this},m.beginTilingPattern=function(B){I("beginTilingPattern()"),zg(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},m.endTilingPattern=function(B,le){I("endTilingPattern()"),le.stream=ge[K].join(`
`),mr(B,le),Pt.publish("endTilingPattern",le),bo.pop().restore()};var Nr=m.__private__.newObject=function(){var B=Zt();return ce(B,!0),B},Zt=m.__private__.newObjectDeferred=function(){return ae++,oe[ae]=function(){return J},ae},ce=function(B,le){return le=typeof le=="boolean"&&le,oe[B]=J,le&&pe(B+" 0 obj"),B},Se=m.__private__.newAdditionalObject=function(){var B={objId:Zt(),content:""};return ue.push(B),B},ye=Zt(),we=Zt(),be=m.__private__.decodeColorString=function(B){var le=B.split(" ");if(le.length!==2||le[1]!=="g"&&le[1]!=="G")le.length===5&&(le[4]==="k"||le[4]==="K")&&(le=[(1-le[0])*(1-le[3]),(1-le[1])*(1-le[3]),(1-le[2])*(1-le[3]),"r"]);else{var Ee=parseFloat(le[0]);le=[Ee,Ee,Ee,"r"]}for(var $e="#",tt=0;tt<3;tt++)$e+=("0"+Math.floor(255*parseFloat(le[tt])).toString(16)).slice(-2);return $e},ke=m.__private__.encodeColorString=function(B){var le;typeof B=="string"&&(B={ch1:B});var Ee=B.ch1,$e=B.ch2,tt=B.ch3,bt=B.ch4,Mt=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var sr=new Mie(Ee);if(sr.ok)Ee=sr.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Dr=parseInt(Ee.substr(1),16);Ee=Dr>>16&255,$e=Dr>>8&255,tt=255&Dr}if($e===void 0||bt===void 0&&Ee===$e&&$e===tt)if(typeof Ee=="string")le=Ee+" "+Mt[0];else switch(B.precision){case 2:le=U(Ee/255)+" "+Mt[0];break;case 3:default:le=P(Ee/255)+" "+Mt[0]}else if(bt===void 0||xa(bt)==="object"){if(bt&&!isNaN(bt.a)&&bt.a===0)return le=["1.","1.","1.",Mt[1]].join(" ");if(typeof Ee=="string")le=[Ee,$e,tt,Mt[1]].join(" ");else switch(B.precision){case 2:le=[U(Ee/255),U($e/255),U(tt/255),Mt[1]].join(" ");break;default:case 3:le=[P(Ee/255),P($e/255),P(tt/255),Mt[1]].join(" ")}}else if(typeof Ee=="string")le=[Ee,$e,tt,bt,Mt[2]].join(" ");else switch(B.precision){case 2:le=[U(Ee),U($e),U(tt),U(bt),Mt[2]].join(" ");break;case 3:default:le=[P(Ee),P($e),P(tt),P(bt),Mt[2]].join(" ")}return le},et=m.__private__.getFilters=function(){return o},pt=m.__private__.putStream=function(B){var le=(B=B||{}).data||"",Ee=B.filters||et(),$e=B.alreadyAppliedFilters||[],tt=B.addLength1||!1,bt=le.length,Mt=B.objectId,sr=function(So){return So};if(d!==null&&Mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(sr=ja.encryptor(Mt,0));var Dr={};Ee===!0&&(Ee=["FlateEncode"]);var ln=B.additionalKeyValues||[],sn=(Dr=Lr.API.processDataByFilters!==void 0?Lr.API.processDataByFilters(le,Ee):{data:le,reverseChain:[]}).reverseChain+(Array.isArray($e)?$e.join(" "):$e.toString());if(Dr.data.length!==0&&(ln.push({key:"Length",value:Dr.data.length}),tt===!0&&ln.push({key:"Length1",value:bt})),sn.length!=0)if(sn.split("/").length-1==1)ln.push({key:"Filter",value:sn});else{ln.push({key:"Filter",value:"["+sn+"]"});for(var Cn=0;Cn<ln.length;Cn+=1)if(ln[Cn].key==="DecodeParms"){for(var $a=[],ei=0;ei<Dr.reverseChain.split("/").length-1;ei+=1)$a.push("null");$a.push(ln[Cn].value),ln[Cn].value="["+$a.join(" ")+"]"}}pe("<<");for(var gi=0;gi<ln.length;gi++)pe("/"+ln[gi].key+" "+ln[gi].value);pe(">>"),Dr.data.length!==0&&(pe("stream"),pe(sr(Dr.data)),pe("endstream"))},Ye=m.__private__.putPage=function(B){var le=B.number,Ee=B.data,$e=B.objId,tt=B.contentsObjId;ce($e,!0),pe("<</Type /Page"),pe("/Parent "+B.rootDictionaryObjId+" 0 R"),pe("/Resources "+B.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(T(B.mediaBox.bottomLeftX))+" "+parseFloat(T(B.mediaBox.bottomLeftY))+" "+T(B.mediaBox.topRightX)+" "+T(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&pe("/CropBox ["+T(B.cropBox.bottomLeftX)+" "+T(B.cropBox.bottomLeftY)+" "+T(B.cropBox.topRightX)+" "+T(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&pe("/BleedBox ["+T(B.bleedBox.bottomLeftX)+" "+T(B.bleedBox.bottomLeftY)+" "+T(B.bleedBox.topRightX)+" "+T(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&pe("/TrimBox ["+T(B.trimBox.bottomLeftX)+" "+T(B.trimBox.bottomLeftY)+" "+T(B.trimBox.topRightX)+" "+T(B.trimBox.topRightY)+"]"),B.artBox!==null&&pe("/ArtBox ["+T(B.artBox.bottomLeftX)+" "+T(B.artBox.bottomLeftY)+" "+T(B.artBox.topRightX)+" "+T(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&pe("/UserUnit "+B.userUnit),Pt.publish("putPage",{objId:$e,pageContext:Ge[le],pageNumber:le,page:Ee}),pe("/Contents "+tt+" 0 R"),pe(">>"),pe("endobj");var bt=Ee.join(`
`);return S===b.ADVANCED&&(bt+=`
Q`),ce(tt,!0),pt({data:bt,filters:et(),objectId:tt}),pe("endobj"),$e},at=m.__private__.putPages=function(){var B,le,Ee=[];for(B=1;B<=Dn;B++)Ge[B].objId=Zt(),Ge[B].contentsObjId=Zt();for(B=1;B<=Dn;B++)Ee.push(Ye({number:B,data:ge[B],objId:Ge[B].objId,contentsObjId:Ge[B].contentsObjId,mediaBox:Ge[B].mediaBox,cropBox:Ge[B].cropBox,bleedBox:Ge[B].bleedBox,trimBox:Ge[B].trimBox,artBox:Ge[B].artBox,userUnit:Ge[B].userUnit,rootDictionaryObjId:ye,resourceDictionaryObjId:we}));ce(ye,!0),pe("<</Type /Pages");var $e="/Kids [";for(le=0;le<Dn;le++)$e+=Ee[le]+" 0 R ";pe($e+"]"),pe("/Count "+Dn),pe(">>"),pe("endobj"),Pt.publish("postPutPages")},st=function(B){Pt.publish("putFont",{font:B,out:pe,newObject:Nr,putStream:pt}),B.isAlreadyPutted!==!0&&(B.objectNumber=Nr(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+jv(B.postScriptName)),pe("/Subtype /Type1"),typeof B.encoding=="string"&&pe("/Encoding /"+B.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},It=function(){for(var B in dn)dn.hasOwnProperty(B)&&(f===!1||f===!0&&h.hasOwnProperty(B))&&st(dn[B])},Gt=function(B){B.objectNumber=Nr();var le=[];le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Form"}),le.push({key:"BBox",value:"["+[T(B.x),T(B.y),T(B.x+B.width),T(B.y+B.height)].join(" ")+"]"}),le.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var Ee=B.pages[1].join(`
`);pt({data:Ee,additionalKeyValues:le,objectId:B.objectNumber}),pe("endobj")},or=function(){for(var B in ha)ha.hasOwnProperty(B)&&Gt(ha[B])},zt=function(B,le){var Ee,$e=[],tt=1/(le-1);for(Ee=0;Ee<1;Ee+=tt)$e.push(Ee);if($e.push(1),B[0].offset!=0){var bt={offset:0,color:B[0].color};B.unshift(bt)}if(B[B.length-1].offset!=1){var Mt={offset:1,color:B[B.length-1].color};B.push(Mt)}for(var sr="",Dr=0,ln=0;ln<$e.length;ln++){for(Ee=$e[ln];Ee>B[Dr+1].offset;)Dr++;var sn=B[Dr].offset,Cn=(Ee-sn)/(B[Dr+1].offset-sn),$a=B[Dr].color,ei=B[Dr+1].color;sr+=ie(Math.round((1-Cn)*$a[0]+Cn*ei[0]).toString(16))+ie(Math.round((1-Cn)*$a[1]+Cn*ei[1]).toString(16))+ie(Math.round((1-Cn)*$a[2]+Cn*ei[2]).toString(16))}return sr.trim()},$t=function(B,le){le||(le=21);var Ee=Nr(),$e=zt(B.colors,le),tt=[];tt.push({key:"FunctionType",value:"0"}),tt.push({key:"Domain",value:"[0.0 1.0]"}),tt.push({key:"Size",value:"["+le+"]"}),tt.push({key:"BitsPerSample",value:"8"}),tt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt({data:$e,additionalKeyValues:tt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),pe("endobj"),B.objectNumber=Nr(),pe("<< /ShadingType "+B.type),pe("/ColorSpace /DeviceRGB");var bt="/Coords ["+T(parseFloat(B.coords[0]))+" "+T(parseFloat(B.coords[1]))+" ";B.type===2?bt+=T(parseFloat(B.coords[2]))+" "+T(parseFloat(B.coords[3])):bt+=T(parseFloat(B.coords[2]))+" "+T(parseFloat(B.coords[3]))+" "+T(parseFloat(B.coords[4]))+" "+T(parseFloat(B.coords[5])),pe(bt+="]"),B.matrix&&pe("/Matrix ["+B.matrix.toString()+"]"),pe("/Function "+Ee+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Gr=function(B,le){var Ee=Zt(),$e=Nr();le.push({resourcesOid:Ee,objectOid:$e}),B.objectNumber=$e;var tt=[];tt.push({key:"Type",value:"/Pattern"}),tt.push({key:"PatternType",value:"1"}),tt.push({key:"PaintType",value:"1"}),tt.push({key:"TilingType",value:"1"}),tt.push({key:"BBox",value:"["+B.boundingBox.map(T).join(" ")+"]"}),tt.push({key:"XStep",value:T(B.xStep)}),tt.push({key:"YStep",value:T(B.yStep)}),tt.push({key:"Resources",value:Ee+" 0 R"}),B.matrix&&tt.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),pt({data:B.stream,additionalKeyValues:tt,objectId:B.objectNumber}),pe("endobj")},Mn=function(B){var le;for(le in fn)fn.hasOwnProperty(le)&&(fn[le]instanceof C0?$t(fn[le]):fn[le]instanceof Hv&&Gr(fn[le],B))},Qn=function(B){for(var le in B.objectNumber=Nr(),pe("<<"),B)switch(le){case"opacity":pe("/ca "+U(B[le]));break;case"stroke-opacity":pe("/CA "+U(B[le]))}pe(">>"),pe("endobj")},Fa=function(){var B;for(B in Vn)Vn.hasOwnProperty(B)&&Qn(Vn[B])},Bl=function(){for(var B in pe("/XObject <<"),ha)ha.hasOwnProperty(B)&&ha[B].objectNumber>=0&&pe("/"+B+" "+ha[B].objectNumber+" 0 R");Pt.publish("putXobjectDict"),pe(">>")},xc=function(){ja.oid=Nr(),pe("<<"),pe("/Filter /Standard"),pe("/V "+ja.v),pe("/R "+ja.r),pe("/U <"+ja.toHexString(ja.U)+">"),pe("/O <"+ja.toHexString(ja.O)+">"),pe("/P "+ja.P),pe(">>"),pe("endobj")},Us=function(){for(var B in pe("/Font <<"),dn)dn.hasOwnProperty(B)&&(f===!1||f===!0&&h.hasOwnProperty(B))&&pe("/"+B+" "+dn[B].objectNumber+" 0 R");pe(">>")},mi=function(){if(Object.keys(fn).length>0){for(var B in pe("/Shading <<"),fn)fn.hasOwnProperty(B)&&fn[B]instanceof C0&&fn[B].objectNumber>=0&&pe("/"+B+" "+fn[B].objectNumber+" 0 R");Pt.publish("putShadingPatternDict"),pe(">>")}},wc=function(B){if(Object.keys(fn).length>0){for(var le in pe("/Pattern <<"),fn)fn.hasOwnProperty(le)&&fn[le]instanceof m.TilingPattern&&fn[le].objectNumber>=0&&fn[le].objectNumber<B&&pe("/"+le+" "+fn[le].objectNumber+" 0 R");Pt.publish("putTilingPatternDict"),pe(">>")}},La=function(){if(Object.keys(Vn).length>0){var B;for(B in pe("/ExtGState <<"),Vn)Vn.hasOwnProperty(B)&&Vn[B].objectNumber>=0&&pe("/"+B+" "+Vn[B].objectNumber+" 0 R");Pt.publish("putGStateDict"),pe(">>")}},si=function(B){ce(B.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Us(),mi(),wc(B.objectOid),La(),Bl(),pe(">>"),pe("endobj")},Lg=function(){var B=[];It(),Fa(),or(),Mn(B),Pt.publish("putResources"),B.forEach(si),si({resourcesOid:we,objectOid:Number.MAX_SAFE_INTEGER}),Pt.publish("postPutResources")},jg=function(){Pt.publish("putAdditionalObjects");for(var B=0;B<ue.length;B++){var le=ue[B];ce(le.objId,!0),pe(le.content),pe("endobj")}Pt.publish("postPutAdditionalObjects")},wf=function(B){bn[B.fontName]=bn[B.fontName]||{},bn[B.fontName][B.fontStyle]=B.id},dd=function(B,le,Ee,$e,tt){var bt={id:"F"+(Object.keys(dn).length+1).toString(10),postScriptName:B,fontName:le,fontStyle:Ee,encoding:$e,isStandardFont:tt||!1,metadata:{}};return Pt.publish("addFont",{font:bt,instance:this}),dn[bt.id]=bt,wf(bt),bt.id},_f=function(B){for(var le=0,Ee=dt.length;le<Ee;le++){var $e=dd.call(this,B[le][0],B[le][1],B[le][2],dt[le][3],!0);f===!1&&(h[$e]=!0);var tt=B[le][0].split("-");wf({id:$e,fontName:tt[0],fontStyle:tt[1]||""})}Pt.publish("addFonts",{fonts:dn,dictionary:bn})},os=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch($e){var le=$e.stack||"";~le.indexOf(" at ")&&(le=le.split(" at ")[1]);var Ee="Error in function "+le.split(`
`)[0].split("<")[0]+": "+$e.message;if(!Kr.console)throw new Error(Ee);Kr.console.error(Ee,$e),Kr.alert&&alert(Ee)}},B.foo.bar=B,B.foo},Lh=function(B,le){var Ee,$e,tt,bt,Mt,sr,Dr,ln,sn;if(tt=(le=le||{}).sourceEncoding||"Unicode",Mt=le.outputEncoding,(le.autoencode||Mt)&&dn[At].metadata&&dn[At].metadata[tt]&&dn[At].metadata[tt].encoding&&(bt=dn[At].metadata[tt].encoding,!Mt&&dn[At].encoding&&(Mt=dn[At].encoding),!Mt&&bt.codePages&&(Mt=bt.codePages[0]),typeof Mt=="string"&&(Mt=bt[Mt]),Mt)){for(Dr=!1,sr=[],Ee=0,$e=B.length;Ee<$e;Ee++)(ln=Mt[B.charCodeAt(Ee)])?sr.push(String.fromCharCode(ln)):sr.push(B[Ee]),sr[Ee].charCodeAt(0)>>8&&(Dr=!0);B=sr.join("")}for(Ee=B.length;Dr===void 0&&Ee!==0;)B.charCodeAt(Ee-1)>>8&&(Dr=!0),Ee--;if(!Dr)return B;for(sr=le.noBOM?[]:[254,255],Ee=0,$e=B.length;Ee<$e;Ee++){if((sn=(ln=B.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");sr.push(sn),sr.push(ln-(sn<<8))}return String.fromCharCode.apply(void 0,sr)},ss=m.__private__.pdfEscape=m.pdfEscape=function(B,le){return Lh(B,le).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bf=m.__private__.beginPage=function(B){ge[++Dn]=[],Ge[Dn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},fd(Dn),De(ge[K])},Bm=function(B,le){var Ee,$e,tt;switch(r=le||r,typeof B=="string"&&(Ee=_(B.toLowerCase()),Array.isArray(Ee)&&($e=Ee[0],tt=Ee[1])),Array.isArray(B)&&($e=B[0]*ut,tt=B[1]*ut),isNaN($e)&&($e=a[0],tt=a[1]),($e>14400||tt>14400)&&(Sa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$e=Math.min(14400,$e),tt=Math.min(14400,tt)),a=[$e,tt],r.substr(0,1)){case"l":tt>$e&&(a=[tt,$e]);break;case"p":$e>tt&&(a=[tt,$e])}bf(a),Ef(Wm),pe(ls),Hm!==0&&pe(Hm+" J"),Tf!==0&&pe(Tf+" j"),Pt.publish("addPage",{pageNumber:Dn})},Um=function(B){B>0&&B<=Dn&&(ge.splice(B,1),Ge.splice(B,1),Dn--,K>Dn&&(K=Dn),this.setPage(K))},fd=function(B){B>0&&B<=Dn&&(K=B)},ky=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ge.length-1},jh=function(B,le,Ee){var $e,tt=void 0;return Ee=Ee||{},B=B!==void 0?B:dn[At].fontName,le=le!==void 0?le:dn[At].fontStyle,$e=B.toLowerCase(),bn[$e]!==void 0&&bn[$e][le]!==void 0?tt=bn[$e][le]:bn[B]!==void 0&&bn[B][le]!==void 0?tt=bn[B][le]:Ee.disableWarning===!1&&Sa.warn("Unable to look up font label for font '"+B+"', '"+le+"'. Refer to getFontList() for available fonts."),tt||Ee.noFallback||(tt=bn.times[le])==null&&(tt=bn.times.normal),tt},Bn=m.__private__.putInfo=function(){var B=Nr(),le=function($e){return $e};for(var Ee in d!==null&&(le=ja.encryptor(B,0)),pe("<<"),pe("/Producer ("+ss(le("jsPDF "+Lr.version))+")"),_t)_t.hasOwnProperty(Ee)&&_t[Ee]&&pe("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+ss(le(_t[Ee]))+")");pe("/CreationDate ("+ss(le(X))+")"),pe(">>"),pe("endobj")},$h=m.__private__.putCatalog=function(B){var le=(B=B||{}).rootDictionaryObjId||ye;switch(Nr(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+le+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+lt;Ee.substr(Ee.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+U(lt)+"]")}switch(vt||(vt="continuous"),vt){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}We&&pe("/PageMode /"+We),Pt.publish("putCatalog"),pe(">>"),pe("endobj")},$g=m.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ae+1)),pe("/Root "+ae+" 0 R"),pe("/Info "+(ae-1)+" 0 R"),d!==null&&pe("/Encrypt "+ja.oid+" 0 R"),pe("/ID [ <"+te+"> <"+te+"> ]"),pe(">>")},qm=m.__private__.putHeader=function(){pe("%PDF-"+x),pe("%ºß¬à")},Bg=m.__private__.putXRef=function(){var B="0000000000";pe("xref"),pe("0 "+(ae+1)),pe("0000000000 65535 f ");for(var le=1;le<=ae;le++)typeof oe[le]=="function"?pe((B+oe[le]()).slice(-10)+" 00000 n "):oe[le]!==void 0?pe((B+oe[le]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},_c=m.__private__.buildDocument=function(){Re(),De(de),Pt.publish("buildDocument"),qm(),at(),jg(),Lg(),d!==null&&xc(),Bn(),$h();var B=J;return Bg(),$g(),pe("startxref"),pe(""+B),pe("%%EOF"),De(ge[K]),de.join(`
`)},Sf=m.__private__.getBlob=function(B){return new Blob([mt(B)],{type:"application/pdf"})},hd=m.output=m.__private__.output=os(function(B,le){switch(typeof(le=le||{})=="string"?le={filename:le}:le.filename=le.filename||"generated.pdf",B){case void 0:return _c();case"save":m.save(le.filename);break;case"arraybuffer":return mt(_c());case"blob":return Sf(_c());case"bloburi":case"bloburl":if(Kr.URL!==void 0&&typeof Kr.URL.createObjectURL=="function")return Kr.URL&&Kr.URL.createObjectURL(Sf(_c()))||void 0;Sa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",$e=_c();try{Ee=y8($e)}catch{Ee=y8(unescape(encodeURIComponent($e)))}return"data:application/pdf;filename="+le.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kr)==="[object Window]"){var tt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';le.pdfObjectUrl&&(tt=le.pdfObjectUrl,bt="");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+tt+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(le)+");<\/script></body></html>",sr=Kr.open();return sr!==null&&sr.document.write(Mt),sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kr)==="[object Window]"){var Dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(le.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+le.filename+'" width="500px" height="400px" /></body></html>',ln=Kr.open();if(ln!==null){ln.document.write(Dr);var sn=this;ln.document.documentElement.querySelector("#pdfViewer").onload=function(){ln.document.title=le.filename,ln.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sn.output("bloburl"))}}return ln}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",le)+'"></iframe></body></html>',$a=Kr.open();if($a!==null&&($a.document.write(Cn),$a.document.title=le.filename),$a||typeof safari>"u")return $a;break;case"datauri":case"dataurl":return Kr.document.location.href=this.output("datauristring",le);default:return null}}),Af=function(B){return Array.isArray(An)===!0&&An.indexOf(B)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Af("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var ja=null;Z(),G();var bc=function(B){return d!==null?ja.encryptor(B,0):function(le){return le}},Ul=m.__private__.getPageInfo=m.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ge[B].objId,pageNumber:B,pageContext:Ge[B]}},Br=m.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var le in Ge)if(Ge[le].objId===B)break;return Ul(le)},kf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ge[K].objId,pageNumber:K,pageContext:Ge[K]}};m.addPage=function(){return Bm.apply(this,arguments),this},m.setPage=function(){return fd.apply(this,arguments),De.call(this,ge[K]),this},m.insertPage=function(B){return this.addPage(),this.movePage(K,B),this},m.movePage=function(B,le){var Ee,$e;if(B>le){Ee=ge[B],$e=Ge[B];for(var tt=B;tt>le;tt--)ge[tt]=ge[tt-1],Ge[tt]=Ge[tt-1];ge[le]=Ee,Ge[le]=$e,this.setPage(le)}else if(B<le){Ee=ge[B],$e=Ge[B];for(var bt=B;bt<le;bt++)ge[bt]=ge[bt+1],Ge[bt]=Ge[bt+1];ge[le]=Ee,Ge[le]=$e,this.setPage(le)}return this},m.deletePage=function(){return Um.apply(this,arguments),this},m.__private__.text=m.text=function(B,le,Ee,$e,tt){var bt,Mt,sr,Dr,ln,sn,Cn,$a,ei,gi=($e=$e||{}).scope||this;if(typeof B=="number"&&typeof le=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var So=Ee;Ee=le,le=B,B=So}if(arguments[3]instanceof Cr?(I("The transform parameter of text() with a Matrix value"),ei=tt):(sr=arguments[4],Dr=arguments[5],xa(Cn=arguments[3])==="object"&&Cn!==null||(typeof sr=="string"&&(Dr=sr,sr=null),typeof Cn=="string"&&(Dr=Cn,Cn=null),typeof Cn=="number"&&(sr=Cn,Cn=null),$e={flags:Cn,angle:sr,align:Dr})),isNaN(le)||isNaN(Ee)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return gi;var Zi="",Vl=!1,zs=typeof $e.lineHeightFactor=="number"?$e.lineHeightFactor:Nf,ml=gi.internal.scaleFactor;function wd(pa){return pa=pa.split("	").join(Array($e.TabLen||9).join(" ")),ss(pa,Cn)}function Ym(pa){for(var ea,ri=pa.concat(),vi=[],Cc=ri.length;Cc--;)typeof(ea=ri.shift())=="string"?vi.push(ea):Array.isArray(pa)&&(ea.length===1||ea[1]===void 0&&ea[2]===void 0)?vi.push(ea[0]):vi.push([ea[0],ea[1],ea[2]]);return vi}function Yh(pa,ea){var ri;if(typeof pa=="string")ri=ea(pa)[0];else if(Array.isArray(pa)){for(var vi,Cc,ip=pa.concat(),Lf=[],Jm=ip.length;Jm--;)typeof(vi=ip.shift())=="string"?Lf.push(ea(vi)[0]):Array.isArray(vi)&&typeof vi[0]=="string"&&(Cc=ea(vi[0],vi[1],vi[2]),Lf.push([Cc[0],Cc[1],Cc[2]]));ri=Lf}return ri}var Pf=!1,Xh=!0;if(typeof B=="string")Pf=!0;else if(Array.isArray(B)){var Zh=B.concat();Mt=[];for(var Of,ti=Zh.length;ti--;)(typeof(Of=Zh.shift())!="string"||Array.isArray(Of)&&typeof Of[0]!="string")&&(Xh=!1);Pf=Xh}if(Pf===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var Jh=Tt/gi.internal.scaleFactor,Qh=Jh*(zs-1);switch($e.baseline){case"bottom":Ee-=Qh;break;case"top":Ee+=Jh-Qh;break;case"hanging":Ee+=Jh-2*Qh;break;case"middle":Ee+=Jh/2-Qh}if((sn=$e.maxWidth||0)>0&&(typeof B=="string"?B=gi.splitTextToSize(B,sn):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(pa,ea){return pa.concat(gi.splitTextToSize(ea,sn))},[]))),bt={text:B,x:le,y:Ee,options:$e,mutex:{pdfEscape:ss,activeFontKey:At,fonts:dn,activeFontSize:Tt}},Pt.publish("preProcessText",bt),B=bt.text,sr=($e=bt.options).angle,!(ei instanceof Cr)&&sr&&typeof sr=="number"){sr*=Math.PI/180,$e.rotationDirection===0&&(sr=-sr),S===b.ADVANCED&&(sr=-sr);var ep=Math.cos(sr),tp=Math.sin(sr);ei=new Cr(ep,tp,-tp,ep,0,0)}else sr&&sr instanceof Cr&&(ei=sr);S!==b.ADVANCED||ei||(ei=wt),(ln=$e.charSpace||vd)!==void 0&&(Zi+=T(M(ln))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($a=$e.horizontalScale)!==void 0&&(Zi+=T(100*$a)+` Tz
`),$e.lang;var zo=-1,Df=$e.renderingMode!==void 0?$e.renderingMode:$e.stroke,lu=gi.internal.getCurrentPageInfo().pageContext;switch(Df){case 0:case!1:case"fill":zo=0;break;case 1:case!0:case"stroke":zo=1;break;case 2:case"fillThenStroke":zo=2;break;case 3:case"invisible":zo=3;break;case 4:case"fillAndAddForClipping":zo=4;break;case 5:case"strokeAndAddPathForClipping":zo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zo=6;break;case 7:case"addToPathForClipping":zo=7}var Wg=lu.usedRenderingMode!==void 0?lu.usedRenderingMode:-1;zo!==-1?Zi+=zo+` Tr
`:Wg!==-1&&(Zi+=`0 Tr
`),zo!==-1&&(lu.usedRenderingMode=zo),Dr=$e.align||"left";var Wo,rp=Tt*zs,Xm=gi.internal.pageSize.getWidth(),np=dn[At];ln=$e.charSpace||vd,sn=$e.maxWidth||0,Cn=Object.assign({autoencode:!0,noBOM:!0},$e.flags);var Nc=[],_d=function(pa){return gi.getStringUnitWidth(pa,{font:np,charSpace:ln,fontSize:Tt,doKerning:!1})*Tt/ml};if(Object.prototype.toString.call(B)==="[object Array]"){var Vo;Mt=Ym(B),Dr!=="left"&&(Wo=Mt.map(_d));var Ao,bd=0;if(Dr==="right"){le-=Wo[0],B=[],ti=Mt.length;for(var cu=0;cu<ti;cu++)cu===0?(Ao=hl(le),Vo=pl(Ee)):(Ao=M(bd-Wo[cu]),Vo=-rp),B.push([Mt[cu],Ao,Vo]),bd=Wo[cu]}else if(Dr==="center"){le-=Wo[0]/2,B=[],ti=Mt.length;for(var uu=0;uu<ti;uu++)uu===0?(Ao=hl(le),Vo=pl(Ee)):(Ao=M((bd-Wo[uu])/2),Vo=-rp),B.push([Mt[uu],Ao,Vo]),bd=Wo[uu]}else if(Dr==="left"){B=[],ti=Mt.length;for(var ap=0;ap<ti;ap++)B.push(Mt[ap])}else if(Dr==="justify"&&np.encoding==="Identity-H"){B=[],ti=Mt.length,sn=sn!==0?sn:Xm;for(var du=0,Un=0;Un<ti;Un++)if(Vo=Un===0?pl(Ee):-rp,Ao=Un===0?hl(le):du,Un<ti-1){var fu=M((sn-Wo[Un])/(Mt[Un].split(" ").length-1)),ko=Mt[Un].split(" ");B.push([ko[0]+" ",Ao,Vo]),du=0;for(var Ws=1;Ws<ko.length;Ws++){var If=(_d(ko[Ws-1]+" "+ko[Ws])-_d(ko[Ws]))*ml+fu;Ws==ko.length-1?B.push([ko[Ws],If,0]):B.push([ko[Ws]+" ",If,0]),du-=If}}else B.push([Mt[Un],Ao,Vo]);B.push(["",du,0])}else{if(Dr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],ti=Mt.length,sn=sn!==0?sn:Xm,Un=0;Un<ti;Un++)Vo=Un===0?pl(Ee):-rp,Ao=Un===0?hl(le):0,Un<ti-1?Nc.push(T(M((sn-Wo[Un])/(Mt[Un].split(" ").length-1)))):Nc.push(0),B.push([Mt[Un],Ao,Vo])}}var Zm=typeof $e.R2L=="boolean"?$e.R2L:Ce;Zm===!0&&(B=Yh(B,function(pa,ea,ri){return[pa.split("").reverse().join(""),ea,ri]})),bt={text:B,x:le,y:Ee,options:$e,mutex:{pdfEscape:ss,activeFontKey:At,fonts:dn,activeFontSize:Tt}},Pt.publish("postProcessText",bt),B=bt.text,Vl=bt.mutex.isHex||!1;var Rf=dn[At].encoding;Rf!=="WinAnsiEncoding"&&Rf!=="StandardEncoding"||(B=Yh(B,function(pa,ea,ri){return[wd(pa),ea,ri]})),Mt=Ym(B),B=[];for(var Mf,Ff,Vs,hu=0,Ec=1,pu=Array.isArray(Mt[0])?Ec:hu,mu="",Sd=function(pa,ea,ri){var vi="";return ri instanceof Cr?(ri=typeof $e.angle=="number"?xt(ri,new Cr(1,0,0,1,pa,ea)):xt(new Cr(1,0,0,1,pa,ea),ri),S===b.ADVANCED&&(ri=xt(new Cr(1,0,0,-1,0,0),ri)),vi=ri.join(" ")+` Tm
`):vi=T(pa)+" "+T(ea)+` Td
`,vi},uo=0;uo<Mt.length;uo++){switch(mu="",pu){case Ec:Vs=(Vl?"<":"(")+Mt[uo][0]+(Vl?">":")"),Mf=parseFloat(Mt[uo][1]),Ff=parseFloat(Mt[uo][2]);break;case hu:Vs=(Vl?"<":"(")+Mt[uo]+(Vl?">":")"),Mf=hl(le),Ff=pl(Ee)}Nc!==void 0&&Nc[uo]!==void 0&&(mu=Nc[uo]+` Tw
`),uo===0?B.push(mu+Sd(Mf,Ff,ei)+Vs):pu===hu?B.push(mu+Vs):pu===Ec&&B.push(mu+Sd(Mf,Ff,ei)+Vs)}B=pu===hu?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var cs=`BT
/`;return cs+=At+" "+Tt+` Tf
`,cs+=T(Tt*zs)+` TL
`,cs+=Oi+`
`,cs+=Zi,cs+=B,pe(cs+="ET"),h[At]=!0,gi};var Sc=m.__private__.clip=m.clip=function(B){return pe(B==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Sc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return pe("n"),this};var Ac=m.__private__.isValidStyle=function(B){var le=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(le=!0),le};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(B){return Ac(B)&&(u=B),this};var zm=m.__private__.getStyle=m.getStyle=function(B){var le=u;switch(B){case"D":case"S":le="S";break;case"F":le="f";break;case"FD":case"DF":le="B";break;case"f":case"f*":case"B":case"B*":le=B}return le},pd=m.close=function(){return pe("h"),this};m.stroke=function(){return pe("S"),this},m.fill=function(B){return Bh("f",B),this},m.fillEvenOdd=function(B){return Bh("f*",B),this},m.fillStroke=function(B){return Bh("B",B),this},m.fillStrokeEvenOdd=function(B){return Bh("B*",B),this};var Bh=function(B,le){xa(le)==="object"?Ug(le,B):pe(B)},Uh=function(B){B===null||S===b.ADVANCED&&B===void 0||(B=zm(B),pe(B))};function qh(B,le,Ee,$e,tt){var bt=new Hv(le||this.boundingBox,Ee||this.xStep,$e||this.yStep,this.gState,tt||this.matrix);bt.stream=this.stream;var Mt=B+"$$"+this.cloneIndex+++"$$";return mr(Mt,bt),bt}var Ug=function(B,le){var Ee=oi[B.key],$e=fn[Ee];if($e instanceof C0)pe("q"),pe(Ny(le)),$e.gState&&m.setGState($e.gState),pe(B.matrix.toString()+" cm"),pe("/"+Ee+" sh"),pe("Q");else if($e instanceof Hv){var tt=new Cr(1,0,0,-1,0,xd());B.matrix&&(tt=tt.multiply(B.matrix||wt),Ee=qh.call($e,B.key,B.boundingBox,B.xStep,B.yStep,tt).id),pe("q"),pe("/Pattern cs"),pe("/"+Ee+" scn"),$e.gState&&m.setGState($e.gState),pe(le),pe("Q")}},Ny=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ou=m.moveTo=function(B,le){return pe(T(M(B))+" "+T(V(le))+" m"),this},ql=m.lineTo=function(B,le){return pe(T(M(B))+" "+T(V(le))+" l"),this},qs=m.curveTo=function(B,le,Ee,$e,tt,bt){return pe([T(M(B)),T(V(le)),T(M(Ee)),T(V($e)),T(M(tt)),T(V(bt)),"c"].join(" ")),this};m.__private__.line=m.line=function(B,le,Ee,$e,tt){if(isNaN(B)||isNaN(le)||isNaN(Ee)||isNaN($e)||!Ac(tt))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[Ee-B,$e-le]],B,le,[1,1],tt||"S"):this.lines([[Ee-B,$e-le]],B,le,[1,1]).stroke()},m.__private__.lines=m.lines=function(B,le,Ee,$e,tt,bt){var Mt,sr,Dr,ln,sn,Cn,$a,ei,gi,So,Zi,Vl;if(typeof B=="number"&&(Vl=Ee,Ee=le,le=B,B=Vl),$e=$e||[1,1],bt=bt||!1,isNaN(le)||isNaN(Ee)||!Array.isArray(B)||!Array.isArray($e)||!Ac(tt)||typeof bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ou(le,Ee),Mt=$e[0],sr=$e[1],ln=B.length,So=le,Zi=Ee,Dr=0;Dr<ln;Dr++)(sn=B[Dr]).length===2?(So=sn[0]*Mt+So,Zi=sn[1]*sr+Zi,ql(So,Zi)):(Cn=sn[0]*Mt+So,$a=sn[1]*sr+Zi,ei=sn[2]*Mt+So,gi=sn[3]*sr+Zi,So=sn[4]*Mt+So,Zi=sn[5]*sr+Zi,qs(Cn,$a,ei,gi,So,Zi));return bt&&pd(),Uh(tt),this},m.path=function(B){for(var le=0;le<B.length;le++){var Ee=B[le],$e=Ee.c;switch(Ee.op){case"m":ou($e[0],$e[1]);break;case"l":ql($e[0],$e[1]);break;case"c":qs.apply(this,$e);break;case"h":pd()}}return this},m.__private__.rect=m.rect=function(B,le,Ee,$e,tt){if(isNaN(B)||isNaN(le)||isNaN(Ee)||isNaN($e)||!Ac(tt))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&($e=-$e),pe([T(M(B)),T(V(le)),T(M(Ee)),T(M($e)),"re"].join(" ")),Uh(tt),this},m.__private__.triangle=m.triangle=function(B,le,Ee,$e,tt,bt,Mt){if(isNaN(B)||isNaN(le)||isNaN(Ee)||isNaN($e)||isNaN(tt)||isNaN(bt)||!Ac(Mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-B,$e-le],[tt-Ee,bt-$e],[B-tt,le-bt]],B,le,[1,1],Mt,!0),this},m.__private__.roundedRect=m.roundedRect=function(B,le,Ee,$e,tt,bt,Mt){if(isNaN(B)||isNaN(le)||isNaN(Ee)||isNaN($e)||isNaN(tt)||isNaN(bt)||!Ac(Mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var sr=4/3*(Math.SQRT2-1);return tt=Math.min(tt,.5*Ee),bt=Math.min(bt,.5*$e),this.lines([[Ee-2*tt,0],[tt*sr,0,tt,bt-bt*sr,tt,bt],[0,$e-2*bt],[0,bt*sr,-tt*sr,bt,-tt,bt],[2*tt-Ee,0],[-tt*sr,0,-tt,-bt*sr,-tt,-bt],[0,2*bt-$e],[0,-bt*sr,tt*sr,-bt,tt,-bt]],B+tt,le,[1,1],Mt,!0),this},m.__private__.ellipse=m.ellipse=function(B,le,Ee,$e,tt){if(isNaN(B)||isNaN(le)||isNaN(Ee)||isNaN($e)||!Ac(tt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*Ee,Mt=4/3*(Math.SQRT2-1)*$e;return ou(B+Ee,le),qs(B+Ee,le-Mt,B+bt,le-$e,B,le-$e),qs(B-bt,le-$e,B-Ee,le-Mt,B-Ee,le),qs(B-Ee,le+Mt,B-bt,le+$e,B,le+$e),qs(B+bt,le+$e,B+Ee,le+Mt,B+Ee,le),Uh(tt),this},m.__private__.circle=m.circle=function(B,le,Ee,$e){if(isNaN(B)||isNaN(le)||isNaN(Ee)||!Ac($e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,le,Ee,Ee,$e)},m.setFont=function(B,le,Ee){return Ee&&(le=O(le,Ee)),At=jh(B,le,{disableWarning:!1}),this};var zh=m.__private__.getFont=m.getFont=function(){return dn[jh.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var B,le,Ee={};for(B in bn)if(bn.hasOwnProperty(B))for(le in Ee[B]=[],bn[B])bn[B].hasOwnProperty(le)&&Ee[B].push(le);return Ee},m.addFont=function(B,le,Ee,$e,tt){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&bt.indexOf(arguments[3])!==-1?tt=arguments[3]:arguments[3]&&bt.indexOf(arguments[3])==-1&&(Ee=O(Ee,$e)),tt=tt||"Identity-H",dd.call(this,B,le,Ee,tt)};var Nf,Wm=e.lineWidth||.200025,md=m.__private__.getLineWidth=m.getLineWidth=function(){return Wm},Ef=m.__private__.setLineWidth=m.setLineWidth=function(B){return Wm=B,pe(T(M(B))+" w"),this};m.__private__.setLineDash=Lr.API.setLineDash=Lr.API.setLineDashPattern=function(B,le){if(B=B||[],le=le||0,isNaN(le)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(Ee){return T(M(Ee))}).join(" "),le=T(M(le)),pe("["+B+"] "+le+" d"),this};var Wh=m.__private__.getLineHeight=m.getLineHeight=function(){return Tt*Nf};m.__private__.getLineHeight=m.getLineHeight=function(){return Tt*Nf};var Vm=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(Nf=B),this},zl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Nf};Vm(e.lineHeight);var hl=m.__private__.getHorizontalCoordinate=function(B){return M(B)},pl=m.__private__.getVerticalCoordinate=function(B){return S===b.ADVANCED?B:Ge[K].mediaBox.topRightY-Ge[K].mediaBox.bottomLeftY-M(B)},qg=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(B){return T(hl(B))},Wl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(B){return T(pl(B))},ls=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return be(ls)},m.__private__.setStrokeColor=m.setDrawColor=function(B,le,Ee,$e){return ls=ke({ch1:B,ch2:le,ch3:Ee,ch4:$e,pdfColorType:"draw",precision:2}),pe(ls),this};var Vh=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return be(Vh)},m.__private__.setFillColor=m.setFillColor=function(B,le,Ee,$e){return Vh=ke({ch1:B,ch2:le,ch3:Ee,ch4:$e,pdfColorType:"fill",precision:2}),pe(Vh),this};var Oi=e.textColor||"0 g",gd=m.__private__.getTextColor=m.getTextColor=function(){return be(Oi)};m.__private__.setTextColor=m.setTextColor=function(B,le,Ee,$e){return Oi=ke({ch1:B,ch2:le,ch3:Ee,ch4:$e,pdfColorType:"text",precision:3}),this};var vd=e.charSpace,Cf=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(vd||0)};m.__private__.setCharSpace=m.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vd=B,this};var Hm=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(B){var le=m.CapJoinStyles[B];if(le===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hm=le,pe(le+" J"),this};var Tf=0;m.__private__.setLineJoin=m.setLineJoin=function(B){var le=m.CapJoinStyles[B];if(le===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tf=le,pe(le+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(T(M(B))+" M"),this},m.GState=KS,m.setGState=function(B){(B=typeof B=="string"?Vn[Ja[B]]:Hh(null,B)).equals(Qa)||(pe("/"+B.id+" gs"),Qa=B)};var Hh=function(B,le){if(!B||!Ja[B]){var Ee=!1;for(var $e in Vn)if(Vn.hasOwnProperty($e)&&Vn[$e].equals(le)){Ee=!0;break}if(Ee)le=Vn[$e];else{var tt="GS"+(Object.keys(Vn).length+1).toString(10);Vn[tt]=le,le.id=tt}return B&&(Ja[B]=le.id),Pt.publish("addGState",le),le}};m.addGState=function(B,le){return Hh(B,le),this},m.saveGraphicsState=function(){return pe("q"),Pi.push({key:At,size:Tt,color:Oi}),this},m.restoreGraphicsState=function(){pe("Q");var B=Pi.pop();return At=B.key,Tt=B.size,Oi=B.color,Qa=null,this},m.setCurrentTransformationMatrix=function(B){return pe(B.toString()+" cm"),this},m.comment=function(B){return pe("#"+B),this};var kc=function(B,le){var Ee=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(bt){isNaN(bt)||(Ee=parseFloat(bt))}});var $e=le||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(bt){isNaN(bt)||($e=parseFloat(bt))}});var tt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return tt},set:function(bt){tt=bt.toString()}}),this},yd=function(B,le,Ee,$e){kc.call(this,B,le),this.type="rect";var tt=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return tt},set:function(Mt){isNaN(Mt)||(tt=parseFloat(Mt))}});var bt=$e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(Mt){isNaN(Mt)||(bt=parseFloat(Mt))}}),this},Gh=function(){this.page=Dn,this.currentPage=K,this.pages=ge.slice(0),this.pagesContext=Ge.slice(0),this.x=wr,this.y=nr,this.matrix=Jr,this.width=su(K),this.height=xd(K),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Gh.prototype.restore=function(){Dn=this.page,K=this.currentPage,Ge=this.pagesContext,ge=this.pages,wr=this.x,nr=this.y,Jr=this.matrix,Gm(K,this.width),Km(K,this.height),Ne=this.outputDestination};var zg=function(B,le,Ee,$e,tt){bo.push(new Gh),Dn=K=0,ge=[],wr=B,nr=le,Jr=tt,bf([Ee,$e])},Ey=function(B){if(co[B])bo.pop().restore();else{var le=new Gh,Ee="Xo"+(Object.keys(ha).length+1).toString(10);le.id=Ee,co[B]=Ee,ha[Ee]=le,Pt.publish("addFormObject",le),bo.pop().restore()}};for(var Kh in m.beginFormObject=function(B,le,Ee,$e,tt){return zg(B,le,Ee,$e,tt),this},m.endFormObject=function(B){return Ey(B),this},m.doFormObject=function(B,le){var Ee=ha[co[B]];return pe("q"),pe(le.toString()+" cm"),pe("/"+Ee.id+" Do"),pe("Q"),this},m.getFormObject=function(B){var le=ha[co[B]];return{x:le.x,y:le.y,width:le.width,height:le.height,matrix:le.matrix}},m.save=function(B,le){return B=B||"generated.pdf",(le=le||{}).returnPromise=le.returnPromise||!1,le.returnPromise===!1?(k0(Sf(_c()),B),typeof k0.unload=="function"&&Kr.setTimeout&&setTimeout(k0.unload,911),this):new Promise(function(Ee,$e){try{var tt=k0(Sf(_c()),B);typeof k0.unload=="function"&&Kr.setTimeout&&setTimeout(k0.unload,911),Ee(tt)}catch(bt){$e(bt.message)}})},Lr.API)Lr.API.hasOwnProperty(Kh)&&(Kh==="events"&&Lr.API.events.length?function(B,le){var Ee,$e,tt;for(tt=le.length-1;tt!==-1;tt--)Ee=le[tt][0],$e=le[tt][1],B.subscribe.apply(B,[Ee].concat(typeof $e=="function"?[$e]:$e))}(Pt,Lr.API.events):m[Kh]=Lr.API[Kh]);var su=m.getPageWidth=function(B){return(Ge[B=B||K].mediaBox.topRightX-Ge[B].mediaBox.bottomLeftX)/ut},Gm=m.setPageWidth=function(B,le){Ge[B].mediaBox.topRightX=le*ut+Ge[B].mediaBox.bottomLeftX},xd=m.getPageHeight=function(B){return(Ge[B=B||K].mediaBox.topRightY-Ge[B].mediaBox.bottomLeftY)/ut},Km=m.setPageHeight=function(B,le){Ge[B].mediaBox.topRightY=le*ut+Ge[B].mediaBox.bottomLeftY};return m.internal={pdfEscape:ss,getStyle:zm,getFont:zh,getFontSize:_e,getCharSpace:Cf,getTextColor:gd,getLineHeight:Wh,getLineHeightFactor:zl,getLineWidth:md,write:Je,getHorizontalCoordinate:hl,getVerticalCoordinate:pl,getCoordinateString:qg,getVerticalCoordinateString:Wl,collections:{},newObject:Nr,newAdditionalObject:Se,newObjectDeferred:Zt,newObjectDeferredBegin:ce,getFilters:et,putStream:pt,events:Pt,scaleFactor:ut,pageSize:{getWidth:function(){return su(K)},setWidth:function(B){Gm(K,B)},getHeight:function(){return xd(K)},setHeight:function(B){Km(K,B)}},encryptionOptions:d,encryption:ja,getEncryptor:bc,output:hd,getNumberOfPages:ky,pages:ge,out:pe,f2:U,f3:P,getPageInfo:Ul,getPageInfoByObjId:Br,getCurrentPageInfo:kf,getPDFVersion:g,Point:kc,Rectangle:yd,Matrix:Cr,hasHotfix:Af},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return su(K)},set:function(B){Gm(K,B)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return xd(K)},set:function(B){Km(K,B)},enumerable:!0,configurable:!0}),_f.call(m,dt),At="F1",Bm(a,r),Pt.publish("initialized"),m}Lv.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Lv.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Lv.prototype.processOwnerPassword=function(e,t){return w8(x8(t).substr(0,5),e)},Lv.prototype.encryptor=function(e,t){var r=x8(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return w8(r,n)}},KS.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||xa(e)!==xa(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Lr.API={events:[]},Lr.version="3.0.1";var _i=Lr.API,g7=1,Fg=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hn=function(e){return e.toFixed(2)},Ip=function(e){return e.toFixed(5)};_i.__acroform__={};var $l=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},fV=function(e){return e*g7},Fd=function(e){var t=new $ie,r=kr.internal.getHeight(e)||0,n=kr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(hn(n)),Number(hn(r))],t},JHe=_i.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},QHe=_i.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},eGe=_i.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},$i=_i.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eGe(e,t-1)},Bi=_i.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JHe(e,t-1)},Ui=_i.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QHe(e,t-1)},tGe=_i.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+s)||0,l.upperRight_X=r(a+o)||0,l.upperRight_Y=n(i)||0,[Number(hn(l.lowerLeft_X)),Number(hn(l.lowerLeft_Y)),Number(hn(l.upperRight_X)),Number(hn(l.upperRight_Y))]},rGe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=_8(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+hn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Fd(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},_8=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,o=kr.internal.getHeight(e)||0;o=o<0?-o:o;var s=kr.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(P,M,j){if(P+1<a.length){var V=M+" "+a[P+1][0];return Ib(V,e,j).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=Ib("3",e,i).height,h=e.multiline?o-i:(o-f)/2,m=h+=2,x=0,g=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ib(t,e,i=12).width+", FieldWidth:"+s+`
`;break}for(var _="",b=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var C=!1;if(a[S].length!==1&&y!==a[S].length-1){if((f+2)*(b+2)+2>o)continue e;_+=a[S][y],C=!0,g=S,S--}else{_=(_+=a[S][y]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var E=parseInt(S),O=l(E,_,i),T=S>=a.length-1;if(O&&!T){_+=" ",y=0;continue}if(O||T){if(T)g=E;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;g=E}}for(var I="",L=x;L<=g;L++){var U=a[L];if(e.multiline){if(L===g){I+=U[y]+" ",y=(y+1)%U.length;continue}if(L===x){I+=U[U.length-1]+" ";continue}}I+=U[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,d=Ib(I,e,i).width,e.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;case"left":default:u=2}t+=hn(u)+" "+hn(m)+` Td
`,t+="("+Fg(I)+`) Tj
`,t+=-hn(u)+` 0 Td
`,m=-(i+2),d=0,x=C?g:g+1,b++,_=""}break}return n.text=t,n.fontSize=i,n},Ib=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},nGe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aGe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},iGe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),xa(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},oGe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(cd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(nGe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g7=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Bie,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&aGe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=tGe(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=kr.createDefaultAppearanceStream(s),xa(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=rGe(s);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var m=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(a,s)),f+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(a,s)),f+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:s.objId}),a.internal.out("endobj")}i&&iGe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},jie=_i.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),xa(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Fg(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},aP=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Fg(n(e))+")"},Yd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yd.prototype.toString=function(){return this.objId+" 0 R"},Yd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Yd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:jie(a,this.objId,this.scope)}):a instanceof Yd?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var $ie=function(){Yd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};$l($ie,Yd);var Bie=function(){Yd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Fg(r(e))+")"}},set:function(r){e=r}})};$l(Bie,Yd);var cd=function e(){Yd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$i(t,3)},set:function(_){_?this.F=Bi(t,3):this.F=Ui(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof YS)return;i="FieldObject"+e.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Fg(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(_){s=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/g7:u},set:function(_){u=_}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof YS||this instanceof G0))return aP(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Mo?h:aP(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=this instanceof Mo?_:_.substr(0,1)==="("?Dv(_.substr(1,_.length-2)):Dv(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mo?Dv(h.substr(1,h.length-1)):h},set:function(_){_=_.toString(),h=this instanceof Mo?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Mo?m:aP(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof Mo?_:_.substr(0,1)==="("?Dv(_.substr(1,_.length-2)):Dv(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mo?Dv(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof Mo?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(_){_=!!_,g=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(_){x=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,1)},set:function(_){_?this.Ff=Bi(this.Ff,1):this.Ff=Ui(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,2)},set:function(_){_?this.Ff=Bi(this.Ff,2):this.Ff=Ui(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,3)},set:function(_){_?this.Ff=Bi(this.Ff,3):this.Ff=Ui(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');y=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(y){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};$l(cd,Yd);var l1=function(){cd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jie(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,s){s||(s=1);for(var l,u=[];l=o.exec(i);)u.push(l[s]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,18)},set:function(r){r?this.Ff=Bi(this.Ff,18):this.Ff=Ui(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Bi(this.Ff,19):this.Ff=Ui(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,20)},set:function(r){r?(this.Ff=Bi(this.Ff,20),t.sort()):this.Ff=Ui(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,22)},set:function(r){r?this.Ff=Bi(this.Ff,22):this.Ff=Ui(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(r){r?this.Ff=Bi(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,27)},set:function(r){r?this.Ff=Bi(this.Ff,27):this.Ff=Ui(this.Ff,27)}}),this.hasAppearanceStream=!1};$l(l1,cd);var c1=function(){l1.call(this),this.fontName="helvetica",this.combo=!1};$l(c1,l1);var u1=function(){c1.call(this),this.combo=!0};$l(u1,c1);var e5=function(){u1.call(this),this.edit=!0};$l(e5,u1);var Mo=function(){cd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,15)},set:function(r){r?this.Ff=Bi(this.Ff,15):this.Ff=Ui(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,16)},set:function(r){r?this.Ff=Bi(this.Ff,16):this.Ff=Ui(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,17)},set:function(r){r?this.Ff=Bi(this.Ff,17):this.Ff=Ui(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(r){r?this.Ff=Bi(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Fg(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){xa(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};$l(Mo,cd);var t5=function(){Mo.call(this),this.pushButton=!0};$l(t5,Mo);var d1=function(){Mo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};$l(d1,Mo);var YS=function(){var e,t;cd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Fg(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){xa(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$l(YS,cd),d1.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},d1.prototype.createOption=function(e){var t=new YS;return t.Parent=this,t.optionName=e,this.Kids.push(t),sGe.call(this.scope,t),t};var r5=function(){Mo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kr.CheckBox.createAppearanceStream()};$l(r5,Mo);var G0=function(){cd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,13)},set:function(t){t?this.Ff=Bi(this.Ff,13):this.Ff=Ui(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,21)},set:function(t){t?this.Ff=Bi(this.Ff,21):this.Ff=Ui(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(t){t?this.Ff=Bi(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,24)},set:function(t){t?this.Ff=Bi(this.Ff,24):this.Ff=Ui(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,25)},set:function(t){t?this.Ff=Bi(this.Ff,25):this.Ff=Ui(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(t){t?this.Ff=Bi(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$l(G0,cd);var n5=function(){G0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,14)},set:function(e){e?this.Ff=Bi(this.Ff,14):this.Ff=Ui(this.Ff,14)}}),this.password=!0};$l(n5,G0);var kr={CheckBox:{createAppearanceStream:function(){return{N:{On:kr.CheckBox.YesNormal},D:{On:kr.CheckBox.YesPushDown,Off:kr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=_8(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+hn(kr.internal.getWidth(e))+" "+hn(kr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+hn(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Fd(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=kr.internal.getHeight(e),o=kr.internal.getWidth(e),s=_8(e,e.caption);return a.push("1 g"),a.push("0 0 "+hn(o)+" "+hn(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+hn(o-1)+" "+hn(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+hn(s.fontSize)+" Tf "+n),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hn(kr.internal.getWidth(e))+" "+hn(kr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:kr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=kr.RadioButton.Circle.YesNormal,t.D[e]=kr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=kr.internal.getWidth(e)<=kr.internal.getHeight(e)?kr.internal.getWidth(e)/4:kr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=kr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ip(kr.internal.getWidth(e)/2)+" "+Ip(kr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=kr.internal.getWidth(e)<=kr.internal.getHeight(e)?kr.internal.getWidth(e)/4:kr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*kr.internal.Bezier_C).toFixed(5)),o=Number((n*kr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ip(kr.internal.getWidth(e)/2)+" "+Ip(kr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ip(kr.internal.getWidth(e)/2)+" "+Ip(kr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=kr.internal.getWidth(e)<=kr.internal.getHeight(e)?kr.internal.getWidth(e)/4:kr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*kr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ip(kr.internal.getWidth(e)/2)+" "+Ip(kr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:kr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=kr.RadioButton.Cross.YesNormal,t.D[e]=kr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=kr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+hn(kr.internal.getWidth(e)-2)+" "+hn(kr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(hn(n.x1.x)+" "+hn(n.x1.y)+" m"),r.push(hn(n.x2.x)+" "+hn(n.x2.y)+" l"),r.push(hn(n.x4.x)+" "+hn(n.x4.y)+" m"),r.push(hn(n.x3.x)+" "+hn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=kr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+hn(kr.internal.getWidth(e))+" "+hn(kr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+hn(kr.internal.getWidth(e)-2)+" "+hn(kr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(hn(r.x1.x)+" "+hn(r.x1.y)+" m"),n.push(hn(r.x2.x)+" "+hn(r.x2.y)+" l"),n.push(hn(r.x4.x)+" "+hn(r.x4.y)+" m"),n.push(hn(r.x3.x)+" "+hn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hn(kr.internal.getWidth(e))+" "+hn(kr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};kr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=kr.internal.getWidth(e),r=kr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},kr.internal.getWidth=function(e){var t=0;return xa(e)==="object"&&(t=fV(e.Rect[2])),t},kr.internal.getHeight=function(e){var t=0;return xa(e)==="object"&&(t=fV(e.Rect[3])),t};var sGe=_i.addField=function(e){if(oGe(this,e),!(e instanceof cd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};_i.AcroFormChoiceField=l1,_i.AcroFormListBox=c1,_i.AcroFormComboBox=u1,_i.AcroFormEditBox=e5,_i.AcroFormButton=Mo,_i.AcroFormPushButton=t5,_i.AcroFormRadioButton=d1,_i.AcroFormCheckBox=r5,_i.AcroFormTextField=G0,_i.AcroFormPasswordField=n5,_i.AcroFormAppearance=kr,_i.AcroForm={ChoiceField:l1,ListBox:c1,ComboBox:u1,EditBox:e5,Button:Mo,PushButton:t5,RadioButton:d1,CheckBox:r5,TextField:G0,PasswordField:n5,Appearance:kr},Lr.AcroForm={ChoiceField:l1,ListBox:c1,ComboBox:u1,EditBox:e5,Button:Mo,PushButton:t5,RadioButton:d1,CheckBox:r5,TextField:G0,PasswordField:n5,Appearance:kr};Lr.AcroForm;function Uie(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(P,M){var j,V,X,te,z,G=t;if((M=M||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(O(P))for(z in r)for(X=r[z],j=0;j<X.length;j+=1){for(te=!0,V=0;V<X[j].length;V+=1)if(X[j][V]!==void 0&&X[j][V]!==P[V]){te=!1;break}if(te===!0){G=z;break}}else for(z in r)for(X=r[z],j=0;j<X.length;j+=1){for(te=!0,V=0;V<X[j].length;V+=1)if(X[j][V]!==void 0&&X[j][V]!==P.charCodeAt(V)){te=!1;break}if(te===!0){G=z;break}}return G===t&&M!==t&&(G=M),G},a=function P(M){for(var j=this.internal.write,V=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:M.width}),te.push({key:"Height",value:M.height}),M.colorSpace===y.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===y.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var z="",G=0,q=M.transparency.length;G<q;G++)z+=M.transparency[G]+" "+M.transparency[G]+" ";te.push({key:"Mask",value:"["+z+"]"})}M.sMask!==void 0&&te.push({key:"SMask",value:M.objectId+1+" 0 R"});var Y=M.filter!==void 0?["/"+M.filter]:void 0;if(V({data:M.data,additionalKeyValues:te,alreadyAppliedFilters:Y,objectId:M.objectId}),j("endobj"),"sMask"in M&&M.sMask!==void 0){var Z="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,D={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:Z,data:M.sMask};"filter"in M&&(D.filter=M.filter),P.call(this,D)}if(M.colorSpace===y.INDEXED){var K=this.internal.newObject();V({data:I(new Uint8Array(M.palette)),objectId:K}),j("endobj")}},i=function(){var P=this.internal.collections.addImage_images;for(var M in P)a.call(this,P[M])},o=function(){var P,M=this.internal.collections.addImage_images,j=this.internal.write;for(var V in M)j("/I"+(P=M[V]).index,P.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var P=this.internal.collections.addImage_images;return s.call(this),P},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(P){return typeof e["process"+P.toUpperCase()]=="function"},f=function(P){return xa(P)==="object"&&P.nodeType===1},h=function(P,M){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var j=""+P.getAttribute("src");if(j.indexOf("data:image/")===0)return Z2(unescape(j).split("base64,").pop());var V=e.loadFile(j,!0);if(V!==void 0)return V}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var X;switch(M){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return Z2(P.toDataURL(X,1).split("base64,").pop())}},m=function(P){var M=this.internal.collections.addImage_images;if(M){for(var j in M)if(P===M[j].alias)return M[j]}},x=function(P,M,j){return P||M||(P=-96,M=-96),P<0&&(P=-1*j.width*72/P/this.internal.scaleFactor),M<0&&(M=-1*j.height*72/M/this.internal.scaleFactor),P===0&&(P=M*j.width/j.height),M===0&&(M=P*j.height/j.width),[P,M]},g=function(P,M,j,V,X,te){var z=x.call(this,j,V,X),G=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,Y=l.call(this);if(j=z[0],V=z[1],Y[X.index]=X,te){te*=Math.PI/180;var Z=Math.cos(te),D=Math.sin(te),K=function(ie){return ie.toFixed(4)},Q=[K(Z),K(D),K(-1*D),K(Z),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,G(P),q(M+V),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([G(j),"0","0",G(V),"0","0","cm"].join(" "))):this.internal.write([G(j),"0","0",G(V),G(P),q(M+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(P){var M,j,V=0;if(typeof P=="string")for(j=P.length,M=0;M<j;M++)V=(V<<5)-V+P.charCodeAt(M),V|=0;else if(O(P))for(j=P.byteLength/2,M=0;M<j;M++)V=(V<<5)-V+P[M],V|=0;return V},S=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var M=!0;return P.length===0&&(M=!1),P.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(M=!1),M},C=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var M=P.indexOf(",");return M<0?null:P.substring(0,M).trim().endsWith("base64")?P.substring(M+1):null},E=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(P){return E()&&P instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(P){return E()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(P){for(var M=P.length,j=new Uint8Array(M),V=0;V<M;V++)j[V]=P.charCodeAt(V);return j},I=e.__addimage__.arrayBufferToBinaryString=function(P){for(var M="",j=O(P)?P:new Uint8Array(P),V=0;V<j.length;V+=8192)M+=String.fromCharCode.apply(null,j.subarray(V,V+8192));return M};e.addImage=function(){var P,M,j,V,X,te,z,G,q;if(typeof arguments[1]=="number"?(M=t,j=arguments[1],V=arguments[2],X=arguments[3],te=arguments[4],z=arguments[5],G=arguments[6],q=arguments[7]):(M=arguments[1],j=arguments[2],V=arguments[3],X=arguments[4],te=arguments[5],z=arguments[6],G=arguments[7],q=arguments[8]),xa(P=arguments[0])==="object"&&!f(P)&&"imageData"in P){var Y=P;P=Y.imageData,M=Y.format||M||t,j=Y.x||j||0,V=Y.y||V||0,X=Y.w||Y.width||X,te=Y.h||Y.height||te,z=Y.alias||z,G=Y.compression||G,q=Y.rotation||Y.angle||q}var Z=this.internal.getFilters();if(G===void 0&&Z.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(j)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var D=L.call(this,P,M,z,G);return g.call(this,j,V,X,te,D,q),this};var L=function(P,M,j,V){var X,te,z;if(typeof P=="string"&&n(P)===t){P=unescape(P);var G=U(P,!1);(G!==""||(G=e.loadFile(P,!0))!==void 0)&&(P=G)}if(f(P)&&(P=h(P,M)),M=n(P,M),!d(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((z=j)==null||z.length===0)&&(j=function(q){return typeof q=="string"||O(q)?b(q):O(q.data)?b(q.data):null}(P)),(X=m.call(this,j))||(E()&&(P instanceof Uint8Array||M==="RGBA"||(te=P,P=T(P))),X=this["process"+M.toUpperCase()](P,u.call(this),j,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in e.image_compression?q:_.NONE}(V),te)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},U=e.__addimage__.convertBase64ToBinaryString=function(P,M){M=typeof M!="boolean"||M;var j,V="";if(typeof P=="string"){var X;j=(X=C(P))!==null&&X!==void 0?X:P;try{V=Z2(j)}catch(te){if(M)throw S(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(P){var M,j,V="";if(f(P)&&(P=h(P)),typeof P=="string"&&n(P)===t&&((V=U(P,!1))===""&&(V=e.loadFile(P)||""),P=V),j=n(P),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!E()||P instanceof Uint8Array||(P=T(P)),!(M=this["process"+j.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=j,M}})(Lr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Lr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(g.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+m(_(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+m(_(b))+") >>",g.content=i;var S=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,s,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(u*d)}else s=l,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-u,s,o,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Lr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var y=0,_=r,b="",S=0;for(y=0;y<g.length;y+=1)_[g.charCodeAt(y)]!==void 0?(S++,typeof(_=_[g.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(_),_=r,S=0),y===g.length-1&&(_=r,b+=g.charAt(y-(S-1)),y-=S-1,S=0)):(_=r,b+=g.charAt(y-S),y-=S,S=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,y,_){return o(g)?i(g)===!1?-1:!u(g)||!o(y)&&!o(_)||!o(_)&&s(y)||s(g)&&!o(y)||s(g)&&l(y)||s(g)&&s(y)?0:d(g)&&o(y)&&!s(y)&&o(_)&&u(_)?3:s(g)||!o(_)?1:2:-1},m=function(g){var y=0,_=0,b=0,S="",C="",E="",O=(g=g||"").split("\\s+"),T=[];for(y=0;y<O.length;y+=1){for(T.push(""),_=0;_<O[y].length;_+=1)S=O[y][_],C=O[y][_-1],E=O[y][_+1],o(S)?(b=h(S,C,E),T[y]+=b!==-1?String.fromCharCode(t[S.charCodeAt(0)][b]):S):T[y]+=S;T[y]=f(T[y])}return T.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(y)){var b=0;for(_=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?_.push([m(y[b][0]),y[b][1],y[b][2]]):_.push([m(y[b])]);g=_}else g=m(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",x])}(Lr.API),Lr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Lr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,x=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,C){return S.concat(y.splitTextToSize(C,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)m<(g=this.getStringUnitWidth(l[b],{font:f})*d)&&(m=g);return m!==0&&(x=l.length),{w:m/=h,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,m&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,x,g,y,_=[],b=[],S=[],C={},E={},O=[],T=[],I=(h=h||{}).autoSize||!1,L=h.printHeaders!==!1,U=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,P=h.margins||Object.assign({width:this.getPageWidth()},t),M=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=V,this.setFontSize(U),f==null)b=_=Object.keys(d[0]),S=_.map(function(){return"left"});else if(Array.isArray(f)&&xa(f[0])==="object")for(_=f.map(function(Y){return Y.name}),b=f.map(function(Y){return Y.prompt||Y.name||""}),S=f.map(function(Y){return Y.align||"left"}),m=0;m<f.length;m+=1)E[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=_=f,S=_.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<_.length;m+=1){for(C[y=_[m]]=d.map(function(Y){return Y[y]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=C[y],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)O.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[y]=Math.max.apply(null,O)+M+M,O=[]}if(L){var X={};for(m=0;m<_.length;m+=1)X[_[m]]={},X[_[m]].text=b[m],X[_[m]].align=S[m];var te=s.call(this,X,E);T=_.map(function(Y){return new i(l,u,E[Y],te,X[Y].text,void 0,X[Y].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var z=f.reduce(function(Y,Z){return Y[Z.name]=Z.align,Y},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var G=s.call(this,d[m],E);for(g=0;g<_.length;g+=1){var q=d[m][_[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:g,data:q},this),o.call(this,new i(l,u,E[_[g]],G,q,m+2,z[_[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(m){var x=l[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Lr.API);var qie={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zie=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],b8=Uie(zie),Wie=[100,200,300,400,500,600,700,800,900],lGe=Uie(Wie);function S8(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return qie[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof b8[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function hV(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var cGe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pV={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mV(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function uGe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},cGe,r.genericFontFamilies||{}),i=null,o=null,s=0;s<t.length;++s)if(a[(i=S8(t[s])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+mV(i)+"' and default family '"+n+"'.");if(o=function(l,u){if(u[l])return u[l];var d=b8[l],f=d<=b8.normal?-1:1,h=hV(u,zie,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,o),o=function(l,u){if(u[l])return u[l];for(var d=qie[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=lGe[l],f=hV(u,Wie,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+mV(i)+"'.");return o}function gV(e){return e.trimLeft()}function dGe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function fGe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Rb,vV,yV,iP=["times"];(function(e){var t,r,n,a,i,o,s,l,u,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=D;Object.defineProperty(this,"pdf",{get:function(){return K}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(De){Q=!!De}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(De){ie=!!De}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(De){isNaN(De)||(ae=De)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(De){isNaN(De)||(oe=De)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(De){var pe;typeof De=="number"?pe=[De,De,De,De]:((pe=new Array(4))[0]=De[0],pe[1]=De.length>=2?De[1]:pe[0],pe[2]=De.length>=3?De[2]:pe[0],pe[3]=De.length>=4?De[3]:pe[1]),u.margin=pe}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(De){de=De}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(De){J=De}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(De){ue=De}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(De){De instanceof d&&(u=De)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(De){u.path=De}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(De){ge=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var pe;pe=h(De),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var pe=h(De);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var ne=null;function Ne(De,pe){if(ne===null){var Je=function(mt){var dt=[];return Object.keys(mt).forEach(function(Tt){mt[Tt].forEach(function(lt){var _e=null;switch(lt){case"bold":_e={family:Tt,weight:"bold"};break;case"italic":_e={family:Tt,style:"italic"};break;case"bolditalic":_e={family:Tt,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:Tt}}_e!==null&&(_e.ref={name:Tt,style:lt},dt.push(_e))})}),dt}(De.getFontList());ne=function(mt){for(var dt={},Tt=0;Tt<mt.length;++Tt){var lt=S8(mt[Tt]),_e=lt.family,Ce=lt.stretch,We=lt.style,ft=lt.weight;dt[_e]=dt[_e]||{},dt[_e][Ce]=dt[_e][Ce]||{},dt[_e][Ce][We]=dt[_e][Ce][We]||{},dt[_e][Ce][We][ft]=lt}return dt}(Je.concat(pe))}return ne}var Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(De){ne=null,Re=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var pe;if(this.ctx.font=De,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var Je=pe[1];pe[2];var mt=pe[3],dt=pe[4];pe[5];var Tt=pe[6],lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dt)[2];dt=Math.floor(lt==="px"?parseFloat(dt)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(dt)*this.pdf.getFontSize():parseFloat(dt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dt);var _e=function(_t){var At,ut,wr=[],nr=_t.trim();if(nr==="")return iP;if(nr in pV)return[pV[nr]];for(;nr!=="";){switch(ut=null,At=(nr=gV(nr)).charAt(0)){case'"':case"'":ut=dGe(nr.substring(1),At);break;default:ut=fGe(nr)}if(ut===null||(wr.push(ut[0]),(nr=gV(ut[1]))!==""&&nr.charAt(0)!==","))return iP;nr=nr.replace(/^,/,"")}return wr}(Tt);if(this.fontFaces){var Ce=uGe(Ne(this.pdf,this.fontFaces),_e.map(function(_t){return{family:_t,stretch:"normal",weight:mt,style:Je}}));this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var We="";(mt==="bold"||parseInt(mt,10)>=700||Je==="bold")&&(We="bold"),Je==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var ft="",vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Fe=0;Fe<_e.length;Fe++){if(this.pdf.internal.getFont(_e[Fe],We,{noFallback:!0,disableWarning:!0})!==void 0){ft=_e[Fe];break}if(We==="bolditalic"&&this.pdf.internal.getFont(_e[Fe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=_e[Fe],We="bold";else if(this.pdf.internal.getFont(_e[Fe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=_e[Fe],We="normal";break}}if(ft===""){for(var Ve=0;Ve<_e.length;Ve++)if(vt[_e[Ve]]){ft=vt[_e[Ve]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,K){if(isNaN(D)||isNaN(K))throw Sa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(D,K));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(D,K)},f.prototype.closePath=function(){var D=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&xa(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){D=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},f.prototype.lineTo=function(D,K){if(isNaN(D)||isNaN(K))throw Sa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(D,K));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,K,Q,ie){if(isNaN(Q)||isNaN(ie)||isNaN(D)||isNaN(K))throw Sa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(Q,ie)),oe=this.ctx.transform.applyToPoint(new o(D,K));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},f.prototype.bezierCurveTo=function(D,K,Q,ie,ae,oe){if(isNaN(ae)||isNaN(oe)||isNaN(D)||isNaN(K)||isNaN(Q)||isNaN(ie))throw Sa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(ae,oe)),J=this.ctx.transform.applyToPoint(new o(D,K)),ue=this.ctx.transform.applyToPoint(new o(Q,ie));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:ue.x,y2:ue.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(D,K,Q,ie,ae,oe){if(isNaN(D)||isNaN(K)||isNaN(Q)||isNaN(ie)||isNaN(ae))throw Sa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(D,K));D=de.x,K=de.y;var J=this.ctx.transform.applyToPoint(new o(0,Q)),ue=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(J.x-ue.x,2)+Math.pow(J.y-ue.y,2))}Math.abs(ae-ie)>=2*Math.PI&&(ie=0,ae=2*Math.PI),this.path.push({type:"arc",x:D,y:K,radius:Q,startAngle:ie,endAngle:ae,counterclockwise:oe})},f.prototype.arcTo=function(D,K,Q,ie,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,K,Q,ie){if(isNaN(D)||isNaN(K)||isNaN(Q)||isNaN(ie))throw Sa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,K),this.lineTo(D+Q,K),this.lineTo(D+Q,K+ie),this.lineTo(D,K+ie),this.lineTo(D,K),this.lineTo(D+Q,K),this.lineTo(D,K)},f.prototype.fillRect=function(D,K,Q,ie){if(isNaN(D)||isNaN(K)||isNaN(Q)||isNaN(ie))throw Sa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,K,Q,ie),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(D,K,Q,ie){if(isNaN(D)||isNaN(K)||isNaN(Q)||isNaN(ie))throw Sa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(D,K,Q,ie),this.stroke())},f.prototype.clearRect=function(D,K,Q,ie){if(isNaN(D)||isNaN(K)||isNaN(Q)||isNaN(ie))throw Sa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,K,Q,ie))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(K),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(D){var K,Q,ie,ae;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))K=0,Q=0,ie=0,ae=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(oe!==null)K=parseInt(oe[1]),Q=parseInt(oe[2]),ie=parseInt(oe[3]),ae=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)K=parseInt(oe[1]),Q=parseInt(oe[2]),ie=parseInt(oe[3]),ae=parseFloat(oe[4]);else{if(ae=1,typeof D=="string"&&D.charAt(0)!=="#"){var de=new Mie(D);D=de.ok?de.toHex():"#000000"}D.length===4?(K=D.substring(1,2),K+=K,Q=D.substring(2,3),Q+=Q,ie=D.substring(3,4),ie+=ie):(K=D.substring(1,3),Q=D.substring(3,5),ie=D.substring(5,7)),K=parseInt(K,16),Q=parseInt(Q,16),ie=parseInt(ie,16)}}return{r:K,g:Q,b:ie,a:ae,style:D}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,K,Q,ie){if(isNaN(K)||isNaN(Q)||typeof D!="string")throw Sa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!m.call(this)){var ae=G(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;M.call(this,{text:D,x:K,y:Q,scale:oe,angle:ae,align:this.textAlign,maxWidth:ie})}},f.prototype.strokeText=function(D,K,Q,ie){if(isNaN(K)||isNaN(Q)||typeof D!="string")throw Sa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ie=isNaN(ie)?void 0:ie;var ae=G(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;M.call(this,{text:D,x:K,y:Q,scale:oe,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ie})}},f.prototype.measureText=function(D){if(typeof D!="string")throw Sa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Q=this.pdf.internal.scaleFactor,ie=K.internal.getFontSize(),ae=K.getStringUnitWidth(D)*ie/K.internal.scaleFactor,oe=function(de){var J=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return J}}),this};return new oe({width:ae*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(D,K){if(isNaN(D)||isNaN(K))throw Sa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(D,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(D){if(isNaN(D))throw Sa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function(D,K){if(isNaN(D)||isNaN(K))throw Sa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,D,K);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(D,K,Q,ie,ae,oe){if(isNaN(D)||isNaN(K)||isNaN(Q)||isNaN(ie)||isNaN(ae)||isNaN(oe))throw Sa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(D,K,Q,ie,ae,oe);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(D,K,Q,ie,ae,oe){D=isNaN(D)?1:D,K=isNaN(K)?0:K,Q=isNaN(Q)?0:Q,ie=isNaN(ie)?1:ie,ae=isNaN(ae)?0:ae,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(D,K,Q,ie,ae,oe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,K,Q,ie,ae,oe,de,J,ue){var ge=this.pdf.getImageProperties(D),ne=1,Ne=1,Re=1,De=1;ie!==void 0&&J!==void 0&&(Re=J/ie,De=ue/ae,ne=ge.width/ie*J/ie,Ne=ge.height/ae*ue/ae),oe===void 0&&(oe=K,de=Q,K=0,Q=0),ie!==void 0&&J===void 0&&(J=ie,ue=ae),ie===void 0&&J===void 0&&(J=ge.width,ue=ge.height);for(var pe,Je=this.ctx.transform.decompose(),mt=G(Je.rotate.shx),dt=new l,Tt=(dt=(dt=(dt=dt.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new s(oe-K*Re,de-Q*De,ie*ne,ae*Ne)),lt=y.call(this,Tt),_e=[],Ce=0;Ce<lt.length;Ce+=1)_e.indexOf(lt[Ce])===-1&&_e.push(lt[Ce]);if(S(_e),this.autoPaging)for(var We=_e[0],ft=_e[_e.length-1],vt=We;vt<ft+1;vt++){this.pdf.setPage(vt);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=vt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=vt===1?0:_t+(vt-2)*At;if(this.ctx.clip_path.length!==0){var wr=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(pe,this.posX+this.margin[3],-ut+Ve+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=wr}var nr=JSON.parse(JSON.stringify(Tt));nr=b([nr],this.posX+this.margin[3],-ut+Ve+this.ctx.prevPageLastElemOffset)[0];var Jr=(vt>We||vt<ft)&&g.call(this);Jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,At,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",nr.x,nr.y,nr.w,nr.h,null,null,mt),Jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Tt.x,Tt.y,Tt.w,Tt.h,null,null,mt)};var y=function(D,K,Q){var ie=[];K=K||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ie.push(Math.floor((D.y+ae)/Q)+1);break;case"arc":ie.push(Math.floor((D.y+ae-D.radius)/Q)+1),ie.push(Math.floor((D.y+ae+D.radius)/Q)+1);break;case"qct":var oe=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ie.push(Math.floor((oe.y+ae)/Q)+1),ie.push(Math.floor((oe.y+oe.h+ae)/Q)+1);break;case"bct":var de=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ie.push(Math.floor((de.y+ae)/Q)+1),ie.push(Math.floor((de.y+de.h+ae)/Q)+1);break;case"rect":ie.push(Math.floor((D.y+ae)/Q)+1),ie.push(Math.floor((D.y+D.h+ae)/Q)+1)}for(var J=0;J<ie.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<ie[J];)_.call(this);return ie},_=function(){var D=this.fillStyle,K=this.strokeStyle,Q=this.font,ie=this.lineCap,ae=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=K,this.font=Q,this.lineCap=ie,this.lineWidth=ae,this.lineJoin=oe},b=function(D,K,Q){for(var ie=0;ie<D.length;ie++)switch(D[ie].type){case"bct":D[ie].x2+=K,D[ie].y2+=Q;case"qct":D[ie].x1+=K,D[ie].y1+=Q;case"mt":case"lt":case"arc":default:D[ie].x+=K,D[ie].y+=Q}return D},S=function(D){return D.sort(function(K,Q){return K-Q})},C=function(D,K){for(var Q,ie,ae=this.fillStyle,oe=this.strokeStyle,de=this.lineCap,J=this.lineWidth,ue=Math.abs(J*this.ctx.transform.scaleX),ge=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),Re=[],De=0;De<Ne.length;De++)if(Ne[De].x!==void 0)for(var pe=y.call(this,Ne[De]),Je=0;Je<pe.length;Je+=1)Re.indexOf(pe[Je])===-1&&Re.push(pe[Je]);for(var mt=0;mt<Re.length;mt++)for(;this.pdf.internal.getNumberOfPages()<Re[mt];)_.call(this);if(S(Re),this.autoPaging)for(var dt=Re[0],Tt=Re[Re.length-1],lt=dt;lt<Tt+1;lt++){this.pdf.setPage(lt),this.fillStyle=ae,this.strokeStyle=oe,this.lineCap=de,this.lineWidth=ue,this.lineJoin=ge;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=lt===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=lt===1?0:We+(lt-2)*ft;if(this.ctx.clip_path.length!==0){var Fe=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-vt+Ce+this.ctx.prevPageLastElemOffset),E.call(this,D,!0),this.path=Fe}if(ie=JSON.parse(JSON.stringify(ne)),this.path=b(ie,this.posX+this.margin[3],-vt+Ce+this.ctx.prevPageLastElemOffset),K===!1||lt===0){var Ve=(lt>dt||lt<Tt)&&g.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,ft,null).clip().discardPath()),E.call(this,D,K),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=ue,E.call(this,D,K),this.lineWidth=J;this.path=ne},E=function(D,K){if((D!=="stroke"||K||!x.call(this))&&(D==="stroke"||K||!m.call(this))){for(var Q,ie,ae=[],oe=this.path,de=0;de<oe.length;de++){var J=oe[de];switch(J.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:J,deltas:[],abs:[]});break;case"lt":var ue=ae.length;if(oe[de-1]&&!isNaN(oe[de-1].x)&&(Q=[J.x-oe[de-1].x,J.y-oe[de-1].y],ue>0)){for(;ue>=0;ue--)if(ae[ue-1].close!==!0&&ae[ue-1].begin!==!0){ae[ue-1].deltas.push(Q),ae[ue-1].abs.push(J);break}}break;case"bct":Q=[J.x1-oe[de-1].x,J.y1-oe[de-1].y,J.x2-oe[de-1].x,J.y2-oe[de-1].y,J.x-oe[de-1].x,J.y-oe[de-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var ge=oe[de-1].x+2/3*(J.x1-oe[de-1].x),ne=oe[de-1].y+2/3*(J.y1-oe[de-1].y),Ne=J.x+2/3*(J.x1-J.x),Re=J.y+2/3*(J.y1-J.y),De=J.x,pe=J.y;Q=[ge-oe[de-1].x,ne-oe[de-1].y,Ne-oe[de-1].x,Re-oe[de-1].y,De-oe[de-1].x,pe-oe[de-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(J)}}ie=K?null:D==="stroke"?"stroke":"fill";for(var Je=!1,mt=0;mt<ae.length;mt++)if(ae[mt].arc)for(var dt=ae[mt].abs,Tt=0;Tt<dt.length;Tt++){var lt=dt[Tt];lt.type==="arc"?I.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,K,!Je):j.call(this,lt.x,lt.y),Je=!0}else if(ae[mt].close===!0)this.pdf.internal.out("h"),Je=!1;else if(ae[mt].begin!==!0){var _e=ae[mt].start.x,Ce=ae[mt].start.y;V.call(this,ae[mt].deltas,_e,Ce),Je=!0}ie&&L.call(this,ie),K&&U.call(this)}},O=function(D){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Q;case"top":return D+K-Q;case"hanging":return D+K-2*Q;case"middle":return D+K/2-Q;case"ideographic":return D;case"alphabetic":default:return D}},T=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(K,Q){this.colorStops.push([K,Q])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(D,K,Q,ie,ae,oe,de,J,ue){for(var ge=te.call(this,Q,ie,ae,oe),ne=0;ne<ge.length;ne++){var Ne=ge[ne];ne===0&&(ue?P.call(this,Ne.x1+D,Ne.y1+K):j.call(this,Ne.x1+D,Ne.y1+K)),X.call(this,D,K,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}J?U.call(this):L.call(this,de)},L=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(D,K){this.pdf.internal.out(r(D)+" "+n(K)+" m")},M=function(D){var K;switch(D.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var Q=this.pdf.getTextDimensions(D.text),ie=O.call(this,D.y),ae=T.call(this,ie)-Q.h,oe=this.ctx.transform.applyToPoint(new o(D.x,ie)),de=this.ctx.transform.decompose(),J=new l;J=(J=(J=J.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var ue,ge,ne,Ne=this.ctx.transform.applyToRectangle(new s(D.x,ie,Q.w,Q.h)),Re=J.applyToRectangle(new s(D.x,ae,Q.w,Q.h)),De=y.call(this,Re),pe=[],Je=0;Je<De.length;Je+=1)pe.indexOf(De[Je])===-1&&pe.push(De[Je]);if(S(pe),this.autoPaging)for(var mt=pe[0],dt=pe[pe.length-1],Tt=mt;Tt<dt+1;Tt++){this.pdf.setPage(Tt);var lt=Tt===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],We=Ce-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],vt=ft-this.margin[3],Fe=Tt===1?0:_e+(Tt-2)*We;if(this.ctx.clip_path.length!==0){var Ve=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ue,this.posX+this.margin[3],-1*Fe+lt),E.call(this,"fill",!0),this.path=Ve}var _t=b([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Fe+lt+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*D.scale),ne=this.lineWidth,this.lineWidth=ne*D.scale);var At=this.autoPaging!=="text";if(At||_t.y+_t.h<=Ce){if(At||_t.y>=lt&&_t.x<=ft){var ut=At?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||ft-_t.x)[0],wr=b([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-Fe+lt+this.ctx.prevPageLastElemOffset)[0],nr=At&&(Tt>mt||Tt<dt)&&g.call(this);nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,We,null).clip().discardPath()),this.pdf.text(ut,wr.x,wr.y,{angle:D.angle,align:K,renderingMode:D.renderingMode}),nr&&this.pdf.restoreGraphicsState()}}else _t.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-_t.y);D.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ne)}else D.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*D.scale),ne=this.lineWidth,this.lineWidth=ne*D.scale),this.pdf.text(D.text,oe.x+this.posX,oe.y+this.posY,{angle:D.angle,align:K,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ne)},j=function(D,K,Q,ie){Q=Q||0,ie=ie||0,this.pdf.internal.out(r(D+Q)+" "+n(K+ie)+" l")},V=function(D,K,Q){return this.pdf.lines(D,K,Q,null,null)},X=function(D,K,Q,ie,ae,oe,de,J){this.pdf.internal.out([t(a(Q+D)),t(i(ie+K)),t(a(ae+D)),t(i(oe+K)),t(a(de+D)),t(i(J+K)),"c"].join(" "))},te=function(D,K,Q,ie){for(var ae=2*Math.PI,oe=Math.PI/2;K>Q;)K-=ae;var de=Math.abs(Q-K);de<ae&&ie&&(de=ae-de);for(var J=[],ue=ie?-1:1,ge=K;de>1e-5;){var ne=ge+ue*Math.min(de,oe);J.push(z.call(this,D,ge,ne)),de-=Math.abs(ne-ge),ge=ne}return J},z=function(D,K,Q){var ie=(Q-K)/2,ae=D*Math.cos(ie),oe=D*Math.sin(ie),de=ae,J=-oe,ue=de*de+J*J,ge=ue+de*ae+J*oe,ne=4/3*(Math.sqrt(2*ue*ge)-ge)/(de*oe-J*ae),Ne=de-ne*J,Re=J+ne*de,De=Ne,pe=-Re,Je=ie+K,mt=Math.cos(Je),dt=Math.sin(Je);return{x1:D*Math.cos(K),y1:D*Math.sin(K),x2:Ne*mt-Re*dt,y2:Ne*dt+Re*mt,x3:De*mt-pe*dt,y3:De*dt+pe*mt,x4:D*Math.cos(Q),y4:D*Math.sin(Q)}},G=function(D){return 180*D/Math.PI},q=function(D,K,Q,ie,ae,oe){var de=D+.5*(Q-D),J=K+.5*(ie-K),ue=ae+.5*(Q-ae),ge=oe+.5*(ie-oe),ne=Math.min(D,ae,de,ue),Ne=Math.max(D,ae,de,ue),Re=Math.min(K,oe,J,ge),De=Math.max(K,oe,J,ge);return new s(ne,Re,Ne-ne,De-Re)},Y=function(D,K,Q,ie,ae,oe,de,J){var ue,ge,ne,Ne,Re,De,pe,Je,mt,dt,Tt,lt,_e,Ce,We=Q-D,ft=ie-K,vt=ae-Q,Fe=oe-ie,Ve=de-ae,_t=J-oe;for(ge=0;ge<41;ge++)mt=(pe=(ne=D+(ue=ge/40)*We)+ue*((Re=Q+ue*vt)-ne))+ue*(Re+ue*(ae+ue*Ve-Re)-pe),dt=(Je=(Ne=K+ue*ft)+ue*((De=ie+ue*Fe)-Ne))+ue*(De+ue*(oe+ue*_t-De)-Je),ge==0?(Tt=mt,lt=dt,_e=mt,Ce=dt):(Tt=Math.min(Tt,mt),lt=Math.min(lt,dt),_e=Math.max(_e,mt),Ce=Math.max(Ce,dt));return new s(Math.round(Tt),Math.round(lt),Math.round(_e-Tt),Math.round(Ce-lt))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,K,Q=(D=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:K}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Lr.API),function(e){var t=function(i){var o,s,l,u,d,f,h,m,x,g;for(s=[],l=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>l;l+=4)(d=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(x=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)%85,s.push(f+33,h+33,m+33,x+33,g+33)):s.push(122);return function(y,_){for(var b=_;b>0;b--)y.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(i){var o,s,l,u,d,f=String,h="length",m=255,x="charCodeAt",g="slice",y="replace";for(i[g](-2),i=i[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],u=0,d=(i+=o="uuuuu"[g](i[h]%5||5))[h];d>u;u+=5)s=52200625*(i[x](u)-33)+614125*(i[x](u+1)-33)+7225*(i[x](u+2)-33)+85*(i[x](u+3)-33)+(i[x](u+4)-33),l.push(m&s>>24,m&s>>16,m&s>>8,m&s);return function(_,b){for(var S=b;S>0;S--)_.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var s="",l=0;l<i.length;l+=2)s+=String.fromCharCode("0x"+(i[l]+i[l+1]));return s},a=function(i){for(var o=new Uint8Array(i.length),s=i.length;s--;)o[s]=i.charCodeAt(s);return i=(o=v8(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var s=0,l=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(Lr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,d){var f=new XMLHttpRequest,h=0,m=function(x){var g=x.length,y=[],_=String.fromCharCode;for(h=0;h<g;h+=1)y.push(_(255&x.charCodeAt(h)));return y.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,i,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(Lr.API),function(e){function t(){return(Kr.html2canvas?Promise.resolve(Kr.html2canvas):vh(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Kr.DOMPurify?Promise.resolve(Kr.DOMPurify):vh(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=xa(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},a=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},i=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,s){return o.__proto__=s||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],x=m.src.find(function(g){return g.format==="truetype"});x&&l.addFont(x.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},i.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},i.prototype.get=function(o,s){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||Lr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=l.call(u,o,s);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},i.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},i.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return i.convert(s,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Lr.getPageSize=function(o,s,l){if(xa(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+s}var m,x=0,g=0;if(h.hasOwnProperty(f))x=h[f][1]/d,g=h[f][0]/d;else try{x=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>x&&(m=g,g=x,x=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>g&&(m=g,g=x,x=m)}return{width:g,height:x,unit:s,k:d,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(S8):null;var l=new i(s);return s.worker?l:l.from(o).doCallback()}}(Lr.API),Lr.API.addJS=function(e){return yV=e,this.internal.events.subscribe("postPutResources",function(){Rb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vV=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yV+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Rb!==void 0&&vV!==void 0&&this.internal.out("/Names <</JavaScript "+Rb+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],s=n.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Lr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,s){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,g={width:0,height:0,numcomponents:1},y=4;y<x;y+=2){if(y+=m,t.indexOf(f.charCodeAt(y+1))!==-1){h=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),g={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:h,numcomponents:f.charCodeAt(y+9)};break}m=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Lr.API);var Iv,Mb,xV,wV,_V,hGe=function(){var e,t,r;function n(i){var o,s,l,u,d,f,h,m,x,g,y,_,b,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),x=(function(){var C,E;for(E=[],C=0;C<4;++C)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(b=0;0<=g?b<g:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(y=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,y.slice(0,h)),this.text[m]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,s;for(s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,m,x){var g,y,_,b,S,C,E,O,T,I,L,U,P,M,j,V,X,te,z,G,q,Y=Math.ceil((u.width-f)/m),Z=Math.ceil((u.height-h)/x),D=u.width==Y&&u.height==Z;for(M=o*Y,U=D?s:new Uint8Array(M*Z),C=i.length,P=0,y=0;P<Z&&l<C;){switch(i[l++]){case 0:for(b=X=0;X<M;b=X+=1)U[y++]=i[l++];break;case 1:for(b=te=0;te<M;b=te+=1)g=i[l++],S=b<o?0:U[y-o],U[y++]=(g+S)%256;break;case 2:for(b=z=0;z<M;b=z+=1)g=i[l++],_=(b-b%o)/o,j=P&&U[(P-1)*M+_*o+b%o],U[y++]=(j+g)%256;break;case 3:for(b=G=0;G<M;b=G+=1)g=i[l++],_=(b-b%o)/o,S=b<o?0:U[y-o],j=P&&U[(P-1)*M+_*o+b%o],U[y++]=(g+Math.floor((S+j)/2))%256;break;case 4:for(b=q=0;q<M;b=q+=1)g=i[l++],_=(b-b%o)/o,S=b<o?0:U[y-o],P===0?j=V=0:(j=U[(P-1)*M+_*o+b%o],V=_&&U[(P-1)*M+(_-1)*o+b%o]),E=S+j-V,O=Math.abs(E-S),I=Math.abs(E-j),L=Math.abs(E-V),T=O<=I&&O<=L?S:I<=L?j:V,U[y++]=(g+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!D){var K=((h+P*x)*u.width+f)*o,Q=P*M;for(b=0;b<Y;b+=1){for(var ie=0;ie<o;ie+=1)s[K++]=U[Q++];K+=(m-1)*o}}P++}}return i=VHe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),s},n.prototype.decodePalette=function(){var i,o,s,l,u,d,f,h,m;for(s=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+s.length),l=0,i=0,o=f=0,h=s.length;f<h;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(m=d[i++])!=null?m:255;return u},n.prototype.copyToImageData=function(i,o){var s,l,u,d,f,h,m,x,g,y,_;if(l=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,s=!0),x=(u=i.data||i).length,f=g||o,d=h=0,l===1)for(;d<x;)m=g?4*o[d/4]:h,y=f[m++],u[d++]=y,u[d++]=y,u[d++]=y,u[d++]=s?f[m++]:255,h=m;else for(;d<x;)m=g?4*o[d/4]:h,u[d++]=f[m++],u[d++]=f[m++],u[d++]=f[m++],u[d++]=s?f[m++]:255,h=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Kr)==="[object Window]"){try{t=Kr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,s,l,u,d,f,h,m;if(this.animation){for(m=[],s=d=0,f=(h=this.animation.frames).length;d<f;s=++d)o=h[s],l=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,m.push(o.image=e(l));return m}},n.prototype.renderFrame=function(i,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&i.clearRect(s.xOffset,s.yOffset,s.width,s.height),i.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(i){var o,s,l,u,d,f,h=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(o=function(){var m,x;if(m=s++%u,x=l[m],h.renderFrame(i,m),u>1&&s/u<d)return h.animation._timeout=setTimeout(o,x.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,s;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function pGe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var s=null,l=null;i&&(s=t,l=o,t+=3*o);var u=!0,d=[],f=0,h=null,m=0,x=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],(1&g)==0&&(h=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,C=e[t++],E=C>>6&1,O=1<<(7&C)+1,T=s,I=l,L=!1;C>>7&&(L=!0,T=t,I=O,t+=3*O);var U=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}d.push({x:y,y:_,width:b,height:S,has_local_palette:L,palette_offset:T,palette_size:I,data_offset:U,data_length:t-U,transparent_index:h,interlaced:!!E,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(M){if(M<0||M>=d.length)throw new Error("Frame index out of range.");return d[M]},this.decodeAndBlitFrameBGRA=function(M,j){var V=this.frameInfo(M),X=V.width*V.height,te=new Uint8Array(X);bV(e,V.data_offset,te,X);var z=V.palette_offset,G=V.transparent_index;G===null&&(G=256);var q=V.width,Y=r-q,Z=q,D=4*(V.y*r+V.x),K=4*((V.y+V.height)*r+V.x),Q=D,ie=4*Y;V.interlaced===!0&&(ie+=4*r*7);for(var ae=8,oe=0,de=te.length;oe<de;++oe){var J=te[oe];if(Z===0&&(Z=q,(Q+=ie)>=K&&(ie=4*Y+4*r*(ae-1),Q=D+(q+Y)*(ae<<1),ae>>=1)),J===G)Q+=4;else{var ue=e[z+3*J],ge=e[z+3*J+1],ne=e[z+3*J+2];j[Q++]=ne,j[Q++]=ge,j[Q++]=ue,j[Q++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(M,j){var V=this.frameInfo(M),X=V.width*V.height,te=new Uint8Array(X);bV(e,V.data_offset,te,X);var z=V.palette_offset,G=V.transparent_index;G===null&&(G=256);var q=V.width,Y=r-q,Z=q,D=4*(V.y*r+V.x),K=4*((V.y+V.height)*r+V.x),Q=D,ie=4*Y;V.interlaced===!0&&(ie+=4*r*7);for(var ae=8,oe=0,de=te.length;oe<de;++oe){var J=te[oe];if(Z===0&&(Z=q,(Q+=ie)>=K&&(ie=4*Y+4*r*(ae-1),Q=D+(q+Y)*(ae<<1),ae>>=1)),J===G)Q+=4;else{var ue=e[z+3*J],ge=e[z+3*J+1],ne=e[z+3*J+2];j[Q++]=ue,j[Q++]=ge,j[Q++]=ne,j[Q++]=255}--Z}}}function bV(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,s=o+1,l=a+1,u=(1<<l)-1,d=0,f=0,h=0,m=e[t++],x=new Int32Array(4096),g=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<l)break;var y=f&u;if(f>>=l,d-=l,y!==i){if(y===o)break;for(var _=y<s?y:g,b=0,S=_;S>i;)S=x[S]>>8,++b;var C=S;if(h+b+(_!==y?1:0)>n)return void Sa.log("Warning, gif stream longer than expected.");r[h++]=C;var E=h+=b;for(_!==y&&(r[h++]=C),S=_;b--;)S=x[S],r[--E]=255&S,S>>=8;g!==null&&s<4096&&(x[s++]=g<<8|C,s>=u+1&&l<12&&(++l,u=u<<1|1)),g=y}else s=o+1,u=(1<<(l=a+1))-1,g=null}return h!==n&&Sa.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function oP(e){var t,r,n,a,i,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),x=new Array(64),g=[],y=0,_=7,b=new Array(64),S=new Array(64),C=new Array(64),E=new Array(256),O=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(D,K){for(var Q=0,ie=0,ae=new Array,oe=1;oe<=16;oe++){for(var de=1;de<=D[oe];de++)ae[K[ie]]=[],ae[K[ie]][0]=Q,ae[K[ie]][1]=oe,ie++,Q++;Q*=2}return ae}function z(D){for(var K=D[0],Q=D[1]-1;Q>=0;)K&1<<Q&&(y|=1<<_),Q--,--_<0&&(y==255?(G(255),G(0)):G(y),_=7,y=0)}function G(D){g.push(D)}function q(D){G(D>>8&255),G(255&D)}function Y(D,K,Q,ie,ae){for(var oe,de=ae[0],J=ae[240],ue=function(dt,Tt){var lt,_e,Ce,We,ft,vt,Fe,Ve,_t,At,ut=0;for(_t=0;_t<8;++_t){lt=dt[ut],_e=dt[ut+1],Ce=dt[ut+2],We=dt[ut+3],ft=dt[ut+4],vt=dt[ut+5],Fe=dt[ut+6];var wr=lt+(Ve=dt[ut+7]),nr=lt-Ve,Jr=_e+Fe,dn=_e-Fe,bn=Ce+vt,Pi=Ce-vt,fn=We+ft,oi=We-ft,Vn=wr+fn,Ja=wr-fn,Qa=Jr+bn,Dn=Jr-bn;dt[ut]=Vn+Qa,dt[ut+4]=Vn-Qa;var Ge=.707106781*(Dn+Ja);dt[ut+2]=Ja+Ge,dt[ut+6]=Ja-Ge;var Pt=.382683433*((Vn=oi+Pi)-(Dn=dn+nr)),An=.5411961*Vn+Pt,ha=1.306562965*Dn+Pt,co=.707106781*(Qa=Pi+dn),bo=nr+co,Cr=nr-co;dt[ut+5]=Cr+An,dt[ut+3]=Cr-An,dt[ut+1]=bo+ha,dt[ut+7]=bo-ha,ut+=8}for(ut=0,_t=0;_t<8;++_t){lt=dt[ut],_e=dt[ut+8],Ce=dt[ut+16],We=dt[ut+24],ft=dt[ut+32],vt=dt[ut+40],Fe=dt[ut+48];var xt=lt+(Ve=dt[ut+56]),wt=lt-Ve,mr=_e+Fe,Nr=_e-Fe,Zt=Ce+vt,ce=Ce-vt,Se=We+ft,ye=We-ft,we=xt+Se,be=xt-Se,ke=mr+Zt,et=mr-Zt;dt[ut]=we+ke,dt[ut+32]=we-ke;var pt=.707106781*(et+be);dt[ut+16]=be+pt,dt[ut+48]=be-pt;var Ye=.382683433*((we=ye+ce)-(et=Nr+wt)),at=.5411961*we+Ye,st=1.306562965*et+Ye,It=.707106781*(ke=ce+Nr),Gt=wt+It,or=wt-It;dt[ut+40]=or+at,dt[ut+24]=or-at,dt[ut+8]=Gt+st,dt[ut+56]=Gt-st,ut++}for(_t=0;_t<64;++_t)At=dt[_t]*Tt[_t],m[_t]=At>0?At+.5|0:At-.5|0;return m}(D,K),ge=0;ge<64;++ge)x[T[ge]]=ue[ge];var ne=x[0]-Q;Q=x[0],ne==0?z(ie[0]):(z(ie[h[oe=32767+ne]]),z(f[oe]));for(var Ne=63;Ne>0&&x[Ne]==0;)Ne--;if(Ne==0)return z(de),Q;for(var Re,De=1;De<=Ne;){for(var pe=De;x[De]==0&&De<=Ne;)++De;var Je=De-pe;if(Je>=16){Re=Je>>4;for(var mt=1;mt<=Re;++mt)z(J);Je&=15}oe=32767+x[De],z(ae[(Je<<4)+h[oe]]),z(f[oe]),De++}return Ne!=63&&z(de),Q}function Z(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(K){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ae=o((Q[ie]*K+50)/100);ae=Math.min(Math.max(ae,1),255),s[T[ie]]=ae}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var J=o((oe[de]*K+50)/100);J=Math.min(Math.max(J,1),255),l[T[de]]=J}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,ne=0;ne<8;ne++)for(var Ne=0;Ne<8;Ne++)u[ge]=1/(s[T[ge]]*ue[ne]*ue[Ne]*8),d[ge]=1/(l[T[ge]]*ue[ne]*ue[Ne]*8),ge++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,K){K&&Z(K),g=new Array,y=0,_=7,q(65496),q(65504),q(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),q(1),q(1),G(0),G(0),function(){q(65499),q(132),G(0);for(var _e=0;_e<64;_e++)G(s[_e]);G(1);for(var Ce=0;Ce<64;Ce++)G(l[Ce])}(),function(_e,Ce){q(65472),q(17),G(8),q(Ce),q(_e),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(D.width,D.height),function(){q(65476),q(418),G(0);for(var _e=0;_e<16;_e++)G(I[_e+1]);for(var Ce=0;Ce<=11;Ce++)G(L[Ce]);G(16);for(var We=0;We<16;We++)G(U[We+1]);for(var ft=0;ft<=161;ft++)G(P[ft]);G(1);for(var vt=0;vt<16;vt++)G(M[vt+1]);for(var Fe=0;Fe<=11;Fe++)G(j[Fe]);G(17);for(var Ve=0;Ve<16;Ve++)G(V[Ve+1]);for(var _t=0;_t<=161;_t++)G(X[_t])}(),q(65498),q(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var Q=0,ie=0,ae=0;y=0,_=7,this.encode.displayName="_encode_";for(var oe,de,J,ue,ge,ne,Ne,Re,De,pe=D.data,Je=D.width,mt=D.height,dt=4*Je,Tt=0;Tt<mt;){for(oe=0;oe<dt;){for(ge=dt*Tt+oe,Ne=-1,Re=0,De=0;De<64;De++)ne=ge+(Re=De>>3)*dt+(Ne=4*(7&De)),Tt+Re>=mt&&(ne-=dt*(Tt+1+Re-mt)),oe+Ne>=dt&&(ne-=oe+Ne-dt+4),de=pe[ne++],J=pe[ne++],ue=pe[ne++],b[De]=(O[de]+O[J+256>>0]+O[ue+512>>0]>>16)-128,S[De]=(O[de+768>>0]+O[J+1024>>0]+O[ue+1280>>0]>>16)-128,C[De]=(O[de+1280>>0]+O[J+1536>>0]+O[ue+1792>>0]>>16)-128;Q=Y(b,u,Q,t,n),ie=Y(S,d,ie,r,a),ae=Y(C,d,ae,r,a),oe+=32}Tt+=8}if(_>=0){var lt=[];lt[1]=_+1,lt[0]=(1<<_+1)-1,z(lt)}return q(65497),new Uint8Array(g)},e=e||50,function(){for(var D=String.fromCharCode,K=0;K<256;K++)E[K]=D(K)}(),t=te(I,L),r=te(M,j),n=te(U,P),a=te(V,X),function(){for(var D=1,K=2,Q=1;Q<=15;Q++){for(var ie=D;ie<K;ie++)h[32767+ie]=Q,f[32767+ie]=[],f[32767+ie][1]=Q,f[32767+ie][0]=ie;for(var ae=-(K-1);ae<=-D;ae++)h[32767+ae]=Q,f[32767+ae]=[],f[32767+ae][1]=Q,f[32767+ae][0]=K-1+ae;D<<=1,K<<=1}}(),function(){for(var D=0;D<256;D++)O[D]=19595*D,O[D+256>>0]=38470*D,O[D+512>>0]=7471*D+32768,O[D+768>>0]=-11059*D,O[D+1024>>0]=-21709*D,O[D+1280>>0]=32768*D+8421375,O[D+1536>>0]=-27439*D,O[D+1792>>0]=-5329*D}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ou(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function SV(e){function t(I){if(!I)throw Error("assert :P")}function r(I,L,U){for(var P=0;4>P;P++)if(I[L+P]!=U.charCodeAt(P))return!0;return!1}function n(I,L,U,P,M){for(var j=0;j<M;j++)I[L+j]=U[P+j]}function a(I,L,U,P){for(var M=0;M<P;M++)I[L+M]=U}function i(I){return new Int32Array(I)}function o(I,L){for(var U=[],P=0;P<I;P++)U.push(new L);return U}function s(I,L){var U=[];return function P(M,j,V){for(var X=V[j],te=0;te<X&&(M.push(V.length>j+1?[]:new L),!(V.length<j+1));te++)P(M[te],j+1,V)}(U,0,I),U}var l=function(){var I=this;function L(N,F){for(var H=1<<F-1>>>0;N&H;)H>>>=1;return H?(N&H-1)+H:N}function U(N,F,H,re,se){t(!(re%H));do N[F+(re-=H)]=se;while(0<re)}function P(N,F,H,re,se){if(t(2328>=se),512>=se)var fe=i(512);else if((fe=i(se))==null)return 0;return function(me,ve,xe,Ae,Be,rt){var nt,Xe,Ot=ve,yt=1<<xe,qe=i(16),ze=i(16);for(t(Be!=0),t(Ae!=null),t(me!=null),t(0<xe),Xe=0;Xe<Be;++Xe){if(15<Ae[Xe])return 0;++qe[Ae[Xe]]}if(qe[0]==Be)return 0;for(ze[1]=0,nt=1;15>nt;++nt){if(qe[nt]>1<<nt)return 0;ze[nt+1]=ze[nt]+qe[nt]}for(Xe=0;Xe<Be;++Xe)nt=Ae[Xe],0<Ae[Xe]&&(rt[ze[nt]++]=Xe);if(ze[15]==1)return(Ae=new M).g=0,Ae.value=rt[0],U(me,Ot,1,yt,Ae),yt;var kt,St=-1,Et=yt-1,dr=0,ar=1,Ir=1,ir=1<<xe;for(Xe=0,nt=1,Be=2;nt<=xe;++nt,Be<<=1){if(ar+=Ir<<=1,0>(Ir-=qe[nt]))return 0;for(;0<qe[nt];--qe[nt])(Ae=new M).g=nt,Ae.value=rt[Xe++],U(me,Ot+dr,Be,ir,Ae),dr=L(dr,nt)}for(nt=xe+1,Be=2;15>=nt;++nt,Be<<=1){if(ar+=Ir<<=1,0>(Ir-=qe[nt]))return 0;for(;0<qe[nt];--qe[nt]){if(Ae=new M,(dr&Et)!=St){for(Ot+=ir,kt=1<<(St=nt)-xe;15>St&&!(0>=(kt-=qe[St]));)++St,kt<<=1;yt+=ir=1<<(kt=St-xe),me[ve+(St=dr&Et)].g=kt+xe,me[ve+St].value=Ot-ve-St}Ae.g=nt-xe,Ae.value=rt[Xe++],U(me,Ot+(dr>>xe),Be,ir,Ae),dr=L(dr,nt)}}return ar!=2*ze[15]-1?0:yt}(N,F,H,re,se,fe)}function M(){this.value=this.g=0}function j(){this.value=this.g=0}function V(){this.G=o(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ti,j)}function X(N,F,H,re){t(N!=null),t(F!=null),t(2147483648>re),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=F,N.pa=H,N.Jd=F,N.Yc=H+re,N.Zc=4<=re?H+re-4+1:H,oe(N)}function te(N,F){for(var H=0;0<F--;)H|=J(N,128)<<F;return H}function z(N,F){var H=te(N,F);return de(N)?-H:H}function G(N,F,H,re){var se,fe=0;for(t(N!=null),t(F!=null),t(4294967288>re),N.Sb=re,N.Ra=0,N.u=0,N.h=0,4<re&&(re=4),se=0;se<re;++se)fe+=F[H+se]<<8*se;N.Ra=fe,N.bb=re,N.oa=F,N.pa=H}function q(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<ep-8>>>0,++N.bb,N.u-=8;Q(N)&&(N.h=1,N.u=0)}function Y(N,F){if(t(0<=F),!N.h&&F<=Qh){var H=K(N)&Jh[F];return N.u+=F,q(N),H}return N.h=1,N.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(N){return N.Ra>>>(N.u&ep-1)>>>0}function Q(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>ep}function ie(N,F){N.u=F,N.h=Q(N)}function ae(N){N.u>=tp&&(t(N.u>=tp),q(N))}function oe(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function de(N){return te(N,1)}function J(N,F){var H=N.Ca;0>N.b&&oe(N);var re=N.b,se=H*F>>>8,fe=(N.I>>>re>se)+0;for(fe?(H-=se,N.I-=se+1<<re>>>0):H=se+1,re=H,se=0;256<=re;)se+=8,re>>=8;return re=7^se+zo[re],N.b-=re,N.Ca=(H<<re)-1,fe}function ue(N,F,H){N[F+0]=H>>24&255,N[F+1]=H>>16&255,N[F+2]=H>>8&255,N[F+3]=H>>0&255}function ge(N,F){return N[F+0]<<0|N[F+1]<<8}function ne(N,F){return ge(N,F)|N[F+2]<<16}function Ne(N,F){return ge(N,F)|ge(N,F+2)<<16}function Re(N,F){var H=1<<F;return t(N!=null),t(0<F),N.X=i(H),N.X==null?0:(N.Mb=32-F,N.Xa=F,1)}function De(N,F){t(N!=null),t(F!=null),t(N.Xa==F.Xa),n(F.X,0,N.X,0,1<<F.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function Je(N,F,H,re){t(H!=null),t(re!=null);var se=H[0],fe=re[0];return se==0&&(se=(N*fe+F/2)/F),fe==0&&(fe=(F*se+N/2)/N),0>=se||0>=fe?0:(H[0]=se,re[0]=fe,1)}function mt(N,F){return N+(1<<F)-1>>>F}function dt(N,F){return((4278255360&N)+(4278255360&F)>>>0&4278255360)+((16711935&N)+(16711935&F)>>>0&16711935)>>>0}function Tt(N,F){I[F]=function(H,re,se,fe,me,ve,xe){var Ae;for(Ae=0;Ae<me;++Ae){var Be=I[N](ve[xe+Ae-1],se,fe+Ae);ve[xe+Ae]=dt(H[re+Ae],Be)}}}function lt(){this.ud=this.hd=this.jd=0}function _e(N,F){return((4278124286&(N^F))>>>1)+(N&F)>>>0}function Ce(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function We(N,F){return Ce(N+(N-F+.5>>1))}function ft(N,F,H){return Math.abs(F-H)-Math.abs(N-H)}function vt(N,F,H,re,se,fe,me){for(re=fe[me-1],H=0;H<se;++H)fe[me+H]=re=dt(N[F+H],re)}function Fe(N,F,H,re,se){var fe;for(fe=0;fe<H;++fe){var me=N[F+fe],ve=me>>8&255,xe=16711935&(xe=(xe=16711935&me)+((ve<<16)+ve));re[se+fe]=(4278255360&me)+xe>>>0}}function Ve(N,F){F.jd=N>>0&255,F.hd=N>>8&255,F.ud=N>>16&255}function _t(N,F,H,re,se,fe){var me;for(me=0;me<re;++me){var ve=F[H+me],xe=ve>>>8,Ae=ve,Be=255&(Be=(Be=ve>>>16)+((N.jd<<24>>24)*(xe<<24>>24)>>>5));Ae=255&(Ae=(Ae=Ae+((N.hd<<24>>24)*(xe<<24>>24)>>>5))+((N.ud<<24>>24)*(Be<<24>>24)>>>5)),se[fe+me]=(4278255360&ve)+(Be<<16)+Ae}}function At(N,F,H,re,se){I[F]=function(fe,me,ve,xe,Ae,Be,rt,nt,Xe){for(xe=rt;xe<nt;++xe)for(rt=0;rt<Xe;++rt)Ae[Be++]=se(ve[re(fe[me++])])},I[N]=function(fe,me,ve,xe,Ae,Be,rt){var nt=8>>fe.b,Xe=fe.Ea,Ot=fe.K[0],yt=fe.w;if(8>nt)for(fe=(1<<fe.b)-1,yt=(1<<nt)-1;me<ve;++me){var qe,ze=0;for(qe=0;qe<Xe;++qe)qe&fe||(ze=re(xe[Ae++])),Be[rt++]=se(Ot[ze&yt]),ze>>=nt}else I["VP8LMapColor"+H](xe,Ae,Ot,yt,Be,rt,me,ve,Xe)}}function ut(N,F,H,re,se){for(H=F+H;F<H;){var fe=N[F++];re[se++]=fe>>16&255,re[se++]=fe>>8&255,re[se++]=fe>>0&255}}function wr(N,F,H,re,se){for(H=F+H;F<H;){var fe=N[F++];re[se++]=fe>>16&255,re[se++]=fe>>8&255,re[se++]=fe>>0&255,re[se++]=fe>>24&255}}function nr(N,F,H,re,se){for(H=F+H;F<H;){var fe=(me=N[F++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;re[se++]=fe,re[se++]=me}}function Jr(N,F,H,re,se){for(H=F+H;F<H;){var fe=(me=N[F++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;re[se++]=fe,re[se++]=me}}function dn(N,F,H,re,se){for(H=F+H;F<H;){var fe=N[F++];re[se++]=fe>>0&255,re[se++]=fe>>8&255,re[se++]=fe>>16&255}}function bn(N,F,H,re,se,fe){if(fe==0)for(H=F+H;F<H;)ue(re,((fe=N[F++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),se+=32;else n(re,se,N,F,H)}function Pi(N,F){I[F][0]=I[N+"0"],I[F][1]=I[N+"1"],I[F][2]=I[N+"2"],I[F][3]=I[N+"3"],I[F][4]=I[N+"4"],I[F][5]=I[N+"5"],I[F][6]=I[N+"6"],I[F][7]=I[N+"7"],I[F][8]=I[N+"8"],I[F][9]=I[N+"9"],I[F][10]=I[N+"10"],I[F][11]=I[N+"11"],I[F][12]=I[N+"12"],I[F][13]=I[N+"13"],I[F][14]=I[N+"0"],I[F][15]=I[N+"0"]}function fn(N){return N==sp||N==jf||N==t0||N==r0}function oi(){this.eb=[],this.size=this.A=this.fb=0}function Vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ja(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oi,this.f.kb=new Vn,this.sd=null}function Qa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ge(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Pt(N,F){var H=N.T,re=F.ba.f.RGBA,se=re.eb,fe=re.fb+N.ka*re.A,me=ds[F.ba.S],ve=N.y,xe=N.O,Ae=N.f,Be=N.N,rt=N.ea,nt=N.W,Xe=F.cc,Ot=F.dc,yt=F.Mc,qe=F.Nc,ze=N.ka,kt=N.ka+N.T,St=N.U,Et=St+1>>1;for(ze==0?me(ve,xe,null,null,Ae,Be,rt,nt,Ae,Be,rt,nt,se,fe,null,null,St):(me(F.ec,F.fc,ve,xe,Xe,Ot,yt,qe,Ae,Be,rt,nt,se,fe-re.A,se,fe,St),++H);ze+2<kt;ze+=2)Xe=Ae,Ot=Be,yt=rt,qe=nt,Be+=N.Rc,nt+=N.Rc,fe+=2*re.A,me(ve,(xe+=2*N.fa)-N.fa,ve,xe,Xe,Ot,yt,qe,Ae,Be,rt,nt,se,fe-re.A,se,fe,St);return xe+=N.fa,N.j+kt<N.o?(n(F.ec,F.fc,ve,xe,St),n(F.cc,F.dc,Ae,Be,Et),n(F.Mc,F.Nc,rt,nt,Et),H--):1&kt||me(ve,xe,null,null,Ae,Be,rt,nt,Ae,Be,rt,nt,se,fe+re.A,null,null,St),H}function An(N,F,H){var re=N.F,se=[N.J];if(re!=null){var fe=N.U,me=F.ba.S,ve=me==e0||me==t0;F=F.ba.f.RGBA;var xe=[0],Ae=N.ka;xe[0]=N.T,N.Kb&&(Ae==0?--xe[0]:(--Ae,se[0]-=N.width),N.j+N.ka+N.T==N.o&&(xe[0]=N.o-N.j-Ae));var Be=F.eb;Ae=F.fb+Ae*F.A,N=ea(re,se[0],N.width,fe,xe,Be,Ae+(ve?0:3),F.A),t(H==xe),N&&fn(me)&&cs(Be,Ae,ve,fe,xe,F.A)}return 0}function ha(N){var F=N.ma,H=F.ba.S,re=11>H,se=H==Ad||H==Qm||H==e0||H==ma||H==12||fn(H);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!Xh(F.Oa,N,se?11:12))return 0;if(se&&fn(H)&&Mt(),N.da)alert("todo:use_scaling");else{if(re){if(F.Ib=Ge,N.Kb){if(H=N.U+1>>1,F.memory=i(N.U+2*H),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+N.U,F.Mc=F.cc,F.Nc=F.dc+H,F.Ib=Pt,Mt()}}else alert("todo:EmitYUV");se&&(F.Jb=An,re&&tt())}if(re&&!fo){for(N=0;256>N;++N)fs[N]=89858*(N-128)+Hl>>gu,hs[N]=-22014*(N-128)+Hl,dp[N]=-45773*(N-128),qf[N]=113618*(N-128)+Hl>>gu;for(N=ta;N<sa;++N)F=76283*(N-16)+Hl>>gu,Yg[N-ta]=zs(F,255),m_[N-ta]=zs(F+8>>4,15);fo=1}return 1}function co(N){var F=N.ma,H=N.U,re=N.T;return t(!(1&N.ka)),0>=H||0>=re?0:(H=F.Ib(N,F),F.Jb!=null&&F.Jb(N,F,H),F.Dc+=H,1)}function bo(N){N.ma.memory=null}function Cr(N,F,H,re){return Y(N,8)!=47?0:(F[0]=Y(N,14)+1,H[0]=Y(N,14)+1,re[0]=Y(N,1),Y(N,3)!=0?0:!N.h)}function xt(N,F){if(4>N)return N+1;var H=N-2>>1;return(2+(1&N)<<H)+Y(F,H)+1}function wt(N,F){return 120<F?F-120:1<=(H=((H=eA[F-1])>>4)*N+(8-(15&H)))?H:1;var H}function mr(N,F,H){var re=K(H),se=N[F+=255&re].g-8;return 0<se&&(ie(H,H.u+8),re=K(H),F+=N[F].value,F+=re&(1<<se)-1),ie(H,H.u+N[F].g),N[F].value}function Nr(N,F,H){return H.g+=N.g,H.value+=N.value<<F>>>0,t(8>=H.g),N.g}function Zt(N,F,H){var re=N.xc;return t((F=re==0?0:N.vc[N.md*(H>>re)+(F>>re)])<N.Wb),N.Ya[F]}function ce(N,F,H,re){var se=N.ab,fe=N.c*F,me=N.C;F=me+F;var ve=H,xe=re;for(re=N.Ta,H=N.Ua;0<se--;){var Ae=N.gc[se],Be=me,rt=F,nt=ve,Xe=xe,Ot=(xe=re,ve=H,Ae.Ea);switch(t(Be<rt),t(rt<=Ae.nc),Ae.hc){case 2:Wg(nt,Xe,(rt-Be)*Ot,xe,ve);break;case 0:var yt=Be,qe=rt,ze=xe,kt=ve,St=(ir=Ae).Ea;yt==0&&(Df(nt,Xe,null,null,1,ze,kt),vt(nt,Xe+1,0,0,St-1,ze,kt+1),Xe+=St,kt+=St,++yt);for(var Et=1<<ir.b,dr=Et-1,ar=mt(St,ir.b),Ir=ir.K,ir=ir.w+(yt>>ir.b)*ar;yt<qe;){var Fn=Ir,Ln=ir,In=1;for(lu(nt,Xe,ze,kt-St,1,ze,kt);In<St;){var pn=(In&~dr)+Et;pn>St&&(pn=St),(0,Nc[Fn[Ln++]>>8&15])(nt,Xe+ +In,ze,kt+In-St,pn-In,ze,kt+In),In=pn}Xe+=St,kt+=St,++yt&dr||(ir+=ar)}rt!=Ae.nc&&n(xe,ve-Ot,xe,ve+(rt-Be-1)*Ot,Ot);break;case 1:for(Ot=nt,qe=Xe,St=(nt=Ae.Ea)-(kt=nt&~(ze=(Xe=1<<Ae.b)-1)),yt=mt(nt,Ae.b),Et=Ae.K,Ae=Ae.w+(Be>>Ae.b)*yt;Be<rt;){for(dr=Et,ar=Ae,Ir=new lt,ir=qe+kt,Fn=qe+nt;qe<ir;)Ve(dr[ar++],Ir),_d(Ir,Ot,qe,Xe,xe,ve),qe+=Xe,ve+=Xe;qe<Fn&&(Ve(dr[ar++],Ir),_d(Ir,Ot,qe,St,xe,ve),qe+=St,ve+=St),++Be&ze||(Ae+=yt)}break;case 3:if(nt==xe&&Xe==ve&&0<Ae.b){for(qe=xe,nt=Ot=ve+(rt-Be)*Ot-(kt=(rt-Be)*mt(Ae.Ea,Ae.b)),Xe=xe,ze=ve,yt=[],kt=(St=kt)-1;0<=kt;--kt)yt[kt]=Xe[ze+kt];for(kt=St-1;0<=kt;--kt)qe[nt+kt]=yt[kt];Wo(Ae,Be,rt,xe,Ot,xe,ve)}else Wo(Ae,Be,rt,nt,Xe,xe,ve)}ve=re,xe=H}xe!=H&&n(re,H,ve,xe,fe)}function Se(N,F){var H=N.V,re=N.Ba+N.c*N.C,se=F-N.C;if(t(F<=N.l.o),t(16>=se),0<se){var fe=N.l,me=N.Ta,ve=N.Ua,xe=fe.width;if(ce(N,se,H,re),se=ve=[ve],t((H=N.C)<(re=F)),t(fe.v<fe.va),re>fe.o&&(re=fe.o),H<fe.j){var Ae=fe.j-H;H=fe.j,se[0]+=Ae*xe}if(H>=re?H=0:(se[0]+=4*fe.v,fe.ka=H-fe.j,fe.U=fe.va-fe.v,fe.T=re-H,H=1),H){if(ve=ve[0],11>(H=N.ca).S){var Be=H.f.RGBA,rt=(re=H.S,se=fe.U,fe=fe.T,Ae=Be.eb,Be.A),nt=fe;for(Be=Be.fb+N.Ma*Be.A;0<nt--;){var Xe=me,Ot=ve,yt=se,qe=Ae,ze=Be;switch(re){case Vg:Vo(Xe,Ot,yt,qe,ze);break;case Ad:Ao(Xe,Ot,yt,qe,ze);break;case sp:Ao(Xe,Ot,yt,qe,ze),cs(qe,ze,0,yt,1,0);break;case u_:uu(Xe,Ot,yt,qe,ze);break;case Qm:bn(Xe,Ot,yt,qe,ze,1);break;case jf:bn(Xe,Ot,yt,qe,ze,1),cs(qe,ze,0,yt,1,0);break;case e0:bn(Xe,Ot,yt,qe,ze,0);break;case t0:bn(Xe,Ot,yt,qe,ze,0),cs(qe,ze,1,yt,1,0);break;case ma:bd(Xe,Ot,yt,qe,ze);break;case r0:bd(Xe,Ot,yt,qe,ze),pa(qe,ze,yt,1,0);break;case Hg:cu(Xe,Ot,yt,qe,ze);break;default:t(0)}ve+=xe,Be+=rt}N.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=H.height)}}N.C=F,t(N.C<=N.i)}function ye(N){var F;if(0<N.ua)return 0;for(F=0;F<N.Wb;++F){var H=N.Ya[F].G,re=N.Ya[F].H;if(0<H[1][re[1]+0].g||0<H[2][re[2]+0].g||0<H[3][re[3]+0].g)return 0}return 1}function we(N,F,H,re,se,fe){if(N.Z!=0){var me=N.qd,ve=N.rd;for(t(No[N.Z]!=null);F<H;++F)No[N.Z](me,ve,re,se,re,se,fe),me=re,ve=se,se+=fe;N.qd=me,N.rd=ve}}function be(N,F){var H=N.l.ma,re=H.Z==0||H.Z==1?N.l.j:N.C;if(re=N.C<re?re:N.C,t(F<=N.l.o),F>re){var se=N.l.width,fe=H.ca,me=H.tb+se*re,ve=N.V,xe=N.Ba+N.c*re,Ae=N.gc;t(N.ab==1),t(Ae[0].hc==3),Xm(Ae[0],re,F,ve,xe,fe,me),we(H,re,F,fe,me,se)}N.C=N.Ma=F}function ke(N,F,H,re,se,fe,me){var ve=N.$/re,xe=N.$%re,Ae=N.m,Be=N.s,rt=H+N.$,nt=rt;se=H+re*se;var Xe=H+re*fe,Ot=280+Be.ua,yt=N.Pb?ve:16777216,qe=0<Be.ua?Be.Wa:null,ze=Be.wc,kt=rt<Xe?Zt(Be,xe,ve):null;t(N.C<fe),t(Xe<=se);var St=!1;e:for(;;){for(;St||rt<Xe;){var Et=0;if(ve>=yt){var dr=rt-H;t((yt=N).Pb),yt.wd=yt.m,yt.xd=dr,0<yt.s.ua&&De(yt.s.Wa,yt.s.vb),yt=ve+Kg}if(xe&ze||(kt=Zt(Be,xe,ve)),t(kt!=null),kt.Qb&&(F[rt]=kt.qb,St=!0),!St)if(ae(Ae),kt.jc){Et=Ae,dr=F;var ar=rt,Ir=kt.pd[K(Et)&ti-1];t(kt.jc),256>Ir.g?(ie(Et,Et.u+Ir.g),dr[ar]=Ir.value,Et=0):(ie(Et,Et.u+Ir.g-256),t(256<=Ir.value),Et=Ir.value),Et==0&&(St=!0)}else Et=mr(kt.G[0],kt.H[0],Ae);if(Ae.h)break;if(St||256>Et){if(!St)if(kt.nd)F[rt]=(kt.qb|Et<<8)>>>0;else{if(ae(Ae),St=mr(kt.G[1],kt.H[1],Ae),ae(Ae),dr=mr(kt.G[2],kt.H[2],Ae),ar=mr(kt.G[3],kt.H[3],Ae),Ae.h)break;F[rt]=(ar<<24|St<<16|Et<<8|dr)>>>0}if(St=!1,++rt,++xe>=re&&(xe=0,++ve,me!=null&&ve<=fe&&!(ve%16)&&me(N,ve),qe!=null))for(;nt<rt;)Et=F[nt++],qe.X[(506832829*Et&4294967295)>>>qe.Mb]=Et}else if(280>Et){if(Et=xt(Et-256,Ae),dr=mr(kt.G[4],kt.H[4],Ae),ae(Ae),dr=wt(re,dr=xt(dr,Ae)),Ae.h)break;if(rt-H<dr||se-rt<Et)break e;for(ar=0;ar<Et;++ar)F[rt+ar]=F[rt+ar-dr];for(rt+=Et,xe+=Et;xe>=re;)xe-=re,++ve,me!=null&&ve<=fe&&!(ve%16)&&me(N,ve);if(t(rt<=se),xe&ze&&(kt=Zt(Be,xe,ve)),qe!=null)for(;nt<rt;)Et=F[nt++],qe.X[(506832829*Et&4294967295)>>>qe.Mb]=Et}else{if(!(Et<Ot))break e;for(St=Et-280,t(qe!=null);nt<rt;)Et=F[nt++],qe.X[(506832829*Et&4294967295)>>>qe.Mb]=Et;Et=rt,t(!(St>>>(dr=qe).Xa)),F[Et]=dr.X[St],St=!0}St||t(Ae.h==Q(Ae))}if(N.Pb&&Ae.h&&rt<se)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&De(N.s.vb,N.s.Wa);else{if(Ae.h)break e;me!=null&&me(N,ve>fe?fe:ve),N.a=0,N.$=rt-H}return 1}return N.a=3,0}function et(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var F=N.Wa;F!=null&&(F.X=null),N.vb=null,t(N!=null)}function pt(){var N=new Ey;return N==null?null:(N.a=0,N.xb=cp,Pi("Predictor","VP8LPredictors"),Pi("Predictor","VP8LPredictors_C"),Pi("PredictorAdd","VP8LPredictorsAdd"),Pi("PredictorAdd","VP8LPredictorsAdd_C"),Wg=Fe,_d=_t,Vo=ut,Ao=wr,bd=nr,cu=Jr,uu=dn,I.VP8LMapColor32b=rp,I.VP8LMapColor8b=np,N)}function Ye(N,F,H,re,se){var fe=1,me=[N],ve=[F],xe=re.m,Ae=re.s,Be=null,rt=0;e:for(;;){if(H)for(;fe&&Y(xe,1);){var nt=me,Xe=ve,Ot=re,yt=1,qe=Ot.m,ze=Ot.gc[Ot.ab],kt=Y(qe,2);if(Ot.Oc&1<<kt)fe=0;else{switch(Ot.Oc|=1<<kt,ze.hc=kt,ze.Ea=nt[0],ze.nc=Xe[0],ze.K=[null],++Ot.ab,t(4>=Ot.ab),kt){case 0:case 1:ze.b=Y(qe,3)+2,yt=Ye(mt(ze.Ea,ze.b),mt(ze.nc,ze.b),0,Ot,ze.K),ze.K=ze.K[0];break;case 3:var St,Et=Y(qe,8)+1,dr=16<Et?0:4<Et?1:2<Et?2:3;if(nt[0]=mt(ze.Ea,dr),ze.b=dr,St=yt=Ye(Et,1,0,Ot,ze.K)){var ar,Ir=Et,ir=ze,Fn=1<<(8>>ir.b),Ln=i(Fn);if(Ln==null)St=0;else{var In=ir.K[0],pn=ir.w;for(Ln[0]=ir.K[0][0],ar=1;ar<1*Ir;++ar)Ln[ar]=dt(In[pn+ar],Ln[ar-1]);for(;ar<4*Fn;++ar)Ln[ar]=0;ir.K[0]=null,ir.K[0]=Ln,St=1}}yt=St;break;case 2:break;default:t(0)}fe=yt}}if(me=me[0],ve=ve[0],fe&&Y(xe,1)&&!(fe=1<=(rt=Y(xe,4))&&11>=rt)){re.a=3;break e}var ra;if(ra=fe)t:{var la,Qr,Ba,Ko=re,li=me,Di=ve,Hn=rt,Eo=H,Co=Ko.m,Ua=Ko.s,Ii=[null],ho=1,ps=0,yl=f_[Hn];r:for(;;){if(Eo&&Y(Co,1)){var qa=Y(Co,3)+2,yi=mt(li,qa),Hs=mt(Di,qa),Ed=yi*Hs;if(!Ye(yi,Hs,0,Ko,Ii))break r;for(Ii=Ii[0],Ua.xc=qa,la=0;la<Ed;++la){var yu=Ii[la]>>8&65535;Ii[la]=yu,yu>=ho&&(ho=yu+1)}}if(Co.h)break r;for(Qr=0;5>Qr;++Qr){var Gn=$f[Qr];!Qr&&0<Hn&&(Gn+=1<<Hn),ps<Gn&&(ps=Gn)}var Oc=o(ho*yl,M),Xg=ho,Iy=o(Xg,V);if(Iy==null)var xl=null;else t(65536>=Xg),xl=Iy;var wl=i(ps);if(xl==null||wl==null||Oc==null){Ko.a=1;break r}var Wf=Oc;for(la=Ba=0;la<ho;++la){var _l=xl[la],xu=_l.G,Vf=_l.H,fp=0,Gs=1,hp=0;for(Qr=0;5>Qr;++Qr){Gn=$f[Qr],xu[Qr]=Wf,Vf[Qr]=Ba,!Qr&&0<Hn&&(Gn+=1<<Hn);a:{var Cd,wu=Gn,pp=Ko,Dc=wl,v_=Wf,Ry=Ba,ba=0,Gl=pp.m,My=Y(Gl,1);if(a(Dc,0,0,wu),My){var Fy=Y(Gl,1)+1,Zg=Y(Gl,1),Jg=Y(Gl,Zg==0?1:8);Dc[Jg]=1,Fy==2&&(Dc[Jg=Y(Gl,8)]=1);var Ic=1}else{var Na=i(19),xi=Y(Gl,4)+4;if(19<xi){pp.a=3;var ci=0;break a}for(Cd=0;Cd<xi;++Cd)Na[Q3[Cd]]=Y(Gl,3);var mp=void 0,_u=void 0,gp=pp,iA=Na,Ri=wu,Qg=Dc,s0=0,Rc=gp.m,Kl=8,Ks=o(128,M);n:for(;P(Ks,0,7,iA,19);){if(Y(Rc,1)){var l0=2+2*Y(Rc,3);if((mp=2+Y(Rc,l0))>Ri)break n}else mp=Ri;for(_u=0;_u<Ri&&mp--;){ae(Rc);var ev=Ks[0+(127&K(Rc))];ie(Rc,Rc.u+ev.g);var Td=ev.value;if(16>Td)Qg[_u++]=Td,Td!=0&&(Kl=Td);else{var y_=Td==16,Ly=Td-16,x_=Gg[Ly],jy=Y(Rc,n0[Ly])+x_;if(_u+jy>Ri)break n;for(var w_=y_?Kl:0;0<jy--;)Qg[_u++]=w_}}s0=1;break n}s0||(gp.a=3),Ic=s0}(Ic=Ic&&!Gl.h)&&(ba=P(v_,Ry,8,Dc,wu)),Ic&&ba!=0?ci=ba:(pp.a=3,ci=0)}if(ci==0)break r;if(Gs&&d_[Qr]==1&&(Gs=Wf[Ba].g==0),fp+=Wf[Ba].g,Ba+=ci,3>=Qr){var vp,tv=wl[0];for(vp=1;vp<Gn;++vp)wl[vp]>tv&&(tv=wl[vp]);hp+=tv}}if(_l.nd=Gs,_l.Qb=0,Gs&&(_l.qb=(xu[3][Vf[3]+0].value<<24|xu[1][Vf[1]+0].value<<16|xu[2][Vf[2]+0].value)>>>0,fp==0&&256>xu[0][Vf[0]+0].value&&(_l.Qb=1,_l.qb+=xu[0][Vf[0]+0].value<<8)),_l.jc=!_l.Qb&&6>hp,_l.jc){var c0,Ys=_l;for(c0=0;c0<ti;++c0){var bu=c0,Yl=Ys.pd[bu],Hf=Ys.G[0][Ys.H[0]+bu];256<=Hf.value?(Yl.g=Hf.g+256,Yl.value=Hf.value):(Yl.g=0,Yl.value=0,bu>>=Nr(Hf,8,Yl),bu>>=Nr(Ys.G[1][Ys.H[1]+bu],16,Yl),bu>>=Nr(Ys.G[2][Ys.H[2]+bu],0,Yl),Nr(Ys.G[3][Ys.H[3]+bu],24,Yl))}}}Ua.vc=Ii,Ua.Wb=ho,Ua.Ya=xl,Ua.yc=Oc,ra=1;break t}ra=0}if(!(fe=ra)){re.a=3;break e}if(0<rt){if(Ae.ua=1<<rt,!Re(Ae.Wa,rt)){re.a=1,fe=0;break e}}else Ae.ua=0;var rv=re,nv=me,__=ve,av=rv.s,iv=av.xc;if(rv.c=nv,rv.i=__,av.md=mt(nv,iv),av.wc=iv==0?-1:(1<<iv)-1,H){re.xb=Pc;break e}if((Be=i(me*ve))==null){re.a=1,fe=0;break e}fe=(fe=ke(re,Be,0,me,ve,ve,null))&&!xe.h;break e}return fe?(se!=null?se[0]=Be:(t(Be==null),t(H)),re.$=0,H||et(Ae)):et(Ae),fe}function at(N,F){var H=N.c*N.i,re=H+F+16*F;return t(N.c<=F),N.V=i(re),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+H+F,1)}function st(N,F){var H=N.C,re=F-H,se=N.V,fe=N.Ba+N.c*H;for(t(F<=N.l.o);0<re;){var me=16<re?16:re,ve=N.l.ma,xe=N.l.width,Ae=xe*me,Be=ve.ca,rt=ve.tb+xe*H,nt=N.Ta,Xe=N.Ua;ce(N,me,se,fe),ri(nt,Xe,Be,rt,Ae),we(ve,H,H+me,Be,rt,xe),re-=me,se+=me*N.c,H+=me}t(H==F),N.C=N.Ma=F}function It(){this.ub=this.yd=this.td=this.Rb=0}function Gt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function or(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function zt(){this.Yb=function(){var N=[];return function F(H,re,se){for(var fe=se[re],me=0;me<fe&&(H.push(se.length>re+1?[]:0),!(se.length<re+1));me++)F(H[me],re+1,se)}(N,0,[3,11]),N}()}function $t(){this.jb=i(3),this.Wc=s([4,8],zt),this.Xc=s([4,17],zt)}function Gr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Mn(){this.ld=this.La=this.dd=this.tc=0}function Qn(){this.Na=this.la=0}function Fa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mn),this.Y=0,this.ya=Array(new Bl),this.aa=0,this.l=new wc}function Us(){this.y=i(16),this.f=i(8),this.ea=i(8)}function mi(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new It,this.Kc=new Gt,this.ed=new Gr,this.Qa=new or,this.Ic=this.$c=this.Aa=0,this.D=new xc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Z),this.ia=0,this.pb=o(4,Fa),this.Pa=new $t,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Us),this.Hd=0,this.rb=Array(new Qn),this.sb=0,this.wa=Array(new Mn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bl),this.L=this.aa=0,this.gd=s([4,2],Mn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function La(){var N=new mi;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Bf||(Bf=wf)),N}function si(N,F,H){return N.a==0&&(N.a=F,N.sc=H,N.cb=0),0}function Lg(N,F,H){return 3<=H&&N[F+0]==157&&N[F+1]==1&&N[F+2]==42}function jg(N,F){if(N==null)return 0;if(N.a=0,N.sc="OK",F==null)return si(N,2,"null VP8Io passed to VP8GetHeaders()");var H=F.data,re=F.w,se=F.ha;if(4>se)return si(N,7,"Truncated header.");var fe=H[re+0]|H[re+1]<<8|H[re+2]<<16,me=N.Od;if(me.Rb=!(1&fe),me.td=fe>>1&7,me.yd=fe>>4&1,me.ub=fe>>5,3<me.td)return si(N,3,"Incorrect keyframe parameters.");if(!me.yd)return si(N,4,"Frame not displayable.");re+=3,se-=3;var ve=N.Kc;if(me.Rb){if(7>se)return si(N,7,"cannot parse picture header");if(!Lg(H,re,se))return si(N,3,"Bad code word");ve.c=16383&(H[re+4]<<8|H[re+3]),ve.Td=H[re+4]>>6,ve.i=16383&(H[re+6]<<8|H[re+5]),ve.Ud=H[re+6]>>6,re+=7,se-=7,N.za=ve.c+15>>4,N.Ub=ve.i+15>>4,F.width=ve.c,F.height=ve.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,a((fe=N.Pa).jb,0,255,fe.jb.length),t((fe=N.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,a(fe.Zb,0,0,fe.Zb.length),a(fe.Lb,0,0,fe.Lb)}if(me.ub>se)return si(N,7,"bad partition length");X(fe=N.m,H,re,me.ub),re+=me.ub,se-=me.ub,me.Rb&&(ve.Ld=de(fe),ve.Kd=de(fe)),ve=N.Qa;var xe,Ae=N.Pa;if(t(fe!=null),t(ve!=null),ve.Cb=de(fe),ve.Cb){if(ve.Bb=de(fe),de(fe)){for(ve.Fb=de(fe),xe=0;4>xe;++xe)ve.Zb[xe]=de(fe)?z(fe,7):0;for(xe=0;4>xe;++xe)ve.Lb[xe]=de(fe)?z(fe,6):0}if(ve.Bb)for(xe=0;3>xe;++xe)Ae.jb[xe]=de(fe)?te(fe,8):255}else ve.Bb=0;if(fe.Ka)return si(N,3,"cannot parse segment header");if((ve=N.ed).zd=de(fe),ve.Tb=te(fe,6),ve.wb=te(fe,3),ve.Pc=de(fe),ve.Pc&&de(fe)){for(Ae=0;4>Ae;++Ae)de(fe)&&(ve.vd[Ae]=z(fe,6));for(Ae=0;4>Ae;++Ae)de(fe)&&(ve.od[Ae]=z(fe,6))}if(N.L=ve.Tb==0?0:ve.zd?1:2,fe.Ka)return si(N,3,"cannot parse filter header");var Be=se;if(se=xe=re,re=xe+Be,ve=Be,N.Xb=(1<<te(N.m,2))-1,Be<3*(Ae=N.Xb))H=7;else{for(xe+=3*Ae,ve-=3*Ae,Be=0;Be<Ae;++Be){var rt=H[se+0]|H[se+1]<<8|H[se+2]<<16;rt>ve&&(rt=ve),X(N.Jc[+Be],H,xe,rt),xe+=rt,ve-=rt,se+=3}X(N.Jc[+Ae],H,xe,ve),H=xe<re?0:5}if(H!=0)return si(N,H,"cannot parse partitions");for(H=te(xe=N.m,7),se=de(xe)?z(xe,4):0,re=de(xe)?z(xe,4):0,ve=de(xe)?z(xe,4):0,Ae=de(xe)?z(xe,4):0,xe=de(xe)?z(xe,4):0,Be=N.Qa,rt=0;4>rt;++rt){if(Be.Cb){var nt=Be.Zb[rt];Be.Fb||(nt+=H)}else{if(0<rt){N.pb[rt]=N.pb[0];continue}nt=H}var Xe=N.pb[rt];Xe.Sc[0]=lp[zs(nt+se,127)],Xe.Sc[1]=a0[zs(nt+0,127)],Xe.Eb[0]=2*lp[zs(nt+re,127)],Xe.Eb[1]=101581*a0[zs(nt+ve,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=lp[zs(nt+Ae,117)],Xe.Qc[1]=a0[zs(nt+xe,127)],Xe.lc=nt+xe}if(!me.Rb)return si(N,4,"Not a key frame.");for(de(fe),me=N.Pa,H=0;4>H;++H){for(se=0;8>se;++se)for(re=0;3>re;++re)for(ve=0;11>ve;++ve)Ae=J(fe,rA[H][se][re][ve])?te(fe,8):p_[H][se][re][ve],me.Wc[H][se].Yb[re][ve]=Ae;for(se=0;17>se;++se)me.Xc[H][se]=me.Wc[H][Py[se]]}return N.kc=de(fe),N.kc&&(N.Bd=te(fe,8)),N.cb=1}function wf(N,F,H,re,se,fe,me){var ve=F[se].Yb[H];for(H=0;16>se;++se){if(!J(N,ve[H+0]))return se;for(;!J(N,ve[H+1]);)if(ve=F[++se].Yb[0],H=0,se==16)return 16;var xe=F[se+1].Yb;if(J(N,ve[H+2])){var Ae=N,Be=0;if(J(Ae,(nt=ve)[(rt=H)+3]))if(J(Ae,nt[rt+6])){for(ve=0,rt=2*(Be=J(Ae,nt[rt+8]))+(nt=J(Ae,nt[rt+9+Be])),Be=0,nt=Cy[rt];nt[ve];++ve)Be+=Be+J(Ae,nt[ve]);Be+=3+(8<<rt)}else J(Ae,nt[rt+7])?(Be=7+2*J(Ae,165),Be+=J(Ae,145)):Be=5+J(Ae,159);else Be=J(Ae,nt[rt+4])?3+J(Ae,nt[rt+5]):2;ve=xe[2]}else Be=1,ve=xe[1];xe=me+Ty[se],0>(Ae=N).b&&oe(Ae);var rt,nt=Ae.b,Xe=(rt=Ae.Ca>>1)-(Ae.I>>nt)>>31;--Ae.b,Ae.Ca+=Xe,Ae.Ca|=1,Ae.I-=(rt+1&Xe)<<nt,fe[xe]=((Be^Xe)-Xe)*re[(0<se)+0]}return 16}function dd(N){var F=N.rb[N.sb-1];F.la=0,F.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function _f(N,F){if(N==null)return 0;if(F==null)return si(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!jg(N,F))return 0;if(t(N.cb),F.ac==null||F.ac(F)){F.ob&&(N.L=0);var H=zf[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=F.v-H>>4,N.zb=F.j-H>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=F.o+15+H>>4,N.Hb=F.va+15+H>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var re=N.ed;for(H=0;4>H;++H){var se;if(N.Qa.Cb){var fe=N.Qa.Lb[H];N.Qa.Fb||(fe+=re.Tb)}else fe=re.Tb;for(se=0;1>=se;++se){var me=N.gd[H][se],ve=fe;if(re.Pc&&(ve+=re.vd[0],se&&(ve+=re.od[0])),0<(ve=0>ve?0:63<ve?63:ve)){var xe=ve;0<re.wb&&(xe=4<re.wb?xe>>2:xe>>1)>9-re.wb&&(xe=9-re.wb),1>xe&&(xe=1),me.dd=xe,me.tc=2*ve+xe,me.ld=40<=ve?2:15<=ve?1:0}else me.tc=0;me.La=se}}}H=0}else si(N,6,"Frame setup failed"),H=N.a;if(H=H==0){if(H){N.$c=0,0<N.Aa||(N.Ic=vu);e:{H=N.Ic,re=4*(xe=N.za);var Ae=32*xe,Be=xe+1,rt=0<N.L?xe*(0<N.Aa?2:1):0,nt=(N.Aa==2?2:1)*xe;if((me=re+832+(se=3*(16*H+zf[N.L])/2*Ae)+(fe=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=me)H=0;else{if(me>N.Vb){if(N.Vb=0,N.Ec=i(me),N.Fc=0,N.Ec==null){H=si(N,1,"no memory during frame initialization.");break e}N.Vb=me}me=N.Ec,ve=N.Fc,N.Ac=me,N.Bc=ve,ve+=re,N.Gd=o(Ae,Us),N.Hd=0,N.rb=o(Be+1,Qn),N.sb=1,N.wa=rt?o(rt,Mn):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=xe),t(!0),N.oc=me,N.pc=ve,ve+=832,N.ya=o(nt,Bl),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=xe),N.R=16*xe,N.B=8*xe,xe=(Ae=zf[N.L])*N.R,Ae=Ae/2*N.B,N.sa=me,N.ta=ve+xe,N.qa=N.sa,N.ra=N.ta+16*H*N.R+Ae,N.Ha=N.qa,N.Ia=N.ra+8*H*N.B+Ae,N.$c=0,ve+=se,N.mb=fe?me:null,N.nb=fe?ve:null,t(ve+fe<=N.Fc+N.Vb),dd(N),a(N.Ac,N.Bc,0,re),H=1}}if(H){if(F.ka=0,F.y=N.sa,F.O=N.ta,F.f=N.qa,F.N=N.ra,F.ea=N.Ha,F.Vd=N.Ia,F.fa=N.R,F.Rc=N.B,F.F=null,F.J=0,!Jm){for(H=-255;255>=H;++H)vi[255+H]=0>H?-H:H;for(H=-1020;1020>=H;++H)Cc[1020+H]=-128>H?-128:127<H?127:H;for(H=-112;112>=H;++H)ip[112+H]=-16>H?-16:15<H?15:H;for(H=-255;510>=H;++H)Lf[255+H]=0>H?0:255<H?255:H;Jm=1}ap=Bn,du=Um,fu=fd,ko=ky,Ws=jh,Un=Bm,If=Vh,Zm=Oi,Rf=Cf,Mf=Hm,Ff=gd,Vs=vd,hu=Tf,Ec=Hh,pu=zl,mu=hl,Sd=pl,uo=qg,vl[0]=Ac,vl[1]=$g,vl[2]=kf,vl[3]=Sc,vl[4]=zm,vl[5]=Bh,vl[6]=pd,vl[7]=Uh,vl[8]=Ug,vl[9]=qh,Go[0]=Af,Go[1]=Bg,Go[2]=_c,Go[3]=Sf,Go[4]=ja,Go[5]=bc,Go[6]=Ul,us[0]=qs,us[1]=qm,us[2]=Ny,us[3]=ou,us[4]=Nf,us[5]=zh,us[6]=Wm,H=1}else H=0}H&&(H=function(Xe,Ot){for(Xe.M=0;Xe.M<Xe.Va;++Xe.M){var yt,qe=Xe.Jc[Xe.M&Xe.Xb],ze=Xe.m,kt=Xe;for(yt=0;yt<kt.za;++yt){var St=ze,Et=kt,dr=Et.Ac,ar=Et.Bc+4*yt,Ir=Et.zc,ir=Et.ya[Et.aa+yt];if(Et.Qa.Bb?ir.$b=J(St,Et.Pa.jb[0])?2+J(St,Et.Pa.jb[2]):J(St,Et.Pa.jb[1]):ir.$b=0,Et.kc&&(ir.Ad=J(St,Et.Bd)),ir.Za=!J(St,145)+0,ir.Za){var Fn=ir.Ob,Ln=0;for(Et=0;4>Et;++Et){var In,pn=Ir[0+Et];for(In=0;4>In;++In){pn=tA[dr[ar+In]][pn];for(var ra=h_[J(St,pn[0])];0<ra;)ra=h_[2*ra+J(St,pn[ra])];pn=-ra,dr[ar+In]=pn}n(Fn,Ln,dr,ar,4),Ln+=4,Ir[0+Et]=pn}}else pn=J(St,156)?J(St,128)?1:3:J(St,163)?2:0,ir.Ob[0]=pn,a(dr,ar,pn,4),a(Ir,0,pn,4);ir.Dd=J(St,142)?J(St,114)?J(St,183)?1:3:2:0}if(kt.m.Ka)return si(Xe,7,"Premature end-of-partition0 encountered.");for(;Xe.ja<Xe.za;++Xe.ja){if(kt=qe,St=(ze=Xe).rb[ze.sb-1],dr=ze.rb[ze.sb+ze.ja],yt=ze.ya[ze.aa+ze.ja],ar=ze.kc?yt.Ad:0)St.la=dr.la=0,yt.Za||(St.Na=dr.Na=0),yt.Hc=0,yt.Gc=0,yt.ia=0;else{var la,Qr;if(St=dr,dr=kt,ar=ze.Pa.Xc,Ir=ze.ya[ze.aa+ze.ja],ir=ze.pb[Ir.$b],Et=Ir.ad,Fn=0,Ln=ze.rb[ze.sb-1],pn=In=0,a(Et,Fn,0,384),Ir.Za)var Ba=0,Ko=ar[3];else{ra=i(16);var li=St.Na+Ln.Na;if(li=Bf(dr,ar[1],li,ir.Eb,0,ra,0),St.Na=Ln.Na=(0<li)+0,1<li)ap(ra,0,Et,Fn);else{var Di=ra[0]+3>>3;for(ra=0;256>ra;ra+=16)Et[Fn+ra]=Di}Ba=1,Ko=ar[0]}var Hn=15&St.la,Eo=15&Ln.la;for(ra=0;4>ra;++ra){var Co=1&Eo;for(Di=Qr=0;4>Di;++Di)Hn=Hn>>1|(Co=(li=Bf(dr,Ko,li=Co+(1&Hn),ir.Sc,Ba,Et,Fn))>Ba)<<7,Qr=Qr<<2|(3<li?3:1<li?2:Et[Fn+0]!=0),Fn+=16;Hn>>=4,Eo=Eo>>1|Co<<7,In=(In<<8|Qr)>>>0}for(Ko=Hn,Ba=Eo>>4,la=0;4>la;la+=2){for(Qr=0,Hn=St.la>>4+la,Eo=Ln.la>>4+la,ra=0;2>ra;++ra){for(Co=1&Eo,Di=0;2>Di;++Di)li=Co+(1&Hn),Hn=Hn>>1|(Co=0<(li=Bf(dr,ar[2],li,ir.Qc,0,Et,Fn)))<<3,Qr=Qr<<2|(3<li?3:1<li?2:Et[Fn+0]!=0),Fn+=16;Hn>>=2,Eo=Eo>>1|Co<<5}pn|=Qr<<4*la,Ko|=Hn<<4<<la,Ba|=(240&Eo)<<la}St.la=Ko,Ln.la=Ba,Ir.Hc=In,Ir.Gc=pn,Ir.ia=43690&pn?0:ir.ia,ar=!(In|pn)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[yt.$b][yt.Za],ze.wa[ze.Y+ze.ja].La|=!ar),kt.Ka)return si(Xe,7,"Premature end-of-file encountered.")}if(dd(Xe),ze=Ot,kt=1,yt=(qe=Xe).D,St=0<qe.L&&qe.M>=qe.zb&&qe.M<=qe.Va,qe.Aa==0)e:{if(yt.M=qe.M,yt.uc=St,Yh(qe,yt),kt=1,yt=(Qr=qe.D).Nb,St=(pn=zf[qe.L])*qe.R,dr=pn/2*qe.B,ra=16*yt*qe.R,Di=8*yt*qe.B,ar=qe.sa,Ir=qe.ta-St+ra,ir=qe.qa,Et=qe.ra-dr+Di,Fn=qe.Ha,Ln=qe.Ia-dr+Di,Eo=(Hn=Qr.M)==0,In=Hn>=qe.Va-1,qe.Aa==2&&Yh(qe,Qr),Qr.uc)for(Co=(li=qe).D.M,t(li.D.uc),Qr=li.yb;Qr<li.Hb;++Qr){Ba=Qr,Ko=Co;var Ua=(Ii=(Gn=li).D).Nb;la=Gn.R;var Ii=Ii.wa[Ii.Y+Ba],ho=Gn.sa,ps=Gn.ta+16*Ua*la+16*Ba,yl=Ii.dd,qa=Ii.tc;if(qa!=0)if(t(3<=qa),Gn.L==1)0<Ba&&mu(ho,ps,la,qa+4),Ii.La&&uo(ho,ps,la,qa),0<Ko&&pu(ho,ps,la,qa+4),Ii.La&&Sd(ho,ps,la,qa);else{var yi=Gn.B,Hs=Gn.qa,Ed=Gn.ra+8*Ua*yi+8*Ba,yu=Gn.Ha,Gn=Gn.Ia+8*Ua*yi+8*Ba;Ua=Ii.ld,0<Ba&&(Zm(ho,ps,la,qa+4,yl,Ua),Mf(Hs,Ed,yu,Gn,yi,qa+4,yl,Ua)),Ii.La&&(Vs(ho,ps,la,qa,yl,Ua),Ec(Hs,Ed,yu,Gn,yi,qa,yl,Ua)),0<Ko&&(If(ho,ps,la,qa+4,yl,Ua),Rf(Hs,Ed,yu,Gn,yi,qa+4,yl,Ua)),Ii.La&&(Ff(ho,ps,la,qa,yl,Ua),hu(Hs,Ed,yu,Gn,yi,qa,yl,Ua))}}if(qe.ia&&alert("todo:DitherRow"),ze.put!=null){if(Qr=16*Hn,Hn=16*(Hn+1),Eo?(ze.y=qe.sa,ze.O=qe.ta+ra,ze.f=qe.qa,ze.N=qe.ra+Di,ze.ea=qe.Ha,ze.W=qe.Ia+Di):(Qr-=pn,ze.y=ar,ze.O=Ir,ze.f=ir,ze.N=Et,ze.ea=Fn,ze.W=Ln),In||(Hn-=pn),Hn>ze.o&&(Hn=ze.o),ze.F=null,ze.J=null,qe.Fa!=null&&0<qe.Fa.length&&Qr<Hn&&(ze.J=Km(qe,ze,Qr,Hn-Qr),ze.F=qe.mb,ze.F==null&&ze.F.length==0)){kt=si(qe,3,"Could not decode alpha data.");break e}Qr<ze.j&&(pn=ze.j-Qr,Qr=ze.j,t(!(1&pn)),ze.O+=qe.R*pn,ze.N+=qe.B*(pn>>1),ze.W+=qe.B*(pn>>1),ze.F!=null&&(ze.J+=ze.width*pn)),Qr<Hn&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=Qr-ze.j,ze.U=ze.va-ze.v,ze.T=Hn-Qr,kt=ze.put(ze))}yt+1!=qe.Ic||In||(n(qe.sa,qe.ta-St,ar,Ir+16*qe.R,St),n(qe.qa,qe.ra-dr,ir,Et+8*qe.B,dr),n(qe.Ha,qe.Ia-dr,Fn,Ln+8*qe.B,dr))}if(!kt)return si(Xe,6,"Output aborted.")}return 1}(N,F)),F.bc!=null&&F.bc(F),H&=1}return H?(N.cb=0,H):0}function os(N,F,H,re,se){se=N[F+H+32*re]+(se>>3),N[F+H+32*re]=-256&se?0>se?0:255:se}function Lh(N,F,H,re,se,fe){os(N,F,0,H,re+se),os(N,F,1,H,re+fe),os(N,F,2,H,re-fe),os(N,F,3,H,re-se)}function ss(N){return(20091*N>>16)+N}function bf(N,F,H,re){var se,fe=0,me=i(16);for(se=0;4>se;++se){var ve=N[F+0]+N[F+8],xe=N[F+0]-N[F+8],Ae=(35468*N[F+4]>>16)-ss(N[F+12]),Be=ss(N[F+4])+(35468*N[F+12]>>16);me[fe+0]=ve+Be,me[fe+1]=xe+Ae,me[fe+2]=xe-Ae,me[fe+3]=ve-Be,fe+=4,F++}for(se=fe=0;4>se;++se)ve=(N=me[fe+0]+4)+me[fe+8],xe=N-me[fe+8],Ae=(35468*me[fe+4]>>16)-ss(me[fe+12]),os(H,re,0,0,ve+(Be=ss(me[fe+4])+(35468*me[fe+12]>>16))),os(H,re,1,0,xe+Ae),os(H,re,2,0,xe-Ae),os(H,re,3,0,ve-Be),fe++,re+=32}function Bm(N,F,H,re){var se=N[F+0]+4,fe=35468*N[F+4]>>16,me=ss(N[F+4]),ve=35468*N[F+1]>>16;Lh(H,re,0,se+me,N=ss(N[F+1]),ve),Lh(H,re,1,se+fe,N,ve),Lh(H,re,2,se-fe,N,ve),Lh(H,re,3,se-me,N,ve)}function Um(N,F,H,re,se){bf(N,F,H,re),se&&bf(N,F+16,H,re+4)}function fd(N,F,H,re){du(N,F+0,H,re,1),du(N,F+32,H,re+128,1)}function ky(N,F,H,re){var se;for(N=N[F+0]+4,se=0;4>se;++se)for(F=0;4>F;++F)os(H,re,F,se,N)}function jh(N,F,H,re){N[F+0]&&ko(N,F+0,H,re),N[F+16]&&ko(N,F+16,H,re+4),N[F+32]&&ko(N,F+32,H,re+128),N[F+48]&&ko(N,F+48,H,re+128+4)}function Bn(N,F,H,re){var se,fe=i(16);for(se=0;4>se;++se){var me=N[F+0+se]+N[F+12+se],ve=N[F+4+se]+N[F+8+se],xe=N[F+4+se]-N[F+8+se],Ae=N[F+0+se]-N[F+12+se];fe[0+se]=me+ve,fe[8+se]=me-ve,fe[4+se]=Ae+xe,fe[12+se]=Ae-xe}for(se=0;4>se;++se)me=(N=fe[0+4*se]+3)+fe[3+4*se],ve=fe[1+4*se]+fe[2+4*se],xe=fe[1+4*se]-fe[2+4*se],Ae=N-fe[3+4*se],H[re+0]=me+ve>>3,H[re+16]=Ae+xe>>3,H[re+32]=me-ve>>3,H[re+48]=Ae-xe>>3,re+=64}function $h(N,F,H){var re,se=F-32,fe=Ho,me=255-N[se-1];for(re=0;re<H;++re){var ve,xe=fe,Ae=me+N[F-1];for(ve=0;ve<H;++ve)N[F+ve]=xe[Ae+N[se+ve]];F+=32}}function $g(N,F){$h(N,F,4)}function qm(N,F){$h(N,F,8)}function Bg(N,F){$h(N,F,16)}function _c(N,F){var H;for(H=0;16>H;++H)n(N,F+32*H,N,F-32,16)}function Sf(N,F){var H;for(H=16;0<H;--H)a(N,F,N[F-1],16),F+=32}function hd(N,F,H){var re;for(re=0;16>re;++re)a(F,H+32*re,N,16)}function Af(N,F){var H,re=16;for(H=0;16>H;++H)re+=N[F-1+32*H]+N[F+H-32];hd(re>>5,N,F)}function ja(N,F){var H,re=8;for(H=0;16>H;++H)re+=N[F-1+32*H];hd(re>>4,N,F)}function bc(N,F){var H,re=8;for(H=0;16>H;++H)re+=N[F+H-32];hd(re>>4,N,F)}function Ul(N,F){hd(128,N,F)}function Br(N,F,H){return N+2*F+H+2>>2}function kf(N,F){var H,re=F-32;for(re=new Uint8Array([Br(N[re-1],N[re+0],N[re+1]),Br(N[re+0],N[re+1],N[re+2]),Br(N[re+1],N[re+2],N[re+3]),Br(N[re+2],N[re+3],N[re+4])]),H=0;4>H;++H)n(N,F+32*H,re,0,re.length)}function Sc(N,F){var H=N[F-1],re=N[F-1+32],se=N[F-1+64],fe=N[F-1+96];ue(N,F+0,16843009*Br(N[F-1-32],H,re)),ue(N,F+32,16843009*Br(H,re,se)),ue(N,F+64,16843009*Br(re,se,fe)),ue(N,F+96,16843009*Br(se,fe,fe))}function Ac(N,F){var H,re=4;for(H=0;4>H;++H)re+=N[F+H-32]+N[F-1+32*H];for(re>>=3,H=0;4>H;++H)a(N,F+32*H,re,4)}function zm(N,F){var H=N[F-1+0],re=N[F-1+32],se=N[F-1+64],fe=N[F-1-32],me=N[F+0-32],ve=N[F+1-32],xe=N[F+2-32],Ae=N[F+3-32];N[F+0+96]=Br(re,se,N[F-1+96]),N[F+1+96]=N[F+0+64]=Br(H,re,se),N[F+2+96]=N[F+1+64]=N[F+0+32]=Br(fe,H,re),N[F+3+96]=N[F+2+64]=N[F+1+32]=N[F+0+0]=Br(me,fe,H),N[F+3+64]=N[F+2+32]=N[F+1+0]=Br(ve,me,fe),N[F+3+32]=N[F+2+0]=Br(xe,ve,me),N[F+3+0]=Br(Ae,xe,ve)}function pd(N,F){var H=N[F+1-32],re=N[F+2-32],se=N[F+3-32],fe=N[F+4-32],me=N[F+5-32],ve=N[F+6-32],xe=N[F+7-32];N[F+0+0]=Br(N[F+0-32],H,re),N[F+1+0]=N[F+0+32]=Br(H,re,se),N[F+2+0]=N[F+1+32]=N[F+0+64]=Br(re,se,fe),N[F+3+0]=N[F+2+32]=N[F+1+64]=N[F+0+96]=Br(se,fe,me),N[F+3+32]=N[F+2+64]=N[F+1+96]=Br(fe,me,ve),N[F+3+64]=N[F+2+96]=Br(me,ve,xe),N[F+3+96]=Br(ve,xe,xe)}function Bh(N,F){var H=N[F-1+0],re=N[F-1+32],se=N[F-1+64],fe=N[F-1-32],me=N[F+0-32],ve=N[F+1-32],xe=N[F+2-32],Ae=N[F+3-32];N[F+0+0]=N[F+1+64]=fe+me+1>>1,N[F+1+0]=N[F+2+64]=me+ve+1>>1,N[F+2+0]=N[F+3+64]=ve+xe+1>>1,N[F+3+0]=xe+Ae+1>>1,N[F+0+96]=Br(se,re,H),N[F+0+64]=Br(re,H,fe),N[F+0+32]=N[F+1+96]=Br(H,fe,me),N[F+1+32]=N[F+2+96]=Br(fe,me,ve),N[F+2+32]=N[F+3+96]=Br(me,ve,xe),N[F+3+32]=Br(ve,xe,Ae)}function Uh(N,F){var H=N[F+0-32],re=N[F+1-32],se=N[F+2-32],fe=N[F+3-32],me=N[F+4-32],ve=N[F+5-32],xe=N[F+6-32],Ae=N[F+7-32];N[F+0+0]=H+re+1>>1,N[F+1+0]=N[F+0+64]=re+se+1>>1,N[F+2+0]=N[F+1+64]=se+fe+1>>1,N[F+3+0]=N[F+2+64]=fe+me+1>>1,N[F+0+32]=Br(H,re,se),N[F+1+32]=N[F+0+96]=Br(re,se,fe),N[F+2+32]=N[F+1+96]=Br(se,fe,me),N[F+3+32]=N[F+2+96]=Br(fe,me,ve),N[F+3+64]=Br(me,ve,xe),N[F+3+96]=Br(ve,xe,Ae)}function qh(N,F){var H=N[F-1+0],re=N[F-1+32],se=N[F-1+64],fe=N[F-1+96];N[F+0+0]=H+re+1>>1,N[F+2+0]=N[F+0+32]=re+se+1>>1,N[F+2+32]=N[F+0+64]=se+fe+1>>1,N[F+1+0]=Br(H,re,se),N[F+3+0]=N[F+1+32]=Br(re,se,fe),N[F+3+32]=N[F+1+64]=Br(se,fe,fe),N[F+3+64]=N[F+2+64]=N[F+0+96]=N[F+1+96]=N[F+2+96]=N[F+3+96]=fe}function Ug(N,F){var H=N[F-1+0],re=N[F-1+32],se=N[F-1+64],fe=N[F-1+96],me=N[F-1-32],ve=N[F+0-32],xe=N[F+1-32],Ae=N[F+2-32];N[F+0+0]=N[F+2+32]=H+me+1>>1,N[F+0+32]=N[F+2+64]=re+H+1>>1,N[F+0+64]=N[F+2+96]=se+re+1>>1,N[F+0+96]=fe+se+1>>1,N[F+3+0]=Br(ve,xe,Ae),N[F+2+0]=Br(me,ve,xe),N[F+1+0]=N[F+3+32]=Br(H,me,ve),N[F+1+32]=N[F+3+64]=Br(re,H,me),N[F+1+64]=N[F+3+96]=Br(se,re,H),N[F+1+96]=Br(fe,se,re)}function Ny(N,F){var H;for(H=0;8>H;++H)n(N,F+32*H,N,F-32,8)}function ou(N,F){var H;for(H=0;8>H;++H)a(N,F,N[F-1],8),F+=32}function ql(N,F,H){var re;for(re=0;8>re;++re)a(F,H+32*re,N,8)}function qs(N,F){var H,re=8;for(H=0;8>H;++H)re+=N[F+H-32]+N[F-1+32*H];ql(re>>4,N,F)}function zh(N,F){var H,re=4;for(H=0;8>H;++H)re+=N[F+H-32];ql(re>>3,N,F)}function Nf(N,F){var H,re=4;for(H=0;8>H;++H)re+=N[F-1+32*H];ql(re>>3,N,F)}function Wm(N,F){ql(128,N,F)}function md(N,F,H){var re=N[F-H],se=N[F+0],fe=3*(se-re)+Tc[1020+N[F-2*H]-N[F+H]],me=op[112+(fe+4>>3)];N[F-H]=Ho[255+re+op[112+(fe+3>>3)]],N[F+0]=Ho[255+se-me]}function Ef(N,F,H,re){var se=N[F+0],fe=N[F+H];return gl[255+N[F-2*H]-N[F-H]]>re||gl[255+fe-se]>re}function Wh(N,F,H,re){return 4*gl[255+N[F-H]-N[F+0]]+gl[255+N[F-2*H]-N[F+H]]<=re}function Vm(N,F,H,re,se){var fe=N[F-3*H],me=N[F-2*H],ve=N[F-H],xe=N[F+0],Ae=N[F+H],Be=N[F+2*H],rt=N[F+3*H];return 4*gl[255+ve-xe]+gl[255+me-Ae]>re?0:gl[255+N[F-4*H]-fe]<=se&&gl[255+fe-me]<=se&&gl[255+me-ve]<=se&&gl[255+rt-Be]<=se&&gl[255+Be-Ae]<=se&&gl[255+Ae-xe]<=se}function zl(N,F,H,re){var se=2*re+1;for(re=0;16>re;++re)Wh(N,F+re,H,se)&&md(N,F+re,H)}function hl(N,F,H,re){var se=2*re+1;for(re=0;16>re;++re)Wh(N,F+re*H,1,se)&&md(N,F+re*H,1)}function pl(N,F,H,re){var se;for(se=3;0<se;--se)zl(N,F+=4*H,H,re)}function qg(N,F,H,re){var se;for(se=3;0<se;--se)hl(N,F+=4,H,re)}function Wl(N,F,H,re,se,fe,me,ve){for(fe=2*fe+1;0<se--;){if(Vm(N,F,H,fe,me))if(Ef(N,F,H,ve))md(N,F,H);else{var xe=N,Ae=F,Be=H,rt=xe[Ae-2*Be],nt=xe[Ae-Be],Xe=xe[Ae+0],Ot=xe[Ae+Be],yt=xe[Ae+2*Be],qe=27*(kt=Tc[1020+3*(Xe-nt)+Tc[1020+rt-Ot]])+63>>7,ze=18*kt+63>>7,kt=9*kt+63>>7;xe[Ae-3*Be]=Ho[255+xe[Ae-3*Be]+kt],xe[Ae-2*Be]=Ho[255+rt+ze],xe[Ae-Be]=Ho[255+nt+qe],xe[Ae+0]=Ho[255+Xe-qe],xe[Ae+Be]=Ho[255+Ot-ze],xe[Ae+2*Be]=Ho[255+yt-kt]}F+=re}}function ls(N,F,H,re,se,fe,me,ve){for(fe=2*fe+1;0<se--;){if(Vm(N,F,H,fe,me))if(Ef(N,F,H,ve))md(N,F,H);else{var xe=N,Ae=F,Be=H,rt=xe[Ae-Be],nt=xe[Ae+0],Xe=xe[Ae+Be],Ot=op[112+((yt=3*(nt-rt))+4>>3)],yt=op[112+(yt+3>>3)],qe=Ot+1>>1;xe[Ae-2*Be]=Ho[255+xe[Ae-2*Be]+qe],xe[Ae-Be]=Ho[255+rt+yt],xe[Ae+0]=Ho[255+nt-Ot],xe[Ae+Be]=Ho[255+Xe-qe]}F+=re}}function Vh(N,F,H,re,se,fe){Wl(N,F,H,1,16,re,se,fe)}function Oi(N,F,H,re,se,fe){Wl(N,F,1,H,16,re,se,fe)}function gd(N,F,H,re,se,fe){var me;for(me=3;0<me;--me)ls(N,F+=4*H,H,1,16,re,se,fe)}function vd(N,F,H,re,se,fe){var me;for(me=3;0<me;--me)ls(N,F+=4,1,H,16,re,se,fe)}function Cf(N,F,H,re,se,fe,me,ve){Wl(N,F,se,1,8,fe,me,ve),Wl(H,re,se,1,8,fe,me,ve)}function Hm(N,F,H,re,se,fe,me,ve){Wl(N,F,1,se,8,fe,me,ve),Wl(H,re,1,se,8,fe,me,ve)}function Tf(N,F,H,re,se,fe,me,ve){ls(N,F+4*se,se,1,8,fe,me,ve),ls(H,re+4*se,se,1,8,fe,me,ve)}function Hh(N,F,H,re,se,fe,me,ve){ls(N,F+4,1,se,8,fe,me,ve),ls(H,re+4,1,se,8,fe,me,ve)}function kc(){this.ba=new Ja,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Gh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zg(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new M}function Ey(){this.xb=this.a=0,this.l=new wc,this.ca=new Ja,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zg,this.ab=0,this.gc=o(4,Gh),this.Oc=0}function Kh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function su(N,F,H,re,se,fe,me){for(N=N==null?0:N[F+0],F=0;F<me;++F)se[fe+F]=N+H[re+F]&255,N=se[fe+F]}function Gm(N,F,H,re,se,fe,me){var ve;if(N==null)su(null,null,H,re,se,fe,me);else for(ve=0;ve<me;++ve)se[fe+ve]=N[F+ve]+H[re+ve]&255}function xd(N,F,H,re,se,fe,me){if(N==null)su(null,null,H,re,se,fe,me);else{var ve,xe=N[F+0],Ae=xe,Be=xe;for(ve=0;ve<me;++ve)Ae=Be+(xe=N[F+ve])-Ae,Be=H[re+ve]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=xe,se[fe+ve]=Be}}function Km(N,F,H,re){var se=F.width,fe=F.o;if(t(N!=null&&F!=null),0>H||0>=re||H+re>fe)return null;if(!N.Cc){if(N.ga==null){var me;if(N.ga=new Kh,(me=N.ga==null)||(me=F.width*F.o,t(N.Gb.length==0),N.Gb=i(me),N.Uc=0,N.Gb==null?me=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,me=1),me=!me),!me){me=N.ga;var ve=N.Fa,xe=N.P,Ae=N.qc,Be=N.mb,rt=N.nb,nt=xe+1,Xe=Ae-1,Ot=me.l;if(t(ve!=null&&Be!=null&&F!=null),No[0]=null,No[1]=su,No[2]=Gm,No[3]=xd,me.ca=Be,me.tb=rt,me.c=F.width,me.i=F.height,t(0<me.c&&0<me.i),1>=Ae)F=0;else if(me.$a=ve[xe+0]>>0&3,me.Z=ve[xe+0]>>2&3,me.Lc=ve[xe+0]>>4&3,xe=ve[xe+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||xe)F=0;else if(Ot.put=co,Ot.ac=ha,Ot.bc=bo,Ot.ma=me,Ot.width=F.width,Ot.height=F.height,Ot.Da=F.Da,Ot.v=F.v,Ot.va=F.va,Ot.j=F.j,Ot.o=F.o,me.$a)e:{t(me.$a==1),F=pt();t:for(;;){if(F==null){F=0;break e}if(t(me!=null),me.mc=F,F.c=me.c,F.i=me.i,F.l=me.l,F.l.ma=me,F.l.width=me.c,F.l.height=me.i,F.a=0,G(F.m,ve,nt,Xe),!Ye(me.c,me.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&ye(F.s)?(me.ic=1,ve=F.c*F.i,F.Ta=null,F.Ua=0,F.V=i(ve),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(me.ic=0,F=at(F,me.c)),!F))break t;F=1;break e}me.mc=null,F=0}else F=Xe>=me.c*me.i;me=!F}if(me)return null;N.ga.Lc!=1?N.Ga=0:re=fe-H}t(N.ga!=null),t(H+re<=fe);e:{if(F=(ve=N.ga).c,fe=ve.l.o,ve.$a==0){if(nt=N.rc,Xe=N.Vc,Ot=N.Fa,xe=N.P+1+H*F,Ae=N.mb,Be=N.nb+H*F,t(xe<=N.P+N.qc),ve.Z!=0)for(t(No[ve.Z]!=null),me=0;me<re;++me)No[ve.Z](nt,Xe,Ot,xe,Ae,Be,F),nt=Ae,Xe=Be,Be+=F,xe+=F;else for(me=0;me<re;++me)n(Ae,Be,Ot,xe,F),nt=Ae,Xe=Be,Be+=F,xe+=F;N.rc=nt,N.Vc=Xe}else{if(t(ve.mc!=null),F=H+re,t((me=ve.mc)!=null),t(F<=me.i),me.C>=F)F=1;else if(ve.ic||tt(),ve.ic){ve=me.V,nt=me.Ba,Xe=me.c;var yt=me.i,qe=(Ot=1,xe=me.$/Xe,Ae=me.$%Xe,Be=me.m,rt=me.s,me.$),ze=Xe*yt,kt=Xe*F,St=rt.wc,Et=qe<kt?Zt(rt,Ae,xe):null;t(qe<=ze),t(F<=yt),t(ye(rt));t:for(;;){for(;!Be.h&&qe<kt;){if(Ae&St||(Et=Zt(rt,Ae,xe)),t(Et!=null),ae(Be),256>(yt=mr(Et.G[0],Et.H[0],Be)))ve[nt+qe]=yt,++qe,++Ae>=Xe&&(Ae=0,++xe<=F&&!(xe%16)&&be(me,xe));else{if(!(280>yt)){Ot=0;break t}yt=xt(yt-256,Be);var dr,ar=mr(Et.G[4],Et.H[4],Be);if(ae(Be),!(qe>=(ar=wt(Xe,ar=xt(ar,Be)))&&ze-qe>=yt)){Ot=0;break t}for(dr=0;dr<yt;++dr)ve[nt+qe+dr]=ve[nt+qe+dr-ar];for(qe+=yt,Ae+=yt;Ae>=Xe;)Ae-=Xe,++xe<=F&&!(xe%16)&&be(me,xe);qe<kt&&Ae&St&&(Et=Zt(rt,Ae,xe))}t(Be.h==Q(Be))}be(me,xe>F?F:xe);break t}!Ot||Be.h&&qe<ze?(Ot=0,me.a=Be.h?5:3):me.$=qe,F=Ot}else F=ke(me,me.V,me.Ba,me.c,me.i,F,st);if(!F){re=0;break e}}H+re>=fe&&(N.Cc=1),re=1}if(!re)return null;if(N.Cc&&((re=N.ga)!=null&&(re.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+H*se}function B(N,F,H,re,se,fe){for(;0<se--;){var me,ve=N,xe=F+(H?1:0),Ae=N,Be=F+(H?0:3);for(me=0;me<re;++me){var rt=Ae[Be+4*me];rt!=255&&(rt*=32897,ve[xe+4*me+0]=ve[xe+4*me+0]*rt>>23,ve[xe+4*me+1]=ve[xe+4*me+1]*rt>>23,ve[xe+4*me+2]=ve[xe+4*me+2]*rt>>23)}F+=fe}}function le(N,F,H,re,se){for(;0<re--;){var fe;for(fe=0;fe<H;++fe){var me=N[F+2*fe+0],ve=15&(Ae=N[F+2*fe+1]),xe=4369*ve,Ae=(240&Ae|Ae>>4)*xe>>16;N[F+2*fe+0]=(240&me|me>>4)*xe>>16&240|(15&me|me<<4)*xe>>16>>4&15,N[F+2*fe+1]=240&Ae|ve}F+=se}}function Ee(N,F,H,re,se,fe,me,ve){var xe,Ae,Be=255;for(Ae=0;Ae<se;++Ae){for(xe=0;xe<re;++xe){var rt=N[F+xe];fe[me+4*xe]=rt,Be&=rt}F+=H,me+=ve}return Be!=255}function $e(N,F,H,re,se){var fe;for(fe=0;fe<se;++fe)H[re+fe]=N[F+fe]>>8}function tt(){cs=B,pa=le,ea=Ee,ri=$e}function bt(N,F,H){I[N]=function(re,se,fe,me,ve,xe,Ae,Be,rt,nt,Xe,Ot,yt,qe,ze,kt,St){var Et,dr=St-1>>1,ar=ve[xe+0]|Ae[Be+0]<<16,Ir=rt[nt+0]|Xe[Ot+0]<<16;t(re!=null);var ir=3*ar+Ir+131074>>2;for(F(re[se+0],255&ir,ir>>16,yt,qe),fe!=null&&(ir=3*Ir+ar+131074>>2,F(fe[me+0],255&ir,ir>>16,ze,kt)),Et=1;Et<=dr;++Et){var Fn=ve[xe+Et]|Ae[Be+Et]<<16,Ln=rt[nt+Et]|Xe[Ot+Et]<<16,In=ar+Fn+Ir+Ln+524296,pn=In+2*(Fn+Ir)>>3;ir=pn+ar>>1,ar=(In=In+2*(ar+Ln)>>3)+Fn>>1,F(re[se+2*Et-1],255&ir,ir>>16,yt,qe+(2*Et-1)*H),F(re[se+2*Et-0],255&ar,ar>>16,yt,qe+(2*Et-0)*H),fe!=null&&(ir=In+Ir>>1,ar=pn+Ln>>1,F(fe[me+2*Et-1],255&ir,ir>>16,ze,kt+(2*Et-1)*H),F(fe[me+2*Et+0],255&ar,ar>>16,ze,kt+(2*Et+0)*H)),ar=Fn,Ir=Ln}1&St||(ir=3*ar+Ir+131074>>2,F(re[se+St-1],255&ir,ir>>16,yt,qe+(St-1)*H),fe!=null&&(ir=3*Ir+ar+131074>>2,F(fe[me+St-1],255&ir,ir>>16,ze,kt+(St-1)*H)))}}function Mt(){ds[Vg]=nA,ds[Ad]=kd,ds[u_]=aA,ds[Qm]=up,ds[e0]=Uf,ds[ma]=i0,ds[Hg]=Oy,ds[sp]=kd,ds[jf]=up,ds[t0]=Uf,ds[r0]=i0}function sr(N){return N&-16384?0>N?0:255:N>>Nd}function Dr(N,F){return sr((19077*N>>8)+(26149*F>>8)-14234)}function ln(N,F,H){return sr((19077*N>>8)-(6419*F>>8)-(13320*H>>8)+8708)}function sn(N,F){return sr((19077*N>>8)+(33050*F>>8)-17685)}function Cn(N,F,H,re,se){re[se+0]=Dr(N,H),re[se+1]=ln(N,F,H),re[se+2]=sn(N,F)}function $a(N,F,H,re,se){re[se+0]=sn(N,F),re[se+1]=ln(N,F,H),re[se+2]=Dr(N,H)}function ei(N,F,H,re,se){var fe=ln(N,F,H);F=fe<<3&224|sn(N,F)>>3,re[se+0]=248&Dr(N,H)|fe>>5,re[se+1]=F}function gi(N,F,H,re,se){var fe=240&sn(N,F)|15;re[se+0]=240&Dr(N,H)|ln(N,F,H)>>4,re[se+1]=fe}function So(N,F,H,re,se){re[se+0]=255,Cn(N,F,H,re,se+1)}function Zi(N,F,H,re,se){$a(N,F,H,re,se),re[se+3]=255}function Vl(N,F,H,re,se){Cn(N,F,H,re,se),re[se+3]=255}function zs(N,F){return 0>N?0:N>F?F:N}function ml(N,F,H){I[N]=function(re,se,fe,me,ve,xe,Ae,Be,rt){for(var nt=Be+(-2&rt)*H;Be!=nt;)F(re[se+0],fe[me+0],ve[xe+0],Ae,Be),F(re[se+1],fe[me+0],ve[xe+0],Ae,Be+H),se+=2,++me,++xe,Be+=2*H;1&rt&&F(re[se+0],fe[me+0],ve[xe+0],Ae,Be)}}function wd(N,F,H){return H==0?N==0?F==0?6:5:F==0?4:0:H}function Ym(N,F,H,re,se){switch(N>>>30){case 3:du(F,H,re,se,0);break;case 2:Un(F,H,re,se);break;case 1:ko(F,H,re,se)}}function Yh(N,F){var H,re,se=F.M,fe=F.Nb,me=N.oc,ve=N.pc+40,xe=N.oc,Ae=N.pc+584,Be=N.oc,rt=N.pc+600;for(H=0;16>H;++H)me[ve+32*H-1]=129;for(H=0;8>H;++H)xe[Ae+32*H-1]=129,Be[rt+32*H-1]=129;for(0<se?me[ve-1-32]=xe[Ae-1-32]=Be[rt-1-32]=129:(a(me,ve-32-1,127,21),a(xe,Ae-32-1,127,9),a(Be,rt-32-1,127,9)),re=0;re<N.za;++re){var nt=F.ya[F.aa+re];if(0<re){for(H=-1;16>H;++H)n(me,ve+32*H-4,me,ve+32*H+12,4);for(H=-1;8>H;++H)n(xe,Ae+32*H-4,xe,Ae+32*H+4,4),n(Be,rt+32*H-4,Be,rt+32*H+4,4)}var Xe=N.Gd,Ot=N.Hd+re,yt=nt.ad,qe=nt.Hc;if(0<se&&(n(me,ve-32,Xe[Ot].y,0,16),n(xe,Ae-32,Xe[Ot].f,0,8),n(Be,rt-32,Xe[Ot].ea,0,8)),nt.Za){var ze=me,kt=ve-32+16;for(0<se&&(re>=N.za-1?a(ze,kt,Xe[Ot].y[15],4):n(ze,kt,Xe[Ot+1].y,0,4)),H=0;4>H;H++)ze[kt+128+H]=ze[kt+256+H]=ze[kt+384+H]=ze[kt+0+H];for(H=0;16>H;++H,qe<<=2)ze=me,kt=ve+Dy[H],vl[nt.Ob[H]](ze,kt),Ym(qe,yt,16*+H,ze,kt)}else if(ze=wd(re,se,nt.Ob[0]),Go[ze](me,ve),qe!=0)for(H=0;16>H;++H,qe<<=2)Ym(qe,yt,16*+H,me,ve+Dy[H]);for(H=nt.Gc,ze=wd(re,se,nt.Dd),us[ze](xe,Ae),us[ze](Be,rt),qe=yt,ze=xe,kt=Ae,255&(nt=H>>0)&&(170&nt?fu(qe,256,ze,kt):Ws(qe,256,ze,kt)),nt=Be,qe=rt,255&(H>>=8)&&(170&H?fu(yt,320,nt,qe):Ws(yt,320,nt,qe)),se<N.Ub-1&&(n(Xe[Ot].y,0,me,ve+480,16),n(Xe[Ot].f,0,xe,Ae+224,8),n(Xe[Ot].ea,0,Be,rt+224,8)),H=8*fe*N.B,Xe=N.sa,Ot=N.ta+16*re+16*fe*N.R,yt=N.qa,nt=N.ra+8*re+H,qe=N.Ha,ze=N.Ia+8*re+H,H=0;16>H;++H)n(Xe,Ot+H*N.R,me,ve+32*H,16);for(H=0;8>H;++H)n(yt,nt+H*N.B,xe,Ae+32*H,8),n(qe,ze+H*N.B,Be,rt+32*H,8)}}function Pf(N,F,H,re,se,fe,me,ve,xe){var Ae=[0],Be=[0],rt=0,nt=xe!=null?xe.kd:0,Xe=xe??new yd;if(N==null||12>H)return 7;Xe.data=N,Xe.w=F,Xe.ha=H,F=[F],H=[H],Xe.gb=[Xe.gb];e:{var Ot=F,yt=H,qe=Xe.gb;if(t(N!=null),t(yt!=null),t(qe!=null),qe[0]=0,12<=yt[0]&&!r(N,Ot[0],"RIFF")){if(r(N,Ot[0]+8,"WEBP")){qe=3;break e}var ze=Ne(N,Ot[0]+4);if(12>ze||4294967286<ze){qe=3;break e}if(nt&&ze>yt[0]-8){qe=7;break e}qe[0]=ze,Ot[0]+=12,yt[0]-=12}qe=0}if(qe!=0)return qe;for(ze=0<Xe.gb[0],H=H[0];;){e:{var kt=N;yt=F,qe=H;var St=Ae,Et=Be,dr=Ot=[0];if((ir=rt=[rt])[0]=0,8>qe[0])qe=7;else{if(!r(kt,yt[0],"VP8X")){if(Ne(kt,yt[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var ar=Ne(kt,yt[0]+8),Ir=1+ne(kt,yt[0]+12);if(2147483648<=Ir*(kt=1+ne(kt,yt[0]+15))){qe=3;break e}dr!=null&&(dr[0]=ar),St!=null&&(St[0]=Ir),Et!=null&&(Et[0]=kt),yt[0]+=18,qe[0]-=18,ir[0]=1}qe=0}}if(rt=rt[0],Ot=Ot[0],qe!=0)return qe;if(yt=!!(2&Ot),!ze&&rt)return 3;if(fe!=null&&(fe[0]=!!(16&Ot)),me!=null&&(me[0]=yt),ve!=null&&(ve[0]=0),me=Ae[0],Ot=Be[0],rt&&yt&&xe==null){qe=0;break}if(4>H){qe=7;break}if(ze&&rt||!ze&&!rt&&!r(N,F[0],"ALPH")){H=[H],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{ar=N,qe=F,ze=H;var ir=Xe.gb;St=Xe.na,Et=Xe.P,dr=Xe.Sa,Ir=22,t(ar!=null),t(ze!=null),kt=qe[0];var Fn=ze[0];for(t(St!=null),t(dr!=null),St[0]=null,Et[0]=null,dr[0]=0;;){if(qe[0]=kt,ze[0]=Fn,8>Fn){qe=7;break e}var Ln=Ne(ar,kt+4);if(4294967286<Ln){qe=3;break e}var In=8+Ln+1&-2;if(Ir+=In,0<ir&&Ir>ir){qe=3;break e}if(!r(ar,kt,"VP8 ")||!r(ar,kt,"VP8L")){qe=0;break e}if(Fn[0]<In){qe=7;break e}r(ar,kt,"ALPH")||(St[0]=ar,Et[0]=kt+8,dr[0]=Ln),kt+=In,Fn-=In}}if(H=H[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],qe!=0)break}H=[H],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(ir=N,qe=F,ze=H,St=Xe.gb[0],Et=Xe.Ja,dr=Xe.xa,ar=qe[0],kt=!r(ir,ar,"VP8 "),Ir=!r(ir,ar,"VP8L"),t(ir!=null),t(ze!=null),t(Et!=null),t(dr!=null),8>ze[0])qe=7;else{if(kt||Ir){if(ir=Ne(ir,ar+4),12<=St&&ir>St-12){qe=3;break e}if(nt&&ir>ze[0]-8){qe=7;break e}Et[0]=ir,qe[0]+=8,ze[0]-=8,dr[0]=Ir}else dr[0]=5<=ze[0]&&ir[ar+0]==47&&!(ir[ar+4]>>5),Et[0]=ze[0];qe=0}if(H=H[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],F=F[0],qe!=0)break;if(4294967286<Xe.Ja)return 3;if(ve==null||yt||(ve[0]=Xe.xa?2:1),me=[me],Ot=[Ot],Xe.xa){if(5>H){qe=7;break}ve=me,nt=Ot,yt=fe,N==null||5>H?N=0:5<=H&&N[F+0]==47&&!(N[F+4]>>5)?(ze=[0],ir=[0],St=[0],G(Et=new D,N,F,H),Cr(Et,ze,ir,St)?(ve!=null&&(ve[0]=ze[0]),nt!=null&&(nt[0]=ir[0]),yt!=null&&(yt[0]=St[0]),N=1):N=0):N=0}else{if(10>H){qe=7;break}ve=Ot,N==null||10>H||!Lg(N,F+3,H-3)?N=0:(nt=N[F+0]|N[F+1]<<8|N[F+2]<<16,yt=16383&(N[F+7]<<8|N[F+6]),N=16383&(N[F+9]<<8|N[F+8]),1&nt||3<(nt>>1&7)||!(nt>>4&1)||nt>>5>=Xe.Ja||!yt||!N?N=0:(me&&(me[0]=yt),ve&&(ve[0]=N),N=1))}if(!N||(me=me[0],Ot=Ot[0],rt&&(Ae[0]!=me||Be[0]!=Ot)))return 3;xe!=null&&(xe[0]=Xe,xe.offset=F-xe.w,t(4294967286>F-xe.w),t(xe.offset==xe.ha-H));break}return qe==0||qe==7&&rt&&xe==null?(fe!=null&&(fe[0]|=Xe.na!=null&&0<Xe.na.length),re!=null&&(re[0]=me),se!=null&&(se[0]=Ot),0):qe}function Xh(N,F,H){var re=F.width,se=F.height,fe=0,me=0,ve=re,xe=se;if(F.Da=N!=null&&0<N.Da,F.Da&&(ve=N.cd,xe=N.bd,fe=N.v,me=N.j,11>H||(fe&=-2,me&=-2),0>fe||0>me||0>=ve||0>=xe||fe+ve>re||me+xe>se))return 0;if(F.v=fe,F.j=me,F.va=fe+ve,F.o=me+xe,F.U=ve,F.T=xe,F.da=N!=null&&0<N.da,F.da){if(!Je(ve,xe,H=[N.ib],fe=[N.hb]))return 0;F.ib=H[0],F.hb=fe[0]}return F.ob=N!=null&&N.ob,F.Kb=N==null||!N.Sd,F.da&&(F.ob=F.ib<3*re/4&&F.hb<3*se/4,F.Kb=0),1}function Zh(N){if(N==null)return 2;if(11>N.S){var F=N.f.RGBA;F.fb+=(N.height-1)*F.A,F.A=-F.A}else F=N.f.kb,N=N.height,F.O+=(N-1)*F.fa,F.fa=-F.fa,F.N+=(N-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(N-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(N-1)*F.lb,F.lb=-F.lb);return 0}function Of(N,F,H,re){if(re==null||0>=N||0>=F)return 2;if(H!=null){if(H.Da){var se=H.cd,fe=H.bd,me=-2&H.v,ve=-2&H.j;if(0>me||0>ve||0>=se||0>=fe||me+se>N||ve+fe>F)return 2;N=se,F=fe}if(H.da){if(!Je(N,F,se=[H.ib],fe=[H.hb]))return 2;N=se[0],F=fe[0]}}re.width=N,re.height=F;e:{var xe=re.width,Ae=re.height;if(N=re.S,0>=xe||0>=Ae||!(N>=Vg&&13>N))N=2;else{if(0>=re.Rd&&re.sd==null){me=fe=se=F=0;var Be=(ve=xe*o0[N])*Ae;if(11>N||(fe=(Ae+1)/2*(F=(xe+1)/2),N==12&&(me=(se=xe)*Ae)),(Ae=i(Be+2*fe+me))==null){N=1;break e}re.sd=Ae,11>N?((xe=re.f.RGBA).eb=Ae,xe.fb=0,xe.A=ve,xe.size=Be):((xe=re.f.kb).y=Ae,xe.O=0,xe.fa=ve,xe.Fd=Be,xe.f=Ae,xe.N=0+Be,xe.Ab=F,xe.Cd=fe,xe.ea=Ae,xe.W=0+Be+fe,xe.Db=F,xe.Ed=fe,N==12&&(xe.F=Ae,xe.J=0+Be+2*fe),xe.Tc=me,xe.lb=se)}if(F=1,se=re.S,fe=re.width,me=re.height,se>=Vg&&13>se)if(11>se)N=re.f.RGBA,F&=(ve=Math.abs(N.A))*(me-1)+fe<=N.size,F&=ve>=fe*o0[se],F&=N.eb!=null;else{N=re.f.kb,ve=(fe+1)/2,Be=(me+1)/2,xe=Math.abs(N.fa),Ae=Math.abs(N.Ab);var rt=Math.abs(N.Db),nt=Math.abs(N.lb),Xe=nt*(me-1)+fe;F&=xe*(me-1)+fe<=N.Fd,F&=Ae*(Be-1)+ve<=N.Cd,F=(F&=rt*(Be-1)+ve<=N.Ed)&xe>=fe&Ae>=ve&rt>=ve,F&=N.y!=null,F&=N.f!=null,F&=N.ea!=null,se==12&&(F&=nt>=fe,F&=Xe<=N.Tc,F&=N.F!=null)}else F=0;N=F?0:2}}return N!=0||H!=null&&H.fd&&(N=Zh(re)),N}var ti=64,Jh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qh=24,ep=32,tp=8,zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Tt("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(N){return N},I.Predictor2=function(N,F,H){return F[H+0]},I.Predictor3=function(N,F,H){return F[H+1]},I.Predictor4=function(N,F,H){return F[H-1]},I.Predictor5=function(N,F,H){return _e(_e(N,F[H+1]),F[H+0])},I.Predictor6=function(N,F,H){return _e(N,F[H-1])},I.Predictor7=function(N,F,H){return _e(N,F[H+0])},I.Predictor8=function(N,F,H){return _e(F[H-1],F[H+0])},I.Predictor9=function(N,F,H){return _e(F[H+0],F[H+1])},I.Predictor10=function(N,F,H){return _e(_e(N,F[H-1]),_e(F[H+0],F[H+1]))},I.Predictor11=function(N,F,H){var re=F[H+0];return 0>=ft(re>>24&255,N>>24&255,(F=F[H-1])>>24&255)+ft(re>>16&255,N>>16&255,F>>16&255)+ft(re>>8&255,N>>8&255,F>>8&255)+ft(255&re,255&N,255&F)?re:N},I.Predictor12=function(N,F,H){var re=F[H+0];return(Ce((N>>24&255)+(re>>24&255)-((F=F[H-1])>>24&255))<<24|Ce((N>>16&255)+(re>>16&255)-(F>>16&255))<<16|Ce((N>>8&255)+(re>>8&255)-(F>>8&255))<<8|Ce((255&N)+(255&re)-(255&F)))>>>0},I.Predictor13=function(N,F,H){var re=F[H-1];return(We((N=_e(N,F[H+0]))>>24&255,re>>24&255)<<24|We(N>>16&255,re>>16&255)<<16|We(N>>8&255,re>>8&255)<<8|We(N>>0&255,re>>0&255))>>>0};var Df=I.PredictorAdd0;I.PredictorAdd1=vt,Tt("Predictor2","PredictorAdd2"),Tt("Predictor3","PredictorAdd3"),Tt("Predictor4","PredictorAdd4"),Tt("Predictor5","PredictorAdd5"),Tt("Predictor6","PredictorAdd6"),Tt("Predictor7","PredictorAdd7"),Tt("Predictor8","PredictorAdd8"),Tt("Predictor9","PredictorAdd9"),Tt("Predictor10","PredictorAdd10"),Tt("Predictor11","PredictorAdd11"),Tt("Predictor12","PredictorAdd12"),Tt("Predictor13","PredictorAdd13");var lu=I.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Wg,Wo=I.ColorIndexInverseTransform,rp=I.MapARGB,Xm=I.VP8LColorIndexInverseTransformAlpha,np=I.MapAlpha,Nc=I.VP8LPredictorsAdd=[];Nc.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var _d,Vo,Ao,bd,cu,uu,ap,du,Un,fu,ko,Ws,If,Zm,Rf,Mf,Ff,Vs,hu,Ec,pu,mu,Sd,uo,cs,pa,ea,ri,vi=i(511),Cc=i(2041),ip=i(225),Lf=i(767),Jm=0,Tc=Cc,op=ip,Ho=Lf,gl=vi,Vg=0,Ad=1,u_=2,Qm=3,e0=4,ma=5,Hg=6,sp=7,jf=8,t0=9,r0=10,n0=[2,3,7],Gg=[3,3,11],$f=[280,256,256,256,40],d_=[0,1,1,1,0],Q3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],f_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kg=8,lp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],a0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bf=null,Cy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ty=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],h_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],p_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Py=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Go=[],vl=[],us=[],Pc=1,cp=2,No=[],ds=[];bt("UpsampleRgbLinePair",Cn,3),bt("UpsampleBgrLinePair",$a,3),bt("UpsampleRgbaLinePair",Vl,4),bt("UpsampleBgraLinePair",Zi,4),bt("UpsampleArgbLinePair",So,4),bt("UpsampleRgba4444LinePair",gi,2),bt("UpsampleRgb565LinePair",ei,2);var nA=I.UpsampleRgbLinePair,aA=I.UpsampleBgrLinePair,kd=I.UpsampleRgbaLinePair,up=I.UpsampleBgraLinePair,Uf=I.UpsampleArgbLinePair,i0=I.UpsampleRgba4444LinePair,Oy=I.UpsampleRgb565LinePair,gu=16,Hl=1<<gu-1,ta=-227,sa=482,Nd=6,fo=0,fs=i(256),qf=i(256),dp=i(256),hs=i(256),Yg=i(sa-ta),m_=i(sa-ta);ml("YuvToRgbRow",Cn,3),ml("YuvToBgrRow",$a,3),ml("YuvToRgbaRow",Vl,4),ml("YuvToBgraRow",Zi,4),ml("YuvToArgbRow",So,4),ml("YuvToRgba4444Row",gi,2),ml("YuvToRgb565Row",ei,2);var Dy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zf=[0,2,8],g_=[8,7,6,4,4,2,2,2,1,1,1,1],vu=1;this.WebPDecodeRGBA=function(N,F,H,re,se){var fe=Ad,me=new kc,ve=new Ja;me.ba=ve,ve.S=fe,ve.width=[ve.width],ve.height=[ve.height];var xe=ve.width,Ae=ve.height,Be=new Qa;if(Be==null||N==null)var rt=2;else t(Be!=null),rt=Pf(N,F,H,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(rt!=0?xe=0:(xe!=null&&(xe[0]=Be.width[0]),Ae!=null&&(Ae[0]=Be.height[0]),xe=1),xe){ve.width=ve.width[0],ve.height=ve.height[0],re!=null&&(re[0]=ve.width),se!=null&&(se[0]=ve.height);e:{if(re=new wc,(se=new yd).data=N,se.w=F,se.ha=H,se.kd=1,F=[0],t(se!=null),((N=Pf(se.data,se.w,se.ha,null,null,null,F,null,se))==0||N==7)&&F[0]&&(N=4),(F=N)==0){if(t(me!=null),re.data=se.data,re.w=se.w+se.offset,re.ha=se.ha-se.offset,re.put=co,re.ac=ha,re.bc=bo,re.ma=me,se.xa){if((N=pt())==null){me=1;break e}if(function(nt,Xe){var Ot=[0],yt=[0],qe=[0];t:for(;;){if(nt==null)return 0;if(Xe==null)return nt.a=2,0;if(nt.l=Xe,nt.a=0,G(nt.m,Xe.data,Xe.w,Xe.ha),!Cr(nt.m,Ot,yt,qe)){nt.a=3;break t}if(nt.xb=cp,Xe.width=Ot[0],Xe.height=yt[0],!Ye(Ot[0],yt[0],1,nt,null))break t;return 1}return t(nt.a!=0),0}(N,re)){if(re=(F=Of(re.width,re.height,me.Oa,me.ba))==0){t:{re=N;r:for(;;){if(re==null){re=0;break t}if(t(re.s.yc!=null),t(re.s.Ya!=null),t(0<re.s.Wb),t((H=re.l)!=null),t((se=H.ma)!=null),re.xb!=0){if(re.ca=se.ba,re.tb=se.tb,t(re.ca!=null),!Xh(se.Oa,H,Qm)){re.a=2;break r}if(!at(re,H.width)||H.da)break r;if((H.da||fn(re.ca.S))&&tt(),11>re.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),re.ca.f.kb.F!=null&&tt()),re.Pb&&0<re.s.ua&&re.s.vb.X==null&&!Re(re.s.vb,re.s.Wa.Xa)){re.a=1;break r}re.xb=0}if(!ke(re,re.V,re.Ba,re.c,re.i,H.o,Se))break r;se.Dc=re.Ma,re=1;break t}t(re.a!=0),re=0}re=!re}re&&(F=N.a)}else F=N.a}else{if((N=new La)==null){me=1;break e}if(N.Fa=se.na,N.P=se.P,N.qc=se.Sa,jg(N,re)){if((F=Of(re.width,re.height,me.Oa,me.ba))==0){if(N.Aa=0,H=me.Oa,t((se=N)!=null),H!=null){if(0<(xe=0>(xe=H.Md)?0:100<xe?255:255*xe/100)){for(Ae=Be=0;4>Ae;++Ae)12>(rt=se.pb[Ae]).lc&&(rt.ia=xe*g_[0>rt.lc?0:rt.lc]>>3),Be|=rt.ia;Be&&(alert("todo:VP8InitRandom"),se.ia=1)}se.Ga=H.Id,100<se.Ga?se.Ga=100:0>se.Ga&&(se.Ga=0)}_f(N,re)||(F=N.a)}}else F=N.a}F==0&&me.Oa!=null&&me.Oa.fd&&(F=Zh(me.ba))}me=F}fe=me!=0?null:11>fe?ve.f.RGBA.eb:ve.f.kb.y}else fe=null;return fe};var o0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,L){for(var U="",P=0;P<4;P++)U+=String.fromCharCode(I[L++]);return U}function d(I,L){return(I[L+0]<<0|I[L+1]<<8|I[L+2]<<16)>>>0}function f(I,L){return(I[L+0]<<0|I[L+1]<<8|I[L+2]<<16|I[L+3]<<24)>>>0}new l;var h=[0],m=[0],x=[],g=new l,y=e,_=function(I,L){var U={},P=0,M=!1,j=0,V=0;if(U.frames=[],!function(K,Q,ie,ae){for(var oe=0;oe<ae;oe++)if(K[Q+oe]!=ie.charCodeAt(oe))return!0;return!1}(I,L,"RIFF",4)){for(f(I,L+=4),L+=8;L<I.length;){var X=u(I,L),te=f(I,L+=4);L+=4;var z=te+(1&te);switch(X){case"VP8 ":case"VP8L":U.frames[P]===void 0&&(U.frames[P]={}),(Y=U.frames[P]).src_off=M?V:L-8,Y.src_size=j+te+8,P++,M&&(M=!1,j=0,V=0);break;case"VP8X":(Y=U.header={}).feature_flags=I[L];var G=L+4;Y.canvas_width=1+d(I,G),G+=3,Y.canvas_height=1+d(I,G),G+=3;break;case"ALPH":M=!0,j=z+8,V=L-8;break;case"ANIM":(Y=U.header).bgcolor=f(I,L),G=L+4,Y.loop_count=(Z=I)[(D=G)+0]<<0|Z[D+1]<<8,G+=2;break;case"ANMF":var q,Y;(Y=U.frames[P]={}).offset_x=2*d(I,L),L+=3,Y.offset_y=2*d(I,L),L+=3,Y.width=1+d(I,L),L+=3,Y.height=1+d(I,L),L+=3,Y.duration=d(I,L),L+=3,q=I[L++],Y.dispose=1&q,Y.blend=q>>1&1}X!="ANMF"&&(L+=z)}var Z,D;return U}}(y,0);_.response=y,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,S=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],m=[b.canvas_width];for(var C=0;C<S.length&&S[C].blend!=0;C++);}var E=S[0],O=g.WebPDecodeRGBA(y,E.src_off,E.src_size,m,h);E.rgba=O,E.imgwidth=m[0],E.imgheight=h[0];for(var T=0;T<m[0]*h[0]*4;T++)x[T]=O[T];return this.width=m,this.height=h,this.data=x,this}(function(e){var t=function(){return typeof v8=="function"},r=function(h,m,x,g){var y=4,_=o;switch(g){case e.image_compression.FAST:y=1,_=i;break;case e.image_compression.MEDIUM:y=6,_=s;break;case e.image_compression.SLOW:y=9,_=l}h=n(h,m,x,_);var b=v8(h,{level:y});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,m,x,g){for(var y,_,b,S=h.length/m,C=new Uint8Array(h.length+S),E=d(),O=0;O<S;O+=1){if(b=O*m,y=h.subarray(b,b+m),g)C.set(g(y,x,_),b+O);else{for(var T,I=E.length,L=[];T<I;T+=1)L[T]=E[T](y,x,_);var U=f(L.concat());C.set(L[U],b+O)}_=y}return C},a=function(h){var m=Array.apply([],h);return m.unshift(0),m},i=function(h,m){var x,g=[],y=h.length;g[0]=1;for(var _=0;_<y;_+=1)x=h[_-m]||0,g[_+1]=h[_]-x+256&255;return g},o=function(h,m,x){var g,y=[],_=h.length;y[0]=2;for(var b=0;b<_;b+=1)g=x&&x[b]||0,y[b+1]=h[b]-g+256&255;return y},s=function(h,m,x){var g,y,_=[],b=h.length;_[0]=3;for(var S=0;S<b;S+=1)g=h[S-m]||0,y=x&&x[S]||0,_[S+1]=h[S]+256-(g+y>>>1)&255;return _},l=function(h,m,x){var g,y,_,b,S=[],C=h.length;S[0]=4;for(var E=0;E<C;E+=1)g=h[E-m]||0,y=x&&x[E]||0,_=x&&x[E-m]||0,b=u(g,y,_),S[E+1]=h[E]-b+256&255;return S},u=function(h,m,x){if(h===m&&m===x)return h;var g=Math.abs(m-x),y=Math.abs(h-x),_=Math.abs(h+m-x-x);return g<=y&&g<=_?h:y<=_?m:x},d=function(){return[a,i,o,s,l]},f=function(h){var m=h.map(function(x){return x.reduce(function(g,y){return g+Math.abs(y)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(h,m,x,g){var y,_,b,S,C,E,O,T,I,L,U,P,M,j,V,X=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new hGe(h)).imgData,_=b.bits,y=b.colorSpace,C=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){I=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,U=new Uint8Array(I*b.colors),L=new Uint8Array(I);var z,G=b.pixelBitlength-b.bits;for(j=0,V=0;j<I;j++){for(M=T[j],z=0;z<G;)U[V++]=M>>>z&255,z+=b.bits;L[j]=M>>>z&255}}if(b.bits===16){I=(T=new Uint32Array(b.decodePixels().buffer)).length,U=new Uint8Array(I*(32/b.pixelBitlength)*b.colors),L=new Uint8Array(I*(32/b.pixelBitlength)),P=b.colors>1,j=0,V=0;for(var q=0;j<I;)M=T[j++],U[V++]=M>>>0&255,P&&(U[V++]=M>>>16&255,M=T[j++],U[V++]=M>>>0&255),L[q++]=M>>>16&255;_=8}g!==e.image_compression.NONE&&t()?(h=r(U,b.width*b.colors,b.colors,g),O=r(L,b.width,1,g)):(h=U,O=L,X=void 0)}if(b.colorType===3&&(y=this.color_spaces.INDEXED,E=b.palette,b.transparency.indexed)){var Y=b.transparency.indexed,Z=0;for(j=0,I=Y.length;j<I;++j)Z+=Y[j];if((Z/=255)===I-1&&Y.indexOf(0)!==-1)S=[Y.indexOf(0)];else if(Z!==I){for(T=b.decodePixels(),L=new Uint8Array(T.length),j=0,I=T.length;j<I;j++)L[j]=Y[T[j]];O=r(L,b.width,1)}}var D=function(K){var Q;switch(K){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return X===this.decode.FLATE_DECODE&&(te="/Predictor "+D+" "),te+="/Colors "+C+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:x,data:h,index:m,filter:X,decodeParameters:te,transparency:S,palette:E,sMask:O,predictor:D,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:y}}}})(Lr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new pGe(t),o=i.width,s=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},d=new oP(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Lr.API),Ou.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ou.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Sa.log("bit decode error:"+r)}},Ou.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var l=this.palette[i>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},Ou.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,s=i>>4,l=15&i,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ou.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ou.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Ou.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},Ou.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ou.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=o}},Ou.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Ou(t,!1),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},u=new oP(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(Lr.API),SV.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new SV(t),o=i.width,s=i.height,l={data:i.getData(),width:o,height:s},u=new oP(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(Lr.API),Lr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,l=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];i[s++]=d,i[s++]=f,i[s++]=h,o[l++]=m}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Lr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Iv=Lr.API,Mb=Iv.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,l=s.fof?s.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,x=0,g=s[0]||l,y=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&xa(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/d:0,y.push((s[n]||g)/l+h)),x=n;return y},xV=Iv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Iv.processArabic&&(e=Iv.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Mb.apply(this,arguments).reduce(function(i,o){return i+o},0)},wV=function(e,t,r,n){for(var a=[],i=0,o=e.length,s=0;i!==o&&s+t[i]<r;)s+=t[i],i++;a.push(e.slice(0,i));var l=i;for(s=0;i!==o;)s+t[i]>n&&(a.push(e.slice(l,i)),s=0,l=i),s+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},_V=function(e,t,r){r||(r={});var n,a,i,o,s,l,u,d=[],f=[d],h=r.textIndent||0,m=0,x=0,g=e.split(" "),y=Mb.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var _=Array(l).join(" "),b=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(E,O){return(O&&E.length?`
`:"")+E})):b.push(C[0])}),g=b,l=xV.apply(this,[_,r])}for(i=0,o=g.length;i<o;i++){var S=0;if(n=g[i],l&&n[0]==`
`&&(n=n.substr(1),S=1),h+m+(x=(a=Mb.apply(this,[n,r])).reduce(function(C,E){return C+E},0))>t||S){if(x>t){for(s=wV.apply(this,[n,a,t-(h+m),t]),d.push(s.shift()),d=[s.pop()];s.length;)f.push([s.shift()]);x=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(C,E){return C+E},0)}else d=[n];f.push(d),h=x+l,m=y}else d.push(n),h+=m+x,m=y}return u=l?function(C,E){return(E?_:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(u)},Iv.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var s,l,u=[];for(s=0,l=n.length;s<l;s++)u=u.concat(_V.apply(this,[n[s],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,m,x,g,y=["{"];for(var _ in f){if(h=f[_],isNaN(parseInt(_,10))?m="'"+_+"'":(_=parseInt(_,10),m=(m=i(_).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof h=="number")h<0?(x=i(h).slice(3),g="-"):(x=i(h).slice(2),g=""),x=g+x.slice(0,-1)+n[x.slice(-1)];else{if(xa(h)!=="object")throw new Error("Don't know what to do with value type "+xa(h)+".");x=o(h)}y.push(m+x)}return y.push("}"),y.join("")},s=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,x,g,y={},_=1,b=y,S=[],C="",E="",O=f.length-1,T=1;T<O;T+=1)(g=f[T])=="'"?h?(x=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(S.push([b,x]),b={},x=void 0):g=="}"?((m=S.pop())[0][m[1]]=b,x=void 0,b=m[0]):g=="-"?_=-1:x===void 0?r.hasOwnProperty(g)?(C+=r[g],x=parseInt(C,16)*_,_=1,C=""):C+=g:r.hasOwnProperty(g)?(E+=r[g],b[x]=parseInt(E,16)*_,_=1,x=void 0,E=""):E+=g;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var x=u.Unicode[h.postScriptName];x&&(h.metadata.Unicode.encoding=x,h.encoding=x.codePages[0])}])}(Lr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(Z2(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Lr),function(e){function t(){return(Kr.canvg?Promise.resolve(Kr.canvg):vh(()=>import("./index.es-CZLNnyDn.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Lr.API.addSvgAsImage=function(r,n,a,i,o,s,l,u){if(isNaN(n)||isNaN(a))throw Sa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Sa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(x){return x.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,l,u)})}}(),Lr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Lr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,d=0,f=0;function h(x,g){var y,_=!1;for(y=0;y<x.length;y+=1)x[y]===g&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=s.length;for(f=0;f<m;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(xa(e)==="object"){for(a in e)if(i=e[a],h(s,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+s.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Lr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(s=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=i.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(i){var o,s,l,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(i).sort(function(m,x){return m-x})).length;f<h;f++)o=s[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),m="",x=0;x<h.length;x++)m+=String.fromCharCode(h[x]);var g=u();d({data:m,addLength1:!0,objectId:g}),l("endobj");var y=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+jv(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+jv(s.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+jv(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var x=u();d({data:h,addLength1:!0,objectId:x}),l("endobj");var g=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+jv(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var _=0;_<s.metadata.hmtx.widths.length;_++)s.metadata.hmtx.widths[_]=parseInt(s.metadata.hmtx.widths[_]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+jv(s.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,s=i.text||"",l=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,m=f.activeFontKey,x=f.fonts,g=m,y="",_=0,b="",S=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:s,x:l,y:u,options:d,mutex:f};for(b=s,g=m,Array.isArray(s)&&(b=s[0]),_=0;_<b.length;_+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),o||b[_].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?y+=b[_]:y+="";var C="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?C=h(y,g).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(C=r(y,x[g])),f.isHex=!0,{text:C,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",s=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([a(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(a(Object.assign({},l,{text:o[u]})).text);i.text=s}else i.text=a(Object.assign({},l,{text:o})).text}])}(Lr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Lr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,s,l,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var C=function(P){var M=P.charCodeAt(),j=M>>8,V=g[j];return V!==void 0?f[256*V+(255&M)]:j===252||j===253?"AL":_.test(j)?"L":j===8?"R":"N"},E=function(P){for(var M,j=0;j<P.length;j++){if((M=C(P.charAt(j)))==="L")return!1;if(M==="R")return!0}return!1},O=function(P,M,j,V){var X,te,z,G,q=M[V];switch(q){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(q="AN");break;case"AL":b=!0,q="R";break;case"WS":q="N";break;case"CS":V<1||V+1>=M.length||(X=j[V-1])!=="EN"&&X!=="AN"||(te=M[V+1])!=="EN"&&te!=="AN"?q="N":b&&(te="AN"),q=te===X?te:"N";break;case"ES":q=(X=V>0?j[V-1]:"B")==="EN"&&V+1<M.length&&M[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&j[V-1]==="EN"){q="EN";break}if(b){q="N";break}for(z=V+1,G=M.length;z<G&&M[z]==="ET";)z++;q=z<G&&M[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(G=M.length,z=V+1;z<G&&M[z]==="NSM";)z++;if(z<G){var Y=P[V],Z=Y>=1425&&Y<=2303||Y===64286;if(X=M[z],Z&&(X==="R"||X==="AL")){q="R";break}}}q=V<1||(X=M[V-1])==="B"?"N":j[V-1];break;case"B":b=!1,a=!0,q=S;break;case"S":i=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":q="N"}return q},T=function(P,M,j){var V=P.split("");return j&&I(V,j,{hiLevel:S}),V.reverse(),M&&M.reverse(),V.join("")},I=function(P,M,j){var V,X,te,z,G,q=-1,Y=P.length,Z=0,D=[],K=S?m:h,Q=[];for(b=!1,a=!1,i=!1,X=0;X<Y;X++)Q[X]=C(P[X]);for(te=0;te<Y;te++){if(G=Z,D[te]=O(P,Q,D,te),V=240&(Z=K[G][x[D[te]]]),Z&=15,M[te]=z=K[Z][5],V>0)if(V===16){for(X=q;X<te;X++)M[X]=1;q=-1}else q=-1;if(K[Z][6])q===-1&&(q=te);else if(q>-1){for(X=q;X<te;X++)M[X]=z;q=-1}Q[te]==="B"&&(M[te]=0),j.hiLevel|=z}i&&function(ie,ae,oe){for(var de=0;de<oe;de++)if(ie[de]==="S"){ae[de]=S;for(var J=de-1;J>=0&&ie[J]==="WS";J--)ae[J]=S}}(Q,M,Y)},L=function(P,M,j,V,X){if(!(X.hiLevel<P)){if(P===1&&S===1&&!a)return M.reverse(),void(j&&j.reverse());for(var te,z,G,q,Y=M.length,Z=0;Z<Y;){if(V[Z]>=P){for(G=Z+1;G<Y&&V[G]>=P;)G++;for(q=Z,z=G-1;q<z;q++,z--)te=M[q],M[q]=M[z],M[z]=te,j&&(te=j[q],j[q]=j[z],j[z]=te);Z=G}Z++}}},U=function(P,M,j){var V=P.split(""),X={hiLevel:S};return j||(j=[]),I(V,j,X),function(te,z,G){if(G.hiLevel!==0&&d)for(var q,Y=0;Y<te.length;Y++)z[Y]===1&&(q=y.indexOf(te[Y]))>=0&&(te[Y]=y[q+1])}(V,j,X),L(2,V,M,j,X),L(1,V,M,j,X),V.join("")};return this.__bidiEngine__.doBidiReorder=function(P,M,j){if(function(X,te){if(te)for(var z=0;z<X.length;z++)te[z]=z;s===void 0&&(s=E(X)),u===void 0&&(u=E(X))}(P,M),o||!l||u)if(o&&l&&s^u)S=s?1:0,P=T(P,M,j);else if(!o&&l&&u)S=s?1:0,P=U(P,M,j),P=T(P,M);else if(!o||s||l||u){if(o&&!l&&s^u)P=T(P,M),s?(S=0,P=U(P,M,j)):(S=1,P=U(P,M,j),P=T(P,M));else if(o&&s&&!l&&u)S=1,P=U(P,M,j),P=T(P,M);else if(!o&&!l&&s^u){var V=d;s?(S=1,P=U(P,M,j),S=0,d=!1,P=U(P,M,j),d=V):(S=0,P=U(P,M,j),P=T(P,M),S=1,d=!1,P=U(P,M,j),d=V,P=T(P,M))}}else S=0,P=U(P,M,j);else S=s?1:0,P=U(P,M,j);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,l=P.isOutputVisual,s=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(o=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?o.push([r.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):o.push([r.doBidiReorder(a[s])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Lr),Lr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Sm(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TGe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new mGe(this.contents),this.head=new vGe(this),this.name=new bGe(this),this.cmap=new Vie(this),this.toUnicode={},this.hhea=new yGe(this),this.maxp=new SGe(this),this.hmtx=new AGe(this),this.post=new wGe(this),this.os2=new xGe(this),this.loca=new CGe(this),this.glyf=new kGe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,s;for(o=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ud,Sm=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,s,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),mGe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,s,l,u,d,f,h,m,x,g;for(g in m=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(m)/l),o=Math.floor(f/l),d=16*m-f,(a=new Sm).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*m,u=a.pos+i,s=null,x=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),x=x.concat(h),g==="head"&&(s=u),u+=h.length;u%4;)x.push(0),u++;return a.write(x),n=2981146554-e(a.data),a.pos=s+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=Hie.call(r);r.length%4;)r.push(0);for(i=new Sm(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),gGe={}.hasOwnProperty,xf=function(e,t){for(var r in t)gGe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ud=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var vGe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Sm).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),AV=function(){function e(t,r){var n,a,i,o,s,l,u,d,f,h,m,x,g,y,_,b,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,i=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),t.pos+=2,g=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),u=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),d=function(){var C,E;for(E=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)E.push(t.readUInt16());return E}(),a=(this.length-t.pos+this.offset)/2,s=function(){var C,E;for(E=[],l=C=0;0<=a?C<a:C>a;l=0<=a?++C:--C)E.push(t.readUInt16());return E}(),l=_=0,S=i.length;_<S;l=++_)for(y=i[l],n=b=x=g[l];x<=y?b<=y:b>=y;n=x<=y?++b:--b)d[l]===0?o=n+u[l]:(o=s[d[l]/2+(n-x)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,s,l,u,d,f,h,m,x,g,y,_,b,S,C,E,O,T,I,L,U,P,M,j,V,X,te,z,G,q,Y,Z,D,K,Q,ie,ae,oe,de,J,ue,ge,ne;switch(V=new Sm,o=Object.keys(t).sort(function(Ne,Re){return Ne-Re}),r){case"macroman":for(g=0,y=function(){var Ne=[];for(x=0;x<256;++x)Ne.push(0);return Ne}(),b={0:0},i={},X=0,q=o.length;X<q;X++)b[J=t[a=o[X]]]==null&&(b[J]=++g),i[a]={old:t[a],new:b[t[a]]},y[a]=b[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(y),{charMap:i,subtable:V.data,maxGlyphID:g+1};case"unicode":for(M=[],f=[],S=0,b={},n={},_=u=null,te=0,Y=o.length;te<Y;te++)b[E=t[a=o[te]]]==null&&(b[E]=++S),n[a]={old:E,new:b[E]},s=b[E]-a,_!=null&&s===u||(_&&f.push(_),M.push(a),u=s),_=a;for(_&&f.push(_),f.push(65535),M.push(65535),U=2*(L=M.length),I=2*Math.pow(Math.log(L)/Math.LN2,2),h=Math.log(I/2)/Math.LN2,T=2*L-I,l=[],O=[],m=[],x=z=0,Z=M.length;z<Z;x=++z){if(P=M[x],d=f[x],P===65535){l.push(0),O.push(0);break}if(P-(j=n[P].new)>=32768)for(l.push(0),O.push(2*(m.length+L-x)),a=G=P;P<=d?G<=d:G>=d;a=P<=d?++G:--G)m.push(n[a].new);else l.push(j-P),O.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*L+2*m.length),V.writeUInt16(0),V.writeUInt16(U),V.writeUInt16(I),V.writeUInt16(h),V.writeUInt16(T),oe=0,D=f.length;oe<D;oe++)a=f[oe],V.writeUInt16(a);for(V.writeUInt16(0),de=0,K=M.length;de<K;de++)a=M[de],V.writeUInt16(a);for(ue=0,Q=l.length;ue<Q;ue++)s=l[ue],V.writeUInt16(s);for(ge=0,ie=O.length;ge<ie;ge++)C=O[ge],V.writeUInt16(C);for(ne=0,ae=m.length;ne<ae;ne++)g=m[ne],V.writeUInt16(g);return{charMap:n,subtable:V.data,maxGlyphID:S+1}}},e}(),Vie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new AV(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=AV.encode(r,n),(i=new Sm).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),yGe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),xGe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),wGe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(r.readUInt32());return u}).call(this)}},t}(),_Ge=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},bGe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,s,l,u,d,f,h,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),s=new _Ge(d,i),u[m=i.nameID]==null&&(u[m]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),SGe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),AGe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,s,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],m.push(o.advance);return m}).call(this),a=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Hie=[].slice,kGe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,s,l,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,s=(l=new Sm(n.read(i))).readShort(),d=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=s===-1?new EGe(l,d,h,u,f):new NGe(l,s,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,s,l,u;for(s=[],o=[],l=0,u=n.length;l<u;l++)i=r[n[l]],o.push(s.length),i&&(s=s.concat(i.encode(a)));return o.push(s.length),{table:s,offsets:o}},t}(),NGe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),EGe=function(){function e(t,r,n,a,i){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Sm(Hie.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),CGe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xf(t,ud),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<a.length;++s)if(a[s]=i,o<n.length&&n[o]==s){++o,a[s]=i;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),TGe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,s,l;for(a={},o=0,s=t.length;o<s;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,s,l,u,d,f,h,m,x,g,y,_;for(a in n=Vie.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},_=n.charMap)m[(l=_[a]).old]=l.new;for(x in h=n.maxGlyphID,o)x in m||(m[x]=h++);return d=function(b){var S,C;for(S in C={},b)C[b[S]]=S;return C}(m),f=Object.keys(d).sort(function(b,S){return b-S}),g=function(){var b,S,C;for(C=[],b=0,S=f.length;b<S;b++)s=f[b],C.push(d[s]);return C}(),i=this.font.glyf.encode(o,g,m),u=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Lr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var s,l,u;for(u=[],s=0,l=r.length;s<l;s++)n=r[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();function Gie(e,t,r,n,a){n=n||{};var i=1.15,o=a.internal.scaleFactor,s=a.internal.getFontSize()/o,l=a.getLineHeightFactor?a.getLineHeightFactor():i,u=s*l,d=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,h=f.length||1),r+=s*(2-i),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var m=s;if(n.halign==="center"&&(m*=.5),f&&h>=1){for(var x=0;x<f.length;x++)a.text(f[x],t-a.getStringUnitWidth(f[x])*m,r),r+=u;return a}t-=a.getStringUnitWidth(e)*m}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var kV={},f1=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:kV=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){s=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),s=u[0])}if(this.jsPDFDocument.setFont(l,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return kV||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),A8=function(e,t){return A8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},A8(e,t)};function Kie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");A8(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Yie=function(e){Kie(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function PGe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function OGe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function XS(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function Xie(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=Zie(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function Zie(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function G3(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Jie(e,t){var r=G3(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function DGe(e,t,r,n,a){var i={},o=1.3333333333333333,s=sP(t,function(S){return a.getComputedStyle(S).backgroundColor});s!=null&&(i.fillColor=s);var l=sP(t,function(S){return a.getComputedStyle(S).color});l!=null&&(i.textColor=l);var u=RGe(n,r);u&&(i.cellPadding=u);var d="borderTopColor",f=o*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var m=(parseFloat(h)||0)/f;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var x=sP(t,function(S){return a.getComputedStyle(S)[d]});x!=null&&(i.lineColor=x);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/o);var _=IGe(n);_&&(i.fontStyle=_);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function IGe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function sP(e,t){var r=Qie(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Qie(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Qie(e.parentElement,t):r}function RGe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(s){return parseInt(s||"0")/n}),o=G3(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function eoe(e,t,r,n,a){var i,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var s;typeof t=="string"?s=r.document.querySelector(t):s=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],h=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:h};for(var m=0;m<s.rows.length;m++){var x=s.rows[m],g=(o=(i=x==null?void 0:x.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),y=MGe(l,u,r,x,n,a);y&&(g==="thead"?d.push(y):g==="tfoot"?h.push(y):f.push(y))}return{head:d,body:f,foot:h}}function MGe(e,t,r,n,a,i){for(var o=new Yie(n),s=0;s<n.cells.length;s++){var l=n.cells[s],u=r.getComputedStyle(l);if(a||u.display!=="none"){var d=void 0;i&&(d=DGe(e,l,t,u,r)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:FGe(l)})}}var f=r.getComputedStyle(n);if(o.length>0&&(a||f.display!=="none"))return o}function FGe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function LGe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function ch(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i}function toe(e,t){var r=new f1(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();LGe(a,n,t);var i=ch({},a,n,t),o;typeof window<"u"&&(o=window);var s=jGe(a,n,t),l=$Ge(a,n,t),u=BGe(r,i),d=qGe(r,i,o);return{id:t.tableId,content:d,hooks:l,styles:s,settings:u}}function jGe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var u=e[l],d=t[l],f=r[l];n.columnStyles=ch({},u,d,f)}else{var h=[e,t,r],m=h.map(function(x){return x[l]||{}});n[l]=ch({},m[0],m[1],m[2])}},i=0,o=Object.keys(n);i<o.length;i++){var s=o[i];a(s)}return n}function $Ge(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var s=o[i];s.didParseCell&&a.didParseCell.push(s.didParseCell),s.willDrawCell&&a.willDrawCell.push(s.willDrawCell),s.didDrawCell&&a.didDrawCell.push(s.didDrawCell),s.willDrawPage&&a.willDrawPage.push(s.willDrawPage),s.didDrawPage&&a.didDrawPage.push(s.didDrawPage)}return a}function BGe(e,t){var r,n,a,i,o,s,l,u,d,f,h,m,x=G3(t.margin,40/e.scaleFactor()),g=(r=UGe(e,t.startY))!==null&&r!==void 0?r:x.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var _;t.showHead===!0?_="everyPage":t.showHead===!1?_="never":_=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,S=t.theme||(b?"plain":"striped"),C=!!t.horizontalPageBreak,E=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=t.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:b,theme:S,startY:g,margin:x,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:_,showFoot:y,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:C,horizontalPageBreakRepeat:E,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function UGe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function qGe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var s=eoe(e,t.html,r,o,t.useCss)||{};n=s.head||n,a=s.body||n,i=s.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||zGe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function zGe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,s;Array.isArray(n)?s=n[parseInt(i)]:s=n[i],typeof s=="object"&&!Array.isArray(s)&&(o=(s==null?void 0:s.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(l>0?"_".concat(l):"");var d={dataKey:u};a.push(d)}}),a}var k8=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),WGe=function(e){Kie(t,e);function t(r,n,a,i,o,s){var l=e.call(this,r,n,s)||this;return l.cell=a,l.row=i,l.column=o,l.section=i.section,l}return t}(k8),VGe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,o){for(var s=0,l=r;s<l.length;s++){var u=l[s],d=new WGe(t,this,n,a,i,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new k8(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new k8(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),roe=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof Yie&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var o=n.cells[i.index];if(!o)return 0;var s=r.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+s;return u>a?u:a},0)},e}(),noe=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=G3(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),HGe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function GGe(e,t){KGe(e,t);var r=[],n=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=N8(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=N8(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),XGe(t),ZGe(t,e),YGe(t)}function KGe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Jie(e,t);t.allRows().forEach(function(i){for(var o=0,s=t.columns;o<s.length;o++){var l=s[o],u=i.cells[l.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,l,null);var f=u.padding("horizontal");u.contentWidth=XS(u.text,u.styles,e)+f;var h=XS(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/r;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,s=t.columns;o<s.length;o++){var l=s[o],u=i.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function N8(e,t,r){for(var n=t,a=e.reduce(function(m,x){return m+x.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],s=o.wrappedWidth/a,l=n*s,u=o.width+l,d=r(o),f=u<d?d:u;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(m){return t<0?m.width>r(m):!0});h.length&&(t=N8(h,t,r))}return t}function YGe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],o=0,s=e.columns;o<s.length;o++){var l=s[o],u=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var d=i.cells[l.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=n.length-a,h=d.rowSpan>f?f:d.rowSpan;t[l.index]={cell:d,left:h,row:i}}}}}function XGe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,o=0,s=0;s<e.columns.length;s++){var l=e.columns[s];if(o-=1,o>1&&e.columns[s+1])i+=l.width,delete n.cells[l.index];else if(a){var u=a;delete n.cells[l.index],a=null,u.width=l.width+i}else{var u=n.cells[l.index];if(!u)continue;if(o=u.colSpan,i=0,u.colSpan>1){a=u,i+=l.width;continue}u.width=l.width+i}}}function ZGe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],o=0,s=e.columns;o<s.length;o++){var l=s[o],u=i.cells[l.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=NV(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=NV(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function NV(e,t,r,n,a){return e.map(function(i){return JGe(i,t,r,n,a)})}function JGe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=XS(e,r,n))return e;for(;t<XS(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function aoe(e,t){var r=new f1(e),n=QGe(t,r.scaleFactor()),a=new VGe(t,n);return GGe(r,a),r.applyStyles(r.userStyles),a}function QGe(e,t){var r=e.content,n=tKe(r.columns);if(r.head.length===0){var a=EV(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=EV(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,o=e.styles;return{columns:n,head:lP("head",r.head,n,o,i,t),body:lP("body",r.body,n,o,i,t),foot:lP("foot",r.foot,n,o,i,t)}}function lP(e,t,r,n,a,i){var o={},s=t.map(function(l,u){for(var d=0,f={},h=0,m=0,x=0,g=r;x<g.length;x++){var y=g[x];if(o[y.index]==null||o[y.index].left===0)if(m===0){var _=void 0;Array.isArray(l)?_=l[y.index-h-d]:_=l[y.dataKey];var b={};typeof _=="object"&&!Array.isArray(_)&&(b=(_==null?void 0:_.styles)||{});var S=rKe(e,y,u,a,n,i,b),C=new noe(_,S,e);f[y.dataKey]=C,f[y.index]=C,m=C.colSpan-1,o[y.index]={left:C.rowSpan-1,times:m}}else m--,h++;else o[y.index].left--,m=o[y.index].times,d++}return new roe(l,u,e,f)});return s}function EV(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=eKe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function eKe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function tKe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new HGe(a,t,r)})}function rKe(e,t,r,n,a,i,o){var s=OGe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var u=ch({},s.table,s[e],a.styles,l),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},h=e==="body"&&r%2===0?ch({},s.alternateRow,a.alternateRowStyles):{},m=PGe(i),x=ch({},m,u,h,f);return ch(x,o)}function nKe(e,t,r){var n;r===void 0&&(r={});var a=Jie(e,t),i=new Map,o=[],s=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var m=t.columns.find(function(x){return x.dataKey===h||x.index===h});m&&!i.has(m.index)&&(i.set(m.index,!0),o.push(m.index),s.push(t.columns[m.index]),a-=m.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(i.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,o.push(d),s.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:o,columns:s,lastIndex:d-1}}function aKe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=nKe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function ioe(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=n+a.bottom+o;if(r.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(h,m){return h+m.height},0);s+=u}var d=new f1(e);(r.pageBreak==="always"||r.startY!=null&&s>d.pageSize().height)&&(soe(d),i.y=a.top),t.callWillDrawPageHooks(d,i);var f=ch({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?iKe(d,t,f,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Ah(d,t,h,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,m){var x=m===t.body.length-1;ZS(d,t,h,x,f,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Ah(d,t,h,i,t.columns)})),Xie(d,t,f,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function iKe(e,t,r,n){var a=aKe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?J2(e,t,r,n,u.columns,!0):CV(e,t,n,u.columns),oKe(e,t,r,n,u.columns),cP(e,t,n,u.columns)});else for(var o=-1,s=a[0],l=function(){var u=o;if(s){e.applyStyles(e.userStyles);var d=s.columns;o>=0?J2(e,t,r,n,d,!0):CV(e,t,n,d),u=TV(e,t,o+1,n,d),cP(e,t,n,d)}var f=u-o;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),J2(e,t,r,n,h.columns,!0),TV(e,t,o+1,n,h.columns,f),cP(e,t,n,h.columns)}),o=u};o<t.body.length-1;)l()}function CV(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Ah(e,t,i,r,n)})}function oKe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var s=o===t.body.length-1;ZS(e,t,i,s,r,n,a)})}function TV(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),s=-1;return t.body.slice(r,o).forEach(function(l,u){var d=r+u===t.body.length-1,f=ooe(e,t,d,n);l.canEntireRowFit(f,a)&&(Ah(e,t,l,n,a),s=r+u)}),s}function cP(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Ah(e,t,i,r,n)})}function sKe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function lKe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,s=r.columns;o<s.length;o++){var l=s[o],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new noe(u.raw,u.styles,u.section);d=ch(d,u),d.text=[];var f=sKe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),m=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,m),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,m),d.contentHeight>i&&(i=d.contentHeight),a[l.index]=d}}var x=new roe(e.raw,-1,e.section,a,!0);x.height=i;for(var g=0,y=r.columns;g<y.length;g++){var l=y[g],d=x.cells[l.index];d&&(d.height=x.height);var u=e.cells[l.index];u&&(u.height=e.height)}return x}function cKe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,s=a-o;t.section==="body"&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),u=l<r;if(l>s)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>s;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function ZS(e,t,r,n,a,i,o){var s=ooe(e,t,n,i);if(r.canEntireRowFit(s,o))Ah(e,t,r,i,o);else if(cKe(e,r,s,t)){var l=lKe(r,s,t,e);Ah(e,t,r,i,o),J2(e,t,a,i,o),ZS(e,t,l,n,a,i,o)}else J2(e,t,a,i,o),ZS(e,t,r,n,a,i,o)}function Ah(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var s=o[i],l=r.cells[s.index];if(!l){n.x+=s.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,r,s,n);if(u===!1){n.x+=s.width;continue}uKe(e,l,n);var d=l.getTextPos();Gie(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,s,n),n.x+=s.width}n.y+=r.height}function uKe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Zie(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),dKe(e,t,r,n.lineWidth))}function dKe(e,t,r,n){var a,i,o,s;n.top&&(a=r.x,i=r.y,o=r.x+t.width,s=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,o,s)),n.bottom&&(a=r.x,i=r.y+t.height,o=r.x+t.width,s=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,o,s)),n.left&&(a=r.x,i=r.y,o=r.x,s=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(s+=.5*n.bottom),l(n.left,a,i,o,s)),n.right&&(a=r.x+t.width,i=r.y,o=r.x+t.width,s=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(s+=.5*n.bottom),l(n.right,a,i,o,s));function l(u,d,f,h,m){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,h,m,"S")}}function ooe(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function J2(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(s){return Ah(e,t,s,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;Xie(e,t,r,n),soe(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(s){return Ah(e,t,s,n,a)}),e.applyStyles(e.userStyles))}function soe(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function fKe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=toe(this,n),i=aoe(this,a);return ioe(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Gie(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return f1.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){f1.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new f1(this),i=eoe(a,t,window,r,!1),o=i.head,s=i.body,l=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:s,data:s}}}var uP;function v7(e,t){var r=toe(e,t),n=aoe(e,r);ioe(e,n)}try{if(typeof window<"u"&&window){var PV=window,OV=PV.jsPDF||((uP=PV.jspdf)===null||uP===void 0?void 0:uP.jsPDF);OV&&fKe(OV)}}catch(e){console.error("Could not apply autoTable plugin",e)}const hKe=(e,t="inventory_export")=>{const r=e.map(o=>({"Item Name":o.item_name,Category:o.category,Quantity:o.quantity,"Expiry Date":o.expiry_date?new Date(o.expiry_date).toLocaleDateString():"N/A","Supplier Info":o.supplier_info||"N/A","Purchase Price":o.purchase_price!=null?Number(o.purchase_price):"N/A",Status:o.stock_status,"Low Stock Threshold":o.low_stock_threshold,"Created At":new Date(o.created_at).toLocaleString()})),n=rf.json_to_sheet(r),a=[{wch:30},{wch:15},{wch:10},{wch:15},{wch:25},{wch:15},{wch:12},{wch:20},{wch:20}];n["!cols"]=a;const i=rf.book_new();rf.book_append_sheet(i,n,"Inventory"),u7(i,`${t}.xlsx`)},pKe=(e,t="inventory_export")=>{const r=new Lr,n=["Item Name","Category","Qty","Expiry","Supplier","Price","Status"],a=e.map(i=>[i.item_name,i.category,i.quantity,i.expiry_date?new Date(i.expiry_date).toLocaleDateString():"N/A",i.supplier_info||"N/A",i.purchase_price!=null?`$${Number(i.purchase_price).toFixed(2)}`:"N/A",i.stock_status]);r.setFontSize(18),r.text("Inventory Report",14,22),r.setFontSize(11),r.setTextColor(100),r.text(`Generated on: ${new Date().toLocaleDateString()}`,14,29),v7(r,{head:[n],body:a,startY:35,theme:"grid",headStyles:{fillColor:[22,160,133]},styles:{fontSize:8},columnStyles:{0:{cellWidth:40},2:{halign:"right"},5:{halign:"right"}}}),r.save(`${t}.pdf`)},mKe=()=>{const[e,t]=A.useState(!1),[r,n]=A.useState(null),[a,i]=A.useState(""),[o,s]=A.useState("all"),[l,u]=A.useState([]),[d,f]=A.useState(0),[h,m]=A.useState(!1),[x,g]=A.useState(!1),y=()=>{n(null),t(!0)},_=T=>{n(T),t(!0)},b=()=>{t(!1),n(null)},S=T=>{console.log("Item saved:",T),b(),f(I=>I+1)},C=()=>{x&&!h||(h?(m(!1),g(!1)):(g(!0),m(!0)))},E=T=>{},O=()=>{g(!1)};return w("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[w(ka,{heading:"Inventory Management",text:"Track medicines, tools, and consumables.",className:"flex items-center justify-between",children:[w(Za,{open:e,onOpenChange:t,children:[c(Hw,{asChild:!0,children:w(Le,{onClick:y,children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add New Item"]})}),w(Da,{className:"sm:max-w-[600px]",children:[" ",c(Ia,{children:c(Ra,{children:r?"Edit Inventory Item":"Add New Inventory Item"})}),c(TMe,{itemToEdit:r,onSave:S,onCancel:b})]})]}),c(Le,{variant:"outline",onClick:C,disabled:x&&!h,className:`ai-insights-button ${x&&h?"opacity-100 cursor-not-allowed":""}`,style:x&&h?{opacity:1}:{},children:x&&h?w(Sr,{children:[c(j0,{className:"mr-2 h-4 w-4 animate-spin"}),"AI is thinking... (this may take up to 2 minutes)"]}):w(Sr,{children:[c(UH,{className:"mr-2 h-4 w-4"}),h?"Hide AI Insights":"Show AI Insights"]})})]}),w("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[w("div",{className:"relative flex-1",children:[c(s4,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),c(ot,{type:"search",placeholder:"Search by item name...",className:"pl-8 sm:w-full",value:a,onChange:T=>i(T.target.value)})]}),w(Ur,{value:o,onValueChange:T=>s(T),children:[c(jr,{className:"w-full sm:w-[180px]",children:c(qr,{placeholder:"Filter by category"})}),w($r,{children:[c(gt,{value:"all",children:"All Categories"}),c(gt,{value:"Medicines",children:"Medicines"}),c(gt,{value:"Tools",children:"Tools"}),c(gt,{value:"Consumables",children:"Consumables"})]})]}),w(Le,{variant:"outline",onClick:()=>hKe(l),disabled:l.length===0,className:"w-full sm:w-auto",children:[c(KM,{className:"mr-2 h-4 w-4"})," Export Excel"]}),w(Le,{variant:"outline",onClick:()=>pKe(l),disabled:l.length===0,className:"w-full sm:w-auto",children:[c(KM,{className:"mr-2 h-4 w-4"})," Export PDF"]})]}),h&&c(DMe,{onLoadingChange:E,onInitialFetchComplete:O}),c(AMe,{onEditItem:_,refreshTrigger:d,searchTerm:a,categoryFilter:o,onDataFiltered:u})]})},gKe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(null),[o,s]=A.useState(null),{toast:l}=vn();A.useEffect(()=>{(async()=>{n(!0),i(null);try{const f=await NMe();Array.isArray(f)?t(f):(console.warn("Fetched invoices data is not an array:",f),t([]))}catch(f){console.error("Failed to fetch invoices:",f);const h=f instanceof Error?f.message:"An unknown error occurred";i(h),l({title:"Error Fetching Invoices",description:h,variant:"destructive"})}finally{n(!1)}})()},[l]);const u=async d=>{s(d.id);try{const f=await EMe(d.storage_path);window.open(f,"_blank")}catch(f){console.error("Failed to get download URL:",f),l({title:"Error Getting Download Link",description:f instanceof Error?f.message:"Could not generate link.",variant:"destructive"})}finally{s(null)}};return r?c("div",{className:"space-y-2",children:[...Array(3)].map((d,f)=>c(Rl,{className:"h-10 w-full"},f))}):a?w(td,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(rd,{children:"Error"}),c(nd,{children:a})]}):e.length===0?c("p",{className:"text-center text-gray-500 mt-4",children:"No invoices found."}):c("div",{className:"rounded-md border",children:w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"File Name"}),c(Wt,{children:"Related Item"}),c(Wt,{children:"Uploaded At"}),c(Wt,{children:"Uploaded By"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:e.map(d=>{var f;return w(En,{children:[c(jt,{className:"font-medium",children:d.file_name}),c(jt,{children:((f=d.inventory_items)==null?void 0:f.item_name)??c("span",{className:"text-xs text-muted-foreground",children:"N/A"})}),c(jt,{children:new Date(d.uploaded_at).toLocaleString()}),c(jt,{className:"text-xs text-muted-foreground",children:d.uploaded_by_user_id?"User ID: ..."+d.uploaded_by_user_id.slice(-6):"Unknown"}),w(jt,{className:"text-right space-x-1",children:[c(Le,{variant:"ghost",size:"icon",onClick:()=>u(d),disabled:o===d.id,title:"View Invoice",children:o===d.id?c("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):c(Nw,{className:"h-4 w-4"})}),c(Le,{variant:"ghost",size:"icon",onClick:()=>u(d),disabled:o===d.id,title:"Download/View Invoice",children:o===d.id?c("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):c(HH,{className:"h-4 w-4"})})]})]},d.id)})})]})})},vKe=()=>w("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[c(ka,{heading:"Uploaded Invoices",text:"View and download previously uploaded invoices."}),c(gKe,{})]}),yKe=({asset:e,isOpen:t,onOpenChange:r,onIntervalSet:n})=>{const{toast:a}=vn(),[i,o]=A.useState(e.maintenance_interval_value||""),[s,l]=A.useState(e.maintenance_interval_unit||void 0),[u,d]=A.useState(!1);A.useEffect(()=>{o(e.maintenance_interval_value||""),l(e.maintenance_interval_unit||void 0)},[e,t]);const f=async()=>{if(i===""||!s){a({title:"Validation Error",description:"Please provide both interval period and unit.",variant:"destructive"});return}if(i<=0){a({title:"Validation Error",description:"Interval period must be positive.",variant:"destructive"});return}d(!0);try{const{error:h}=await Me.from("assets").update({maintenance_interval_value:i,maintenance_interval_unit:s}).eq("id",e.id);if(h)throw h;a({title:"Success",description:`Maintenance interval for ${e.asset_name} updated.`}),n(),r(!1)}catch(h){a({title:"Error updating interval",description:h.message||"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}};return c(Za,{open:t,onOpenChange:r,children:w(Da,{className:"sm:max-w-[425px]",children:[w(Ia,{children:[c(Ra,{children:"Set Maintenance Interval"}),w(oo,{children:["Configure the maintenance interval for asset: ",c("strong",{children:e.asset_name}),"."]})]}),w("div",{className:"grid gap-4 py-4",children:[w("div",{className:"grid grid-cols-4 items-center gap-4",children:[c(Yt,{htmlFor:"intervalValue",className:"text-right",children:"Interval Period"}),c(ot,{id:"intervalValue",type:"number",value:i,onChange:h=>o(h.target.value===""?"":parseInt(h.target.value,10)),className:"col-span-3",min:"1",placeholder:"e.g., 3"})]}),w("div",{className:"grid grid-cols-4 items-center gap-4",children:[c(Yt,{htmlFor:"intervalUnit",className:"text-right",children:"Interval"}),w(Ur,{value:s,onValueChange:h=>l(h),children:[c(jr,{className:"col-span-3",children:c(qr,{placeholder:"Select unit"})}),w($r,{children:[c(gt,{value:"days",children:"Days"}),c(gt,{value:"weeks",children:"Weeks"}),c(gt,{value:"months",children:"Months"}),c(gt,{value:"years",children:"Years"})]})]})]})]}),w(lo,{children:[c(Le,{variant:"outline",onClick:()=>r(!1),disabled:u,children:"Cancel"}),c(Le,{onClick:f,disabled:u,children:u?"Saving...":"Save Interval"})]})]})})};function xKe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function wKe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var _Ke=function(){function e(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wKe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=xKe(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),bs="-ms-",JS="-moz-",na="-webkit-",loe="comm",y7="rule",x7="decl",bKe="@import",coe="@keyframes",SKe="@layer",AKe=Math.abs,K3=String.fromCharCode,kKe=Object.assign;function NKe(e,t){return rs(e,0)^45?(((t<<2^rs(e,0))<<2^rs(e,1))<<2^rs(e,2))<<2^rs(e,3):0}function uoe(e){return e.trim()}function EKe(e,t){return(e=t.exec(e))?e[0]:e}function aa(e,t,r){return e.replace(t,r)}function E8(e,t){return e.indexOf(t)}function rs(e,t){return e.charCodeAt(t)|0}function bw(e,t,r){return e.slice(t,r)}function Bd(e){return e.length}function w7(e){return e.length}function Fb(e,t){return t.push(e),e}function CKe(e,t){return e.map(t).join("")}var Y3=1,ey=1,doe=0,Ll=0,io=0,Sy="";function X3(e,t,r,n,a,i,o){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:Y3,column:ey,length:o,return:""}}function p2(e,t){return kKe(X3("",null,null,"",null,null,0),e,{length:-e.length},t)}function TKe(){return io}function PKe(){return io=Ll>0?rs(Sy,--Ll):0,ey--,io===10&&(ey=1,Y3--),io}function gc(){return io=Ll<doe?rs(Sy,Ll++):0,ey++,io===10&&(ey=1,Y3++),io}function af(){return rs(Sy,Ll)}function a5(){return Ll}function l_(e,t){return bw(Sy,e,t)}function Sw(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function foe(e){return Y3=ey=1,doe=Bd(Sy=e),Ll=0,[]}function hoe(e){return Sy="",e}function i5(e){return uoe(l_(Ll-1,C8(e===91?e+2:e===40?e+1:e)))}function OKe(e){for(;(io=af())&&io<33;)gc();return Sw(e)>2||Sw(io)>3?"":" "}function DKe(e,t){for(;--t&&gc()&&!(io<48||io>102||io>57&&io<65||io>70&&io<97););return l_(e,a5()+(t<6&&af()==32&&gc()==32))}function C8(e){for(;gc();)switch(io){case e:return Ll;case 34:case 39:e!==34&&e!==39&&C8(io);break;case 40:e===41&&C8(e);break;case 92:gc();break}return Ll}function IKe(e,t){for(;gc()&&e+io!==57;)if(e+io===84&&af()===47)break;return"/*"+l_(t,Ll-1)+"*"+K3(e===47?e:gc())}function RKe(e){for(;!Sw(af());)gc();return l_(e,Ll)}function MKe(e){return hoe(o5("",null,null,null,[""],e=foe(e),0,[0],e))}function o5(e,t,r,n,a,i,o,s,l){for(var u=0,d=0,f=o,h=0,m=0,x=0,g=1,y=1,_=1,b=0,S="",C=a,E=i,O=n,T=S;y;)switch(x=b,b=gc()){case 40:if(x!=108&&rs(T,f-1)==58){E8(T+=aa(i5(b),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:T+=i5(b);break;case 9:case 10:case 13:case 32:T+=OKe(x);break;case 92:T+=DKe(a5()-1,7);continue;case 47:switch(af()){case 42:case 47:Fb(FKe(IKe(gc(),a5()),t,r),l);break;default:T+="/"}break;case 123*g:s[u++]=Bd(T)*_;case 125*g:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:_==-1&&(T=aa(T,/\f/g,"")),m>0&&Bd(T)-f&&Fb(m>32?IV(T+";",n,r,f-1):IV(aa(T," ","")+";",n,r,f-2),l);break;case 59:T+=";";default:if(Fb(O=DV(T,t,r,u,d,a,s,S,C=[],E=[],f),i),b===123)if(d===0)o5(T,t,O,O,C,i,f,s,E);else switch(h===99&&rs(T,3)===110?100:h){case 100:case 108:case 109:case 115:o5(e,O,O,n&&Fb(DV(e,O,O,0,0,a,s,S,a,C=[],f),E),a,E,f,s,n?C:E);break;default:o5(T,O,O,O,[""],E,0,s,E)}}u=d=m=0,g=_=1,S=T="",f=o;break;case 58:f=1+Bd(T),m=x;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&PKe()==125)continue}switch(T+=K3(b),b*g){case 38:_=d>0?1:(T+="\f",-1);break;case 44:s[u++]=(Bd(T)-1)*_,_=1;break;case 64:af()===45&&(T+=i5(gc())),h=af(),d=f=Bd(S=T+=RKe(a5())),b++;break;case 45:x===45&&Bd(T)==2&&(g=0)}}return i}function DV(e,t,r,n,a,i,o,s,l,u,d){for(var f=a-1,h=a===0?i:[""],m=w7(h),x=0,g=0,y=0;x<n;++x)for(var _=0,b=bw(e,f+1,f=AKe(g=o[x])),S=e;_<m;++_)(S=uoe(g>0?h[_]+" "+b:aa(b,/&\f/g,h[_])))&&(l[y++]=S);return X3(e,t,r,a===0?y7:s,l,u,d)}function FKe(e,t,r){return X3(e,t,r,loe,K3(TKe()),bw(e,2,-2),0)}function IV(e,t,r,n){return X3(e,t,r,x7,bw(e,0,n),bw(e,n+1,-1),n)}function h1(e,t){for(var r="",n=w7(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function LKe(e,t,r,n){switch(e.type){case SKe:if(e.children.length)break;case bKe:case x7:return e.return=e.return||e.value;case loe:return"";case coe:return e.return=e.value+"{"+h1(e.children,n)+"}";case y7:e.value=e.props.join(",")}return Bd(r=h1(e.children,n))?e.return=e.value+"{"+r+"}":""}function jKe(e){var t=w7(e);return function(r,n,a,i){for(var o="",s=0;s<t;s++)o+=e[s](r,n,a,i)||"";return o}}function $Ke(e){return function(t){t.root||(t=t.return)&&e(t)}}function BKe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var UKe=function(t,r,n){for(var a=0,i=0;a=i,i=af(),a===38&&i===12&&(r[n]=1),!Sw(i);)gc();return l_(t,Ll)},qKe=function(t,r){var n=-1,a=44;do switch(Sw(a)){case 0:a===38&&af()===12&&(r[n]=1),t[n]+=UKe(Ll-1,r,n);break;case 2:t[n]+=i5(a);break;case 4:if(a===44){t[++n]=af()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=K3(a)}while(a=gc());return t},zKe=function(t,r){return hoe(qKe(foe(t),r))},RV=new WeakMap,WKe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!RV.get(n))&&!a){RV.set(t,!0);for(var i=[],o=zKe(r,i),s=n.props,l=0,u=0;l<o.length;l++)for(var d=0;d<s.length;d++,u++)t.props[u]=i[l]?o[l].replace(/&\f/g,s[d]):s[d]+" "+o[l]}}},VKe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function poe(e,t){switch(NKe(e,t)){case 5103:return na+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return na+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return na+e+JS+e+bs+e+e;case 6828:case 4268:return na+e+bs+e+e;case 6165:return na+e+bs+"flex-"+e+e;case 5187:return na+e+aa(e,/(\w+).+(:[^]+)/,na+"box-$1$2"+bs+"flex-$1$2")+e;case 5443:return na+e+bs+"flex-item-"+aa(e,/flex-|-self/,"")+e;case 4675:return na+e+bs+"flex-line-pack"+aa(e,/align-content|flex-|-self/,"")+e;case 5548:return na+e+bs+aa(e,"shrink","negative")+e;case 5292:return na+e+bs+aa(e,"basis","preferred-size")+e;case 6060:return na+"box-"+aa(e,"-grow","")+na+e+bs+aa(e,"grow","positive")+e;case 4554:return na+aa(e,/([^-])(transform)/g,"$1"+na+"$2")+e;case 6187:return aa(aa(aa(e,/(zoom-|grab)/,na+"$1"),/(image-set)/,na+"$1"),e,"")+e;case 5495:case 3959:return aa(e,/(image-set\([^]*)/,na+"$1$`$1");case 4968:return aa(aa(e,/(.+:)(flex-)?(.*)/,na+"box-pack:$3"+bs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+na+e+e;case 4095:case 3583:case 4068:case 2532:return aa(e,/(.+)-inline(.+)/,na+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bd(e)-1-t>6)switch(rs(e,t+1)){case 109:if(rs(e,t+4)!==45)break;case 102:return aa(e,/(.+:)(.+)-([^]+)/,"$1"+na+"$2-$3$1"+JS+(rs(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~E8(e,"stretch")?poe(aa(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(rs(e,t+1)!==115)break;case 6444:switch(rs(e,Bd(e)-3-(~E8(e,"!important")&&10))){case 107:return aa(e,":",":"+na)+e;case 101:return aa(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+na+(rs(e,14)===45?"inline-":"")+"box$3$1"+na+"$2$3$1"+bs+"$2box$3")+e}break;case 5936:switch(rs(e,t+11)){case 114:return na+e+bs+aa(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return na+e+bs+aa(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return na+e+bs+aa(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return na+e+bs+e+e}return e}var HKe=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case x7:t.return=poe(t.value,t.length);break;case coe:return h1([p2(t,{value:aa(t.value,"@","@"+na)})],a);case y7:if(t.length)return CKe(t.props,function(i){switch(EKe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return h1([p2(t,{props:[aa(i,/:(read-\w+)/,":"+JS+"$1")]})],a);case"::placeholder":return h1([p2(t,{props:[aa(i,/:(plac\w+)/,":"+na+"input-$1")]}),p2(t,{props:[aa(i,/:(plac\w+)/,":"+JS+"$1")]}),p2(t,{props:[aa(i,/:(plac\w+)/,bs+"input-$1")]})],a)}return""})}},GKe=[HKe],KKe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var a=t.stylisPlugins||GKe,i={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),_=1;_<y.length;_++)i[y[_]]=!0;s.push(g)});var l,u=[WKe,VKe];{var d,f=[LKe,$Ke(function(g){d.insert(g)})],h=jKe(u.concat(a,f)),m=function(y){return h1(MKe(y),h)};l=function(y,_,b,S){d=b,m(y?y+"{"+_.styles+"}":_.styles),S&&(x.inserted[_.name]=!0)}}var x={key:r,sheet:new _Ke({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return x.sheet.hydrate(s),x},dP={exports:{}},da={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV;function YKe(){if(MV)return da;MV=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function S(E){if(typeof E=="object"&&E!==null){var O=E.$$typeof;switch(O){case t:switch(E=E.type,E){case l:case u:case n:case i:case a:case f:return E;default:switch(E=E&&E.$$typeof,E){case s:case d:case x:case m:case o:return E;default:return O}}case r:return O}}}function C(E){return S(E)===u}return da.AsyncMode=l,da.ConcurrentMode=u,da.ContextConsumer=s,da.ContextProvider=o,da.Element=t,da.ForwardRef=d,da.Fragment=n,da.Lazy=x,da.Memo=m,da.Portal=r,da.Profiler=i,da.StrictMode=a,da.Suspense=f,da.isAsyncMode=function(E){return C(E)||S(E)===l},da.isConcurrentMode=C,da.isContextConsumer=function(E){return S(E)===s},da.isContextProvider=function(E){return S(E)===o},da.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},da.isForwardRef=function(E){return S(E)===d},da.isFragment=function(E){return S(E)===n},da.isLazy=function(E){return S(E)===x},da.isMemo=function(E){return S(E)===m},da.isPortal=function(E){return S(E)===r},da.isProfiler=function(E){return S(E)===i},da.isStrictMode=function(E){return S(E)===a},da.isSuspense=function(E){return S(E)===f},da.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===u||E===i||E===a||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===x||E.$$typeof===m||E.$$typeof===o||E.$$typeof===s||E.$$typeof===d||E.$$typeof===y||E.$$typeof===_||E.$$typeof===b||E.$$typeof===g)},da.typeOf=S,da}var FV;function XKe(){return FV||(FV=1,dP.exports=YKe()),dP.exports}var fP,LV;function ZKe(){if(LV)return fP;LV=1;var e=XKe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=a;function o(x){return e.isMemo(x)?a:i[x.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;function m(x,g,y){if(typeof g!="string"){if(h){var _=f(g);_&&_!==h&&m(x,_,y)}var b=l(g);u&&(b=b.concat(u(g)));for(var S=o(x),C=o(g),E=0;E<b.length;++E){var O=b[E];if(!r[O]&&!(y&&y[O])&&!(C&&C[O])&&!(S&&S[O])){var T=d(g,O);try{s(x,O,T)}catch{}}}}return x}return fP=m,fP}ZKe();var JKe=!0;function QKe(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var moe=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||JKe===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},eYe=function(t,r,n){moe(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+a:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function tYe(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var rYe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nYe=/[A-Z]|^ms/g,aYe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,goe=function(t){return t.charCodeAt(1)===45},jV=function(t){return t!=null&&typeof t!="boolean"},hP=BKe(function(e){return goe(e)?e:e.replace(nYe,"-$&").toLowerCase()}),$V=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(aYe,function(n,a,i){return Ud={name:a,styles:i,next:Ud},a})}return rYe[t]!==1&&!goe(t)&&typeof r=="number"&&r!==0?r+"px":r};function Aw(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Ud={name:a.name,styles:a.styles,next:Ud},a.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Ud={name:o.name,styles:o.styles,next:Ud},o=o.next;var s=i.styles+";";return s}return iYe(e,t,r)}case"function":{if(e!==void 0){var l=Ud,u=r(e);return Ud=l,Aw(e,t,u)}break}}var d=r;return d}function iYe(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Aw(e,t,r[a])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var s=o;jV(s)&&(n+=hP(i)+":"+$V(i,s)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var l=0;l<o.length;l++)jV(o[l])&&(n+=hP(i)+":"+$V(i,o[l])+";");else{var u=Aw(e,t,o);switch(i){case"animation":case"animationName":{n+=hP(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var BV=/label:\s*([^\s;{]+)\s*(;|$)/g,Ud;function voe(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";Ud=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,a+=Aw(r,t,i);else{var o=i;a+=o[0]}for(var s=1;s<e.length;s++)if(a+=Aw(r,t,e[s]),n){var l=i;a+=l[s]}BV.lastIndex=0;for(var u="",d;(d=BV.exec(a))!==null;)u+="-"+d[1];var f=tYe(a)+u;return{name:f,styles:a,next:Ud}}var oYe=function(t){return t()},sYe=Q2.useInsertionEffect?Q2.useInsertionEffect:!1,lYe=sYe||oYe,yoe=A.createContext(typeof HTMLElement<"u"?KKe({key:"css"}):null);yoe.Provider;var cYe=function(t){return A.forwardRef(function(r,n){var a=A.useContext(yoe);return t(r,a,n)})},uYe=A.createContext({}),_7={}.hasOwnProperty,T8="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dYe=function(t,r){var n={};for(var a in r)_7.call(r,a)&&(n[a]=r[a]);return n[T8]=t,n},fYe=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return moe(r,n,a),lYe(function(){return eYe(r,n,a)}),null},hYe=cYe(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[T8],i=[n],o="";typeof e.className=="string"?o=QKe(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var s=voe(i,void 0,A.useContext(uYe));o+=t.key+"-"+s.name;var l={};for(var u in e)_7.call(e,u)&&u!=="css"&&u!==T8&&(l[u]=e[u]);return l.className=o,r&&(l.ref=r),A.createElement(A.Fragment,null,A.createElement(fYe,{cache:t,serialized:s,isStringTag:typeof a=="string"}),A.createElement(a,l))}),pYe=hYe,UV=function(t,r){var n=arguments;if(r==null||!_7.call(r,"css"))return A.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=pYe,i[1]=dYe(t,r);for(var o=2;o<a;o++)i[o]=n[o];return A.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(UV||(UV={}));function mYe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return voe(t)}function gYe(){var e=mYe.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const Lb=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString()}catch{return"Invalid Date"}};gYe`
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
`;const vYe=({status:e})=>{if(!e)return c(Zu,{variant:"outline",className:"bg-gray-200 text-gray-700",children:"Unknown"});let t="default",r="";switch(e){case"Active":t="default",r="bg-green-100 text-green-800";break;case"Under Maintenance":t="secondary",r="bg-yellow-100 text-yellow-800 animate-blink";break;case"Retired":t="outline",r="bg-gray-200 text-gray-700";break;case"Disposed":t="destructive",r="bg-red-100 text-red-800";break;default:t="outline",r="bg-gray-200 text-gray-700";break}return c(Zu,{variant:t,className:r,children:e})},yYe=({onMarkAsServiced:e,onDisposeAsset:t,refreshTrigger:r,searchTerm:n,categoryFilter:a,statusFilter:i,tagFilter:o,onDataFiltered:s})=>{const[l,u]=A.useState([]),[d,f]=A.useState(!0),[h,m]=A.useState(null),[x,g]=A.useState("asset_name"),[y,_]=A.useState("asc"),{toast:b}=vn(),[S,C]=A.useState(!1),[E,O]=A.useState(null),T=A.useCallback(async()=>{f(!0),m(null);try{let P=Me.from("assets").select(`
        *,
        asset_tags (
          tags (id, name, color)
        )
      `);n&&(P=P.or(`asset_name.ilike.%${n}%,serial_number.ilike.%${n}%`)),a!=="all"&&(P=P.eq("category",a)),i!=="all"&&(P=P.eq("status",i)),o!=="all"&&console.warn("Tag filtering in AssetList is not fully implemented for direct client-side query. Requires RPC or subquery.");const M={ascending:y==="asc"},j=["serial_number","location","purchase_date","warranty_expiry_date","next_maintenance_due_date","status"];j.includes(x)&&y==="asc"?M.nullsFirst=!1:j.includes(x)&&y==="desc"&&(M.nullsFirst=!0),P=P.order(x,M);const{data:V,error:X}=await P;if(X)throw X;const te=(V||[]).map(z=>({...z,tags:Array.isArray(z.asset_tags)?z.asset_tags.map(G=>G.tags).filter(Boolean):[]}));u(te),s(te)}catch(P){console.error("Failed to fetch assets:",P),m(P instanceof Error?P.message:"An unknown error occurred"),b({title:"Error Fetching Assets",description:P instanceof Error?P.message:"Could not load assets.",variant:"destructive"})}finally{f(!1)}},[b,n,a,i,o,x,y,s]),I=P=>{O(P),C(!0)};A.useEffect(()=>{T()},[T,r]),A.useEffect(()=>{if(!Me)return;const P=Me.channel("assets_changes").on("postgres_changes",{event:"*",schema:"public",table:"assets"},M=>{console.log("Asset Realtime change received:",M),T()}).subscribe((M,j)=>{M==="SUBSCRIBED"&&console.log("Subscribed to asset changes!"),(M==="CHANNEL_ERROR"||M==="TIMED_OUT"||M==="CLOSED")&&console.error("Asset Realtime subscription error/closed:",M,j)});return()=>{console.log("Unsubscribing from asset changes"),Me.removeChannel(P)}},[Me,b,T]);const L=P=>{x===P?_(M=>M==="asc"?"desc":"asc"):(g(P),_("asc"))},U=P=>x!==P?c(u5,{className:"ml-2 h-4 w-4 opacity-30 group-hover:opacity-100"}):c(u5,{className:`ml-2 h-4 w-4 ${y==="asc"?"":"rotate-180"}`});return d?c("div",{className:"space-y-2",children:[...Array(5)].map((P,M)=>c(Rl,{className:"h-10 w-full"},M))}):h?w(td,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(rd,{children:"Error"}),c(nd,{children:h})]}):l.length===0?c("p",{className:"text-center text-gray-500 mt-4",children:"No assets found matching the criteria."}):w("div",{className:"rounded-md border",children:[w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:w(Le,{variant:"ghost",onClick:()=>L("asset_name"),className:"px-0 group",children:["Asset Name ",U("asset_name")]})}),c(Wt,{children:w(Le,{variant:"ghost",onClick:()=>L("category"),className:"px-0 group",children:["Category ",U("category")]})}),c(Wt,{children:"Tags"}),c(Wt,{children:w(Le,{variant:"ghost",onClick:()=>L("serial_number"),className:"px-0 group",children:["Serial No. ",U("serial_number")]})}),c(Wt,{children:w(Le,{variant:"ghost",onClick:()=>L("location"),className:"px-0 group",children:["Location ",U("location")]})}),c(Wt,{children:w(Le,{variant:"ghost",onClick:()=>L("status"),className:"px-0 group",children:["Status ",U("status")]})}),c(Wt,{className:"hidden md:table-cell",children:w(Le,{variant:"ghost",onClick:()=>L("purchase_date"),className:"px-0 group",children:["Purchase Date ",U("purchase_date")]})}),c(Wt,{className:"hidden md:table-cell",children:w(Le,{variant:"ghost",onClick:()=>L("warranty_expiry_date"),className:"px-0 group",children:["Warranty Expiry ",U("warranty_expiry_date")]})}),c(Wt,{className:"hidden md:table-cell",children:w(Le,{variant:"ghost",onClick:()=>L("last_serviced_date"),className:"px-0 group",children:["Last Serviced ",U("last_serviced_date")]})}),c(Wt,{className:"hidden md:table-cell",children:w(Le,{variant:"ghost",onClick:()=>L("next_maintenance_due_date"),className:"px-0 group",children:["Next Due ",U("next_maintenance_due_date")]})}),c(Wt,{className:"text-right",children:"Actions"})," "]})}),c(js,{children:l.map(P=>w(En,{children:[c(jt,{className:"font-medium p-2 text-center text-sm",children:P.asset_name}),c(jt,{className:"p-2 text-center text-sm",children:P.category}),c(jt,{className:"p-2 text-center text-sm",children:P.tags&&P.tags.length>0?P.tags.map(M=>c(Zu,{variant:"outline",className:"mr-1 mb-1 text-xs",style:M.color?{backgroundColor:M.color,color:"#fff",borderColor:M.color}:{},children:M.name},M.id)):"-"}),c(jt,{className:"p-2 text-center text-sm",children:P.serial_number||"N/A"}),c(jt,{className:"p-2 text-center text-sm",children:P.location||"N/A"}),c(jt,{className:"p-2 text-center text-sm",children:c(vYe,{status:P.status})}),c(jt,{className:"hidden md:table-cell p-2 text-center text-sm",children:Lb(P.purchase_date)}),c(jt,{className:"hidden md:table-cell p-2 text-center text-sm",children:Lb(P.warranty_expiry_date)}),c(jt,{className:"hidden md:table-cell p-2 text-center text-sm",children:Lb(P.last_serviced_date)}),c(jt,{className:"hidden md:table-cell p-2 text-center text-sm",children:Lb(P.next_maintenance_due_date)}),c(jt,{className:"text-right p-2 text-sm",children:w("div",{className:"flex items-center justify-end space-x-1",children:[P.service_document_url&&c(Le,{variant:"ghost",size:"icon",asChild:!0,title:"View Service Document",children:c("a",{href:P.service_document_url,target:"_blank",rel:"noopener noreferrer",children:c(wce,{className:"h-4 w-4"})})}),c(Le,{variant:"ghost",size:"icon",onClick:()=>e(P),title:"Mark as Serviced",disabled:P.status==="Retired"||P.status==="Disposed",children:c(Lce,{className:"h-4 w-4"})}),c(Le,{variant:"ghost",size:"icon",asChild:!0,title:"View Details",children:c(zi,{to:`/assets/${P.id}`,children:c(Nw,{className:"h-4 w-4"})})}),c(Le,{variant:"ghost",size:"icon",onClick:()=>t(P),title:"Dispose Asset",disabled:P.status==="Disposed"||P.status==="Retired",children:c(BH,{className:"h-4 w-4"})}),c(Le,{variant:"ghost",size:"icon",onClick:()=>I(P),title:"Set Maintenance Interval",children:c(cce,{className:"h-4 w-4"})})]})})]},P.id))})]}),S&&E&&c(yKe,{asset:E,isOpen:S,onOpenChange:C,onIntervalSet:()=>{T(),b({title:"Success",description:"Maintenance interval updated."})}})]})},b7="assets",xYe=async()=>{const{data:e,error:t}=await Me.from(b7).select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching assets:",t),new Error(t.message);return e||[]},wYe=async e=>{const t={...e,serial_number:e.serial_number||null,location:e.location||null,supplier_info:e.supplier_info||null,service_document_url:e.service_document_url||null,barcode_value:e.barcode_value||null},{data:r,error:n}=await Me.from(b7).insert([t]).select().single();if(n)throw console.error("Error adding asset:",n),n.code==="23505"?new Error(`Failed to add asset. ${n.details||"A unique value (like Serial Number or Barcode) might already exist."}`):new Error(n.message);if(!r)throw new Error("Failed to add asset, no data returned.");return r},_Ye=async(e,t)=>{const r={...t};r.serial_number===""&&(r.serial_number=null),r.location===""&&(r.location=null),r.supplier_info===""&&(r.supplier_info=null),r.service_document_url===""&&(r.service_document_url=null),r.barcode_value===""&&(r.barcode_value=null);const{data:n,error:a}=await Me.from(b7).update(r).eq("id",e).select().single();if(a)throw console.error(`Error updating asset ${e}:`,a),a.code==="23505"?a.details.includes("serial_number")?new Error("Failed to update asset. The provided Serial Number already exists."):a.details.includes("barcode_value")?new Error("Failed to update asset. The provided Barcode/QR Code Value already exists."):new Error(`Failed to update asset. ${a.details||"A unique value (like Serial Number or Barcode) might already exist."}`):new Error(a.message);if(!n)throw new Error(`Failed to update asset ${e}, no data returned.`);return n},bYe=N3({asset_name:es().min(1,{message:"Asset name is required"}),category:sw(["Equipment & Tools","Furniture","IT","Other"],{required_error:"Category is required"}),serial_number:es().optional().nullable(),location:es().optional().nullable(),purchase_date:es().optional().nullable(),purchase_price:iR.number().min(0,{message:"Price must be 0 or greater"}).optional().nullable(),warranty_expiry_date:es().optional().nullable(),last_serviced_date:es().optional().nullable(),next_maintenance_due_date:es().optional().nullable(),status:sw(["Active","Under Maintenance","Retired","Disposed"],{required_error:"Status is required"}),supplier_info:es().optional().nullable(),service_document_url:es().url({message:"Please enter a valid URL"}).optional().nullable(),barcode_value:es().optional().nullable(),requires_maintenance:aR().optional().default(!1)}),SYe=({assetToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=vn(),a=!!e,i=["Equipment & Tools","Furniture","IT","Other"],o=["Active","Under Maintenance","Retired","Disposed"],s=g=>{if(g&&i.includes(g))return g},l=g=>{if(g&&o.includes(g))return g},u=g=>{if(g)try{return new Date(g).toISOString().split("T")[0]}catch{return}},d=sd({resolver:ld(bYe),defaultValues:{asset_name:(e==null?void 0:e.asset_name)??"",category:s(e==null?void 0:e.category),serial_number:(e==null?void 0:e.serial_number)??"",location:(e==null?void 0:e.location)??"",purchase_date:u(e==null?void 0:e.purchase_date),purchase_price:e!=null&&e.purchase_price?Number(e.purchase_price):null,warranty_expiry_date:u(e==null?void 0:e.warranty_expiry_date),last_serviced_date:u(e==null?void 0:e.last_serviced_date),next_maintenance_due_date:u(e==null?void 0:e.next_maintenance_due_date),status:l(e==null?void 0:e.status)??"Active",supplier_info:(e==null?void 0:e.supplier_info)??"",service_document_url:(e==null?void 0:e.service_document_url)??"",barcode_value:(e==null?void 0:e.barcode_value)??"",requires_maintenance:(e==null?void 0:e.requires_maintenance)??!1}}),{handleSubmit:f,control:h,reset:m}=d;return A.useEffect(()=>{m(e?{asset_name:e.asset_name,category:s(e.category),serial_number:e.serial_number??"",location:e.location??"",purchase_date:u(e.purchase_date),purchase_price:e.purchase_price?Number(e.purchase_price):null,warranty_expiry_date:u(e.warranty_expiry_date),last_serviced_date:u(e.last_serviced_date),next_maintenance_due_date:u(e.next_maintenance_due_date),status:l(e.status),supplier_info:e.supplier_info??"",service_document_url:e.service_document_url??"",barcode_value:e.barcode_value??"",requires_maintenance:e.requires_maintenance??!1}:{asset_name:"",category:void 0,serial_number:"",location:"",purchase_date:"",purchase_price:null,warranty_expiry_date:"",last_serviced_date:"",next_maintenance_due_date:"",status:"Active",supplier_info:"",service_document_url:"",barcode_value:"",requires_maintenance:!1})},[e,m]),c(Dh,{...d,children:w("form",{onSubmit:f(async g=>{try{let y;const _={...g};a&&e?(y=await _Ye(e.id,_),n({title:"Success",description:"Asset updated."})):(y=await wYe(_),n({title:"Success",description:"New asset added."})),t(y)}catch(y){console.error("Failed to save asset:",y),n({title:"Error",description:`Failed to save asset: ${y instanceof Error?y.message:"Unknown error"}`,variant:"destructive"})}}),className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[c(He,{control:h,name:"asset_name",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Asset Name *"}),c(Ie,{children:c(ot,{placeholder:"e.g., Dental Chair Unit X1",...g})}),c(Ze,{})]})}),c(He,{control:h,name:"category",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Category *"}),w(Ur,{onValueChange:g.onChange,value:g.value??"",defaultValue:g.value??"",children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select a category"})})}),c($r,{children:i.map(y=>c(gt,{value:y,children:y},y))})]}),c(Ze,{})]})}),c(He,{control:h,name:"serial_number",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Serial Number"}),c(Ie,{children:c(ot,{placeholder:"Asset Serial Number",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"location",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Location"}),c(Ie,{children:c(ot,{placeholder:"e.g., Room 3, North Branch",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"status",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Status *"}),w(Ur,{onValueChange:g.onChange,value:g.value??"",defaultValue:g.value??"",children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select asset status"})})}),c($r,{children:o.map(y=>c(gt,{value:y,children:y},y))})]}),c(Ze,{})]})}),c(He,{control:h,name:"warranty_expiry_date",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Warranty Expiry"}),c(Ie,{children:c(ot,{type:"date",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"requires_maintenance",render:({field:g})=>w(Oe,{className:"md:col-span-2",children:[" ",w("div",{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[c(Ie,{children:c(Ps,{checked:g.value,onCheckedChange:g.onChange})}),w("div",{className:"space-y-1 leading-none",children:[c(Pe,{children:"Requires Maintenance"}),c(bi,{children:"Check this box if the asset currently requires maintenance."})]})]})]})}),w("div",{className:"md:col-span-2 space-y-2",children:[" ",c(Yt,{children:"Purchase Details"}),w("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 rounded-md border p-4",children:[" ",c(He,{control:h,name:"purchase_date",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Date"}),c(Ie,{children:c(ot,{type:"date",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"purchase_price",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Price"}),c(Ie,{children:c(ot,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...g,value:String(g.value??"")})}),c(Ze,{})]})})]})]}),w("div",{className:"md:col-span-2 space-y-2",children:[" ",c(Yt,{children:"Maintenance Details"}),w("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 rounded-md border p-4",children:[" ",c(He,{control:h,name:"last_serviced_date",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Last Serviced"}),c(Ie,{children:c(ot,{type:"date",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"next_maintenance_due_date",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Next Due"}),c(Ie,{children:c(ot,{type:"date",...g,value:g.value??""})}),c(Ze,{})]})})]})]}),c(He,{control:h,name:"supplier_info",render:({field:g})=>w(Oe,{className:"md:col-span-2",children:[" ",c(Pe,{children:"Supplier Info"}),c(Ie,{children:c(Yr,{placeholder:"Supplier name, contact, notes...",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"service_document_url",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Service Doc URL"}),c(Ie,{children:c(ot,{type:"url",placeholder:"https://example.com/invoice.pdf",...g,value:g.value??""})}),c(Ze,{})]})}),c(He,{control:h,name:"barcode_value",render:({field:g})=>w(Oe,{children:[c(Pe,{children:"Barcode/QR"}),c(Ie,{children:c(ot,{placeholder:"Scan or enter code",...g,value:g.value??""})}),c(Ze,{})]})}),w("div",{className:"md:col-span-2 space-y-2 pt-2",children:[c(Yt,{children:"Tags"}),c("div",{className:"p-4 border rounded-md min-h-[60px] text-muted-foreground",children:"Tag management UI will be implemented here. (e.g., Multi-select combobox)"})]}),w("div",{className:"md:col-span-2 flex justify-end space-x-2 pt-4",children:[" ",c(Le,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),c(Le,{type:"submit",disabled:d.formState.isSubmitting,children:d.formState.isSubmitting?"Saving...":a?"Update Asset":"Add Asset"})]})]})})},AYe=({asset:e,open:t,onOpenChange:r,onSuccess:n})=>{const[a,i]=A.useState(""),[o,s]=A.useState(""),[l,u]=A.useState(void 0),[d,f]=A.useState([]),[h,m]=A.useState(!1),[x,g]=A.useState(!1),{toast:y}=vn();A.useEffect(()=>{(async()=>{if(e!=null&&e.id&&t){g(!0);const{data:S,error:C}=await Me.from("asset_documents").select("id, file_name").eq("asset_id",e.id).order("uploaded_at",{ascending:!1});C?(console.error("Error fetching asset documents for dialog:",C),y({title:"Error",description:"Could not load documents for invoice selection.",variant:"destructive"})):f(S||[]),g(!1)}else t||f([])})()},[e,t,y]),A.useEffect(()=>{t&&(i(""),s(""),u(void 0))},[t,e]);const _=async()=>{if(!e||!e.id){y({title:"Error",description:"No asset selected.",variant:"destructive"});return}if(!e.maintenance_interval_months||e.maintenance_interval_months<=0){y({title:"Configuration Error",description:"Maintenance interval is not set for this asset. Please edit the asset to set a valid maintenance interval.",variant:"destructive"});return}const{data:{user:b},error:S}=await Me.auth.getUser();if(S||!b){y({title:"Authentication Error",description:"Could not get current user. Please ensure you are logged in.",variant:"destructive"});return}const C=b.id,E=parseFloat(o)||0;m(!0);try{const{error:O}=await Me.rpc("mark_asset_as_serviced",{p_asset_id:e.id,p_serviced_by_user_id:C,p_service_notes:a,p_maintenance_cost:E,p_invoice_document_id:l||null});if(O)throw O;y({title:"Success",description:`${e.asset_name} marked as serviced.`}),n(),r(!1)}catch(O){console.error("Error marking asset as serviced:",O),y({title:"Error",description:O.message||"Could not mark asset as serviced.",variant:"destructive"})}finally{m(!1)}};return e?c(Za,{open:t,onOpenChange:r,children:w(Da,{className:"sm:max-w-md",children:[c(Ia,{children:w(Ra,{children:["Mark as Serviced: ",e.asset_name]})}),w("div",{className:"py-4 grid gap-4",children:[w("div",{children:[w("p",{children:[c("strong",{children:"Asset:"})," ",e.asset_name]}),w("p",{children:[c("strong",{children:"Last Serviced:"})," ",e.last_serviced_date?new Date(e.last_serviced_date).toLocaleDateString():"N/A"]}),w("p",{children:[c("strong",{children:"Next Due:"})," ",e.next_maintenance_due_date?new Date(e.next_maintenance_due_date).toLocaleDateString():"N/A"]})]}),w("div",{children:[c(Yt,{htmlFor:"maintenance-cost",children:"Maintenance Cost (₹)"}),c(ot,{id:"maintenance-cost",type:"number",value:o,onChange:b=>s(b.target.value),placeholder:"0.00"})]}),w("div",{children:[c(Yt,{htmlFor:"invoice-document",children:"Link Invoice (Optional)"}),w(Ur,{onValueChange:u,value:l,children:[c(jr,{id:"invoice-document",disabled:x||d.length===0,children:c(qr,{placeholder:x?"Loading documents...":d.length===0?"No documents available":"Select an invoice"})}),w($r,{children:[c(gt,{value:"none",children:"None"}),d.map(b=>c(gt,{value:b.id,children:b.file_name},b.id))]})]}),d.length===0&&!x&&c("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload documents on the asset detail page first."})]}),w("div",{children:[c(Yt,{htmlFor:"service-notes",children:"Service Notes (Optional)"}),c(Yr,{id:"service-notes",value:a,onChange:b=>i(b.target.value),placeholder:"Enter any notes about the service performed..."})]}),(!e.maintenance_interval_months||e.maintenance_interval_months<=0)&&c("p",{className:"text-sm text-destructive",children:"Warning: Maintenance interval is not set for this asset. The next due date cannot be calculated automatically. Please edit the asset to set a maintenance interval."})]}),w(lo,{children:[c(y3,{asChild:!0,children:c(Le,{variant:"outline",children:"Cancel"})}),c(Le,{onClick:_,disabled:h||!e.maintenance_interval_months||e.maintenance_interval_months<=0,children:h?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirm Service"})]})]})}):null},kYe=["Sold","Scrapped","Donated","Stolen","Obsolete","Other"],NYe=({asset:e,open:t,onOpenChange:r,onSuccess:n})=>{const[a,i]=A.useState(new Date),[o,s]=A.useState(void 0),[l,u]=A.useState(""),[d,f]=A.useState(""),[h,m]=A.useState(!1),{toast:x}=vn();A.useEffect(()=>{t&&(i(new Date),s(void 0),u(""),f(""))},[t,e]);const g=async()=>{if(!e||!e.id){x({title:"Error",description:"No asset selected.",variant:"destructive"});return}if(!a){x({title:"Validation Error",description:"Disposal date is required.",variant:"destructive"});return}if(!o){x({title:"Validation Error",description:"Disposal reason is required.",variant:"destructive"});return}const{data:{user:y},error:_}=await Me.auth.getUser();if(_||!y){x({title:"Authentication Error",description:"Could not get current user.",variant:"destructive"});return}m(!0);try{const b=parseFloat(d)||0,S=Vt(a,"yyyy-MM-dd"),{error:C}=await Me.rpc("dispose_asset",{p_asset_id:e.id,p_disposed_by_user_id:y.id,p_disposal_date:S,p_disposal_reason:o,p_salvage_value:b,p_disposal_notes:l});if(C)throw C;x({title:"Success",description:`${e.asset_name} marked as disposed.`}),n(),r(!1)}catch(b){console.error("Error disposing asset:",b),x({title:"Error",description:b.message||"Could not dispose asset.",variant:"destructive"})}finally{m(!1)}};return e?c(Za,{open:t,onOpenChange:r,children:w(Da,{className:"sm:max-w-[500px]",children:[c(Ia,{children:w(Ra,{children:["Dispose Asset: ",e.asset_name]})}),w("div",{className:"py-4 grid gap-4",children:[w("div",{children:[c(Yt,{htmlFor:"disposal-date",children:"Disposal Date"}),w(cg,{children:[c(ug,{asChild:!0,children:w(Le,{variant:"outline",className:Rt("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[c(yo,{className:"mr-2 h-4 w-4"}),a?Vt(a,"PPP"):c("span",{children:"Pick a date"})]})}),c(gm,{className:"w-auto p-0",children:c(vm,{mode:"single",selected:a,onSelect:i,initialFocus:!0})})]})]}),w("div",{children:[c(Yt,{htmlFor:"disposal-reason",children:"Reason"}),w(Ur,{onValueChange:y=>s(y),value:o,children:[c(jr,{id:"disposal-reason",children:c(qr,{placeholder:"Select disposal reason"})}),c($r,{children:kYe.map(y=>c(gt,{value:y,children:y},y))})]})]}),w("div",{children:[c(Yt,{htmlFor:"salvage-value",children:"Salvage Value (₹)"}),c(ot,{id:"salvage-value",type:"number",value:d,onChange:y=>f(y.target.value),placeholder:"0.00"})]}),w("div",{children:[c(Yt,{htmlFor:"disposal-notes",children:"Notes (Optional)"}),c(Yr,{id:"disposal-notes",value:l,onChange:y=>u(y.target.value),placeholder:"Enter any additional notes about the disposal..."})]})]}),w(lo,{children:[c(y3,{asChild:!0,children:c(Le,{variant:"outline",children:"Cancel"})}),c(Le,{onClick:g,disabled:h||!a||!o,children:h?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):"Confirm Disposal"})]})]})}):null},EYe=()=>{const[e,t]=A.useState(!1),[r,n]=A.useState(null),[a,i]=A.useState(null),[o,s]=A.useState(!1),[l,u]=A.useState(null),[d,f]=A.useState(!1),[h,m]=A.useState(0),[x,g]=A.useState(""),[y,_]=A.useState("all"),[b,S]=A.useState("all"),[C,E]=A.useState("all"),[O,T]=A.useState([]),[I,L]=A.useState([]);A.useEffect(()=>{(async()=>{const{data:D,error:K}=await Me.from("tags").select("id, name").order("name");K?console.error("Error fetching tags:",K):T(D||[])})()},[]);const U=Z=>{n(null),t(!0)},P=()=>{t(!1),n(null)},M=Z=>{i(Z),s(!0)},j=Z=>{u(Z),f(!0)},V=()=>{m(Z=>Z+1)},X=Z=>{console.log("Asset saved:",Z),P(),m(D=>D+1)},te=Z=>{g(Z.target.value),m(D=>D+1)},z=Z=>{_(Z),m(D=>D+1)},G=Z=>{S(Z),m(D=>D+1)},q=Z=>{E(Z),m(D=>D+1)},Y=A.useCallback(Z=>{L(Z)},[]);return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(ka,{heading:"Asset Management"})," ",w("div",{className:"mb-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[w("div",{className:"flex flex-col md:flex-row gap-2 flex-grow",children:[c(ot,{placeholder:"Search by name or serial...",value:x,onChange:te,className:"max-w-sm"}),w(Ur,{value:y,onValueChange:z,children:[c(jr,{className:"w-full md:w-[180px]",children:c(qr,{placeholder:"Filter by Category"})}),w($r,{children:[c(gt,{value:"all",children:"All Categories"}),c(gt,{value:"Equipment",children:"Equipment"}),c(gt,{value:"Furniture",children:"Furniture"}),c(gt,{value:"IT",children:"IT"}),c(gt,{value:"Other",children:"Other"})]})]}),w(Ur,{value:b,onValueChange:G,children:[c(jr,{className:"w-full md:w-[180px]",children:c(qr,{placeholder:"Filter by Status"})}),w($r,{children:[c(gt,{value:"all",children:"All Statuses"}),c(gt,{value:"Active",children:"Active"}),c(gt,{value:"Under Maintenance",children:"Under Maintenance"}),c(gt,{value:"Retired",children:"Retired"}),c(gt,{value:"Disposed",children:"Disposed"})]})]}),w(Ur,{value:C,onValueChange:q,children:[c(jr,{className:"w-full md:w-[180px]",children:c(qr,{placeholder:"Filter by Tag"})}),w($r,{children:[c(gt,{value:"all",children:"All Tags"}),O.map(Z=>c(gt,{value:Z.id,children:Z.name},Z.id))]})]})]}),c("div",{className:"flex gap-2",children:w(Za,{open:e,onOpenChange:t,children:[c(Hw,{asChild:!0,children:w(Le,{onClick:()=>U(),children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add New Asset"]})}),w(Da,{className:"sm:max-w-[600px]",children:[c(Ia,{children:c(Ra,{children:r?"Edit Asset":"Add New Asset"})}),c(SYe,{assetToEdit:r,onSave:X,onCancel:P})]})]})})]}),c(yYe,{onMarkAsServiced:M,onDisposeAsset:j,refreshTrigger:h,searchTerm:x,categoryFilter:y,statusFilter:b,onDataFiltered:Y}),a&&c(AYe,{asset:a,open:o,onOpenChange:s,onSuccess:V}),l&&c(NYe,{asset:l,open:d,onOpenChange:f,onSuccess:V})]})},CYe=()=>{var C,E;const{assetId:e}=ny(),[t,r]=A.useState(null),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState([]),[u,d]=A.useState(!0),[f,h]=A.useState(null),[m,x]=A.useState(!1),g=Qe.useRef(null),{toast:y}=vn(),_=async()=>{if(!e)return;const{data:O,error:T}=await Me.from("asset_documents").select("*").eq("asset_id",e).order("uploaded_at",{ascending:!1});T?console.error("Error fetching documents:",T):o(O||[])};A.useEffect(()=>{(async()=>{if(!e){h("Asset ID is missing."),d(!1);return}d(!0),h(null);try{const{data:T,error:I}=await Me.from("assets").select(`
            *,
            asset_tags (
              tag_id,
              tags (id, name, color)
            )
          `).eq("id",e).single();if(I)throw I;const L=T?{...T,tags:Array.isArray(T.asset_tags)?T.asset_tags.map(V=>V.tags).filter(Boolean):[]}:null;r(L);const{data:U,error:P}=await Me.from("maintenance_log").select("*").eq("asset_id",e).order("serviced_at",{ascending:!1});if(P)throw P;a(U||[]);const{data:M,error:j}=await Me.from("asset_documents").select("*").eq("asset_id",e).order("uploaded_at",{ascending:!1});if(j)throw j;if(o(M||[]),T&&(T.status==="Disposed"||T.status==="Retired")){const{data:V,error:X}=await Me.from("asset_disposal_log").select("*").eq("asset_id",e).order("disposal_recorded_at",{ascending:!1});if(X)throw X;l(V||[])}}catch(T){console.error("Failed to fetch asset details:",T),h(T.message||"An unknown error occurred")}finally{d(!1)}})()},[e]);const b=async O=>{const T=O.target.files;if(!T||T.length===0||!e)return;const I=T[0];x(!0);try{const{data:{user:L},error:U}=await Me.auth.getUser();if(U||!L)throw new Error("User not authenticated.");const P=`public/${e}/${Date.now()}_${I.name}`,{error:M}=await Me.storage.from("asset-documents").upload(P,I);if(M)throw M;const{data:j}=Me.storage.from("asset-documents").getPublicUrl(P);if(!(j!=null&&j.publicUrl))throw new Error("Could not get public URL.");const{error:V}=await Me.from("asset_documents").insert({asset_id:e,file_name:I.name,file_url:j.publicUrl,file_type:I.type,file_size_bytes:I.size,uploaded_by_user_id:L.id});if(V)throw V;y({title:"Success",description:"Document uploaded successfully."}),_()}catch(L){console.error("Error uploading document:",L),y({title:"Upload Error",description:L.message||"Failed to upload document.",variant:"destructive"})}finally{x(!1),g.current&&(g.current.value="")}};if(u)return w("div",{className:"container mx-auto p-4 md:p-6 space-y-4",children:[c(Rl,{className:"h-8 w-1/4"}),c(Rl,{className:"h-40 w-full"}),c(Rl,{className:"h-40 w-full"})]});if(f)return c("div",{className:"container mx-auto p-4 md:p-6",children:w(td,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(rd,{children:"Error"}),c(nd,{children:f})]})});if(!t)return c("div",{className:"container mx-auto p-4 md:p-6",children:"Asset not found."});const S=O=>{if(!O)return"N/A";try{const T=new Date(O);return O.includes("T")?T.toLocaleString():T.toLocaleDateString()}catch{return"Invalid Date"}};return w("div",{className:"container mx-auto p-4 md:p-6 space-y-6",children:[c(ka,{heading:`Asset Details: ${t.asset_name}`}),w(cr,{children:[c(yr,{children:c(xr,{children:"Asset Information"})}),w(vr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c("strong",{children:"Name:"})," ",t.asset_name]}),w("div",{children:[c("strong",{children:"Category:"})," ",t.category]}),w("div",{children:[c("strong",{children:"Serial Number:"})," ",t.serial_number||"N/A"]}),w("div",{children:[c("strong",{children:"Location:"})," ",t.location||"N/A"]}),w("div",{children:[c("strong",{children:"Status:"})," ",t.status]}),w("div",{children:[c("strong",{children:"Purchase Date:"})," ",S(t.purchase_date)]}),w("div",{children:[c("strong",{children:"Warranty Expiry:"})," ",S(t.warranty_expiry_date)]}),w("div",{children:[c("strong",{children:"Supplier Info:"})," ",t.supplier_info||"N/A"]}),w("div",{children:[c("strong",{children:"Maintenance Interval:"})," ",t.maintenance_interval_months?`${t.maintenance_interval_months} months`:"Not Set"]}),w("div",{children:[c("strong",{children:"Last Serviced:"})," ",S(t.last_serviced_date)]}),w("div",{children:[c("strong",{children:"Next Due:"})," ",S(t.next_maintenance_due_date)]}),w("div",{children:[c("strong",{children:"Purchase Cost:"})," ₹",((C=t.purchase_price)==null?void 0:C.toFixed(2))||"0.00"]}),w("div",{className:"md:col-span-2",children:[c("strong",{children:"Tags:"}),t.tags&&t.tags.length>0?c("span",{className:"ml-2",children:t.tags.map(O=>c(Zu,{variant:"secondary",className:"mr-1 mb-1",style:O.color?{backgroundColor:O.color,color:"#fff"}:{},children:O.name},O.id))}):c("span",{className:"ml-2 text-muted-foreground",children:"No tags"})]})]})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Cost Tracking"})}),c(vr,{children:(()=>{const O=t.purchase_price||0,T=n.reduce((U,P)=>U+(P.maintenance_cost||0),0),I=(t.status==="Disposed"||t.status==="Retired")&&t.salvage_value||0,L=O+T-I;return w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c("strong",{children:"Purchase Cost:"})," ₹",O.toFixed(2)]}),w("div",{children:[c("strong",{children:"Total Maintenance Cost:"})," ₹",T.toFixed(2)]}),(t.status==="Disposed"||t.status==="Retired")&&w("div",{children:[c("strong",{children:"Salvage Value:"})," ₹",I.toFixed(2)]}),w("div",{children:[c("strong",{children:"Total Cost of Ownership:"})," ₹",L.toFixed(2)]})]})})()})]}),(t.status==="Disposed"||t.status==="Retired")&&t.disposal_date&&w(cr,{className:"border-destructive",children:[c(yr,{children:c(xr,{className:"text-destructive",children:"Disposal Information"})}),w(vr,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c("strong",{children:"Disposal Date:"})," ",S(t.disposal_date)]}),w("div",{children:[c("strong",{children:"Reason:"})," ",t.disposal_reason||"N/A"]}),w("div",{children:[c("strong",{children:"Salvage Value:"})," ₹",((E=t.salvage_value)==null?void 0:E.toFixed(2))||"0.00"]}),t.disposal_notes&&w("div",{className:"md:col-span-2",children:[c("strong",{children:"Notes:"})," ",t.disposal_notes]})]})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Maintenance History"})}),c(vr,{children:n.length>0?c("div",{className:"overflow-x-auto",children:w("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c("thead",{className:"bg-gray-50",children:w("tr",{children:[c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Serviced At"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Prev. Next Due"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"New Next Due"})]})}),c("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(O=>{var I;const T=i.find(L=>L.id===O.invoice_document_id);return w("tr",{children:[c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.serviced_at)}),w("td",{className:"px-4 py-2 whitespace-nowrap",children:["₹",((I=O.maintenance_cost)==null?void 0:I.toFixed(2))||"0.00"]}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:T?c("a",{href:T.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:T.file_name}):O.invoice_document_id?"Invoice not found":"-"}),c("td",{className:"px-4 py-2",children:O.notes||"-"}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.previous_next_maintenance_due_date)}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.new_next_maintenance_due_date)})]},O.id)})})]})}):c("p",{className:"text-gray-500",children:"No maintenance history recorded."})})]}),s.length>0&&w(cr,{children:[c(yr,{children:c(xr,{children:"Disposal Log"})}),c(vr,{children:c("div",{className:"overflow-x-auto",children:w("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c("thead",{className:"bg-gray-50",children:w("tr",{children:[c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Recorded At"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Disposal Date"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Salvage Value (₹)"}),c("th",{scope:"col",className:"px-4 py-2 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),c("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(O=>{var T;return w("tr",{children:[c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.disposal_recorded_at)}),c("td",{className:"px-4 py-2 whitespace-nowrap",children:S(O.disposal_date)}),c("td",{className:"px-4 py-2",children:O.disposal_reason}),w("td",{className:"px-4 py-2 whitespace-nowrap",children:["₹",((T=O.salvage_value)==null?void 0:T.toFixed(2))||"0.00"]}),c("td",{className:"px-4 py-2",children:O.disposal_notes||"-"})]},O.id)})})]})})})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Documents"})}),w(vr,{children:[i.length>0?c("ul",{children:i.map(O=>w("li",{children:[c("a",{href:O.file_url,target:"_blank",rel:"noopener noreferrer",children:O.file_name})," (Uploaded: ",S(O.uploaded_at),")"]},O.id))}):c("p",{children:"No documents uploaded."}),w("div",{className:"mt-4 border-t pt-4",children:[c("h4",{className:"font-semibold mb-2",children:"Upload New Document"}),w("div",{className:"flex items-center gap-2",children:[c(ot,{type:"file",ref:g,onChange:b,disabled:m,className:"flex-grow"}),w(Le,{size:"sm",onClick:()=>{var O;return(O=g.current)==null?void 0:O.click()},disabled:m,children:[m?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(nx,{className:"mr-2 h-4 w-4"}),m?"Uploading...":"Choose File"]})]})]})]})]})]})};function S7({className:e,date:t,onDateChange:r}){return c("div",{className:Rt("grid gap-2",e),children:w(cg,{children:[c(ug,{asChild:!0,children:w(Le,{id:"date",variant:"outline",className:Rt("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[c(yo,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?w(Sr,{children:[Vt(t.from,"LLL dd, y")," -"," ",Vt(t.to,"LLL dd, y")]}):Vt(t.from,"LLL dd, y"):c("span",{children:"Pick a date range"})]})}),c(gm,{className:"w-auto p-0",align:"start",children:c(vm,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:r,numberOfMonths:2})})]})})}const jb=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],qV={"In Stock":"#22C55E","Low Stock":"#FBBF24",Expired:"#F87171"},zV=["#4F46E5","#A5B4FC"],TYe=({inventoryData:e=[],logData:t=[]})=>{const r=A.useMemo(()=>{const l={Medicines:0,Tools:0,Consumables:0};return e.forEach(u=>{const d=u.category;d&&l[d]!==void 0&&l[d]++}),Object.entries(l).map(([u,d])=>({name:u,value:d}))},[e]),n=A.useMemo(()=>{const l={"In Stock":0,"Low Stock":0,Expired:0};return e.forEach(u=>{l[u.stock_status]!==void 0&&l[u.stock_status]++}),Object.entries(l).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]);e.length;const a=r.reduce((l,u)=>l+u.value,0),i=n.reduce((l,u)=>l+u.value,0),o=()=>{var h;const l=e.reduce((m,x)=>m+(x.quantity||0),0),u=[...t].sort((m,x)=>new Date(m.created_at).getTime()-new Date(x.created_at).getTime()),d=new Map;if(u.length===0){const m=Date.now();d.set(m,{timestamp:m,name:new Date(m).toLocaleDateString(),value:l})}else{const m=u.reduce((O,T)=>O+T.quantity_change,0),x=l-m,y=new Date(u[0].created_at).getTime()-1;d.set(y,{timestamp:y,name:new Date(y).toLocaleDateString(),value:x});let _=x;u.forEach(O=>{_+=O.quantity_change;const T=new Date(O.created_at).getTime();d.set(T,{timestamp:T,name:new Date(T).toLocaleDateString(),value:_})});const b=Array.from(d.keys()).pop()??y,S=Date.now(),C=24*60*60*1e3;(((h=d.get(b))==null?void 0:h.value)!==l||S-b>C)&&d.set(S,{timestamp:S,name:new Date(S).toLocaleDateString(),value:l})}return Array.from(d.values())},s=(l,u)=>{const{payload:d}=l;return c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:d.map((f,h)=>{const m=u>0?(f.payload.value/u*100).toFixed(1):0;return w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:f.color}}),f.payload.name," (",m,"%)"]},`legend-${f.payload.name}-${h}`)})})};return w("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[" ",w(cr,{children:[c(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(xr,{className:"text-sm font-medium",children:"Items by Category"})}),w(vr,{className:"flex flex-col items-center pt-4",children:[" ",c(ks,{width:"100%",height:220,children:w(Kp,{children:[c(Is,{data:r,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:r.map((l,u)=>c(Vc,{fill:jb[u%jb.length],stroke:jb[u%jb.length]},`cell-cat-${u}`))}),c(Ga,{formatter:(l,u)=>[`${l} (${a>0?(l/a*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Vu,{content:l=>s(l,a)})]})})]})]}),w(cr,{children:[c(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(xr,{className:"text-sm font-medium",children:"Items by Status"})}),w(vr,{className:"flex flex-col items-center pt-4",children:[" ",c(ks,{width:"100%",height:220,children:w(Kp,{children:[c(Is,{data:n,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:n.map((l,u)=>c(Vc,{fill:qV[l.name],stroke:qV[l.name]},`cell-stat-${u}`))}),c(Ga,{formatter:(l,u)=>[`${l} (${i>0?(l/i*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Vu,{content:l=>s(l,i)})]})})]})]}),w(cr,{className:"md:col-span-2 lg:col-span-3",children:[" ",w(yr,{className:"pb-2",children:[" ",c(xr,{className:"text-sm font-medium",children:"Item Quantities"}),c("p",{className:"text-xs text-muted-foreground",children:"Current stock vs. low stock threshold"})," "]}),w(vr,{className:"pb-4 pl-2 pr-4",children:[" ",c(ks,{width:"100%",height:300,children:w(Hx,{data:e,margin:{top:5,right:5,left:-10,bottom:5},barGap:4,barCategoryGap:"20%",children:[c(Pl,{dataKey:"item_name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"10px"},interval:0,angle:-45,textAnchor:"end",height:60}),c(Ol,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1}),c(Ga,{cursor:{fill:"rgba(79, 70, 229, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(l,u)=>[`${l}`,u==="quantity"?"Quantity":"Low Stock Threshold"]}),c(eu,{dataKey:"quantity",fill:zV[0],name:"Quantity",radius:[4,4,0,0],barSize:10}),c(eu,{dataKey:"low_stock_threshold",fill:zV[1],name:"Low Stock Threshold",radius:[4,4,0,0],barSize:10})]})})]})]}),w(cr,{className:"md:col-span-2 lg:col-span-3",children:[w(yr,{className:"flex flex-row items-center justify-between pb-2",children:[" ",w("div",{children:[c(xr,{className:"text-sm font-medium",children:"Overall Inventory Trend"}),c("p",{className:"text-xs text-muted-foreground",children:"Total quantity changes over time"})," "]})]}),w(vr,{className:"pb-4 pl-2 pr-4",children:[" ",c(ks,{width:"100%",height:300,children:w(see,{data:o(),margin:{top:5,right:10,left:-10,bottom:5},children:[c("defs",{children:w("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[c("stop",{offset:"5%",stopColor:"#4F46E5",stopOpacity:.8}),c("stop",{offset:"95%",stopColor:"#4F46E5",stopOpacity:0})]})}),c(zI,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--muted))"}),c(Pl,{dataKey:"timestamp",type:"number",domain:["dataMin","dataMax"],axisLine:!1,tickLine:!1,tickFormatter:l=>new Date(l).toLocaleDateString(),dy:10,style:{fontSize:"12px"}}),c(Ol,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1,domain:[0,"dataMax + 10"]}),c(Ga,{contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:(l,u,d)=>[`Total Quantity: ${l}`,d.payload.name]}),c(Oh,{type:"monotone",dataKey:"value",connectNulls:!0,stroke:"#4F46E5",fillOpacity:1,fill:"url(#colorValue)",strokeWidth:2,dot:{r:4,fill:"#4F46E5",stroke:"#fff",strokeWidth:2},activeDot:{r:6},name:"Total Quantity"})]})})]})]})]})},PYe=["Medicines","Tools","Consumables"],OYe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,s]=A.useState(null),[l,u]=A.useState(void 0),[d,f]=A.useState("all"),[h,m]=A.useState(""),[x,g]=A.useState({inventoryLevelStatus:{},upcomingExpiryItems:[]}),[y,_]=A.useState([]);A.useEffect(()=>{(async()=>{i(!0),s(null);try{const U=(await kR()).map(X=>({...X,stock_status:X.quantity>X.low_stock_threshold?"In Stock":"Low Stock"}));t(U),n(U);const P=new Date(0).toISOString(),M=new Date().toISOString(),j=await Hz(P,M);_(j);const V=await b(U);g(V)}catch(L){const U=L instanceof Error?L.message:"Failed to load initial inventory or log data";s(U),console.error("Error fetching initial data:",L)}finally{i(!1)}})()},[]),A.useEffect(()=>{let I=[...e];l!=null&&l.from&&(l!=null&&l.to)?I=I.filter(L=>{const U=new Date(L.created_at);return U>=l.from&&U<=l.to}):l!=null&&l.from?I=I.filter(L=>new Date(L.created_at)>=l.from):l!=null&&l.to&&(I=I.filter(L=>new Date(L.created_at)<=l.to)),d!=="all"&&(I=I.filter(L=>L.category===d)),h&&(I=I.filter(L=>{var U;return(U=L.supplier_info)==null?void 0:U.toLowerCase().includes(h.toLowerCase())})),n(I)},[l,d,h,e]),A.useEffect(()=>{(async()=>{if(l!=null&&l.from&&(l!=null&&l.to)){i(!0),s(null);try{const L=l.from.toISOString(),U=l.to.toISOString(),P=await Hz(L,U);_(P)}catch(L){s(`Error fetching inventory log data: ${L instanceof Error?L.message:String(L)}`)}finally{i(!1)}}else _([])})()},[l]);const b=async I=>{const L=I.reduce((P,M)=>(M.stock_status==="Low Stock"&&(P[M.item_name]=M.quantity),P),{}),U=I.filter(P=>{if(!P.expiry_date)return!1;const M=new Date(P.expiry_date),j=new Date;return j.setDate(j.getDate()+90),M<=j}).sort((P,M)=>new Date(P.expiry_date).getTime()-new Date(M.expiry_date).getTime());return{inventoryLevelStatus:L,upcomingExpiryItems:U}},S=I=>I?new Date(I).toLocaleDateString():"N/A",C=(I,L="Inventory Report")=>{const U=new Lr;U.text(L,14,15);const P=["ID","Name","Category","Quantity","Unit Price","Supplier","Expiry Date","Status"],M=[];I.forEach(j=>{const V=[j.id,j.item_name,j.category,j.quantity,j.purchase_price??"N/A",j.supplier_info??"N/A",S(j.expiry_date),j.stock_status];M.push(V)}),v7(U,{head:[P],body:M,startY:20}),U.save(`${L.replace(/\s+/g,"_")}.pdf`)},E=(I,L="Inventory Report")=>{const U=I.map(j=>({ID:j.id,Name:j.item_name,Category:j.category,Quantity:j.quantity,"Unit Price":j.purchase_price??"N/A",Supplier:j.supplier_info??"N/A","Expiry Date":S(j.expiry_date),Status:j.stock_status,"Low Stock Threshold":j.low_stock_threshold,"Created At":S(j.created_at)})),P=rf.json_to_sheet(U),M=rf.book_new();rf.book_append_sheet(M,P,"Inventory"),u7(M,`${L.replace(/\s+/g,"_")}.xlsx`)},O=()=>{if(console.log("Generating Stock Report with data:",r),r.length===0){s("No data available to generate report.");return}s(null);try{C(r,"Stock Report"),E(r,"Stock Report")}catch(I){console.error("Error generating stock report:",I),s(`Error generating stock report: ${I instanceof Error?I.message:String(I)}`)}},T=()=>{const I=new Date,L=new Date;L.setDate(I.getDate()+90);const U=r.filter(P=>P.expiry_date?new Date(P.expiry_date)<=L:!1).sort((P,M)=>{const j=P.expiry_date?new Date(P.expiry_date).getTime():0,V=M.expiry_date?new Date(M.expiry_date).getTime():0;return j-V});if(console.log("Generating Expiry Report with data:",U),U.length===0){s("No items expiring soon to generate report.");return}s(null);try{C(U,"Expiry Report (Next 90 Days)"),E(U,"Expiry Report (Next 90 Days)")}catch(P){console.error("Error generating expiry report:",P),s(`Error generating expiry report: ${P instanceof Error?P.message:String(P)}`)}};return w("div",{className:"space-y-4",children:[w(cr,{children:[c(yr,{children:c(xr,{children:"Filters"})}),w(vr,{className:"flex flex-col md:flex-row gap-4 items-end",children:[" ",w("div",{className:"flex-1",children:[c("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Date Range (Created At)"}),c(S7,{date:l,onDateChange:u})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"inv-category-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Category"}),w(Ur,{value:d,onValueChange:I=>f(I),children:[c(jr,{id:"inv-category-filter",children:c(qr,{placeholder:"Filter by Category"})}),w($r,{children:[c(gt,{value:"all",children:"All Categories"}),PYe.map(I=>c(gt,{value:I,children:I},I))]})]})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"inv-supplier-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Supplier"}),c(ot,{id:"inv-supplier-filter",placeholder:"Filter by supplier...",value:h,onChange:I=>m(I.target.value)})]})]})]}),w("div",{className:"flex gap-2",children:[c(Le,{onClick:O,disabled:a,children:"Generate Stock Report"}),c(Le,{onClick:T,variant:"outline",disabled:a,children:"Generate Expiry Report"})]}),a&&c("p",{children:"Loading report data..."}),o&&w(td,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(rd,{children:"Error"}),c(nd,{children:o})]}),w("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[w(cr,{children:[w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Low Stock Items"}),c(dc,{className:"h-4 w-4 text-muted-foreground text-red-500"})]}),w(vr,{children:[c("div",{className:"text-2xl font-bold",children:Object.keys(x.inventoryLevelStatus).length}),w("ul",{className:"text-xs text-muted-foreground list-disc pl-4",children:[Object.entries(x.inventoryLevelStatus).slice(0,5).map(([I,L])=>w("li",{children:[I," (",L,")"]},I)),Object.keys(x.inventoryLevelStatus).length>5&&c("li",{children:"...and more"})]}),Object.keys(x.inventoryLevelStatus).length===0&&c("p",{className:"text-xs text-muted-foreground",children:"No items currently low on stock."})]})]}),w(cr,{children:[w(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Upcoming Expiry (90 days)"}),c(dc,{className:"h-4 w-4 text-muted-foreground text-orange-500"})]}),w(vr,{children:[c("div",{className:"text-2xl font-bold",children:x.upcomingExpiryItems.length}),w("ul",{className:"text-xs text-muted-foreground list-disc pl-4",children:[x.upcomingExpiryItems.slice(0,5).map(I=>w("li",{children:[I.item_name," (",S(I.expiry_date),")"]},I.id)),x.upcomingExpiryItems.length>5&&c("li",{children:"...and more"})]}),x.upcomingExpiryItems.length===0&&c("p",{className:"text-xs text-muted-foreground",children:"No items expiring soon."})]})]})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Report Data Preview & Charts"})}),w(vr,{children:[w("p",{className:"text-muted-foreground mb-4",children:["Filtered Items: ",r.length]}),c(TYe,{inventoryData:r,logData:y})]})]})]})},$b=["#4F46E5","#60A5FA","#34D399","#FBBF24","#F87171"],WV={Active:"#22C55E","Under Maintenance":"#FBBF24",Retired:"#9CA3AF",Disposed:"#F87171"},DYe="#8B5CF6",IYe="#F59E0B",RYe=({assetData:e=[]})=>{const t=A.useMemo(()=>{const l={"Equipment & Tools":0,Furniture:0,IT:0,Other:0};return e.forEach(u=>{const d=u.category;d&&l[d]!==void 0&&l[d]++}),Object.entries(l).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]),r=A.useMemo(()=>{const l={Active:0,"Under Maintenance":0,Retired:0,Disposed:0};return e.forEach(u=>{const d=u.status;d&&l[d]!==void 0&&l[d]++}),Object.entries(l).map(([u,d])=>({name:u,value:d})).filter(u=>u.value>0)},[e]),n=A.useMemo(()=>{const l={"0-500":0,"501-2000":0,"2001-10000":0,"10001+":0};return e.forEach(u=>{const d=u.purchase_price??0;d<=500?l["0-500"]++:d<=2e3?l["501-2000"]++:d<=1e4?l["2001-10000"]++:l["10001+"]++}),Object.entries(l).map(([u,d])=>({name:u,value:d}))},[e]),a=A.useMemo(()=>{const l=new Date;return e.filter(d=>d.next_maintenance_due_date).map(d=>({...d,daysUntilDue:q0e(on(d.next_maintenance_due_date),l)})).filter(d=>d.daysUntilDue>=0&&d.daysUntilDue<=90).sort((d,f)=>d.daysUntilDue-f.daysUntilDue).slice(0,10).map(d=>({name:d.asset_name,value:d.daysUntilDue}))},[e]),i=t.reduce((l,u)=>l+u.value,0),o=r.reduce((l,u)=>l+u.value,0),s=(l,u)=>{const{payload:d}=l;return c("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 w-full mt-4 text-xs",children:d.map((f,h)=>{const m=u>0?(f.payload.value/u*100).toFixed(1):0;return w("div",{className:"flex items-center",children:[c("span",{className:"w-2 h-2 rounded-full mr-1.5",style:{backgroundColor:f.color}}),f.payload.name," (",m,"%)"]},`legend-${f.payload.name}-${h}`)})})};return w("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:[" ",w(cr,{children:[c(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(xr,{className:"text-sm font-medium",children:"Assets by Category"})}),c(vr,{className:"flex flex-col items-center pt-4",children:c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:t.map((l,u)=>c(Vc,{fill:$b[u%$b.length],stroke:$b[u%$b.length]},`cell-asset-cat-${u}`))}),c(Ga,{formatter:(l,u)=>[`${l} (${i>0?(l/i*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Vu,{content:l=>s(l,i)})]})})})]}),w(cr,{children:[c(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c(xr,{className:"text-sm font-medium",children:"Assets by Status"})}),c(vr,{className:"flex flex-col items-center pt-4",children:c(ks,{width:"100%",height:180,children:w(Kp,{children:[c(Is,{data:r,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:1,dataKey:"value",startAngle:90,endAngle:450,children:r.map((l,u)=>c(Vc,{fill:WV[l.name],stroke:WV[l.name]},`cell-asset-stat-${u}`))}),c(Ga,{formatter:(l,u)=>[`${l} (${o>0?(l/o*100).toFixed(1):0}%)`,u],contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"}}),c(Vu,{content:l=>s(l,o)})]})})})]}),w(cr,{children:[w(yr,{className:"pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Asset Value Distribution"}),c("p",{className:"text-xs text-muted-foreground",children:"Count of assets by purchase price range"})]}),c(vr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:200,children:w(Hx,{data:n,margin:{top:5,right:5,left:-10,bottom:5},barCategoryGap:"20%",children:[c(Pl,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),c(Ol,{axisLine:!1,tickLine:!1,width:30,style:{fontSize:"12px"},allowDecimals:!1}),c(Ga,{cursor:{fill:"rgba(139, 92, 246, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:l=>[`${l} Assets`,null]}),c(eu,{dataKey:"value",fill:DYe,name:"Assets",radius:[4,4,0,0],barSize:12})]})})})]}),w(cr,{children:[w(yr,{className:"pb-2",children:[c(xr,{className:"text-sm font-medium",children:"Upcoming Maintenance (Next 90 Days)"}),c("p",{className:"text-xs text-muted-foreground",children:"Assets needing maintenance soon (max 10 shown)"})]}),c(vr,{className:"pb-4 pl-2 pr-4",children:c(ks,{width:"100%",height:200,children:w(Hx,{data:a,layout:"vertical",margin:{top:5,right:20,left:30,bottom:5},barCategoryGap:"20%",children:[c(Pl,{type:"number",hide:!0}),c(Ol,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,style:{fontSize:"10px"},width:100,interval:0}),c(Ga,{cursor:{fill:"rgba(245, 158, 11, 0.1)"},contentStyle:{fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},formatter:l=>[`Due in ${l} days`,null]}),c(eu,{dataKey:"value",fill:IYe,name:"Days Until Due",radius:[0,4,4,0],barSize:10})]})})})]})]})},MYe=["Equipment & Tools","Furniture","IT","Other"],FYe=["Active","Under Maintenance","Retired","Disposed"],LYe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,s]=A.useState(null),[l,u]=A.useState(void 0),[d,f]=A.useState("all"),[h,m]=A.useState("all");A.useEffect(()=>{(async()=>{i(!0),s(null);try{const C=await xYe();t(C),n(C)}catch(C){s(C instanceof Error?C.message:"Failed to load asset data")}finally{i(!1)}})()},[]),A.useEffect(()=>{let S=[...e];l!=null&&l.from&&(l!=null&&l.to)?S=S.filter(C=>{if(!C.purchase_date)return!1;const E=new Date(C.purchase_date);return E>=l.from&&E<=l.to}):l!=null&&l.from?S=S.filter(C=>C.purchase_date&&new Date(C.purchase_date)>=l.from):l!=null&&l.to&&(S=S.filter(C=>C.purchase_date&&new Date(C.purchase_date)<=l.to)),d!=="all"&&(S=S.filter(C=>C.category===d)),h!=="all"&&(S=S.filter(C=>C.status===h)),n(S)},[l,d,h,e]);const x=S=>S?new Date(S).toLocaleDateString():"N/A",g=(S,C="Asset Report")=>{const E=new Lr;E.text(C,14,15);const O=["ID","Name","Category","Status","Purchase Date","Purchase Price","Supplier"],T=[];S.forEach(I=>{const L=[I.id,I.asset_name,I.category,I.status,x(I.purchase_date),I.purchase_price??"N/A",I.supplier_info??"N/A"];T.push(L)}),v7(E,{head:[O],body:T,startY:20}),E.save(`${C.replace(/\s+/g,"_")}.pdf`)},y=(S,C="Asset Report")=>{const E=S.map(I=>({ID:I.id,Name:I.asset_name,Category:I.category,Status:I.status,"Purchase Date":x(I.purchase_date),"Purchase Price":I.purchase_price??"N/A",Supplier:I.supplier_info??"N/A",Location:I.location,"Next Maintenance":x(I.next_maintenance_due_date)})),O=rf.json_to_sheet(E),T=rf.book_new();rf.book_append_sheet(T,O,"Assets"),u7(T,`${C.replace(/\s+/g,"_")}.xlsx`)},_=()=>{if(console.log("Generating Asset List Report with data:",r),r.length===0){s("No data available to generate report.");return}s(null);try{g(r,"Asset List Report"),y(r,"Asset List Report")}catch(S){console.error("Error generating asset list report:",S),s(`Error generating asset list report: ${S instanceof Error?S.message:String(S)}`)}},b=()=>{const S=r.filter(C=>C.last_serviced_date||C.next_maintenance_due_date);if(console.log("Generating Maintenance History Report with data:",S),S.length===0){s("No assets with maintenance data available to generate report.");return}s(null);try{g(S,"Asset Maintenance Report"),y(S,"Asset Maintenance Report")}catch(C){console.error("Error generating asset maintenance report:",C),s(`Error generating asset maintenance report: ${C instanceof Error?C.message:String(C)}`)}};return w("div",{className:"space-y-4",children:[w(cr,{children:[c(yr,{children:c(xr,{children:"Filters"})}),w(vr,{className:"flex flex-col md:flex-row gap-4 items-end",children:[w("div",{className:"flex-1",children:[c("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Purchase Date Range"}),c(S7,{date:l,onDateChange:u})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"asset-category-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Category"}),w(Ur,{value:d,onValueChange:S=>f(S),children:[c(jr,{id:"asset-category-filter",children:c(qr,{placeholder:"Filter by Category"})}),w($r,{children:[c(gt,{value:"all",children:"All Categories"}),MYe.map(S=>c(gt,{value:S,children:S},S))]})]})]}),w("div",{className:"flex-1",children:[c("label",{htmlFor:"asset-status-filter",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Status"}),w(Ur,{value:h,onValueChange:S=>m(S),children:[c(jr,{id:"asset-status-filter",children:c(qr,{placeholder:"Filter by Status"})}),w($r,{children:[c(gt,{value:"all",children:"All Statuses"}),FYe.map(S=>c(gt,{value:S,children:S},S))]})]})]})]})]}),w("div",{className:"flex gap-2",children:[c(Le,{onClick:_,disabled:a,children:"Generate Asset List"}),c(Le,{onClick:b,variant:"outline",disabled:a,children:"Generate Maintenance Report"})]}),a&&c("p",{children:"Loading report data..."}),o&&w(td,{variant:"destructive",children:[c(dc,{className:"h-4 w-4"}),c(rd,{children:"Error"}),c(nd,{children:o})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Report Data Preview & Charts"})}),w(vr,{children:[w("p",{className:"text-muted-foreground mb-4",children:["Filtered Assets: ",r.length]}),r.length>0?c("div",{className:"overflow-x-auto",children:w("table",{className:"table-auto w-full",children:[c("thead",{children:w("tr",{className:"text-left",children:[c("th",{className:"px-4 py-2",children:"Name"}),c("th",{className:"px-4 py-2",children:"Category"}),c("th",{className:"px-4 py-2",children:"Status"}),c("th",{className:"px-4 py-2",children:"Purchase Date"})]})}),c("tbody",{children:r.map(S=>w("tr",{children:[c("td",{className:"border px-4 py-2",children:S.asset_name}),c("td",{className:"border px-4 py-2",children:S.category}),c("td",{className:"border px-4 py-2",children:S.status}),c("td",{className:"border px-4 py-2",children:x(S.purchase_date)})]},S.id))})]})}):c("div",{className:"h-60 border rounded-md flex items-center justify-center text-muted-foreground",children:"No assets match the selected criteria."}),w("div",{className:"mt-6",children:[" ",c(RYe,{assetData:r})," "]})]})]})]})},jYe=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],$Ye=()=>w("div",{className:"mt-4",children:[c("h2",{className:"text-lg font-semibold mb-2",children:"Report Data Preview"}),w(oee,{width:500,height:300,data:jYe,margin:{top:5,right:30,left:20,bottom:5},children:[c(zI,{strokeDasharray:"3 3"}),c(Pl,{dataKey:"name"}),c(Ol,{}),c(Ga,{}),c(Vu,{}),c(dm,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),c(dm,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})]})]}),BYe=()=>w("div",{className:"container mx-auto p-4 md:p-6",children:[c(ka,{heading:"Reports & Analytics"}),w(Cg,{defaultValue:"inventory",className:"mt-4",children:[w(Tg,{className:"grid w-full grid-cols-2 md:w-[400px]",children:[c(sl,{value:"inventory",children:"Inventory Reports"}),c(sl,{value:"assets",children:"Asset Reports"}),c(sl,{value:"report-data-preview",children:"Report Data Preview"})]}),c(ki,{value:"inventory",className:"mt-4",children:c(OYe,{})}),c(ki,{value:"assets",className:"mt-4",children:c(LYe,{})}),c(ki,{value:"report-data-preview",className:"mt-4",children:c($Ye,{})})]})]}),UYe=N3({message:es().min(1,"Reminder message is required."),reminder_date:Ote({required_error:"Please select a date."}),reminder_time:es().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,{message:"Invalid time format (HH:MM)."}),recurrence_type:sw(["none","daily","weekly","monthly","yearly"]).default("none"),recurrence_interval:q2().int().min(1).optional(),recurrence_days:Dte(q2().int().min(0).max(6)).optional(),times_per_day:q2().int().min(1).optional()}).refine(e=>!(e.recurrence_type!=="none"&&!e.recurrence_interval||e.recurrence_type==="weekly"&&(!e.recurrence_days||e.recurrence_days.length===0)),{message:"Interval is required for recurrence. Days are required for weekly recurrence.",path:["recurrence_interval"]}),qYe=({initialData:e,onSaveSuccess:t})=>{const{user:r}=ii(),{toast:n}=vn(),[a,i]=A.useState(!1),o=sd({resolver:ld(UYe)});A.useEffect(()=>{var l,u,d,f;if(e){const h=new Date(e.reminder_datetime);o.reset({message:e.message,reminder_date:h,reminder_time:Vt(h,"HH:mm"),recurrence_type:((l=e.recurrence_config)==null?void 0:l.type)||"none",recurrence_interval:(u=e.recurrence_config)==null?void 0:u.interval,recurrence_days:(d=e.recurrence_config)==null?void 0:d.days,times_per_day:((f=e.recurrence_config)==null?void 0:f.times_per_day)||1})}else o.reset({message:"",reminder_date:void 0,reminder_time:"",recurrence_type:"none",recurrence_interval:1,recurrence_days:[],times_per_day:1})},[e,o]);const s=async l=>{i(!0);const[u,d]=l.reminder_time.split(":").map(Number);let f=n1e(r1e(l.reminder_date,u),d);if(f<new Date){o.setError("reminder_time",{message:"Reminder time cannot be in the past."}),o.setError("reminder_date",{message:"Reminder date/time cannot be in the past."}),i(!1);return}const h={type:l.recurrence_type,interval:l.recurrence_type!=="none"?l.recurrence_interval:void 0,days:l.recurrence_type==="weekly"?l.recurrence_days:void 0,times_per_day:l.recurrence_type==="daily"?l.times_per_day:void 0};Object.keys(h).forEach(g=>h[g]===void 0&&delete h[g]);let m=null,x=null;if(e!=null&&e.id)m={message:l.message,reminder_datetime:f.toISOString(),recurrence_config:h};else{if(!r){n({title:"Error",description:"You must be logged in to create a reminder.",variant:"destructive"}),i(!1);return}x={user_id:r.id,message:l.message,reminder_datetime:f.toISOString(),recurrence_config:h,is_active:!0}}try{if(e!=null&&e.id&&m)await XY(e.id,m),n({title:"Success",description:"Reminder updated successfully."});else if(x)await P1e(x),n({title:"Success",description:"Reminder created successfully."});else throw new Error("Invalid state for saving reminder.");t()}catch(g){console.error("Failed to save reminder:",g),n({title:"Error",description:g.message||"Could not save reminder.",variant:"destructive"})}finally{i(!1)}};return c(Dh,{...o,children:w("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[c(He,{control:o.control,name:"message",render:({field:l})=>w(Oe,{children:[c(Pe,{children:"Reminder Message"}),c(Ie,{children:c(Yr,{placeholder:"Enter reminder details...",...l})}),c(Ze,{})]})}),w("div",{className:"flex flex-col sm:flex-row gap-4",children:[c(He,{control:o.control,name:"reminder_date",render:({field:l})=>w(Oe,{className:"flex flex-col",children:[c(Pe,{children:"Date"}),w(cg,{children:[c(ug,{asChild:!0,children:c(Ie,{children:w(Le,{variant:"outline",className:Rt("w-full sm:w-[240px] pl-3 text-left font-normal",!l.value&&"text-muted-foreground"),children:[l.value?Vt(l.value,"PPP"):c("span",{children:"Pick a date"}),c(yo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(gm,{className:"w-auto p-0",align:"start",children:c(vm,{mode:"single",selected:l.value,onSelect:l.onChange,disabled:u=>u<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),c(Ze,{})]})}),c(He,{control:o.control,name:"reminder_time",render:({field:l})=>w(Oe,{className:"flex flex-col",children:[c(Pe,{children:"Time (HH:MM)"}),c("div",{className:"relative",children:c(Ie,{children:c(ot,{type:"time",className:"w-full sm:w-[120px] pl-3",...l})})}),c(Ze,{})]})})]}),c(He,{control:o.control,name:"recurrence_type",render:({field:l})=>w(Oe,{children:[c(Pe,{children:"Recurrence"}),w(Ur,{onValueChange:l.onChange,value:l.value??"none",children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select recurrence type"})})}),w($r,{children:[c(gt,{value:"none",children:"None"}),c(gt,{value:"daily",children:"Daily"}),c(gt,{value:"weekly",children:"Weekly"}),c(gt,{value:"monthly",children:"Monthly"}),c(gt,{value:"yearly",children:"Yearly"})]})]}),c(Ze,{})]})}),o.watch("recurrence_type")!=="none"&&w("div",{className:"p-4 border rounded-md bg-muted/40 space-y-4 mt-2",children:[c(He,{control:o.control,name:"recurrence_interval",render:({field:l})=>w(Oe,{children:[c(Pe,{children:"Repeat Every"}),w("div",{className:"flex items-center gap-2",children:[c(Ie,{children:c(ot,{type:"number",min:"1",className:"w-20",...l,value:l.value??1,onChange:u=>l.onChange(parseInt(u.target.value,10)||1)})}),w("span",{children:[o.watch("recurrence_type")==="daily"&&"Day(s)",o.watch("recurrence_type")==="weekly"&&"Week(s)",o.watch("recurrence_type")==="monthly"&&"Month(s)",o.watch("recurrence_type")==="yearly"&&"Year(s)"]})]}),c(Ze,{})]})}),o.watch("recurrence_type")==="daily"&&c(He,{control:o.control,name:"times_per_day",render:({field:l})=>w(Oe,{children:[c(Pe,{children:"Times Per Day"}),w("div",{className:"flex items-center gap-2",children:[c(Ie,{children:c(ot,{type:"number",min:"1",max:"24",className:"w-20",...l,value:l.value??1,onChange:u=>l.onChange(parseInt(u.target.value,10)||1)})}),c("span",{children:"time(s)"})]}),c(bi,{className:"text-xs",children:"How many times the reminder should trigger each day."}),c(Ze,{})]})}),o.watch("recurrence_type")==="weekly"&&c(He,{control:o.control,name:"recurrence_days",render:()=>w(Oe,{children:[c(Pe,{children:"Repeat On"}),c("div",{className:"grid grid-cols-4 gap-2 sm:grid-cols-7",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((l,u)=>c(He,{control:o.control,name:"recurrence_days",render:({field:d})=>{var f;return w(Oe,{className:"flex flex-row items-start space-x-2 space-y-0",children:[c(Ie,{children:c(Ps,{checked:(f=d.value)==null?void 0:f.includes(u),onCheckedChange:h=>h?d.onChange([...d.value||[],u]):d.onChange((d.value||[]).filter(m=>m!==u))})}),c(Pe,{className:"font-normal",children:l})]},u)}},l))}),c(Ze,{})]})}),c("p",{className:"text-xs text-muted-foreground",children:"Monthly/Yearly options and End Date/Count coming soon."})]}),c(Le,{type:"submit",disabled:a,children:a?"Saving...":e?"Update Reminder":"Create Reminder"}),e&&c(Le,{type:"button",variant:"outline",onClick:()=>t(),className:"ml-2",children:"Cancel Edit"})]})})},zYe=({onEdit:e,refreshKey:t,activeReminderIds:r})=>{const{toast:n}=vn(),[a,i]=A.useState([]),[o,s]=A.useState(!0),[l,u]=A.useState(null),d=async()=>{s(!0),u(null);try{const x=await YY();i(x||[])}catch(x){console.error("Failed to fetch reminders:",x),u("Failed to load reminders. Please try again."),n({title:"Error",description:"Could not fetch reminders.",variant:"destructive"})}finally{s(!1)}};A.useEffect(()=>{d()},[t]);const f=async x=>{const g=x.is_active;i(y=>y.map(_=>_.id===x.id?{..._,is_active:!g}:_));try{await XY(x.id,{is_active:!g}),n({title:"Success",description:`Reminder ${g?"deactivated":"activated"}.`})}catch(y){console.error("Failed to toggle reminder state:",y),i(_=>_.map(b=>b.id===x.id?{...b,is_active:g}:b)),n({title:"Error",description:"Could not update reminder status.",variant:"destructive"})}},h=async x=>{const g=[...a];i(y=>y.filter(_=>_.id!==x));try{await O1e(x),n({title:"Success",description:"Reminder deleted."})}catch(y){console.error("Failed to delete reminder:",y),i(g),n({title:"Error",description:"Could not delete reminder.",variant:"destructive"})}},m=x=>{e(x)};return o?w("div",{className:"space-y-4",children:[c(Rl,{className:"h-24 w-full"}),c(Rl,{className:"h-24 w-full"})]}):l?w(td,{variant:"destructive",children:[c(rd,{children:"Error"}),c(nd,{children:l})]}):a.length===0?c("p",{className:"text-muted-foreground",children:"No reminders found."}):c("div",{className:"space-y-4",children:a.map(x=>{var g;return r.has(x.id),w(cr,{className:Rt(!x.is_active&&"opacity-60"),children:[w(yr,{className:"flex flex-row items-center justify-between pb-2",children:[c(xr,{className:"text-lg font-medium",children:x.message}),w("div",{className:"flex items-center space-x-2",children:[w(Le,{variant:"ghost",size:"icon",onClick:()=>f(x),title:x.is_active?"Deactivate":"Activate",children:[x.is_active?c(oce,{className:"h-4 w-4"}):c(a4,{className:"h-4 w-4"})," "]}),c(Le,{variant:"ghost",size:"icon",onClick:()=>m(x),title:"Edit",children:c(Dce,{className:"h-4 w-4"})}),c(Le,{variant:"ghost",size:"icon",onClick:()=>h(x.id),title:"Delete",children:c(am,{className:"h-4 w-4 text-destructive"})})]})]}),w(vr,{children:[w("p",{className:"text-sm text-muted-foreground",children:["Next due: ",Vt(new Date(x.reminder_datetime),"PPP 'at' HH:mm")]}),((g=x.recurrence_config)==null?void 0:g.type)&&x.recurrence_config.type!=="none"&&w("p",{className:"text-xs text-muted-foreground mt-1 capitalize",children:["Recurring: ",x.recurrence_config.type]}),!x.is_active&&c("p",{className:"text-xs text-amber-600 mt-1",children:"Inactive"})]})]},x.id)})})},WYe=()=>{const[e,t]=A.useState(0),[r,n]=A.useState(null),{activeReminderIds:a}=ZY(),i=s=>{n(s),window.scrollTo({top:0,behavior:"smooth"})};return w("div",{className:"container mx-auto p-4",children:[c(ka,{heading:"Reminders",text:"Create and manage reminders for yourself or the clinic."}),w("div",{className:"mt-6",children:[c("h2",{className:"text-xl font-semibold mb-4",children:r?"Edit Reminder":"Create New Reminder"}),c(qYe,{initialData:r,onSaveSuccess:()=>{n(null),t(s=>s+1)}},(r==null?void 0:r.id)||"new")]}),c(rm,{className:"my-8"}),w("div",{className:"mt-8",children:[c("h2",{className:"text-xl font-semibold mb-4",children:"Existing Reminders"}),c(zYe,{onEdit:i,refreshKey:e,activeReminderIds:a})]})]})},Zo=[];for(let e=0;e<256;++e)Zo.push((e+256).toString(16).slice(1));function VYe(e,t=0){return(Zo[e[t+0]]+Zo[e[t+1]]+Zo[e[t+2]]+Zo[e[t+3]]+"-"+Zo[e[t+4]]+Zo[e[t+5]]+"-"+Zo[e[t+6]]+Zo[e[t+7]]+"-"+Zo[e[t+8]]+Zo[e[t+9]]+"-"+Zo[e[t+10]]+Zo[e[t+11]]+Zo[e[t+12]]+Zo[e[t+13]]+Zo[e[t+14]]+Zo[e[t+15]]).toLowerCase()}let pP;const HYe=new Uint8Array(16);function GYe(){if(!pP){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pP=crypto.getRandomValues.bind(crypto)}return pP(HYe)}const KYe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),VV={randomUUID:KYe};function kw(e,t,r){var a;if(VV.randomUUID&&!e)return VV.randomUUID();e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??GYe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,VYe(n)}const YYe=async()=>{const{data:e,error:t}=await Me.from("purchase_orders").select(`
      id,
      po_number,
      order_date,
      expected_delivery_date,
      status,
      total_amount,
      notes,
      created_at,
      updated_at,
      supplier_id,
      created_by,
      suppliers (
        name
      )
    `).order("order_date",{ascending:!1});if(t)throw console.error("Error fetching purchase orders:",t),t;return(e||[]).map(r=>{var n;return{id:r.id,po_number:r.po_number,supplier_id:r.supplier_id,supplier_name:((n=r.suppliers)==null?void 0:n.name)||"N/A",order_date:r.order_date,expected_delivery_date:r.expected_delivery_date,status:r.status,total_amount:r.total_amount,notes:r.notes,created_by:r.created_by,created_at:r.created_at,updated_at:r.updated_at}})},XYe=async()=>{const{data:e,error:t}=await Me.from("suppliers").select("id, name").order("name");if(t)throw console.error("Error fetching suppliers from Supabase:",t),t;return e?e.map(n=>({value:n.id,label:n.name})):[]},A7=async()=>{const{data:e,error:t}=await Me.from("inventory_items").select("id, item_name, category, is_batched, item_code").order("item_name");if(t)throw console.error("Error fetching inventory items from Supabase:",t),t;return e?e.map(n=>({value:n.id,label:n.item_name,category:n.category||void 0,is_batched:n.is_batched||!1,item_code:n.item_code||null})):[]},ZYe=async(e,t)=>{const{data:r,error:n}=await Me.rpc("generate_po_number");if(n||!r)throw console.error("Error generating PO number:",n),n||new Error("Failed to generate PO number.");const i={po_number:r,supplier_id:e.supplier_id,order_date:e.order_date.toISOString().split("T")[0],expected_delivery_date:e.expected_delivery_date?e.expected_delivery_date.toISOString().split("T")[0]:null,notes:e.notes||null,status:"Pending",created_by:t||null},{data:o,error:s}=await Me.from("purchase_orders").insert(i).select("id, po_number").single();if(s||!o)throw console.error("Error creating purchase order header:",s),s||new Error("Failed to create purchase order header.");const l=e.items.map(d=>({purchase_order_id:o.id,inventory_item_id:d.inventory_item_id,description:d.description||null,quantity_ordered:d.quantity_ordered,unit_price:d.unit_price})),{error:u}=await Me.from("purchase_order_items").insert(l);if(u)throw console.error("Error creating purchase order items:",u),await Me.from("purchase_orders").delete().match({id:o.id}),u;return{id:o.id,po_number:o.po_number}},xoe=async e=>{var o;const{data:t,error:r}=await Me.from("purchase_orders").select(`
      id,
      po_number,
      order_date,
      expected_delivery_date,
      status,
      total_amount,
      notes,
      created_at,
      updated_at,
      supplier_id,
      created_by,
      suppliers ( name )
    `).eq("id",e).single();if(r){if(console.error(`Error fetching purchase order ${e}:`,r),r.code==="PGRST116")return null;throw r}if(!t)return null;const{data:n,error:a}=await Me.from("purchase_order_items").select(`
      id,
      inventory_item_id,
      description,
      quantity_ordered,
      quantity_received,
      unit_price,
      subtotal,
      inventory_items ( item_name )
    `).eq("purchase_order_id",e);if(a)throw console.error(`Error fetching items for purchase order ${e}:`,a),a;const i=(n||[]).map(s=>{var l,u;return{id:s.id,inventory_item_id:s.inventory_item_id,description:s.description||((l=s.inventory_items)==null?void 0:l.item_name)||"N/A",product_name:((u=s.inventory_items)==null?void 0:u.item_name)||"N/A",quantity_ordered:s.quantity_ordered,quantity_received:s.quantity_received,unit_price:s.unit_price,subtotal:s.subtotal}});return{...t,supplier_name:((o=t.suppliers)==null?void 0:o.name)||"N/A",items:i,status:t.status}},JYe=async e=>{const{data:t,error:r}=await Me.rpc("handle_receive_po_item_batch",{p_po_item_id:e.p_po_item_id,p_quantity_received:e.p_quantity_received,p_batch_number:e.p_batch_number,p_expiry_date:e.p_expiry_date,p_purchase_price:e.p_purchase_price,p_received_by_user_id:e.p_received_by_user_id});if(r)throw console.error("Error receiving PO item batch via RPC:",r),r},QYe=async(e,t,r,n)=>{if(!n)throw new Error("User must be logged in to upload invoices.");if(!r)throw new Error("No file selected for upload.");const a=r.name.split(".").pop(),i=`${kw()}.${a}`,o=`purchase_invoices/${t}/${i}`,{error:s}=await Me.storage.from("invoices").upload(o,r);if(s)throw console.error("Error uploading invoice file:",s),s;const{error:l}=await Me.from("invoices").insert({file_name:r.name,storage_path:o,uploaded_by_user_id:n,purchase_order_id:e});if(l)throw console.error("Error saving invoice record to database:",l),await Me.storage.from("invoices").remove([o]),l;return{storage_path:o}},HV=async e=>{const{data:t,error:r}=await Me.from("invoices").select("id, file_name, storage_path, uploaded_at, uploaded_by_user_id").eq("purchase_order_id",e).order("uploaded_at",{ascending:!1});if(r)throw console.error("Error fetching invoices for PO:",r),r;return t||[]},eXe=async e=>{const{data:t,error:r}=await Me.storage.from("invoices").createSignedUrl(e,300);return r?(console.error("Error creating signed URL:",r),null):(t==null?void 0:t.signedUrl)||null},tXe=async(e,t)=>{const{error:r}=await Me.from("purchase_orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error(`Error updating purchase order ${e} status to ${t}:`,r),r},rXe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(null);A.useEffect(()=>{(async()=>{try{n(!0);const l=await YYe();t(l),i(null)}catch(l){console.error(l),i("Failed to fetch purchase orders.")}finally{n(!1)}})()},[]);const o=s=>{switch(s){case"Pending":return"outline";case"Ordered":return"secondary";case"Partially Received":return"default";case"Received":return"default";case"Cancelled":return"destructive";default:return"outline"}};return w("div",{className:"container mx-auto p-4",children:[c(ka,{heading:"Purchase Orders",text:"Manage and track all your purchase orders.",children:w(zi,{to:"/purchases/create",children:[" ",w(Le,{children:[c(Nh,{className:"mr-2 h-4 w-4"}),"Create New PO"]})]})}),w("div",{className:"mt-6",children:[r&&c("p",{children:"Loading purchase orders..."}),a&&c("p",{className:"text-red-500",children:a}),!r&&!a&&e.length===0&&c("p",{children:"No purchase orders found."}),!r&&!a&&e.length>0&&w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"PO Number"}),c(Wt,{children:"Supplier"}),c(Wt,{children:"Order Date"}),c(Wt,{children:"Status"}),c(Wt,{className:"text-right",children:"Total Amount"}),c(Wt,{children:"Actions"})]})}),c(js,{children:e.map(s=>{var l;return w(En,{children:[c(jt,{className:"font-medium",children:s.po_number}),c(jt,{children:s.supplier_name}),c(jt,{children:new Date(s.order_date).toLocaleDateString()}),c(jt,{children:c(Zu,{variant:o(s.status),className:s.status==="Received"?"bg-green-500 hover:bg-green-600 text-white":"",children:s.status})}),c(jt,{className:"text-right",children:((l=s.total_amount)==null?void 0:l.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"N/A"}),c(jt,{className:"text-right",children:w(zi,{to:`/purchases/${s.id}`,children:[" ",c(Le,{variant:"outline",size:"sm",children:"View"})]})})]},s.id)})})]})]})]})},nXe=je.object({inventory_item_id:je.string().uuid({message:"Please select an inventory item."}),description:je.string().optional(),quantity_ordered:je.number().min(1,{message:"Quantity must be at least 1."}),unit_price:je.number().min(0,{message:"Unit price cannot be negative."})}),aXe=je.object({supplier_id:je.string().uuid({message:"Please select a supplier."}),order_date:je.date({required_error:"Order date is required.",invalid_type_error:"Invalid date format for order date."}),expected_delivery_date:je.date().nullable().optional(),notes:je.string().optional(),items:je.array(nXe).min(1,{message:"Please add at least one item to the purchase order."}),invoice_file:je.custom(e=>e==null||e instanceof File,"Invalid file format").refine(e=>!e||e.size<=5*1024*1024,"File size should be less than 5MB.").refine(e=>!e||["application/pdf","image/png","image/jpeg","image/jpg"].includes(e.type),"Only .pdf, .png, .jpg, .jpeg files are accepted.").optional().nullable()});function kh(e){return Array.isArray?Array.isArray(e):boe(e)==="[object Array]"}function iXe(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function oXe(e){return e==null?"":iXe(e)}function Xd(e){return typeof e=="string"}function woe(e){return typeof e=="number"}function sXe(e){return e===!0||e===!1||lXe(e)&&boe(e)=="[object Boolean]"}function _oe(e){return typeof e=="object"}function lXe(e){return _oe(e)&&e!==null}function oc(e){return e!=null}function mP(e){return!e.trim().length}function boe(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const cXe="Incorrect 'index' type",uXe=e=>`Invalid value for key ${e}`,dXe=e=>`Pattern length exceeds max of ${e}.`,fXe=e=>`Missing ${e} property in key`,hXe=e=>`Property 'weight' in key '${e}' must be a positive integer`,GV=Object.prototype.hasOwnProperty;class pXe{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let a=Soe(n);this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Soe(e){let t=null,r=null,n=null,a=1,i=null;if(Xd(e)||kh(e))n=e,t=KV(e),r=P8(e);else{if(!GV.call(e,"name"))throw new Error(fXe("name"));const o=e.name;if(n=o,GV.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(hXe(o));t=KV(o),r=P8(o),i=e.getFn}return{path:t,id:r,weight:a,src:n,getFn:i}}function KV(e){return kh(e)?e:e.split(".")}function P8(e){return kh(e)?e.join("."):e}function mXe(e,t){let r=[],n=!1;const a=(i,o,s)=>{if(oc(i))if(!o[s])r.push(i);else{let l=o[s];const u=i[l];if(!oc(u))return;if(s===o.length-1&&(Xd(u)||woe(u)||sXe(u)))r.push(oXe(u));else if(kh(u)){n=!0;for(let d=0,f=u.length;d<f;d+=1)a(u[d],o,s+1)}else o.length&&a(u,o,s+1)}};return a(e,Xd(t)?t.split("."):t,0),n?r:r[0]}const gXe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},vXe={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},yXe={location:0,threshold:.6,distance:100},xXe={useExtendedSearch:!1,getFn:mXe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var rn={...vXe,...gXe,...yXe,...xXe};const wXe=/[^ ]+/g;function _Xe(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(a){const i=a.match(wXe).length;if(r.has(i))return r.get(i);const o=1/Math.pow(i,.5*e),s=parseFloat(Math.round(o*n)/n);return r.set(i,s),s},clear(){r.clear()}}}class k7{constructor({getFn:t=rn.getFn,fieldNormWeight:r=rn.fieldNormWeight}={}){this.norm=_Xe(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Xd(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Xd(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!oc(t)||mP(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((a,i)=>{let o=a.getFn?a.getFn(t):this.getFn(t,a.path);if(oc(o)){if(kh(o)){let s=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:d}=l.pop();if(oc(d))if(Xd(d)&&!mP(d)){let f={v:d,i:u,n:this.norm.get(d)};s.push(f)}else kh(d)&&d.forEach((f,h)=>{l.push({nestedArrIndex:h,value:f})})}n.$[i]=s}else if(Xd(o)&&!mP(o)){let s={v:o,n:this.norm.get(o)};n.$[i]=s}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Aoe(e,t,{getFn:r=rn.getFn,fieldNormWeight:n=rn.fieldNormWeight}={}){const a=new k7({getFn:r,fieldNormWeight:n});return a.setKeys(e.map(Soe)),a.setSources(t),a.create(),a}function bXe(e,{getFn:t=rn.getFn,fieldNormWeight:r=rn.fieldNormWeight}={}){const{keys:n,records:a}=e,i=new k7({getFn:t,fieldNormWeight:r});return i.setKeys(n),i.setIndexRecords(a),i}function Bb(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:a=rn.distance,ignoreLocation:i=rn.ignoreLocation}={}){const o=t/e.length;if(i)return o;const s=Math.abs(n-r);return a?o+s/a:s?1:o}function SXe(e=[],t=rn.minMatchCharLength){let r=[],n=-1,a=-1,i=0;for(let o=e.length;i<o;i+=1){let s=e[i];s&&n===-1?n=i:!s&&n!==-1&&(a=i-1,a-n+1>=t&&r.push([n,a]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}const T0=32;function AXe(e,t,r,{location:n=rn.location,distance:a=rn.distance,threshold:i=rn.threshold,findAllMatches:o=rn.findAllMatches,minMatchCharLength:s=rn.minMatchCharLength,includeMatches:l=rn.includeMatches,ignoreLocation:u=rn.ignoreLocation}={}){if(t.length>T0)throw new Error(dXe(T0));const d=t.length,f=e.length,h=Math.max(0,Math.min(n,f));let m=i,x=h;const g=s>1||l,y=g?Array(f):[];let _;for(;(_=e.indexOf(t,x))>-1;){let T=Bb(t,{currentLocation:_,expectedLocation:h,distance:a,ignoreLocation:u});if(m=Math.min(T,m),x=_+d,g){let I=0;for(;I<d;)y[_+I]=1,I+=1}}x=-1;let b=[],S=1,C=d+f;const E=1<<d-1;for(let T=0;T<d;T+=1){let I=0,L=C;for(;I<L;)Bb(t,{errors:T,currentLocation:h+L,expectedLocation:h,distance:a,ignoreLocation:u})<=m?I=L:C=L,L=Math.floor((C-I)/2+I);C=L;let U=Math.max(1,h-L+1),P=o?f:Math.min(h+L,f)+d,M=Array(P+2);M[P+1]=(1<<T)-1;for(let V=P;V>=U;V-=1){let X=V-1,te=r[e.charAt(X)];if(g&&(y[X]=+!!te),M[V]=(M[V+1]<<1|1)&te,T&&(M[V]|=(b[V+1]|b[V])<<1|1|b[V+1]),M[V]&E&&(S=Bb(t,{errors:T,currentLocation:X,expectedLocation:h,distance:a,ignoreLocation:u}),S<=m)){if(m=S,x=X,x<=h)break;U=Math.max(1,2*h-x)}}if(Bb(t,{errors:T+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>m)break;b=M}const O={isMatch:x>=0,score:Math.max(.001,S)};if(g){const T=SXe(y,s);T.length?l&&(O.indices=T):O.isMatch=!1}return O}function kXe(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const a=e.charAt(r);t[a]=(t[a]||0)|1<<n-r-1}return t}const QS=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class koe{constructor(t,{location:r=rn.location,threshold:n=rn.threshold,distance:a=rn.distance,includeMatches:i=rn.includeMatches,findAllMatches:o=rn.findAllMatches,minMatchCharLength:s=rn.minMatchCharLength,isCaseSensitive:l=rn.isCaseSensitive,ignoreDiacritics:u=rn.ignoreDiacritics,ignoreLocation:d=rn.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:a,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:d},t=l?t:t.toLowerCase(),t=u?QS(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(m,x)=>{this.chunks.push({pattern:m,alphabet:kXe(m),startIndex:x})},h=this.pattern.length;if(h>T0){let m=0;const x=h%T0,g=h-x;for(;m<g;)f(this.pattern.substr(m,T0),m),m+=T0;if(x){const y=h-T0;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a}=this.options;if(t=r?t:t.toLowerCase(),t=n?QS(t):t,this.pattern===t){let g={isMatch:!0,score:0};return a&&(g.indices=[[0,t.length-1]]),g}const{location:i,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,m=!1;this.chunks.forEach(({pattern:g,alphabet:y,startIndex:_})=>{const{isMatch:b,score:S,indices:C}=AXe(t,g,y,{location:i+_,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:u,includeMatches:a,ignoreLocation:d});b&&(m=!0),h+=S,b&&C&&(f=[...f,...C])});let x={isMatch:m,score:m?h/this.chunks.length:1};return m&&a&&(x.indices=f),x}}class $m{constructor(t){this.pattern=t}static isMultiMatch(t){return YV(t,this.multiRegex)}static isSingleMatch(t){return YV(t,this.singleRegex)}search(){}}function YV(e,t){const r=e.match(t);return r?r[1]:null}class NXe extends $m{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class EXe extends $m{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class CXe extends $m{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class TXe extends $m{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class PXe extends $m{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class OXe extends $m{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Noe extends $m{constructor(t,{location:r=rn.location,threshold:n=rn.threshold,distance:a=rn.distance,includeMatches:i=rn.includeMatches,findAllMatches:o=rn.findAllMatches,minMatchCharLength:s=rn.minMatchCharLength,isCaseSensitive:l=rn.isCaseSensitive,ignoreDiacritics:u=rn.ignoreDiacritics,ignoreLocation:d=rn.ignoreLocation}={}){super(t),this._bitapSearch=new koe(t,{location:r,threshold:n,distance:a,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Eoe extends $m{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const a=[],i=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+i,a.push([n,r-1]);const o=!!a.length;return{isMatch:o,score:o?0:1,indices:a}}}const O8=[NXe,Eoe,CXe,TXe,OXe,PXe,EXe,Noe],XV=O8.length,DXe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,IXe="|";function RXe(e,t={}){return e.split(IXe).map(r=>{let n=r.trim().split(DXe).filter(i=>i&&!!i.trim()),a=[];for(let i=0,o=n.length;i<o;i+=1){const s=n[i];let l=!1,u=-1;for(;!l&&++u<XV;){const d=O8[u];let f=d.isMultiMatch(s);f&&(a.push(new d(f,t)),l=!0)}if(!l)for(u=-1;++u<XV;){const d=O8[u];let f=d.isSingleMatch(s);if(f){a.push(new d(f,t));break}}}return a})}const MXe=new Set([Noe.type,Eoe.type]);class FXe{constructor(t,{isCaseSensitive:r=rn.isCaseSensitive,ignoreDiacritics:n=rn.ignoreDiacritics,includeMatches:a=rn.includeMatches,minMatchCharLength:i=rn.minMatchCharLength,ignoreLocation:o=rn.ignoreLocation,findAllMatches:s=rn.findAllMatches,location:l=rn.location,threshold:u=rn.threshold,distance:d=rn.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:l,threshold:u,distance:d},t=r?t:t.toLowerCase(),t=n?QS(t):t,this.pattern=t,this.query=RXe(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:i}=this.options;t=a?t:t.toLowerCase(),t=i?QS(t):t;let o=0,s=[],l=0;for(let u=0,d=r.length;u<d;u+=1){const f=r[u];s.length=0,o=0;for(let h=0,m=f.length;h<m;h+=1){const x=f[h],{isMatch:g,indices:y,score:_}=x.search(t);if(g){if(o+=1,l+=_,n){const b=x.constructor.type;MXe.has(b)?s=[...s,...y]:s.push(y)}}else{l=0,o=0,s.length=0;break}}if(o){let h={isMatch:!0,score:l/o};return n&&(h.indices=s),h}}return{isMatch:!1,score:1}}}const D8=[];function LXe(...e){D8.push(...e)}function I8(e,t){for(let r=0,n=D8.length;r<n;r+=1){let a=D8[r];if(a.condition(e,t))return new a(e,t)}return new koe(e,t)}const e4={AND:"$and",OR:"$or"},R8={PATH:"$path",PATTERN:"$val"},M8=e=>!!(e[e4.AND]||e[e4.OR]),jXe=e=>!!e[R8.PATH],$Xe=e=>!kh(e)&&_oe(e)&&!M8(e),ZV=e=>({[e4.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Coe(e,t,{auto:r=!0}={}){const n=a=>{let i=Object.keys(a);const o=jXe(a);if(!o&&i.length>1&&!M8(a))return n(ZV(a));if($Xe(a)){const l=o?a[R8.PATH]:i[0],u=o?a[R8.PATTERN]:a[l];if(!Xd(u))throw new Error(uXe(l));const d={keyId:P8(l),pattern:u};return r&&(d.searcher=I8(u,t)),d}let s={children:[],operator:i[0]};return i.forEach(l=>{const u=a[l];kh(u)&&u.forEach(d=>{s.children.push(n(d))})}),s};return M8(e)||(e=ZV(e)),n(e)}function BXe(e,{ignoreFieldNorm:t=rn.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:a,norm:i,score:o})=>{const s=a?a.weight:null;n*=Math.pow(o===0&&s?Number.EPSILON:o,(s||1)*(t?1:i))}),r.score=n})}function UXe(e,t){const r=e.matches;t.matches=[],oc(r)&&r.forEach(n=>{if(!oc(n.indices)||!n.indices.length)return;const{indices:a,value:i}=n;let o={indices:a,value:i};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),t.matches.push(o)})}function qXe(e,t){t.score=e.score}function zXe(e,t,{includeMatches:r=rn.includeMatches,includeScore:n=rn.includeScore}={}){const a=[];return r&&a.push(UXe),n&&a.push(qXe),e.map(i=>{const{idx:o}=i,s={item:t[o],refIndex:o};return a.length&&a.forEach(l=>{l(i,s)}),s})}class Ay{constructor(t,r={},n){this.options={...rn,...r},this.options.useExtendedSearch,this._keyStore=new pXe(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof k7))throw new Error(cXe);this._myIndex=r||Aoe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){oc(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,a=this._docs.length;n<a;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,a-=1,r.push(i))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:i,sortFn:o,ignoreFieldNorm:s}=this.options;let l=Xd(t)?Xd(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return BXe(l,{ignoreFieldNorm:s}),i&&l.sort(o),woe(r)&&r>-1&&(l=l.slice(0,r)),zXe(l,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(t){const r=I8(t,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:i,i:o,n:s})=>{if(!oc(i))return;const{isMatch:l,score:u,indices:d}=r.searchIn(i);l&&a.push({item:i,idx:o,matches:[{score:u,value:i,norm:s,indices:d}]})}),a}_searchLogical(t){const r=Coe(t,this.options),n=(s,l,u)=>{if(!s.children){const{keyId:f,searcher:h}=s,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:h});return m&&m.length?[{idx:u,item:l,matches:m}]:[]}const d=[];for(let f=0,h=s.children.length;f<h;f+=1){const m=s.children[f],x=n(m,l,u);if(x.length)d.push(...x);else if(s.operator===e4.AND)return[]}return d},a=this._myIndex.records,i={},o=[];return a.forEach(({$:s,i:l})=>{if(oc(s)){let u=n(r,s,l);u.length&&(i[l]||(i[l]={idx:l,item:s,matches:[]},o.push(i[l])),u.forEach(({matches:d})=>{i[l].matches.push(...d)}))}}),o}_searchObjectList(t){const r=I8(t,this.options),{keys:n,records:a}=this._myIndex,i=[];return a.forEach(({$:o,i:s})=>{if(!oc(o))return;let l=[];n.forEach((u,d)=>{l.push(...this._findMatches({key:u,value:o[d],searcher:r}))}),l.length&&i.push({idx:s,item:o,matches:l})}),i}_findMatches({key:t,value:r,searcher:n}){if(!oc(r))return[];let a=[];if(kh(r))r.forEach(({v:i,i:o,n:s})=>{if(!oc(i))return;const{isMatch:l,score:u,indices:d}=n.searchIn(i);l&&a.push({score:u,key:t,value:i,idx:o,norm:s,indices:d})});else{const{v:i,n:o}=r,{isMatch:s,score:l,indices:u}=n.searchIn(i);s&&a.push({score:l,key:t,value:i,norm:o,indices:u})}return a}}Ay.version="7.1.0";Ay.createIndex=Aoe;Ay.parseIndex=bXe;Ay.config=rn;Ay.parseQuery=Coe;LXe(FXe);const WXe={includeScore:!0,shouldSort:!0,minMatchCharLength:2,threshold:.4,keys:["name"]},t4=(e,t)=>{if(!e||t.length===0)return{bestMatch:null,bestMatchScore:void 0,allMatches:[]};const n=new Ay(t,WXe).search(e);return n.length>0&&n[0].score!==void 0?{bestMatch:n[0].item,bestMatchScore:n[0].score,allMatches:n}:n.length>0?{bestMatch:n[0].item,bestMatchScore:void 0,allMatches:n}:{bestMatch:null,bestMatchScore:void 0,allMatches:[]}},JV=(e,t)=>e.map((r,n)=>{const{bestMatch:a,bestMatchScore:i,allMatches:o}=t4(r.name,t);return{originalOcrItemName:r.name,ocrItemIndex:n,bestMatch:a,bestMatchScore:i,allMatches:o}}),VXe="purchase_invoices",Toe=async(e,t)=>{const r=e.name.split(".").pop(),a=`${`${t?t+"_":""}${Date.now()}.${r}`}`,{data:i,error:o}=await Me.storage.from(VXe).upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw console.error("Error uploading invoice file:",o),new Error(`Failed to upload invoice file: ${o.message}`);if(!i||!i.path)throw console.error("No path returned from storage upload"),new Error("Failed to upload invoice file: No path returned.");return i.path},Poe=async e=>{const{data:t,error:r}=await Me.from("invoices").insert({supplier_id:e.supplier_id,invoice_date:e.invoice_date,total_amount:e.total_amount,status:e.status||"pending",notes:e.notes,purchase_order_id:e.purchase_order_id,invoice_url:e.file_path}).select().single();if(r)throw console.error("Error creating invoice record:",r),new Error(`Failed to create invoice record: ${r.message}`);if(!t)throw new Error("Failed to create invoice record: No data returned.");return t},HXe=()=>{const e=Uo(),{toast:t}=vn(),{user:r}=ii(),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState([]),[u,d]=A.useState(!1),[f,h]=A.useState(!1),[m,x]=A.useState(null),[g,y]=A.useState(null),_=sd({resolver:ld(aXe),defaultValues:{supplier_id:"",order_date:new Date,expected_delivery_date:null,notes:"",items:[{inventory_item_id:"",quantity_ordered:1,unit_price:0,description:""}],invoice_file:null}}),{fields:b,append:S,remove:C,update:E}=bS({control:_.control,name:"items"});A.useEffect(()=>{(async()=>{try{const[P,M]=await Promise.all([XYe(),A7()]);a(P),o(M),l(M.map(j=>({id:j.value,name:j.label})))}catch{t({variant:"destructive",title:"Error fetching data",description:"Could not load suppliers or inventory items."})}})()},[t]);const O=async U=>{if(!(r!=null&&r.id)){t({variant:"destructive",title:"Authentication Error",description:"User ID not found."});return}d(!0);try{const P=await ZYe(U,r.id);if(t({title:"Purchase Order Created",description:`PO #${P.po_number} has been successfully created.`}),U.invoice_file&&m)try{t({title:"Processing Invoice",description:"Uploading invoice file..."});const M=await Toe(U.invoice_file,P.po_number);await Poe({file_path:M,purchase_order_id:P.id,supplier_id:U.supplier_id,invoice_date:m.invoice_date?new Date(m.invoice_date).toISOString().split("T")[0]:null,total_amount:m.total_amount,notes:`Invoice auto-linked from AI OCR. AI OCR Supplier: ${m.supplier_name||"N/A"}. AI OCR Date: ${m.invoice_date||"N/A"}. AI OCR Total: ${m.total_amount||"N/A"}`,file_name:U.invoice_file.name}),t({title:"Invoice Linked",description:`Invoice ${U.invoice_file.name} linked to PO #${P.po_number}.`})}catch(M){console.error("Failed to link invoice to PO:",M),t({variant:"destructive",title:"Invoice Linking Failed",description:(M==null?void 0:M.message)||"Could not link the uploaded invoice to the PO."})}e(`/purchases/${P.id}`)}catch(P){console.error("Failed to create PO:",P),t({variant:"destructive",title:"Failed to create Purchase Order",description:(P==null?void 0:P.message)||"An unexpected error occurred."})}finally{d(!1)}},T=(U,P)=>{const M=i.find(j=>j.value===P);M&&E(U,{..._.getValues(`items.${U}`),inventory_item_id:P,description:M.label})},I=async U=>{if(_.setValue("invoice_file",U,{shouldValidate:!0}),y(null),x(null),U){h(!0),t({title:"Processing Invoice",description:"Extracting data via AI, please wait..."});try{const P=new FileReader;P.readAsDataURL(U),P.onloadend=async()=>{const M=P.result,{data:j,error:V}=await Me.functions.invoke("ocr-invoice-parser",{body:{image_data_urls:[M],file_type:U.type}});if(V)throw V;const X=j;x(X);const te=n.map(q=>({id:q.value,name:q.label})),z=X.supplier_name?t4(X.supplier_name,te):null,G=(X.items||[]).map(q=>{const{bestMatch:Y,allMatches:Z,bestMatchScore:D}=t4(q.description,s);return{...q,inventoryItemId:(Y==null?void 0:Y.id.toString())||null,matchDetails:{originalOcrItemName:q.description,ocrItemIndex:-1,bestMatch:Y,bestMatchScore:D,allMatches:Z}}});y({...X,items:G,matchedSupplier:(z==null?void 0:z.bestMatch)||null}),t({title:"Invoice Scanned by AI",description:"Review extracted data below to pre-fill form."}),h(!1)},P.onerror=M=>{console.error("File reading error:",M),t({variant:"destructive",title:"File Error",description:"Could not read file for OCR."}),h(!1)}}catch(P){console.error("AI OCR processing failed:",P),t({variant:"destructive",title:"AI OCR Error",description:P.message||"Failed to process invoice with AI."}),h(!1)}}},L=()=>{var U;if(g){if((U=g.matchedSupplier)!=null&&U.id&&_.setValue("supplier_id",g.matchedSupplier.id.toString(),{shouldValidate:!0}),g.invoice_date)try{const P=new Date(g.invoice_date);isNaN(P.getTime())?t({variant:"destructive",title:"Invalid Date",description:"AI OCR extracted an invalid date format."}):_.setValue("order_date",P,{shouldValidate:!0})}catch{t({variant:"destructive",title:"Date Error",description:"Could not parse AI OCR date."})}g.items.length>0&&(b.forEach((P,M)=>C(M)),g.items.forEach(P=>{var M;S({inventory_item_id:P.inventoryItemId||"",description:P.inventoryItemId&&((M=i.find(j=>j.value===P.inventoryItemId))==null?void 0:M.label)||P.description,quantity_ordered:P.quantity||1,unit_price:P.unit_price||0})})),t({title:"OCR Data Applied",description:"Form has been pre-filled with data from invoice."}),y(null)}};return w("div",{className:"container mx-auto p-4",children:[c(ka,{heading:"Create New Purchase Order",text:"Fill in the details to create a new purchase order."}),w(Dh,{..._,children:[" ",w("form",{onSubmit:_.handleSubmit(O),className:"space-y-8 mt-6",children:[w("div",{className:"my-6 p-6 border rounded-lg shadow-sm",children:[c("h3",{className:"text-xl font-semibold mb-4",children:"Upload Invoice (Optional)"}),c(He,{control:_.control,name:"invoice_file",render:({field:U})=>w(Oe,{children:[c(Pe,{children:"Invoice Document"})," ",c(Ie,{children:c(tm,{value:U.value,onFileChange:I,accept:"image/png,image/jpeg,image/jpg,application/pdf",maxSize:5,disabled:f})}),c(bi,{children:"Upload an invoice image (PNG, JPG) or PDF. OCR pre-fill currently only supports images."}),c(Ze,{})]})}),f&&c("p",{className:"text-sm text-muted-foreground mt-2",children:"Processing invoice..."}),g&&!f&&w("div",{className:"mt-4 p-4 border rounded-md bg-muted/50 space-y-3",children:[c("h4",{className:"text-lg font-medium",children:"Extracted Invoice Data:"}),g.matchedSupplier&&w("p",{children:["Supplier: ",g.matchedSupplier.name," (Matched by AI & Fuzzy Search)"]}),!g.matchedSupplier&&g.supplier_name&&w("p",{children:["Supplier (AI OCR): ",g.supplier_name]}),g.invoice_date&&w("p",{children:["Date: ",g.invoice_date]}),g.total_amount&&w("p",{children:["Total: ",g.total_amount]}),w("p",{className:"font-medium mt-2",children:["Items (",g.items.length,"):"]}),w("ul",{className:"list-disc pl-5 text-sm",children:[g.items.slice(0,5).map((U,P)=>{var M;return w("li",{children:[U.description," (Qty: ",U.quantity??"N/A",", Price: ",U.unit_price??"N/A",")",U.inventoryItemId&&i.find(j=>j.value===U.inventoryItemId)&&w("span",{className:"text-green-600 ml-2",children:["(Matched: ",(M=i.find(j=>j.value===U.inventoryItemId))==null?void 0:M.label,")"]}),!U.inventoryItemId&&c("span",{className:"text-orange-600 ml-2",children:"(No direct match)"})]},P)}),g.items.length>5&&c("li",{children:"...and more"})]}),c(Le,{type:"button",onClick:L,className:"mt-3",children:"Apply OCR Data to Form"})]})]}),c(rm,{className:"my-8"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c(He,{control:_.control,name:"supplier_id",render:({field:U})=>w(Oe,{children:[c(Pe,{children:"Supplier"}),w(Ur,{onValueChange:U.onChange,defaultValue:U.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select a supplier"})})}),c($r,{children:n.map(P=>c(gt,{value:P.value,children:P.label},P.value))})]}),c(Ze,{})]})}),c(He,{control:_.control,name:"order_date",render:({field:U})=>w(Oe,{className:"flex flex-col",children:[c(Pe,{children:"Order Date"}),w(cg,{children:[c(ug,{asChild:!0,children:c(Ie,{children:w(Le,{variant:"outline",className:Rt("w-full pl-3 text-left font-normal",!U.value&&"text-muted-foreground"),children:[U.value?new Date(U.value).toLocaleDateString():c("span",{children:"Pick a date"}),c(yo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(gm,{className:"w-auto p-0",align:"start",children:c(vm,{mode:"single",selected:U.value,onSelect:U.onChange,initialFocus:!0})})]}),c(Ze,{})]})}),c(He,{control:_.control,name:"expected_delivery_date",render:({field:U})=>w(Oe,{className:"flex flex-col",children:[c(Pe,{children:"Expected Delivery Date (Optional)"}),w(cg,{children:[c(ug,{asChild:!0,children:c(Ie,{children:w(Le,{variant:"outline",className:Rt("w-full pl-3 text-left font-normal",!U.value&&"text-muted-foreground"),children:[U.value?new Date(U.value).toLocaleDateString():c("span",{children:"Pick a date"}),c(yo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(gm,{className:"w-auto p-0",align:"start",children:c(vm,{mode:"single",selected:U.value||void 0,onSelect:U.onChange})})]}),c(Ze,{})]})})]}),c(He,{control:_.control,name:"notes",render:({field:U})=>w(Oe,{children:[c(Pe,{children:"Notes (Optional)"}),c(Ie,{children:c(Yr,{placeholder:"Any additional notes for this purchase order",...U})}),c(Ze,{})]})}),w("div",{className:"space-y-4",children:[c(Yt,{className:"text-lg font-semibold",children:"Order Items"}),b.map((U,P)=>w("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 border p-4 rounded-md relative",children:[c("div",{className:"md:col-span-4",children:c(He,{control:_.control,name:`items.${P}.inventory_item_id`,render:({field:M})=>w(Oe,{children:[c(Pe,{children:"Item"}),w(Ur,{onValueChange:j=>{M.onChange(j),T(P,j)},defaultValue:M.value,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select an item"})})}),c($r,{children:i.map(j=>w(gt,{value:j.value,children:[j.label," ",j.category?`(${j.category})`:""]},j.value))})]}),(()=>{const j=_.getValues(`items.${P}.inventory_item_id`),V=i.find(X=>X.value===j);return V!=null&&V.item_code?w("p",{className:"text-xs text-muted-foreground mt-1",children:["Code: ",V.item_code]}):null})(),c(Ze,{})]})})}),c("div",{className:"md:col-span-3",children:c(He,{control:_.control,name:`items.${P}.description`,render:({field:M})=>w(Oe,{children:[c(Pe,{children:"Description"}),c(Ie,{children:c(ot,{placeholder:"Item description",...M})}),c(Ze,{})]})})}),c("div",{className:"md:col-span-2",children:c(He,{control:_.control,name:`items.${P}.quantity_ordered`,render:({field:M})=>w(Oe,{children:[c(Pe,{children:"Quantity"}),c(Ie,{children:c(ot,{type:"number",placeholder:"Qty",...M,onChange:j=>M.onChange(parseInt(j.target.value,10)||0)})}),c(Ze,{})]})})}),c("div",{className:"md:col-span-2",children:c(He,{control:_.control,name:`items.${P}.unit_price`,render:({field:M})=>w(Oe,{children:[c(Pe,{children:"Unit Price"}),c(Ie,{children:c(ot,{type:"number",step:"0.01",placeholder:"Price",...M,onChange:j=>M.onChange(parseFloat(j.target.value)||0)})}),c(Ze,{})]})})}),c("div",{className:"md:col-span-1 flex items-end",children:b.length>1&&c(Le,{type:"button",variant:"destructive",size:"icon",onClick:()=>C(P),children:c(am,{className:"h-4 w-4"})})})]},U.id)),w(Le,{type:"button",variant:"outline",onClick:()=>S({inventory_item_id:"",quantity_ordered:1,unit_price:0,description:""}),children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add Item"]})]}),w("div",{className:"flex justify-end space-x-2",children:[c(Le,{type:"button",variant:"outline",onClick:()=>e("/purchases"),disabled:u,children:"Cancel"}),c(Le,{type:"submit",disabled:u,children:u?"Creating...":"Create Purchase Order"})]})]})]})]})};var gP={exports:{}},QV;function GXe(){return QV||(QV=1,function(e){var t=function(r){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(q,Y,Z){q[Y]=Z.value},o,s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function f(q,Y,Z){return Object.defineProperty(q,Y,{value:Z,enumerable:!0,configurable:!0,writable:!0}),q[Y]}try{f({},"")}catch{f=function(Y,Z,D){return Y[Z]=D}}function h(q,Y,Z,D){var K=Y&&Y.prototype instanceof S?Y:S,Q=Object.create(K.prototype),ie=new te(D||[]);return i(Q,"_invoke",{value:M(q,Z,ie)}),Q}r.wrap=h;function m(q,Y,Z){try{return{type:"normal",arg:q.call(Y,Z)}}catch(D){return{type:"throw",arg:D}}}var x="suspendedStart",g="suspendedYield",y="executing",_="completed",b={};function S(){}function C(){}function E(){}var O={};f(O,l,function(){return this});var T=Object.getPrototypeOf,I=T&&T(T(z([])));I&&I!==n&&a.call(I,l)&&(O=I);var L=E.prototype=S.prototype=Object.create(O);C.prototype=E,i(L,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:C,configurable:!0}),C.displayName=f(E,d,"GeneratorFunction");function U(q){["next","throw","return"].forEach(function(Y){f(q,Y,function(Z){return this._invoke(Y,Z)})})}r.isGeneratorFunction=function(q){var Y=typeof q=="function"&&q.constructor;return Y?Y===C||(Y.displayName||Y.name)==="GeneratorFunction":!1},r.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,E):(q.__proto__=E,f(q,d,"GeneratorFunction")),q.prototype=Object.create(L),q},r.awrap=function(q){return{__await:q}};function P(q,Y){function Z(Q,ie,ae,oe){var de=m(q[Q],q,ie);if(de.type==="throw")oe(de.arg);else{var J=de.arg,ue=J.value;return ue&&typeof ue=="object"&&a.call(ue,"__await")?Y.resolve(ue.__await).then(function(ge){Z("next",ge,ae,oe)},function(ge){Z("throw",ge,ae,oe)}):Y.resolve(ue).then(function(ge){J.value=ge,ae(J)},function(ge){return Z("throw",ge,ae,oe)})}}var D;function K(Q,ie){function ae(){return new Y(function(oe,de){Z(Q,ie,oe,de)})}return D=D?D.then(ae,ae):ae()}i(this,"_invoke",{value:K})}U(P.prototype),f(P.prototype,u,function(){return this}),r.AsyncIterator=P,r.async=function(q,Y,Z,D,K){K===void 0&&(K=Promise);var Q=new P(h(q,Y,Z,D),K);return r.isGeneratorFunction(Y)?Q:Q.next().then(function(ie){return ie.done?ie.value:Q.next()})};function M(q,Y,Z){var D=x;return function(Q,ie){if(D===y)throw new Error("Generator is already running");if(D===_){if(Q==="throw")throw ie;return G()}for(Z.method=Q,Z.arg=ie;;){var ae=Z.delegate;if(ae){var oe=j(ae,Z);if(oe){if(oe===b)continue;return oe}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(D===x)throw D=_,Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);D=y;var de=m(q,Y,Z);if(de.type==="normal"){if(D=Z.done?_:g,de.arg===b)continue;return{value:de.arg,done:Z.done}}else de.type==="throw"&&(D=_,Z.method="throw",Z.arg=de.arg)}}}function j(q,Y){var Z=Y.method,D=q.iterator[Z];if(D===o)return Y.delegate=null,Z==="throw"&&q.iterator.return&&(Y.method="return",Y.arg=o,j(q,Y),Y.method==="throw")||Z!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+Z+"' method")),b;var K=m(D,q.iterator,Y.arg);if(K.type==="throw")return Y.method="throw",Y.arg=K.arg,Y.delegate=null,b;var Q=K.arg;if(!Q)return Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,b;if(Q.done)Y[q.resultName]=Q.value,Y.next=q.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=o);else return Q;return Y.delegate=null,b}U(L),f(L,d,"Generator"),f(L,l,function(){return this}),f(L,"toString",function(){return"[object Generator]"});function V(q){var Y={tryLoc:q[0]};1 in q&&(Y.catchLoc=q[1]),2 in q&&(Y.finallyLoc=q[2],Y.afterLoc=q[3]),this.tryEntries.push(Y)}function X(q){var Y=q.completion||{};Y.type="normal",delete Y.arg,q.completion=Y}function te(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(V,this),this.reset(!0)}r.keys=function(q){var Y=Object(q),Z=[];for(var D in Y)Z.push(D);return Z.reverse(),function K(){for(;Z.length;){var Q=Z.pop();if(Q in Y)return K.value=Q,K.done=!1,K}return K.done=!0,K}};function z(q){if(q){var Y=q[l];if(Y)return Y.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var Z=-1,D=function K(){for(;++Z<q.length;)if(a.call(q,Z))return K.value=q[Z],K.done=!1,K;return K.value=o,K.done=!0,K};return D.next=D}}return{next:G}}r.values=z;function G(){return{value:o,done:!0}}return te.prototype={constructor:te,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(X),!q)for(var Y in this)Y.charAt(0)==="t"&&a.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=o)},stop:function(){this.done=!0;var q=this.tryEntries[0],Y=q.completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var Y=this;function Z(oe,de){return Q.type="throw",Q.arg=q,Y.next=oe,de&&(Y.method="next",Y.arg=o),!!de}for(var D=this.tryEntries.length-1;D>=0;--D){var K=this.tryEntries[D],Q=K.completion;if(K.tryLoc==="root")return Z("end");if(K.tryLoc<=this.prev){var ie=a.call(K,"catchLoc"),ae=a.call(K,"finallyLoc");if(ie&&ae){if(this.prev<K.catchLoc)return Z(K.catchLoc,!0);if(this.prev<K.finallyLoc)return Z(K.finallyLoc)}else if(ie){if(this.prev<K.catchLoc)return Z(K.catchLoc,!0)}else if(ae){if(this.prev<K.finallyLoc)return Z(K.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(q,Y){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var D=this.tryEntries[Z];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var K=D;break}}K&&(q==="break"||q==="continue")&&K.tryLoc<=Y&&Y<=K.finallyLoc&&(K=null);var Q=K?K.completion:{};return Q.type=q,Q.arg=Y,K?(this.method="next",this.next=K.finallyLoc,b):this.complete(Q)},complete:function(q,Y){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&Y&&(this.next=Y),b},finish:function(q){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Z=this.tryEntries[Y];if(Z.finallyLoc===q)return this.complete(Z.completion,Z.afterLoc),X(Z),b}},catch:function(q){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Z=this.tryEntries[Y];if(Z.tryLoc===q){var D=Z.completion;if(D.type==="throw"){var K=D.arg;X(Z)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(q,Y,Z){return this.delegate={iterator:z(q),resultName:Y,nextLoc:Z},this.method==="next"&&(this.arg=o),b}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(gP)),gP.exports}var vP,eH;function N7(){return eH||(eH=1,vP=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`),vP}var yP,tH;function Ooe(){if(tH)return yP;tH=1;const e=N7();let t=0;return yP=({id:r,action:n,payload:a={}})=>{let i=r;return typeof i>"u"&&(i=e("Job",t),t+=1),{id:i,action:n,payload:a}},yP}var m2={},rH;function E7(){if(rH)return m2;rH=1;let e=!1;return m2.logging=e,m2.setLogging=t=>{e=t},m2.log=(...t)=>e?console.log.apply(this,t):null,m2}var xP,nH;function KXe(){if(nH)return xP;nH=1;const e=Ooe(),{log:t}=E7(),r=N7();let n=0;return xP=()=>{const a=r("Scheduler",n),i={},o={};let s=[];n+=1;const l=()=>s.length,u=()=>Object.keys(i).length,d=()=>{if(s.length!==0){const g=Object.keys(i);for(let y=0;y<g.length;y+=1)if(typeof o[g[y]]>"u"){s[0](i[g[y]]);break}}},f=(g,y)=>new Promise((_,b)=>{const S=e({action:g,payload:y});s.push(async C=>{s.shift(),o[C.id]=S;try{_(await C[g].apply(this,[...y,S.id]))}catch(E){b(E)}finally{delete o[C.id],d()}}),t(`[${a}]: Add ${S.id} to JobQueue`),t(`[${a}]: JobQueue length=${s.length}`),d()});return{addWorker:g=>(i[g.id]=g,t(`[${a}]: Add ${g.id}`),t(`[${a}]: Number of workers=${u()}`),d(),g.id),addJob:async(g,...y)=>{if(u()===0)throw Error(`[${a}]: You need to have at least one worker before adding jobs`);return f(g,y)},terminate:async()=>{Object.keys(i).forEach(async g=>{await i[g].terminate()}),s=[]},getQueueLen:l,getNumWorkers:u}},xP}function YXe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wP,aH;function XXe(){return aH||(aH=1,wP=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof YXe=="function"&&(t.type="node"),typeof e>"u"?t:t[e]}),wP}var _P,iH;function ZXe(){if(iH)return _P;iH=1;const t=XXe()("type")==="browser"?r=>new URL(r,window.location.href).href:r=>r;return _P=r=>{const n={...r};return["corePath","workerPath","langPath"].forEach(a=>{r[a]&&(n[a]=t(n[a]))}),n},_P}var bP,oH;function Doe(){return oH||(oH=1,bP={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),bP}const JXe="6.0.1",QXe={version:JXe};var SP,sH;function eZe(){return sH||(sH=1,SP={workerBlobURL:!0,logger:()=>{}}),SP}var AP,lH;function tZe(){if(lH)return AP;lH=1;const e=QXe.version;return AP={...eZe(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},AP}var kP,cH;function rZe(){return cH||(cH=1,kP=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r}),kP}var NP,uH;function nZe(){return uH||(uH=1,NP=e=>{e.terminate()}),NP}var EP,dH;function aZe(){return dH||(dH=1,EP=(e,t)=>{e.onmessage=({data:r})=>{t(r)}}),EP}var CP,fH;function iZe(){return fH||(fH=1,CP=async(e,t)=>{e.postMessage(t)}),CP}var TP,hH;function oZe(){if(hH)return TP;hH=1;const e=r=>new Promise((n,a)=>{const i=new FileReader;i.onload=()=>{n(i.result)},i.onerror=({target:{error:{code:o}}})=>{a(Error(`File could not be read! Code=${o}`))},i.readAsArrayBuffer(r)}),t=async r=>{let n=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?n=atob(r.split(",")[1]).split("").map(a=>a.charCodeAt(0)):n=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(n=await t(r.src)),r.tagName==="VIDEO"&&(n=await t(r.poster)),r.tagName==="CANVAS"&&await new Promise(a=>{r.toBlob(async i=>{n=await e(i),a()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){const a=await r.convertToBlob();n=await e(a)}else(r instanceof File||r instanceof Blob)&&(n=await e(r));return new Uint8Array(n)};return TP=t,TP}var PP,pH;function sZe(){if(pH)return PP;pH=1;const e=tZe(),t=rZe(),r=nZe(),n=aZe(),a=iZe(),i=oZe();return PP={defaultOptions:e,spawnWorker:t,terminateWorker:r,onMessage:n,send:a,loadImage:i},PP}var OP,mH;function Ioe(){if(mH)return OP;mH=1;const e=ZXe(),t=Ooe(),{log:r}=E7(),n=N7(),a=Doe(),{defaultOptions:i,spawnWorker:o,terminateWorker:s,onMessage:l,loadImage:u,send:d}=sZe();let f=0;return OP=async(h="eng",m=a.LSTM_ONLY,x={},g={})=>{const y=n("Worker",f),{logger:_,errorHandler:b,...S}=e({...i,...x}),C={},E=typeof h=="string"?h.split("+"):h;let O=m,T=g;const I=[a.DEFAULT,a.LSTM_ONLY].includes(m)&&!S.legacyCore;let L,U;const P=new Promise((J,ue)=>{U=J,L=ue}),M=J=>{L(J.message)};let j=o(S);j.onerror=M,f+=1;const V=({id:J,action:ue,payload:ge})=>new Promise((ne,Ne)=>{r(`[${y}]: Start ${J}, action=${ue}`);const Re=`${ue}-${J}`;C[Re]={resolve:ne,reject:Ne},d(j,{workerId:y,jobId:J,action:ue,payload:ge})}),X=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),te=J=>V(t({id:J,action:"load",payload:{options:{lstmOnly:I,corePath:S.corePath,logging:S.logging}}})),z=(J,ue,ge)=>V(t({id:ge,action:"FS",payload:{method:"writeFile",args:[J,ue]}})),G=(J,ue)=>V(t({id:ue,action:"FS",payload:{method:"readFile",args:[J,{encoding:"utf8"}]}})),q=(J,ue)=>V(t({id:ue,action:"FS",payload:{method:"unlink",args:[J]}})),Y=(J,ue,ge)=>V(t({id:ge,action:"FS",payload:{method:J,args:ue}})),Z=(J,ue)=>V(t({id:ue,action:"loadLanguage",payload:{langs:J,options:{langPath:S.langPath,dataPath:S.dataPath,cachePath:S.cachePath,cacheMethod:S.cacheMethod,gzip:S.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(O)&&!S.legacyLang}}})),D=(J,ue,ge,ne)=>V(t({id:ne,action:"initialize",payload:{langs:J,oem:ue,config:ge}})),K=(J="eng",ue,ge,ne)=>{if(I&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(ue))throw Error("Legacy model requested but code missing.");const Ne=ue||O;O=Ne;const Re=ge||T;T=Re;const pe=(typeof J=="string"?J.split("+"):J).filter(Je=>!E.includes(Je));return E.push(...pe),pe.length>0?Z(pe,ne).then(()=>D(J,Ne,Re,ne)):D(J,Ne,Re,ne)},Q=(J={},ue)=>V(t({id:ue,action:"setParameters",payload:{params:J}})),ie=async(J,ue={},ge={text:!0},ne)=>V(t({id:ne,action:"recognize",payload:{image:await u(J),options:ue,output:ge}})),ae=async(J,ue)=>{if(I)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return V(t({id:ue,action:"detect",payload:{image:await u(J)}}))},oe=async()=>(j!==null&&(s(j),j=null),Promise.resolve());l(j,({workerId:J,jobId:ue,status:ge,action:ne,data:Ne})=>{const Re=`${ne}-${ue}`;if(ge==="resolve")r(`[${J}]: Complete ${ue}`),C[Re].resolve({jobId:ue,data:Ne}),delete C[Re];else if(ge==="reject")if(C[Re].reject(Ne),delete C[Re],ne==="load"&&L(Ne),b)b(Ne);else throw Error(Ne);else ge==="progress"&&_({...Ne,userJobId:ue})});const de={id:y,worker:j,load:X,writeText:z,readText:G,removeFile:q,FS:Y,reinitialize:K,setParameters:Q,recognize:ie,detect:ae,terminate:oe};return te().then(()=>Z(h)).then(()=>D(h,m,g)).then(()=>U(de)).catch(()=>{}),P},OP}var DP,gH;function lZe(){if(gH)return DP;gH=1;const e=Ioe();return DP={recognize:async(n,a,i)=>{const o=await e(a,1,i);return o.recognize(n).finally(async()=>{await o.terminate()})},detect:async(n,a)=>{const i=await e("osd",0,a);return i.detect(n).finally(async()=>{await i.terminate()})}},DP}var IP,vH;function cZe(){return vH||(vH=1,IP={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),IP}var RP,yH;function uZe(){return yH||(yH=1,RP={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),RP}var MP,xH;function dZe(){if(xH)return MP;xH=1,GXe();const e=KXe(),t=Ioe(),r=lZe(),n=cZe(),a=Doe(),i=uZe(),{setLogging:o}=E7();return MP={languages:n,OEM:a,PSM:i,createScheduler:e,createWorker:t,setLogging:o,...r},MP}var fZe=dZe();let Lu=null,P0=!1;const hZe=async()=>{if(Lu)return Lu;if(P0)return new Promise((e,t)=>{const r=setInterval(()=>{Lu?(clearInterval(r),e(Lu)):P0||(clearInterval(r),t(new Error("Tesseract worker initialization failed.")))},100)});P0=!0;try{return Lu=await fZe.createWorker("eng",void 0,{logger:t=>console.log(t)}),P0=!1,Lu}catch(e){throw console.error("Failed to initialize Tesseract worker:",e),P0=!1,e}},wH=async e=>{if(e.type==="application/pdf")throw console.warn("Attempted OCR on PDF file. Client-side Tesseract.js does not support PDF directly."),new Error("PDF processing via client-side OCR is not supported. Please use an image file (PNG, JPG) or implement server-side PDF OCR.");const t=await hZe();if(!t)throw new Error("Tesseract worker not available.");try{const{data:{text:r}}=await t.recognize(e);return r}catch(r){console.error("Error during OCR processing:",r);const n=Lu;if(Lu=null,P0=!1,n)try{await n.terminate()}catch(a){console.error("Error terminating worker:",a)}throw new Error("Failed to extract text using OCR.")}},pZe=async()=>{if(Lu){const e=Lu;Lu=null,P0=!1;try{await e.terminate(),console.log("Tesseract worker terminated.")}catch(t){console.error("Error terminating Tesseract worker:",t)}}},_H=e=>{var u;const t=e.split(`
`).map(d=>d.trim()).filter(d=>d!==""),r={items:[]},n=[/\b(\d{1,2}[-/.\s]\d{1,2}[-/.\s]\d{2,4})\b/,/\b(\d{4}[-/.\s]\d{1,2}[-/.\s]\d{1,2})\b/,/\b((?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*[.\s,]*\d{1,2}[,\s]*\d{2,4})\b/i],a=["supplier","vendor","from:","invoice from","sold by"],i=["total","grand total","amount due","total amount","balance due"];for(const d of t){for(const f of a)if(d.toLowerCase().includes(f)){let h=(u=d.toLowerCase().split(f)[1])==null?void 0:u.trim();if(h!=null&&h.startsWith(":")&&(h=h.substring(1).trim()),h&&h.length>2){r.supplier=h.split(",")[0].trim();break}}if(r.supplier)break}if(!r.supplier&&t.length>0){const d=t[0];!n.some(f=>f.test(d))&&!d.toLowerCase().includes("invoice")&&(/\b(ltd|inc|llc|co)\b/i.test(d)||/^[a-zA-Z\s&]+$/.test(d.split(",")[0].trim()))&&(r.supplier=d.split(",")[0].trim())}for(const d of t){for(const f of n){const h=d.match(f);if(h&&h[1]){r.date=h[1];break}}if(r.date)break}let o=[];t.forEach(d=>{for(const f of i)if(d.toLowerCase().includes(f)){const h=d.match(/[\d,]+\.?\d*/g);h&&h.forEach(m=>{o.push({value:parseFloat(m.replace(/,/g,"")),line:d})})}}),o.length>0&&(o.sort((d,f)=>f.value-d.value),r.totalAmount=o[0].value);const s=["description","item","product","service","qty","quantity","price","unit price","amount","subtotal"],l=/([\d,]*\.?\d+)/g;return t.forEach((d,f)=>{const m=d.toLowerCase().split(/\s+/);if(m.filter(y=>s.includes(y)).length/m.length>.4&&m.length<6||/^[\d\s.,$€£\-+()%]+$/.test(d.trim())||d.length<10)return;const g=Array.from(d.matchAll(l));if(g.length>=2){const y=g[g.length-1],_=g[g.length-2],b=y[0].replace(/,/g,""),S=_[0].replace(/,/g,""),C=parseFloat(b),E=parseInt(S,10);if(!isNaN(C)&&!isNaN(E)&&E.toString()===S&&!S.includes(".")){const O=_.index;if(O!==void 0&&O>0){let T=d.substring(0,O).trim().replace(/[.,:;]$/,"").trim();T.length>2&&r.items.push({name:T,quantity:E,price:C})}}}}),r.items.length===0&&t.length>0&&console.warn("OCR parsing (old logic) did not find structured item lines. Raw lines:",t),console.log("Parsed OCR Data (Old Logic - Restored):",r),r},mZe=async()=>{console.log("Attempting to fetch inventory items for select/search...");const{data:e,error:t}=await Me.from("inventory_items").select("id, item_name, category, is_batched").order("item_name",{ascending:!0});if(t)throw console.error("Error fetching inventory items for select:",t),new Error(`Failed to fetch inventory items: ${t.message}`);return e?e.map(r=>({value:r.id,label:r.item_name,category:r.category,is_batched:r.is_batched??!1})):(console.warn("No inventory items found for select."),[])},Roe=["application/pdf","image/png","image/jpeg","image/jpg"],Moe=5*1024*1024,gZe=je.object({quantity_received_now:je.number().min(1,"Quantity must be at least 1"),batch_number:je.string().optional(),expiry_date:je.date().nullable().optional(),invoice_file:je.custom(e=>e instanceof File||e===null||e===void 0,"Invalid file format").refine(e=>!e||e.size<=Moe,"File size should be less than 5MB.").refine(e=>!e||Roe.includes(e.type),"Only .pdf, .png, .jpg, .jpeg files are accepted.").optional().nullable()}),vZe=({poItem:e,purchaseOrderId:t,poNumber:r,inventoryItemInfo:n,remainingQuantity:a,onReceiveSuccess:i,children:o})=>{const{toast:s}=vn(),{user:l}=ii(),[u,d]=A.useState(!1),[f,h]=A.useState(!1),[m,x]=A.useState(!1),[g,y]=A.useState(null),[_,b]=A.useState(null),[S,C]=A.useState([]),[E,O]=A.useState(!1),T=(n==null?void 0:n.is_batched)??!1,I=sd({resolver:ld(gZe.refine(U=>U.quantity_received_now<=a,{message:`Quantity cannot exceed remaining quantity (${a})`,path:["quantity_received_now"]}).refine(U=>!T||U.batch_number&&U.batch_number.trim()!=="",{message:"Batch number is required for batched items.",path:["batch_number"]}).refine(U=>!T||U.expiry_date,{message:"Expiry date is required for batched items.",path:["expiry_date"]})),defaultValues:{quantity_received_now:a>0?1:0,batch_number:"",expiry_date:null,invoice_file:null}});A.useEffect(()=>{(async()=>{if(u&&S.length===0){O(!0);try{const P=await mZe();C(P.map(M=>({id:M.value,name:M.label})))}catch(P){console.error("Failed to fetch inventory items for search:",P),s({variant:"destructive",title:"Error",description:"Could not load inventory items for matching."})}finally{O(!1)}}})(),u?(I.reset({quantity_received_now:a>0?1:0,batch_number:"",expiry_date:null,invoice_file:null}),y(null),b(null)):m||pZe()},[u,a,I,m,s]);const L=async U=>{if(h(!0),!l||!l.id){s({variant:"destructive",title:"Authentication Error",description:"User ID not found. Cannot record receipt."}),h(!1);return}try{let P=e.unit_price;if(_&&_.items){const j=_.items.find(V=>V.inventoryItemId===e.inventory_item_id);j&&(P=j.price,s({title:"Price Note",description:`Using confirmed invoice price (${P}) for this receipt of "${e.description}".`,duration:4e3}))}await JYe({p_po_item_id:e.id,p_quantity_received:U.quantity_received_now,p_batch_number:U.batch_number||null,p_expiry_date:U.expiry_date?U.expiry_date.toISOString().split("T")[0]:null,p_purchase_price:P,p_received_by_user_id:l.id});let M=null;if(U.invoice_file&&!_){x(!0),s({title:"Processing Invoice",description:"Extracting text from invoice, please wait..."});try{const j=await wH(U.invoice_file),V=_H(j);y(V);const X=JV(V.items,S),te=V.items.map((z,G)=>{var Y;const q=X.find(Z=>Z.ocrItemIndex===G);return{...z,inventoryItemId:((Y=q==null?void 0:q.bestMatch)==null?void 0:Y.id.toString())||null,matchDetails:q}});b({...V,items:te}),console.log("OCR Parsed Data:",V),console.log("Fuzzy Matched Items:",te),s({title:"Invoice Processed",description:"Review extracted and matched data below. Confirm to proceed."}),x(!1),h(!1);return}catch(j){console.error("OCR Error or Matching Error:",j),s({variant:"destructive",title:"Processing Failed",description:j.message}),x(!1),h(!1);return}}if(_&&U.invoice_file){console.log("Confirmed OCR Data, attempting to upload invoice and create record:",_),s({title:"Processing Confirmed Invoice",description:"Uploading file and creating invoice record..."});try{const j=await Toe(U.invoice_file,r);let V=null;try{const X=await xoe(t);X?V=X.supplier_id:s({variant:"destructive",title:"Warning",description:"Could not fetch PO details to link supplier to invoice. Supplier will be unlinked."})}catch(X){console.error("Failed to fetch PO for supplier ID:",X),s({variant:"destructive",title:"Warning",description:"Error fetching PO details for invoice supplier linking."})}await Poe({file_path:j,purchase_order_id:t,supplier_id:V,invoice_date:_.date?new Date(_.date).toISOString().split("T")[0]:null,total_amount:_.totalAmount,notes:`Invoice uploaded for PO: ${r}. OCR Supplier: ${_.supplier||"N/A"}. OCR Date: ${_.date||"N/A"}. OCR Total: ${_.totalAmount||"N/A"}`}),s({title:"Invoice Saved",description:`Invoice for PO ${r} processed and saved.`})}catch(j){console.error("Failed to upload invoice or create record:",j),s({variant:"destructive",title:"Invoice Processing Failed",description:j.message||"Could not save the invoice details."})}}s({title:"Success",description:`${U.quantity_received_now} units of "${e.description}" received.`}),i(),d(!1)}catch(P){console.error("Failed to receive items or process invoice:",P),s({variant:"destructive",title:"Error Receiving Items",description:(P==null?void 0:P.message)||"An unexpected error occurred while recording received items."})}finally{h(!1)}};return w(Za,{open:u,onOpenChange:d,children:[c(Hw,{asChild:!0,children:o}),w(Da,{className:"sm:max-w-[425px]",children:[w(Ia,{children:[w(Ra,{children:["Receive Item: ",e.description]}),w(oo,{children:["Record quantity received for this item. Ordered: ",e.quantity_ordered,", Received: ",e.quantity_received,", Remaining: ",a,"."]})]}),c(Dh,{...I,children:w("form",{onSubmit:I.handleSubmit(L),className:"space-y-4",children:[c(He,{control:I.control,name:"quantity_received_now",render:({field:U})=>w(Oe,{children:[c(Pe,{children:"Quantity Receiving Now"}),c(Ie,{children:c(ot,{type:"number",min:"1",max:a,...U,onChange:P=>U.onChange(parseInt(P.target.value,10)||0)})}),c(Ze,{})]})}),c(He,{control:I.control,name:"invoice_file",render:({field:U})=>w(Oe,{children:[c(Pe,{children:"Upload Invoice (Optional)"}),c(Ie,{children:c(tm,{value:U.value,onFileChange:async P=>{if(U.onChange(P),b(null),y(null),P){x(!0),s({title:"Scanning Invoice",description:"Extracting text, please wait..."});try{const M=await wH(P),j=_H(M);y(j);const V=JV(j.items,S),X=j.items.map((G,q)=>{var Z;const Y=V.find(D=>D.ocrItemIndex===q);return{...G,inventoryItemId:((Z=Y==null?void 0:Y.bestMatch)==null?void 0:Z.id.toString())||null,matchDetails:Y}});b({...j,items:X});const te=e.inventory_item_id,z=X.find(G=>G.inventoryItemId===te);if(z&&X.filter(G=>G.inventoryItemId===te).length===1){const G=z.quantity,q=Math.min(G,a);q>0&&I.getValues("quantity_received_now")!==q&&(I.setValue("quantity_received_now",q,{shouldValidate:!0}),s({title:"Quantity Pre-filled",description:`Quantity for "${e.description}" pre-filled from invoice.`}))}console.log("Live OCR Parsed Data:",j),console.log("Fuzzy Matched Items on change:",X),s({title:"Invoice Scanned",description:"Review extracted and matched data below."})}catch(M){console.error("OCR Error on change:",M),s({variant:"destructive",title:"OCR Failed",description:M.message}),b(null)}finally{x(!1)}}else b(null),y(null)},accept:Roe.join(","),maxSize:Moe,disabled:m||f})}),c(Ze,{})]})}),m&&c("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Processing invoice, please wait..."}),_&&!m&&w("div",{className:"space-y-4 p-4 border rounded-md mt-4",children:[c("h4",{className:"text-md font-semibold mb-2",children:"Confirm or Edit Extracted Invoice Data"}),w(Oe,{children:[c(Pe,{children:"Invoice Supplier"}),c(Ie,{children:c(ot,{value:_.supplier||"",onChange:U=>b(P=>P?{...P,supplier:U.target.value}:null),placeholder:"Supplier from invoice"})})]}),w(Oe,{children:[c(Pe,{children:"Invoice Date"}),c(Ie,{children:c(ot,{value:_.date||"",onChange:U=>b(P=>P?{...P,date:U.target.value}:null),placeholder:"Date from invoice (e.g., YYYY-MM-DD)"})})]}),w(Oe,{children:[c(Pe,{children:"Invoice Total Amount"}),c(Ie,{children:c(ot,{type:"number",value:_.totalAmount||"",onChange:U=>b(P=>P?{...P,totalAmount:parseFloat(U.target.value)||void 0}:null),placeholder:"Total amount from invoice"})})]}),w("div",{className:"space-y-2",children:[c(Pe,{children:"Invoice Items (Matched)"}),E&&c("p",{className:"text-sm text-muted-foreground",children:"Loading inventory for matching..."}),!E&&_.items.map((U,P)=>{var M;return w("div",{className:"p-3 border rounded-md space-y-2 bg-slate-50 dark:bg-slate-800",children:[w(Oe,{children:[c(Pe,{className:"text-xs",children:"OCR Item Name"}),c(ot,{value:U.name,onChange:j=>{const V=_.items.map((X,te)=>te===P?{...X,name:j.target.value}:X);b(X=>X?{...X,items:V}:null)},placeholder:"Item Name from Invoice",className:"text-sm"})]}),w("div",{className:"grid grid-cols-2 gap-2",children:[w(Oe,{children:[c(Pe,{className:"text-xs",children:"Qty"}),c(ot,{type:"number",value:U.quantity,onChange:j=>{const V=_.items.map((X,te)=>te===P?{...X,quantity:parseInt(j.target.value)||0}:X);b(X=>X?{...X,items:V}:null)},placeholder:"Qty",className:"text-sm"})]}),w(Oe,{children:[c(Pe,{className:"text-xs",children:"Price (Unit)"}),c(ot,{type:"number",value:U.price,onChange:j=>{const V=_.items.map((X,te)=>te===P?{...X,price:parseFloat(j.target.value)||0}:X);b(X=>X?{...X,items:V}:null)},placeholder:"Price",className:"text-sm"})]})]}),w(Oe,{children:[c(Pe,{className:"text-xs",children:"Match to Inventory Item"}),w(Ur,{value:U.inventoryItemId||"",onValueChange:j=>{const V=[..._.items];V[P].inventoryItemId=j==="NO_MATCH"?null:j,b(X=>X?{...X,items:V}:null)},children:[c(jr,{className:"text-sm",children:c(qr,{placeholder:"Select inventory match..."})}),w($r,{children:[((M=U.matchDetails)==null?void 0:M.bestMatch)&&w(gt,{value:U.matchDetails.bestMatch.id.toString(),children:["Best: ",U.matchDetails.bestMatch.name]}),S.filter(j=>{var V,X;return j.id!==((X=(V=U.matchDetails)==null?void 0:V.bestMatch)==null?void 0:X.id)}).map(j=>c(gt,{value:j.id.toString(),children:j.name},j.id)),c(gt,{value:"NO_MATCH",children:"No Match / Manual Entry"})]})]}),U.matchDetails&&U.matchDetails.allMatches.length>1&&!U.inventoryItemId&&w("p",{className:"text-xs text-muted-foreground mt-1",children:["Other possible matches: ",U.matchDetails.allMatches.slice(1,3).map(j=>j.item.name).join(", ")]})]})]},P)}),_.items.length===0&&c("p",{className:"text-xs text-muted-foreground",children:"No items found or parsed from invoice."})]})]}),T&&!_&&w(Sr,{children:[c(He,{control:I.control,name:"batch_number",render:({field:U})=>w(Oe,{children:[c(Pe,{children:"Batch Number"}),c(Ie,{children:c(ot,{placeholder:"Enter batch number",...U})}),c(Ze,{})]})}),c(He,{control:I.control,name:"expiry_date",render:({field:U})=>w(Oe,{className:"flex flex-col",children:[c(Pe,{children:"Expiry Date"}),w(cg,{children:[c(ug,{asChild:!0,children:c(Ie,{children:w(Le,{variant:"outline",className:Rt("w-full pl-3 text-left font-normal",!U.value&&"text-muted-foreground"),children:[U.value?new Date(U.value).toLocaleDateString():c("span",{children:"Pick expiry date"}),c(yo,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c(gm,{className:"w-auto p-0",align:"start",children:c(vm,{mode:"single",selected:U.value||void 0,onSelect:U.onChange,initialFocus:!0})})]}),c(Ze,{})]})})]}),w(lo,{children:[c(y3,{asChild:!0,children:c(Le,{type:"button",variant:"outline",disabled:f||m,children:"Cancel"})}),c(Le,{type:"submit",disabled:f||m||a<=0,children:f?"Saving Receipt...":m?"Processing Invoice...":"Confirm Receipt"})]})]})})]})]})},yZe=()=>{var V;const{id:e}=ny(),t=Uo(),{toast:r}=vn(),{user:n}=ii(),[a,i]=A.useState(null),[o,s]=A.useState([]),[l,u]=A.useState([]),[d,f]=A.useState(!0),[h,m]=A.useState(!1),[x,g]=A.useState(!1),[y,_]=A.useState(!1),[b,S]=A.useState(null),C=A.useCallback(async X=>{f(!0),S(null);try{const[te,z,G]=await Promise.all([xoe(X),A7(),HV(X)]);te?i(te):(S("Purchase order not found."),i(null)),s(z),u(G)}catch(te){console.error(te),S("Failed to fetch purchase order details or related data."),r({variant:"destructive",title:"Error",description:"Could not load purchase order details, items, or invoices."})}finally{f(!1)}},[r]);A.useEffect(()=>{e?C(e):(S("Purchase Order ID is missing."),f(!1))},[e,C]);const E=()=>{e&&(r({title:"Item Received",description:"Refreshing PO details..."}),C(e))},O=async X=>{var z;const te=(z=X.target.files)==null?void 0:z[0];if(!te||!e||!(a!=null&&a.po_number)||!(n!=null&&n.id)){r({variant:"destructive",title:"Upload Error",description:"Missing required information for upload."});return}if(!["application/pdf","image/png","image/jpeg"].includes(te.type)){r({variant:"destructive",title:"Invalid File Type",description:"Please upload a PDF, PNG, or JPG file."});return}m(!0);try{await QYe(e,a.po_number,te,n.id),r({title:"Success",description:`Invoice "${te.name}" uploaded.`});const G=await HV(e);u(G)}catch(G){console.error("Invoice upload failed:",G),r({variant:"destructive",title:"Upload Failed",description:(G==null?void 0:G.message)||"Could not upload invoice."})}finally{m(!1),X.target.value=""}},T=async()=>{if(!(!e||!a)){g(!0);try{console.log(`Simulating approval for PO ID: ${e}`),i(X=>X?{...X,status:"Approved"}:null),r({title:"PO Approved",description:`Purchase Order ${a.po_number} has been approved.`})}catch(X){console.error("Failed to approve PO:",X),r({variant:"destructive",title:"Approval Failed",description:(X==null?void 0:X.message)||"Could not approve purchase order."})}finally{g(!1)}}},I=async()=>{if(!(!e||!a)){_(!0);try{await tXe(e,"Ordered"),i(X=>X?{...X,status:"Ordered"}:null),r({title:"PO Confirmed",description:`Purchase Order ${a.po_number} has been marked as Ordered.`})}catch(X){console.error("Failed to confirm PO:",X),r({variant:"destructive",title:"Confirmation Failed",description:(X==null?void 0:X.message)||"Could not confirm purchase order."})}finally{_(!1)}}},L=async X=>{try{const te=await eXe(X.storage_path);te?window.open(te,"_blank"):r({variant:"destructive",title:"Download Error",description:"Could not get download link."})}catch(te){console.error("Download failed:",te),r({variant:"destructive",title:"Download Failed",description:"Could not get download link."})}},U=X=>{if(!X)return"outline";switch(X){case"Pending":return"outline";case"Approved":return"default";case"Ordered":return"secondary";case"Partially Received":return"default";case"Received":return"default";case"Cancelled":return"destructive";default:return"outline"}};if(d)return c("div",{className:"container mx-auto p-4",children:"Loading purchase order details..."});if(b)return w("div",{className:"container mx-auto p-4 text-red-500 flex items-center",children:[c(dc,{className:"mr-2"})," ",b]});if(!a)return c("div",{className:"container mx-auto p-4",children:"Purchase order not found."});const P=a.status==="Ordered"||a.status==="Partially Received",M=a.status==="Pending",j=a.status==="Approved";return w("div",{className:"container mx-auto p-4 space-y-6",children:[c(ka,{heading:`Purchase Order: ${a.po_number}`,text:`Details for PO from ${a.supplier_name}`}),w(cr,{children:[c(yr,{children:c(xr,{children:"Order Summary"})}),w(vr,{className:"grid md:grid-cols-3 gap-4",children:[w("div",{children:[c("span",{className:"font-semibold",children:"PO Number:"})," ",a.po_number]}),w("div",{children:[c("span",{className:"font-semibold",children:"Supplier:"})," ",a.supplier_name]}),w("div",{children:[c("span",{className:"font-semibold",children:"Order Date:"})," ",new Date(a.order_date).toLocaleDateString()]}),w("div",{children:[c("span",{className:"font-semibold",children:"Expected Delivery:"})," ",a.expected_delivery_date?new Date(a.expected_delivery_date).toLocaleDateString():"N/A"]}),w("div",{children:[c("span",{className:"font-semibold",children:"Status:"})," ",c(Zu,{variant:U(a.status),className:a.status==="Received"?"bg-green-500 hover:bg-green-600 text-white":"",children:a.status})]}),w("div",{children:[c("span",{className:"font-semibold",children:"Total Amount:"})," ",((V=a.total_amount)==null?void 0:V.toLocaleString("en-IN",{style:"currency",currency:"INR"}))||"N/A"]}),a.notes&&w("div",{className:"md:col-span-3",children:[c("span",{className:"font-semibold",children:"Notes:"})," ",a.notes]})]})]}),c(rm,{}),w(cr,{children:[w(yr,{children:[c(xr,{children:"Associated Invoices"}),c(vc,{children:"Manage invoices related to this purchase order."})]}),w(vr,{className:"space-y-4",children:[l.length>0?c("ul",{className:"list-disc pl-5 space-y-2",children:l.map(X=>w("li",{className:"flex justify-between items-center",children:[w("span",{children:[X.file_name," ",w("span",{className:"text-xs text-muted-foreground",children:["(",new Date(X.uploaded_at).toLocaleString(),")"]})]}),w(Le,{variant:"outline",size:"sm",onClick:()=>L(X),children:[c(HH,{className:"mr-2 h-4 w-4"})," Download"]})]},X.id))}):c("p",{className:"text-sm text-muted-foreground",children:"No invoices uploaded yet."}),w("div",{className:"mt-4",children:[c(Yt,{htmlFor:"invoice-upload",className:"mb-2 block",children:"Upload New Invoice (PDF, PNG, JPG)"}),c(ot,{id:"invoice-upload",type:"file",accept:".pdf, image/png, image/jpeg",onChange:O,disabled:h||a.status==="Cancelled",className:"max-w-sm"}),h&&w("p",{className:"text-sm text-muted-foreground mt-2 flex items-center",children:[c(nx,{className:"animate-pulse mr-1 h-4 w-4"})," Uploading..."]})]})]})]}),c(rm,{}),P&&w(cr,{children:[w(yr,{children:[c(xr,{children:"Receive Items"}),c(vc,{children:"Record received quantities for items in this purchase order."})]}),c(vr,{className:"space-y-4",children:a.items.filter(X=>X.quantity_ordered-X.quantity_received>0).length>0?a.items.map(X=>{const te=X.quantity_ordered-X.quantity_received,z=o.find(G=>G.value===X.inventory_item_id);return te<=0?null:w("div",{className:"flex justify-between items-center p-2 border rounded-md",children:[w("div",{children:[c("p",{className:"font-medium",children:X.description||X.product_name}),w("p",{className:"text-sm text-muted-foreground",children:["Ordered: ",X.quantity_ordered,", Received: ",X.quantity_received,", Remaining: ",te]})]}),c(vZe,{poItem:X,purchaseOrderId:a.id,poNumber:a.po_number,inventoryItemInfo:z,remainingQuantity:te,onReceiveSuccess:E,children:w(Le,{variant:"default",size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white",children:[c(Ace,{className:"mr-1 h-4 w-4"})," Receive"]})})]},`receive-${X.id}`)}):c("p",{className:"text-sm text-muted-foreground",children:"All items have been fully received or no items are pending receipt."})})]}),c(rm,{}),w("div",{className:"mt-8",children:[c(ka,{heading:"Order Items Summary"}),w(Fs,{className:"mt-4",children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"Item Description"}),c(Wt,{className:"text-right",children:"Ordered"}),c(Wt,{className:"text-right",children:"Received"}),c(Wt,{className:"text-right",children:"Remaining"}),c(Wt,{className:"text-right",children:"Unit Price"}),c(Wt,{className:"text-right",children:"Subtotal"})]})}),c(js,{children:a.items.map(X=>{const te=X.quantity_ordered-X.quantity_received;return w(En,{children:[c(jt,{children:X.description||X.product_name}),c(jt,{className:"text-right",children:X.quantity_ordered}),c(jt,{className:"text-right",children:X.quantity_received}),c(jt,{className:"text-right font-medium",children:te}),c(jt,{className:"text-right",children:X.unit_price.toLocaleString("en-IN",{style:"currency",currency:"INR"})}),c(jt,{className:"text-right",children:X.subtotal.toLocaleString("en-IN",{style:"currency",currency:"INR"})})]},X.id)})})]})]}),w("div",{className:"flex justify-between items-center mt-6",children:[w("div",{children:[" ",M&&w(Le,{onClick:T,disabled:x||d,variant:"default",className:"bg-green-500 hover:bg-green-600 text-white",children:[c(rx,{className:"mr-2 h-4 w-4"}),x?"Approving...":"Approve Order"]}),j&&w(Le,{onClick:I,disabled:y||d,variant:"default",children:[c(Tce,{className:"mr-2 h-4 w-4"}),y?"Confirming...":"Confirm & Mark Ordered"]})]}),c(Le,{variant:"outline",onClick:()=>t("/purchases"),children:"Back to Purchase Orders"})]})]})},xZe=async(e,t)=>{if(!e)throw new Error("No file provided for upload.");const r=e.name.split(".").pop(),n=`${kw()}.${r}`,i=`${t?`urgent_purchase_slips/${t}`:"urgent_purchase_slips"}/${n}`,{error:o}=await Me.storage.from("urgent-purchase-slip").upload(i,e);if(o)throw console.error("Error uploading urgent purchase slip:",o),o;return{filePath:i,fileName:e.name}},bH=async e=>{const{data:t,error:r}=await Me.from("urgent_purchases").insert(e.header).select().single();if(r||!t)throw console.error("Error creating urgent purchase header:",r),r||new Error("Failed to create urgent purchase header.");const n=t;if(e.items&&e.items.length>0){const a=e.items.map(o=>({...o,urgent_purchase_id:n.id})),{error:i}=await Me.from("urgent_purchase_items").insert(a);if(i)throw console.error("Error creating urgent purchase items:",i),await Me.from("urgent_purchases").delete().match({id:n.id}),i}return{...n,items:(e.items||[]).map(a=>({...a,id:kw(),urgent_purchase_id:n.id}))}},SH=async(e,t)=>{const{data:r,error:n}=await Me.from("urgent_purchases").select("requested_by_user_id, status").eq("id",e).single();if(n||!r)throw console.error("Error fetching urgent purchase for submission:",n),n||new Error("Urgent purchase not found for submission.");const a=r;if(a.requested_by_user_id!==t)throw new Error("User not authorized to submit this purchase for approval.");if(a.status!=="draft")throw new Error(`Urgent purchase is not in draft state (current: ${a.status}).`);const{data:i,error:o}=await Me.from("urgent_purchases").update({status:"pending_approval",updated_at:new Date().toISOString()}).eq("id",e).select().single();if(o||!i)throw console.error("Error submitting urgent purchase for approval:",o),o||new Error("Failed to submit urgent purchase for approval.");return i},wZe=async(e,t,r)=>{const{data:n,error:a}=await Me.from("urgent_purchases").update({status:"approved",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r,updated_at:new Date().toISOString()}).eq("id",e).eq("status","pending_approval").select().single();if(a||!n)throw console.error("Error approving urgent purchase:",a),a||new Error("Failed to approve urgent purchase or not found/not pending.");const i=n;return await bZe(i.id,t),i},_Ze=async(e,t,r)=>{if(!r||r.trim()==="")throw new Error("Reviewer notes are required for rejecting an urgent purchase.");const{data:n,error:a}=await Me.from("urgent_purchases").update({status:"rejected",reviewed_by_user_id:t,reviewed_at:new Date().toISOString(),reviewer_notes:r,updated_at:new Date().toISOString()}).eq("id",e).eq("status","pending_approval").select().single();if(a||!n)throw console.error("Error rejecting urgent purchase:",a),a||new Error("Failed to reject urgent purchase or not found/not pending.");return n},bZe=async(e,t)=>{const{data:r,error:n}=await Me.from("urgent_purchases").select(`
      *,
      urgent_purchase_items (*)
    `).eq("id",e).eq("status","approved").single();if(n||!r)throw console.error(`Error fetching approved urgent purchase ${e} for item processing:`,n),n||new Error("Approved urgent purchase not found or not in correct state for item processing.");const a=r;if(!a.urgent_purchase_items||a.urgent_purchase_items.length===0){console.log(`No items to process for urgent purchase ${e}.`);return}const i=a.urgent_purchase_items;for(const o of i){let s=null,l;const{data:u,error:d}=await Me.from("inventory_items").select("is_batched").eq("id",o.inventory_item_id).single();if(d||!u)throw console.error(`Inventory item ${o.inventory_item_id} not found for urgent purchase item ${o.id}`),d||new Error(`Inventory item ${o.inventory_item_id} not found.`);if(u.is_batched&&o.batch_number){l="BATCH_STOCK_IN";const{data:m,error:x}=await Me.from("inventory_item_batches").select("id").eq("inventory_item_id",o.inventory_item_id).eq("batch_number",o.batch_number).maybeSingle();if(x)throw console.error("Error fetching batch:",x),x;const g=m;if(g)s=g.id;else{const y={inventory_item_id:o.inventory_item_id,batch_number:o.batch_number,expiry_date:o.expiry_date||null,quantity_on_hand:0,purchase_price_at_receipt:0},{data:_,error:b}=await Me.from("inventory_item_batches").insert(y).select("id").single();if(b||!_)throw console.error("Error creating new batch:",b),b||new Error("Failed to create new batch.");s=_.id}}else l="add";const{error:h}=await Me.rpc("adjust_inventory_item_quantity",{p_inventory_item_id:o.inventory_item_id,p_quantity_change:o.quantity,p_change_type:l,p_user_id:t,p_notes:`Urgent purchase approved: ${a.id}. Slip: ${a.slip_filename||"N/A"}`,p_inventory_item_batch_id:s===null?void 0:s});if(h)throw console.error(`Error adjusting inventory for item ${o.inventory_item_id}:`,h),await Me.from("urgent_purchases").update({status:"rejected",reviewer_notes:`Item processing failed: ${h.message}`}).eq("id",e),h}console.log(`Successfully processed items for approved urgent purchase ${e}`)},SZe=async e=>{const{data:t,error:r}=await Me.from("urgent_purchases").select(`
      id,
      slip_image_path,
      slip_filename,
      invoice_delivery_date,
      status,
      confidence_score,
      notes,
      requested_by_user_id,
      requested_at,
      reviewed_by_user_id,
      reviewed_at,
      reviewer_notes,
      updated_at,
      urgent_purchase_items (*)
    `).eq("id",e).single();if(r){if(console.error(`Error fetching urgent purchase ${e}:`,r),r.code==="PGRST116")return null;throw r}if(!t)return null;const n=t;return{...n,items:n.urgent_purchase_items||[]}},Z3=async e=>{let t=Me.from("urgent_purchases").select(`
      id,
      slip_filename,
      invoice_delivery_date,
      status,
      requested_by_user_id,
      requested_at,
      updated_at,
      target_approval_role,
      reviewed_by_user_id,
      reviewed_at,
      reviewer_notes
    `).order("updated_at",{ascending:!1});e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.requested_by_user_id&&(t=t.eq("requested_by_user_id",e.requested_by_user_id));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching urgent purchases list:",n),n;return(r||[]).map(i=>({...i,items:[]}))},AZe=({onFileSelect:e,processing:t=!1,className:r})=>{const[n,a]=A.useState(null),[i,o]=A.useState(null);return w("div",{className:r,children:[c(tm,{onFileChange:u=>{a(u),e(u),u?(i&&URL.revokeObjectURL(i),o(URL.createObjectURL(u))):(i&&URL.revokeObjectURL(i),o(null))},accept:"image/jpeg, image/png, image/webp, application/pdf",maxSize:10,uploading:t,value:n,preview:i||void 0,onRemove:()=>{a(null),e(null),i&&URL.revokeObjectURL(i),o(null)},id:"urgent-purchase-slip-upload"}),n&&!t&&w(td,{className:"mt-4",children:[c(ZM,{className:"h-4 w-4"}),c(rd,{children:"File Ready"}),w(nd,{children:["Selected: ",n.name," (",(n.size/1024/1024).toFixed(2)," MB). Ready for processing."]})]}),t&&w(td,{className:"mt-4",children:[c(ZM,{className:"h-4 w-4"}),c(rd,{children:"Processing..."}),c(nd,{children:"The slip is being uploaded and analyzed. Please wait."})]})]})},AH="__NO_MATCH_VALUE__",kZe=je.object({inventory_item_id:je.string().min(1,"Item selection is required."),quantity:je.number().min(1,"Quantity must be at least 1."),batch_number:je.string().optional().nullable(),expiry_date:je.date().optional().nullable()}),NZe=["admin","owner","doctor"],EZe=je.object({items:je.array(kZe).min(1,"At least one item is required."),invoice_delivery_date:je.date().optional().nullable(),notes:je.string().optional().nullable(),target_approval_role:je.string().min(1,"Target approval role is required.")}),CZe=({onClose:e,onSuccess:t})=>{const{toast:r}=vn(),{user:n}=ii(),[a,i]=A.useState("slip_upload"),[o,s]=A.useState(null),[l,u]=A.useState(!1),[d,f]=A.useState(null),[h,m]=A.useState([]),[x,g]=A.useState(""),[y,_]=A.useState([]),[b,S]=A.useState([]),[C,E]=A.useState(!1),O=NZe.filter(z=>z!==(n==null?void 0:n.role)),T=sd({resolver:ld(EZe),defaultValues:{items:[{inventory_item_id:"",quantity:1,batch_number:"",expiry_date:null}],invoice_delivery_date:new Date,notes:"",target_approval_role:""}}),{fields:I,append:L,remove:U}=bS({control:T.control,name:"items"});A.useEffect(()=>{(async()=>{try{const G=await A7();_(G),S(G.map(q=>({id:q.value,name:q.label,item_code:q.item_code})))}catch{r({variant:"destructive",title:"Error",description:"Could not load inventory items."})}})()},[r]);const P=z=>new Promise((G,q)=>{const Y=new FileReader;Y.onload=()=>G(Y.result),Y.onerror=Z=>q(Z),Y.readAsDataURL(z)}),M=async z=>{if(s(z),f(null),m([]),z){u(!0);try{const G=await P(z),{data:q,error:Y}=await Me.functions.invoke("ocr-slip-parser",{body:{image_data_urls:[G],file_type:z.type}});if(Y)throw Y;const Z=q;let D=0,K=0;const Q=Z.items.map(oe=>{const{bestMatch:de,bestMatchScore:J}=t4(oe.slip_text,b);let ue;return de&&typeof J=="number"?(ue=1-J,ue=Math.max(0,Math.min(1,ue)),D+=ue,K++):de?(ue=.75,D+=ue,K++):ue=.1,{...oe,matched_item_id:(de==null?void 0:de.id)||null,matched_item_name:(de==null?void 0:de.name)||null,confidence:ue}}),ie=K>0?D/K:Z.overall_confidence||0,ae={...Z,items:Q,overall_confidence:ie};f(ae),m(ae.items.map(oe=>({...oe}))),r({title:"Slip Processed by Server",description:"Review the extracted items below."})}catch(G){console.error("Error processing slip with Edge Function:",G),r({variant:"destructive",title:"Processing Error",description:G.message||"Failed to process slip using server function."})}finally{u(!1)}}},j=(z,G,q)=>{const Y=[...h];if(G==="matched_item_id")if(q===AH||q==="")Y[z][G]=null,Y[z].matched_item_name=null;else{Y[z][G]=q;const Z=b.find(D=>D.id===q);Y[z].matched_item_name=(Z==null?void 0:Z.name)||null}else Y[z][G]=q;m(Y)},V=z=>{m(G=>G.filter((q,Y)=>Y!==z))},X=async()=>{if(!n||!n.id){r({variant:"destructive",title:"Authentication Error",description:"User not logged in."});return}if(!d||h.length===0){r({variant:"destructive",title:"No Data",description:"No items to submit."});return}if(!x){r({variant:"destructive",title:"Validation Error",description:"Please select a target approval role."});return}E(!0);try{let z,G;if(o){const Z=await xZe(o,n.id);z=Z.filePath,G=Z.fileName}const q={header:{slip_image_path:z||null,slip_filename:G||null,invoice_delivery_date:d.invoice_delivery_date?d.invoice_delivery_date:null,status:"draft",confidence_score:d.overall_confidence,notes:`Urgent purchase via slip upload. OCR Confidence: ${((d.overall_confidence||0)*100).toFixed(0)}%`,requested_by_user_id:n.id,target_approval_role:x},items:h.filter(Z=>Z.matched_item_id&&(Z.quantity||0)>0).map(Z=>({inventory_item_id:Z.matched_item_id,slip_text:Z.slip_text,matched_item_name:Z.matched_item_name||"Unknown Item",quantity:Z.quantity||0,batch_number:Z.batch_number||null,expiry_date:Z.expiry_date||null}))};if(q.items.length===0){r({variant:"destructive",title:"No Valid Items",description:"No items with matched inventory ID and quantity > 0."}),E(!1);return}const Y=await bH(q);if(Y&&Y.id)await SH(Y.id,n.id),r({title:"Urgent Purchase Submitted",description:`Request ID: ${Y.id} submitted for approval.`}),t();else throw new Error("Failed to get ID from created entry for submission.")}catch(z){r({variant:"destructive",title:"Submission Error",description:z.message||"Failed to submit urgent purchase for approval."})}finally{E(!1)}},te=async z=>{if(!n||!n.id){r({variant:"destructive",title:"Authentication Error",description:"User not logged in."});return}E(!0);try{const G={header:{invoice_delivery_date:z.invoice_delivery_date?z.invoice_delivery_date.toISOString().split("T")[0]:null,status:"draft",notes:z.notes||"Urgent purchase via Quick Entry.",requested_by_user_id:n.id,confidence_score:null,target_approval_role:z.target_approval_role},items:z.items.map(Y=>{const Z=b.find(D=>D.id===Y.inventory_item_id);return{inventory_item_id:Y.inventory_item_id,matched_item_name:(Z==null?void 0:Z.name)||"Unknown Item",quantity:Y.quantity,batch_number:Y.batch_number||null,expiry_date:Y.expiry_date?Y.expiry_date.toISOString().split("T")[0]:null,slip_text:`Quick Entry: ${Z==null?void 0:Z.name}`}})},q=await bH(G);if(q&&q.id)await SH(q.id,n.id),r({title:"Quick Entry Submitted",description:`Request ID: ${q.id} submitted for approval.`}),T.reset(),t();else throw new Error("Failed to get ID from created quick entry for submission.")}catch(G){r({variant:"destructive",title:"Quick Entry Error",description:G.message||"Failed to submit quick entry for approval."})}finally{E(!1)}};return w(Cg,{value:a,onValueChange:z=>i(z),className:"w-full",children:[w(Tg,{className:"grid w-full grid-cols-2",children:[c(sl,{value:"slip_upload",children:"Upload Slip/Invoice"}),c(sl,{value:"quick_entry",children:"Quick Manual Entry"})]}),c(ki,{value:"slip_upload",children:w(cr,{className:"border-0 shadow-none",children:[w(yr,{children:[c(xr,{children:"Upload Delivery Slip or Invoice"}),c(vc,{children:"Upload an image (PNG, JPG). PDF support requires server-side OCR."})]}),w(vr,{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[" ",c(AZe,{onFileSelect:M,processing:l}),l&&w("div",{className:"flex items-center text-muted-foreground",children:[c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing slip..."]}),d&&!l&&w("div",{className:"mt-4",children:[c(Yt,{htmlFor:"targetRoleSlip",children:"Send Approval To*"}),w(Ur,{value:x,onValueChange:g,children:[c(jr,{id:"targetRoleSlip",children:c(qr,{placeholder:"Select role for approval..."})}),c($r,{children:O.map(z=>c(gt,{value:z,children:z.charAt(0).toUpperCase()+z.slice(1)},z))})]}),!x&&C&&c("p",{className:"text-xs text-destructive mt-1",children:"Target approval role is required."})]}),d&&h.length>0&&!l&&w("div",{className:"space-y-3 mt-4",children:[w("h3",{className:"text-md font-semibold",children:["Review Extracted Items (Confidence: ",((d.overall_confidence||0)*100).toFixed(0),"%)"]}),d.invoice_delivery_date&&w("p",{className:"text-sm",children:["Detected Invoice/Delivery Date: ",d.invoice_delivery_date]}),h.map((z,G)=>c(cr,{className:"p-3 space-y-2 bg-muted/50 border",children:w("div",{className:"grid grid-cols-6 gap-3 items-end",children:[w("div",{className:"col-span-6 sm:col-span-3 md:col-span-2",children:[c(Yt,{htmlFor:`ocr-item-name-${G}`,className:"text-xs",children:"Slip Text"}),c(ot,{id:`ocr-item-name-${G}`,value:z.slip_text||"",onChange:q=>j(G,"slip_text",q.target.value),className:"h-8 text-sm"})]}),w("div",{className:"col-span-6 sm:col-span-3 md:col-span-2",children:[c(Yt,{htmlFor:`ocr-item-inventory-${G}`,className:"text-xs",children:"Matched Item"}),w(Ur,{value:z.matched_item_id||"",onValueChange:q=>j(G,"matched_item_id",q),children:[c(jr,{className:"h-8 text-sm",children:c(qr,{placeholder:"Select item..."})}),w($r,{children:[c(gt,{value:AH,className:"text-sm",children:c("em",{children:"No Match / Clear Selection"})}),y.map(q=>w(gt,{value:q.value,className:"text-sm",children:[q.label," ",q.item_code?`(${q.item_code})`:""]},q.value))]})]}),z.confidence!==void 0&&z.confidence!==null&&w("p",{className:"text-xs mt-1",children:["Match Confidence: ",((z.confidence||0)*100).toFixed(0),"%"]})]}),w("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[c(Yt,{htmlFor:`ocr-item-qty-${G}`,className:"text-xs",children:"Quantity"}),c(ot,{id:`ocr-item-qty-${G}`,type:"number",value:z.quantity||0,onChange:q=>j(G,"quantity",parseInt(q.target.value)||0),className:"h-8 text-sm"})]}),w("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[c(Yt,{htmlFor:`ocr-item-batch-${G}`,className:"text-xs",children:"Batch No."}),c(ot,{id:`ocr-item-batch-${G}`,value:z.batch_number||"",onChange:q=>j(G,"batch_number",q.target.value),className:"h-8 text-sm"})]}),w("div",{className:"col-span-3 sm:col-span-2 md:col-span-1",children:[c(Yt,{htmlFor:`ocr-item-expiry-${G}`,className:"text-xs",children:"Expiry Date"}),c(ot,{id:`ocr-item-expiry-${G}`,type:"date",placeholder:"YYYY-MM-DD",value:z.expiry_date||"",onChange:q=>j(G,"expiry_date",q.target.value),className:"h-8 text-sm"})]}),c("div",{className:"col-span-3 sm:col-span-2 md:col-span-1 flex items-end justify-end",children:c(Le,{variant:"ghost",size:"icon",onClick:()=>V(G),className:"text-destructive h-8 w-8",children:c(am,{className:"h-4 w-4"})})})]})},G))]})]}),w("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[c(Le,{variant:"outline",onClick:e,children:"Cancel"}),w(Le,{onClick:X,disabled:l||C||!d||h.length===0,children:[C?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(rx,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})}),c(ki,{value:"quick_entry",children:w(cr,{className:"border-0 shadow-none",children:[w(yr,{children:[c(xr,{children:"Quick Manual Entry"}),c(vc,{children:"Manually add items to stock."})]}),w("form",{onSubmit:T.handleSubmit(te),children:[w(vr,{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[w("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("div",{children:[c(Yt,{htmlFor:"target_approval_role_quick",children:"Send Approval To*"}),c(Up,{name:"target_approval_role",control:T.control,render:({field:z,fieldState:G})=>w(Sr,{children:[w(Ur,{onValueChange:z.onChange,defaultValue:z.value,children:[c(jr,{id:"target_approval_role_quick",children:c(qr,{placeholder:"Select role..."})}),c($r,{children:O.map(q=>c(gt,{value:q,children:q.charAt(0).toUpperCase()+q.slice(1)},q))})]}),G.error&&c("p",{className:"text-xs text-destructive mt-1",children:G.error.message})]})})]}),w("div",{children:[c(Yt,{htmlFor:"quick-invoice-date",children:"Invoice/Delivery Date (Optional)"}),c(Up,{name:"invoice_delivery_date",control:T.control,render:({field:z})=>c(ot,{type:"date",value:z.value?new Date(z.value).toISOString().split("T")[0]:"",onChange:G=>z.onChange(G.target.value?new Date(G.target.value):null),className:"h-9"})})]}),w("div",{children:[c(Yt,{htmlFor:"quick-notes",children:"Notes (Optional)"}),c(Yr,{id:"quick-notes",...T.register("notes")})]})]}),c("h4",{className:"text-md font-semibold pt-4",children:"Items"}),I.map((z,G)=>c(cr,{className:"p-3 space-y-2 bg-muted/50",children:w("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 items-end",children:[w("div",{className:"sm:col-span-2 md:col-span-2",children:[c(Yt,{htmlFor:`qitem-inventory-${G}`,className:"text-xs",children:"Inventory Item*"}),c(Up,{name:`items.${G}.inventory_item_id`,control:T.control,render:({field:q,fieldState:Y})=>w(Sr,{children:[w(Ur,{value:q.value||"",onValueChange:q.onChange,children:[c(jr,{className:"h-8 text-sm",children:c(qr,{placeholder:"Select item..."})}),c($r,{children:y.map(Z=>w(gt,{value:Z.value,className:"text-sm",children:[Z.label," ",Z.item_code?`(${Z.item_code})`:""]},Z.value))})]}),Y.error&&c("p",{className:"text-xs text-destructive mt-1",children:Y.error.message})]})})]}),w("div",{children:[c(Yt,{htmlFor:`qitem-qty-${G}`,className:"text-xs",children:"Quantity*"}),c(Up,{name:`items.${G}.quantity`,control:T.control,render:({field:q,fieldState:Y})=>w(Sr,{children:[c(ot,{id:`qitem-qty-${G}`,type:"number",value:q.value||0,onChange:Z=>q.onChange(parseInt(Z.target.value,10)||0),className:"h-8 text-sm"}),Y.error&&c("p",{className:"text-xs text-destructive mt-1",children:Y.error.message})]})})]}),w("div",{children:[c(Yt,{htmlFor:`qitem-batch-${G}`,className:"text-xs",children:"Batch No."}),c(Up,{name:`items.${G}.batch_number`,control:T.control,render:({field:q})=>c(ot,{id:`qitem-batch-${G}`,...q,value:q.value||"",className:"h-8 text-sm"})})]}),w("div",{children:[c(Yt,{htmlFor:`qitem-expiry-${G}`,className:"text-xs",children:"Expiry Date"}),c(Up,{name:`items.${G}.expiry_date`,control:T.control,render:({field:q})=>c(ot,{type:"date",value:q.value?new Date(q.value).toISOString().split("T")[0]:"",onChange:Y=>q.onChange(Y.target.value?new Date(Y.target.value):null),className:"h-8 text-sm"})})]}),c("div",{className:"flex items-center justify-end",children:I.length>1&&c(Le,{type:"button",variant:"ghost",size:"icon",onClick:()=>U(G),className:"text-destructive h-8 w-8",children:c(am,{className:"h-4 w-4"})})})]})},z.id)),w(Le,{type:"button",variant:"outline",size:"sm",onClick:()=>L({inventory_item_id:"",quantity:1,batch_number:"",expiry_date:null}),children:[c(Nh,{className:"mr-2 h-4 w-4"})," Add Item"]})]}),w("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[c(Le,{variant:"outline",onClick:e,children:"Cancel"}),w(Le,{type:"submit",disabled:C,children:[C?c(Zn,{className:"mr-2 h-4 w-4 animate-spin"}):c(rx,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})]})})]})},TZe=()=>{const{toast:e}=vn(),[t,r]=A.useState([]),[n,a]=A.useState(!1),[i,o]=A.useState(!1),s=async()=>{a(!0);try{const f=await Z3();r(f)}catch(f){e({variant:"destructive",title:"Error fetching urgent purchases",description:f.message||"Could not load urgent purchase entries."})}finally{a(!1)}};A.useEffect(()=>{s()},[e]);const l=()=>{o(!1),s()},u=f=>{switch(f){case"approved":return"default";case"pending_approval":return"secondary";case"rejected":return"destructive";case"draft":return"outline";default:return"outline"}},d=f=>{if(!f)return!1;const h=new Date(f);return!isNaN(h.getTime())};return w("div",{className:"container mx-auto p-4",children:[c(ka,{heading:"Urgent Purchase Entry",text:"Create or view history of urgent stock entries made without a PO.",children:w("div",{className:"flex gap-2",children:[w(Za,{open:i,onOpenChange:o,children:[c(Hw,{asChild:!0,children:w(Le,{children:[c(Nh,{className:"mr-2 h-4 w-4"})," Create New Urgent Entry"]})}),w(Da,{className:"sm:max-w-[80vw] md:max-w-[70vw] lg:max-w-[60vw] xl:max-w-[50vw]",children:[" ",w(Ia,{children:[c(Ra,{children:"Create Urgent Purchase Entry"}),w(oo,{children:[" ","Upload a slip/invoice image for OCR processing or use the Quick Manual Entry tab."]})]}),c(CZe,{onClose:()=>o(!1),onSuccess:l})]})]}),c(Le,{variant:"outline",asChild:!0,children:c(zi,{to:"/purchases/urgent/history",children:"View Modification History"})}),c(Le,{variant:"outline",asChild:!0,children:c(zi,{to:"/purchases/urgent/my-requests",children:"View My Requests"})})]})}),n?c("div",{className:"flex justify-center items-center py-10",children:c(Zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c(cr,{className:"mt-6",children:w(vr,{className:"p-0",children:[" ",w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"Delivery Date"}),c(Wt,{children:"Status"}),c(Wt,{children:"Slip Filename"}),c(Wt,{children:"Requested At"}),c(Wt,{children:"Updated At"}),c(Wt,{children:"Actions"})]})}),c(js,{children:t.length===0?c(En,{children:c(jt,{colSpan:6,className:"text-center text-muted-foreground py-10",children:"No urgent purchase entries found."})}):t.map(f=>w(En,{children:[c(jt,{children:d(f.invoice_delivery_date)?Vt(new Date(f.invoice_delivery_date),"PP"):"N/A"}),c(jt,{children:c(Zu,{variant:u(f.status),children:f.status.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase())})}),c(jt,{children:f.slip_filename||"N/A (Quick Entry)"}),c(jt,{children:d(f.requested_at)?Vt(new Date(f.requested_at),"PPpp"):"N/A"}),c(jt,{children:d(f.updated_at)?Vt(new Date(f.updated_at),"PPpp"):"N/A"}),c(jt,{children:c(Le,{variant:"outline",size:"sm",asChild:!0,children:w(zi,{to:`/purchases/urgent/${f.id}`,children:[c(Nw,{className:"mr-2 h-4 w-4"})," View Details"]})})})]},f.id))})]})]})})]})},PZe=()=>{const{id:e}=ny(),{toast:t}=vn(),[r,n]=A.useState(null),[a,i]=A.useState(!1),[o,s]=A.useState(null);A.useEffect(()=>{const u=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;(async()=>{if(!e||!u.test(e)){s("Invalid or no purchase ID provided."),i(!1);return}i(!0),s(null);try{const f=await SZe(e);f?n(f):(s("Urgent purchase entry not found."),t({variant:"destructive",title:"Not Found",description:`Urgent purchase with ID ${e} not found.`}))}catch(f){s("Failed to load purchase details."),t({variant:"destructive",title:"Error",description:f.message||"Could not load urgent purchase details."})}finally{i(!1)}})()},[e,t]);const l=u=>{switch(u){case"Auto-Confirmed":case"Manually Confirmed":return"default";case"Pending Review":return"secondary";case"Rejected":case"ProcessingError":return"destructive";default:return"outline"}};return a?c("div",{className:"flex justify-center items-center py-10",children:c(Zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o?w("div",{className:"container mx-auto p-4 text-center text-destructive",children:[c("p",{children:o}),c(Le,{variant:"link",asChild:!0,className:"mt-4",children:w(zi,{to:"/purchases/urgent",children:[" ",c(c5,{className:"mr-2 h-4 w-4"})," Back to Log"]})})]}):r?w("div",{className:"container mx-auto p-4 space-y-6",children:[c(ka,{heading:"Urgent Purchase Details",text:r.requested_at?`Details for entry created on ${Vt(new Date(r.requested_at),"PPp")}`:"Details for entry",children:c(Le,{variant:"outline",asChild:!0,children:w(zi,{to:"/purchases/urgent",children:[" ",c(c5,{className:"mr-2 h-4 w-4"})," Back to Log"]})})}),w(cr,{children:[c(yr,{children:c(xr,{children:"Summary"})}),w(vr,{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[w("div",{children:[c("strong",{children:"ID:"})," ",r.id]}),w("div",{children:[c("strong",{children:"Status:"})," ",c(Zu,{variant:l(r.status),children:r.status})]}),w("div",{children:[c("strong",{children:"Invoice/Delivery Date:"})," ",r.invoice_delivery_date?Vt(new Date(r.invoice_delivery_date),"PP"):"N/A"]}),w("div",{children:[c("strong",{children:"Slip Filename:"})," ",r.slip_filename||"N/A"]}),w("div",{children:[c("strong",{children:"OCR Confidence:"}),r.confidence_score!==null&&r.confidence_score!==void 0?` ${(r.confidence_score*100).toFixed(0)}%`:" N/A"]}),w("div",{children:[c("strong",{children:"Requested By:"})," ",r.requested_by_user_id||"Unknown"]}),w("div",{className:"md:col-span-3",children:[c("strong",{children:"Notes:"})," ",r.notes||"N/A"]})]})]}),w(cr,{children:[c(yr,{children:c(xr,{children:"Items Received"})}),c(vr,{children:w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"Matched Item"}),c(Wt,{children:"Slip Text"}),c(Wt,{children:"Quantity"}),c(Wt,{children:"Batch No."}),c(Wt,{children:"Expiry Date"})]})}),c(js,{children:r.items.length===0?c(En,{children:c(jt,{colSpan:5,className:"text-center text-muted-foreground py-10",children:"No items found for this entry."})}):r.items.map(u=>w(En,{children:[c(jt,{children:u.matched_item_name}),c(jt,{children:u.slip_text||"N/A"}),c(jt,{children:u.quantity}),c(jt,{children:u.batch_number||"N/A"}),c(jt,{children:u.expiry_date?Vt(new Date(u.expiry_date),"PP"):"N/A"})]},u.id))})]})})]})]}):c("div",{className:"container mx-auto p-4 text-center",children:"Urgent purchase not found."})},kH=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},OZe=()=>{const{user:e}=ii(),{toast:t}=vn(),r=Uo(),[n,a]=A.useState([]),[i,o]=A.useState(!0),s=A.useCallback(async()=>{o(!0);try{const d=await Z3();a(d)}catch(d){console.error("Error fetching urgent purchase history:",d),t({variant:"destructive",title:"Error",description:"Could not load urgent purchase history."})}finally{o(!1)}},[t]);A.useEffect(()=>{s()},[s]);const l=d=>{r(`/purchases/urgent/${d}`)},u=d=>d?d.substring(0,8)+"...":"N/A";return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(ka,{heading:"Urgent Purchase Modification History",text:"View the history and status of all urgent purchase entries.",children:c(Le,{variant:"outline",asChild:!0,children:w(zi,{to:"/purchases/urgent",children:[c(c5,{className:"mr-2 h-4 w-4"})," Back to Urgent Purchases"]})})}),c("div",{className:"mt-6",children:i?c("p",{children:"Loading history..."}):n.length===0?w(cr,{children:[c(yr,{children:c(xr,{children:"No Urgent Purchase History Found"})}),c(vr,{children:c("p",{children:"There are no urgent purchase entries in the system yet."})})]}):w(cr,{children:[w(yr,{children:[c(xr,{children:"Urgent Purchase History"}),w(vc,{children:[n.length," record(s) found."]})]}),c(vr,{children:w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"Request ID / Slip"}),c(Wt,{children:"Status"}),c(Wt,{children:"Requested By"}),c(Wt,{children:"Requested At"}),c(Wt,{children:"Reviewed By"}),c(Wt,{children:"Reviewed At"}),c(Wt,{children:"Reviewer Notes"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:n.map(d=>w(En,{children:[c(jt,{children:d.slip_filename||d.id.substring(0,8)+"..."}),c(jt,{children:c(Zu,{variant:d.status==="approved"?"default":d.status==="rejected"?"destructive":d.status==="pending_approval"?"outline":(d.status==="draft","secondary"),className:d.status==="approved"?"bg-green-100 text-green-700 border-green-300":d.status==="rejected"?"bg-red-100 text-red-700 border-red-300":d.status==="pending_approval"?"bg-yellow-100 text-yellow-700 border-yellow-300":"",children:d.status?d.status.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()):"N/A"})}),c(jt,{children:u(d.requested_by_user_id)}),c(jt,{children:kH(d.requested_at)?Vt(new Date(d.requested_at),"PPp"):"N/A"}),c(jt,{children:u(d.reviewed_by_user_id)}),c(jt,{children:kH(d.reviewed_at)?Vt(new Date(d.reviewed_at),"PPp"):"N/A"}),c(jt,{className:"max-w-xs truncate",title:d.reviewer_notes||void 0,children:d.reviewer_notes||"N/A"}),c(jt,{className:"text-right",children:w(Le,{variant:"outline",size:"sm",onClick:()=>l(d.id),children:[c(Nw,{className:"mr-1 h-4 w-4"})," View"]})})]},d.id))})]})})]})})]})},NH=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},DZe=()=>{const{user:e}=ii(),{toast:t}=vn(),r=Uo(),[n,a]=A.useState([]),[i,o]=A.useState(!0),s=A.useCallback(async()=>{if(!(e!=null&&e.id)){o(!1),t({variant:"destructive",title:"Error",description:"User not found. Please log in."});return}o(!0);try{const u=await Z3({requested_by_user_id:e.id});a(u)}catch(u){console.error("Error fetching your urgent purchase requests:",u),t({variant:"destructive",title:"Error",description:"Could not load your urgent purchase requests."})}finally{o(!1)}},[t,e]);A.useEffect(()=>{s()},[s]);const l=u=>{r(`/purchases/urgent/${u}`)};return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(ka,{heading:"My Urgent Purchase Requests",text:"View your urgent purchase requests and their status.",children:c(Le,{variant:"outline",asChild:!0,children:w(zi,{to:"/purchases/urgent",children:[c(c5,{className:"mr-2 h-4 w-4"})," Back to Urgent Purchases"]})})}),c("div",{className:"mt-6",children:i?c("p",{children:"Loading your requests..."}):n.length===0?w(cr,{children:[c(yr,{children:c(xr,{children:"No Urgent Purchase Requests Found"})}),c(vr,{children:c("p",{children:"You have not made any urgent purchase requests yet."})})]}):w(cr,{children:[w(yr,{children:[c(xr,{children:"Your Urgent Purchase Requests"}),w(vc,{children:[n.length," request(s) found."]})]}),c(vr,{children:w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"Request ID / Slip"}),c(Wt,{children:"Status"}),c(Wt,{children:"Requested At"}),c(Wt,{children:"Last Updated"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:n.map(u=>w(En,{children:[c(jt,{children:u.slip_filename||u.id.substring(0,8)+"..."}),c(jt,{children:c("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${u.status==="approved"?"bg-green-100 text-green-700":u.status==="rejected"?"bg-red-100 text-red-700":u.status==="pending_approval"?"bg-yellow-100 text-yellow-700":u.status==="draft"?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"}`,children:u.status?u.status.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()):"N/A"})}),c(jt,{children:NH(u.requested_at)?Vt(new Date(u.requested_at),"PPpp"):"N/A"}),c(jt,{children:NH(u.updated_at)?Vt(new Date(u.updated_at),"PPpp"):"N/A"}),c(jt,{className:"text-right",children:w(Le,{variant:"outline",size:"sm",onClick:()=>l(u.id),children:[c(Nw,{className:"mr-1 h-4 w-4"})," View"]})})]},u.id))})]})})]})})]})},IZe=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],F8=new Date().getFullYear(),RZe=Array.from({length:5},(e,t)=>F8-t),MZe=()=>{const{toast:e}=vn(),[t,r]=A.useState([]),[n,a]=A.useState([]),[i,o]=A.useState(!0),[s,l]=A.useState({}),[u,d]=A.useState(F8.toString()),[f,h]=A.useState(void 0),m=A.useCallback(async()=>{var _,b;o(!0);try{const S=await gMe({startDate:(_=s.dateRange)==null?void 0:_.from,endDate:(b=s.dateRange)==null?void 0:b.to,searchTerm:s.searchTerm});r(S||[]),a(S||[])}catch(S){console.error("Failed to fetch inventory logs:",S),e({variant:"destructive",title:"Error",description:"Failed to load inventory log history."}),r([]),a([])}finally{o(!1)}},[e,s.dateRange,s.searchTerm]);A.useEffect(()=>{m()},[m]),A.useEffect(()=>{let _=[...t];if(f&&u){const b=`${u}-${f}`;_=_.filter(S=>S.created_at.startsWith(b))}if(s.searchTerm){const b=s.searchTerm.toLowerCase();_=_.filter(S=>{var L,U,P,M,j,V;const C=(U=(L=S.inventory_items)==null?void 0:L.item_name)==null?void 0:U.toLowerCase().includes(b),E=(M=(P=S.inventory_items)==null?void 0:P.item_code)==null?void 0:M.toLowerCase().includes(b),O=S.change_type.toLowerCase().includes(b),T=(j=S.user_id)==null?void 0:j.toLowerCase().includes(b),I=(V=S.notes)==null?void 0:V.toLowerCase().includes(b);return C||E||O||T||I})}a(_)},[t,f,u,s.searchTerm]);const x=(_,b)=>{l(S=>({...S,[_]:b}))},g=()=>{if(u&&f&&!s.dateRange){const _=new Date(parseInt(u),parseInt(f)-1,1),b=new Date(parseInt(u),parseInt(f),0);x("dateRange",{from:_,to:b})}else!f&&!s.dateRange&&x("dateRange",void 0)};A.useEffect(()=>{g()},[f,u]);const y=()=>{l({}),h(void 0),d(F8.toString())};return w("div",{className:"space-y-4",children:[w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 border rounded-md bg-muted/40",children:[w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Date Range"}),c(S7,{date:s.dateRange,onDateChange:_=>{x("dateRange",_),h(void 0)},className:"w-full"})]}),w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Year"}),w(Ur,{value:u,onValueChange:d,children:[c(jr,{children:c(qr,{placeholder:"Select Year"})}),c($r,{children:RZe.map(_=>c(gt,{value:_.toString(),children:_},_))})]})]}),w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Month"}),w(Ur,{value:f,onValueChange:h,children:[c(jr,{children:c(qr,{placeholder:"Select Month (All)"})}),w($r,{children:[c(gt,{value:"ALL_MONTHS",children:"All Months"})," ",IZe.map(_=>c(gt,{value:_.value,children:_.label},_.value))]})]})]}),w("div",{children:[c("label",{className:"text-sm font-medium mb-1 block",children:"Search Logs"}),c(ot,{placeholder:"Search by item, user, notes...",value:s.searchTerm||"",onChange:_=>x("searchTerm",_.target.value),className:"w-full"})]}),c("div",{className:"lg:col-span-4 flex justify-end",children:c(Le,{variant:"ghost",onClick:y,children:"Clear Filters"})})]}),c(df,{className:"h-[400px] md:h-[500px] border rounded-md",children:w(Fs,{children:[c(Ls,{className:"sticky top-0 bg-card z-10",children:w(En,{children:[c(Wt,{children:"Date"}),c(Wt,{children:"Item Name"}),c(Wt,{children:"SKU"}),c(Wt,{className:"text-right",children:"Change"}),c(Wt,{children:"Type"}),c(Wt,{children:"User"}),c(Wt,{children:"Notes"})]})}),c(js,{children:i?c(En,{children:c(jt,{colSpan:7,className:"text-center h-32",children:"Loading log history..."})}):n.length===0?c(En,{children:c(jt,{colSpan:7,className:"text-center h-32",children:"No log entries match your filters."})}):n.map(_=>{var b,S;return w(En,{children:[c(jt,{children:Vt(new Date(_.created_at),"MMM d, yyyy HH:mm")}),c(jt,{className:"font-medium",children:((b=_.inventory_items)==null?void 0:b.item_name)||"N/A"}),c(jt,{children:((S=_.inventory_items)==null?void 0:S.item_code)||"N/A"}),c(jt,{className:`text-right font-semibold ${_.quantity_change>0?"text-green-600":"text-red-600"}`,children:_.quantity_change>0?`+${_.quantity_change}`:_.quantity_change}),c(jt,{children:_.change_type.replace(/_/g," ").replace(/\b\w/g,C=>C.toUpperCase())}),c(jt,{children:_.user_id?`User: ${_.user_id.substring(0,8)}...`:"System"}),c(jt,{className:"text-xs max-w-xs truncate",title:_.notes||"",children:_.notes||"N/A"})]},_.id)})})]})})]})},s5=["Expired","Damaged","Lost","Stock Count Correction","Used","Other"],FZe=je.enum(s5),Foe=["image/png","image/jpeg","image/jpg"],Loe=2*1024*1024,LZe=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],jZe=je.object({quantity_to_decrease:je.number().int().positive({message:"Quantity must be a positive number."}).optional(),reason:FZe.optional(),notes:je.string().min(1,{message:"Notes are required for adjustment requests."}),approver_role_target:je.enum(["admin","doctor","owner"],{message:"Please select an approver role."}).optional(),photo_file:je.custom(e=>e instanceof File,"Photo proof is required.").refine(e=>!e||e.size<=Loe,"Photo size should be less than 2MB.").refine(e=>Foe.includes((e==null?void 0:e.type)||""),"Only .png, .jpg, .jpeg files are accepted."),customApproverEmails:je.string().optional()}),$Ze=()=>{var ue;const{toast:e}=vn(),{user:t}=ii(),r=Uo(),[n,a]=A.useState([]),[i,o]=A.useState([]),[s,l]=A.useState(""),[u,d]=A.useState(null),[f,h]=A.useState(!0),[m,x]=A.useState(!1),[g,y]=A.useState(null),[_,b]=A.useState(null),[S,C]=A.useState([]),[E,O]=A.useState(!1),[T,I]=A.useState(!1),[L,U]=A.useState(null),[P,M]=A.useState(!1),[j,V]=A.useState(null),[X,te]=A.useState(!1),[z,G]=A.useState([]),[q,Y]=A.useState(!1),Z=()=>{const ge=t==null?void 0:t.role,ne=[{value:"admin",label:"Admin"},{value:"doctor",label:"Doctor"},{value:"owner",label:"Owner"}];if(!ge)return ne;switch(ge){case"admin":return ne.filter(Ne=>Ne.value==="doctor"||Ne.value==="owner");case"owner":return ne.filter(Ne=>Ne.value==="admin"||Ne.value==="doctor");case"doctor":return ne.filter(Ne=>Ne.value==="admin"||Ne.value==="owner");default:return ne}},D=sd({resolver:ld(jZe),defaultValues:{notes:"",photo_file:null,customApproverEmails:"",approver_role_target:void 0}}),K=Qe.useCallback(async()=>{h(!0);try{const ge=await kR();a(ge||[]),o(ge||[])}catch(ge){console.error("Failed to fetch inventory items:",ge),e({variant:"destructive",title:"Error",description:"Failed to load items for selection."})}finally{h(!1)}},[e]);A.useEffect(()=>{K()},[K]),A.useEffect(()=>{const ge=s.toLowerCase(),ne=n.filter(Ne=>Ne.item_name.toLowerCase().includes(ge)||Ne.item_code&&Ne.item_code.toLowerCase().includes(ge)||Ne.category&&Ne.category.toLowerCase().includes(ge));o(ne)},[s,n]);const Q=ge=>{d(ge),O(!1),y(null),C([]),b(null),D.reset({quantity_to_decrease:void 0,reason:"Other",notes:D.getValues("notes")||"",photo_file:D.getValues("photo_file")||null,customApproverEmails:D.getValues("customApproverEmails")||""})},ie=A.useCallback(async()=>{if(!g){b("No file selected."),C([]);return}b(null),C([]),h(!0);try{const ge=new FileReader;ge.onload=async ne=>{var Ne;try{const Re=(Ne=ne.target)==null?void 0:Ne.result;if(!Re){b("Failed to read file data."),h(!1);return}const De=f8(Re,{type:"array"}),pe=De.SheetNames[0],Je=De.Sheets[pe],mt=rf.sheet_to_json(Je);if(mt.length===0){b("File is empty or has no data in the first sheet."),h(!1);return}let dt=n;if(dt.length===0){if(await K(),n.length===0){b("Inventory items not loaded. Please try again."),h(!1);return}dt=n}const Tt=[],lt=[];mt.forEach((_e,Ce)=>{const We=_e.SKU||_e["Item Name"]||_e.sku||_e.item_name,ft=parseInt(_e["Quantity to Decrease"]||_e.quantity_to_decrease,10),vt=_e.Reason||_e.reason;if(!We){lt.push(`Row ${Ce+2}: Missing SKU or Item Name.`);return}if(isNaN(ft)||ft<=0){lt.push(`Row ${Ce+2}: Invalid or missing 'Quantity to Decrease' for ${We}. Must be a positive number.`);return}if(!vt||!s5.includes(vt)){lt.push(`Row ${Ce+2}: Invalid or missing 'Reason' for ${We}. Valid reasons: ${s5.join(", ")}.`);return}const Fe=dt.find(Ve=>Ve.item_code&&Ve.item_code.toLowerCase()===String(We).toLowerCase()||Ve.item_name.toLowerCase()===String(We).toLowerCase());if(!Fe){lt.push(`Row ${Ce+2}: Item '${We}' not found in inventory.`);return}if(ft>Fe.quantity){lt.push(`Row ${Ce+2}: Quantity to decrease (${ft}) for '${We}' exceeds current stock (${Fe.quantity}).`);return}Tt.push({inventory_item_id:Fe.id,item_name:Fe.item_name,current_stock:Fe.quantity,quantity_to_decrease:ft,reason:vt})}),lt.length>0?(b(`Validation errors found in the file:
- ${lt.join(`
- `)}`),C([])):(C(Tt),e({title:"File Processed",description:`${Tt.length} items ready for adjustment.`}))}catch(Re){console.error("Error parsing file content:",Re),b(`Error parsing file: ${Re.message}`)}finally{h(!1)}},ge.onerror=ne=>{console.error("FileReader error:",ne),b("Failed to read the file."),h(!1)},ge.readAsArrayBuffer(g)}catch(ge){console.error("Error initiating file read:",ge),b(`Error reading file: ${ge.message}`),h(!1)}},[g,n,e,K]),ae=async()=>{if(t!=null&&t.id){Y(!0);try{const ge=["pending","approved","rejected"],ne=await xMe(t.id,ge,20);G(ne)}catch(ge){console.error("Error fetching user's adjustment requests:",ge),e({variant:"destructive",title:"Error",description:"Could not load your adjustment requests."})}finally{Y(!1)}}},oe=()=>{ae(),te(!0)},de=async(ge,ne,Ne)=>{var Re;M(!0),V(null);try{const De=await yMe(ge);if(De){if(U(De),De.photo_url){const pe=await RS(De.photo_url);V(pe)}e({title:"Request Submitted Successfully",description:ne?`${Ne} adjustment requests initiated. Displaying details for the first item.`:`Adjustment request for ${((Re=De.inventory_items)==null?void 0:Re.item_name)||"item"} submitted.`})}else e({variant:"destructive",title:"Error",description:"Could not fetch details of the submitted request."})}catch(De){console.error("Failed to fetch submitted request details:",De),e({variant:"destructive",title:"Error",description:"Failed to load request details after submission."})}finally{D.reset({notes:"",photo_file:null,customApproverEmails:"",quantity_to_decrease:void 0,reason:void 0}),d(null),O(!1),y(null),C([]),b(null),K(),M(!1)}},J=async ge=>{var ne,Ne;x(!0);try{if(!(t!=null&&t.id)){e({variant:"destructive",title:"Error",description:"User not authenticated."});return}if(!ge.photo_file){D.setError("photo_file",{type:"manual",message:"Photo proof is required."});return}if(E&&S.length>0){if(_){e({variant:"destructive",title:"Error",description:"Cannot submit, please fix errors in the uploaded file."});return}try{const Re=kw();e({title:"Uploading Photo...",description:"Please wait."});const De=await Kz(ge.photo_file,Re);e({title:"Submitting Bulk Request...",description:`Processing ${S.length} items from file.`});const pe=((ne=ge.customApproverEmails)==null?void 0:ne.split(",").map(mt=>mt.trim()).filter(mt=>mt.length>0))||null;let Je=null;for(const mt of S){const dt=await Gz({inventory_item_id:mt.inventory_item_id,quantity_to_decrease:mt.quantity_to_decrease,reason:mt.reason,notes:ge.notes,photo_url:De,requested_by_user_id:t.id,custom_approver_emails:pe});Je||(Je=dt.id)}Je?await de(Je,!0,S.length):(e({title:"Success",description:`Bulk adjustment process completed for ${S.length} items. No specific request to display.`}),D.reset({notes:"",photo_file:null,customApproverEmails:""}),O(!1),y(null),C([]),b(null),K())}catch(Re){console.error("Failed to submit file-based bulk adjustment request:",Re),e({variant:"destructive",title:"Bulk Adjustment Failed",description:(Re==null?void 0:Re.message)||"An unexpected error occurred during bulk submission."})}}else if(u&&ge.quantity_to_decrease!==void 0&&ge.reason!==void 0){if(u.quantity-ge.quantity_to_decrease<0){D.setError("quantity_to_decrease",{type:"manual",message:`Decrease quantity (${ge.quantity_to_decrease}) exceeds current stock (${u.quantity}) for ${u.item_name}.`});return}try{const Re=kw();e({title:"Uploading Photo...",description:"Please wait."});const De=await Kz(ge.photo_file,Re);e({title:"Submitting Request...",description:"Saving adjustment request details."});const pe=((Ne=ge.customApproverEmails)==null?void 0:Ne.split(",").map(mt=>mt.trim()).filter(mt=>mt.length>0))||null,Je=await Gz({inventory_item_id:u.id,quantity_to_decrease:ge.quantity_to_decrease,reason:ge.reason,notes:ge.notes,photo_url:De,requested_by_user_id:t.id,custom_approver_emails:pe});await de(Je.id,!1)}catch(Re){console.error("Failed to submit single adjustment request:",Re),e({variant:"destructive",title:"Adjustment Failed",description:(Re==null?void 0:Re.message)||"An unexpected error occurred during single item submission."})}}else{e({variant:"destructive",title:"Error",description:"Form data is incomplete or invalid."});return}}catch(Re){console.error("Overall submission process error:",Re),e({variant:"destructive",title:"Submission Process Error",description:(Re==null?void 0:Re.message)||"An unexpected error occurred."})}finally{x(!1)}};return w("div",{className:"container mx-auto p-4 md:p-6",children:[c(ka,{heading:L?"Adjustment Request Submitted":"Create Stock Adjustment Request",text:L?`Details for request ID: ${L.id}`:E?"Adjust stock via file upload.":u?`Adjusting: ${u.item_name} (Current Stock: ${u.quantity})`:"Select an item or upload a file to adjust stock."}),P?c("div",{className:"flex justify-center items-center h-64",children:c("p",{children:"Loading request details..."})}):L?w(cr,{className:"max-w-2xl mx-auto mt-6",children:[w(yr,{children:[w(xr,{className:"flex items-center",children:["Request Details",L.status==="approved"&&c(dce,{className:"ml-2 h-6 w-6 text-green-500"}),L.status==="pending"&&c(dc,{className:"ml-2 h-6 w-6 text-yellow-500"}),L.status==="rejected"&&c(dc,{className:"ml-2 h-6 w-6 text-red-500"})]}),w(vc,{children:["Item: ",((ue=L.inventory_items)==null?void 0:ue.item_name)||"N/A"]})]}),w(vr,{className:"space-y-4",children:[w("div",{children:[c("strong",{children:"Request ID:"})," ",L.id]}),w("div",{children:[c("strong",{children:"Quantity Decreased:"})," ",L.quantity_to_decrease]}),w("div",{children:[c("strong",{children:"Reason:"})," ",L.reason]}),w("div",{children:[c("strong",{children:"Notes:"})," ",L.notes]}),w("div",{children:[c("strong",{children:"Status:"}),c("span",{className:`ml-1 font-semibold ${L.status==="approved"?"text-green-600":L.status==="rejected"?"text-red-600":"text-yellow-600"}`,children:L.status.toUpperCase()})]}),w("div",{children:[c("strong",{children:"Requested At:"})," ",new Date(L.requested_at).toLocaleString()]}),w("div",{children:[c("strong",{children:"Requested By:"})," ",L.requester_profile&&`${L.requester_profile.first_name||""} ${L.requester_profile.last_name||""}`.trim()||"N/A"]}),L.reviewed_by_user_id&&w(Sr,{children:[w("div",{children:[c("strong",{children:"Reviewed At:"})," ",L.reviewed_at?new Date(L.reviewed_at).toLocaleString():"N/A"]}),w("div",{children:[c("strong",{children:"Reviewer Notes:"})," ",L.reviewer_notes||"N/A"]})]}),j?w("div",{className:"mt-4",children:[c("strong",{children:"Proof Photo:"}),c("img",{src:j,alt:"Adjustment Proof",className:"rounded-md border max-w-xs max-h-64 mt-2"})]}):L.photo_url?w("div",{className:"mt-4",children:[c("strong",{children:"Proof Photo:"}),w("div",{className:"flex items-center text-muted-foreground",children:[c(KH,{className:"mr-2 h-5 w-5"}),c("span",{children:"Loading photo or photo not available..."})]})]}):null,w("div",{className:"flex justify-end space-x-3 pt-4",children:[w(Le,{variant:"outline",onClick:()=>{U(null),V(null)},children:[c(Nh,{className:"mr-2 h-4 w-4"})," Make Another Adjustment"]}),w(Le,{onClick:()=>r("/inventory"),children:[c(yce,{className:"mr-2 h-4 w-4"})," Go to Inventory"]})]})]})]}):!u&&!E?w(Sr,{children:[w("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center my-4 space-y-2 sm:space-y-0",children:[c(ot,{placeholder:"Search items by name, SKU, or category...",value:s,onChange:ge=>l(ge.target.value),className:"max-w-full sm:max-w-sm"}),w("div",{className:"flex space-x-2",children:[" ",w(Le,{onClick:()=>{O(!0),d(null),C([]),b(null);const ge={notes:D.getValues("notes"),photo_file:D.getValues("photo_file"),customApproverEmails:D.getValues("customApproverEmails")};D.reset({...ge})},children:[c(nx,{className:"mr-2 h-4 w-4"})," Adjust via Bulk Upload"]}),c(Le,{variant:"outline",onClick:()=>I(!0),children:"View Modification History"}),w(Le,{variant:"outline",onClick:oe,children:[c(YH,{className:"mr-2 h-4 w-4"})," View My Requests"]})]})]}),c(df,{className:"h-[calc(100vh-420px)] border rounded-md",children:w(Fs,{children:[c(Ls,{className:"sticky top-0 bg-card z-10",children:w(En,{children:[c(Wt,{children:"Item Name"}),c(Wt,{children:"SKU"}),c(Wt,{children:"Category"}),c(Wt,{className:"text-right",children:"Current Stock"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:f?c(En,{children:c(jt,{colSpan:5,className:"text-center",children:"Loading items..."})}):i.length===0?c(En,{children:c(jt,{colSpan:5,className:"text-center",children:"No items match your search or no items available."})}):i.map(ge=>w(En,{children:[c(jt,{className:"font-medium",children:ge.item_name}),c(jt,{children:ge.item_code||"N/A"}),c(jt,{children:ge.category||"N/A"}),c(jt,{className:"text-right",children:ge.quantity}),c(jt,{className:"text-right",children:c(Le,{variant:"outline",size:"sm",onClick:()=>Q(ge),disabled:m,children:"Adjust"})})]},ge.id))})]})})]}):w("div",{className:"max-w-2xl mx-auto mt-6",children:[E?w("div",{className:"space-y-6 p-6 border rounded-lg shadow-sm bg-card mb-6",children:[" ",w("div",{className:"flex justify-between items-center",children:[c("h3",{className:"text-lg font-semibold",children:"Bulk Adjust via File Upload"}),c(Le,{variant:"ghost",size:"sm",onClick:()=>{O(!1),y(null),C([]),b(null);const ge={notes:D.getValues("notes"),photo_file:D.getValues("photo_file"),customApproverEmails:D.getValues("customApproverEmails")};D.reset({...ge})},children:"Cancel File Upload"})]}),w("div",{children:[c("label",{htmlFor:"adjustment-file-upload",className:"block text-sm font-medium text-foreground mb-1",children:"Upload Adjustment File (.xlsx, .csv)"}),c("div",{className:"flex items-center justify-center w-full",children:w("label",{htmlFor:"adjustment-file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-card hover:bg-muted/50",children:[w("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c(nx,{className:"w-8 h-8 mb-4 text-muted-foreground"}),w("p",{className:"mb-2 text-sm text-muted-foreground",children:[c("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),c("p",{className:"text-xs text-muted-foreground",children:"XLSX, CSV (MAX. 5MB)"})]}),c(ot,{id:"adjustment-file-upload",type:"file",className:"hidden",accept:LZe.join(","),onChange:ge=>{y(ge.target.files?ge.target.files[0]:null),C([]),b(null)}})]})}),g&&w("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Selected: ",g.name]}),_&&c("p",{className:"text-sm font-medium text-destructive mt-1",children:_}),c("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Expected columns: 'SKU' (or 'Item Name'), 'Quantity to Decrease', 'Reason'."})]}),c(Le,{onClick:ie,disabled:!g||f||m,children:f?"Processing File...":"Process Uploaded File"}),S.length>0&&!_&&w("div",{className:"mt-4 p-3 bg-green-100 border border-green-300 rounded-md",children:[w("p",{className:"text-green-700 font-semibold",children:[S.length," items parsed successfully and ready for adjustment."]}),c("p",{className:"text-xs text-green-600",children:"Review common fields below and submit."})]})]}):null,c(Dh,{...D,children:w("form",{onSubmit:D.handleSubmit(J),className:"space-y-8 p-6 border rounded-lg shadow-sm bg-card",children:[!E&&u&&w("h3",{className:"text-lg font-semibold",children:["Adjusting Single Item: ",u.item_name," (Current: ",u.quantity,")"]}),!E&&u&&w(Sr,{children:[c(He,{control:D.control,name:"quantity_to_decrease",render:({field:ge})=>w(Oe,{children:[c(Pe,{children:"Quantity to Decrease"}),c(Ie,{children:c(ot,{type:"number",min:"1",placeholder:"Enter positive quantity",...ge,onChange:ne=>ge.onChange(parseInt(ne.target.value,10)||0),disabled:m})}),c(Ze,{})]})}),c(He,{control:D.control,name:"reason",render:({field:ge})=>w(Oe,{children:[c(Pe,{children:"Reason for Adjustment"}),w(Ur,{onValueChange:ge.onChange,defaultValue:ge.value,disabled:m,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select reason"})})}),c($r,{children:s5.map(ne=>c(gt,{value:ne,children:ne.replace(/_/g," ").replace(/\b\w/g,Ne=>Ne.toUpperCase())},ne))})]}),c(Ze,{})]})})]}),(u||E&&S.length>0&&!_)&&w(Sr,{children:[c(He,{control:D.control,name:"photo_file",render:({field:ge})=>w(Oe,{children:[c(Pe,{children:"Photo Proof (Required)"}),c(Ie,{children:c(tm,{value:ge.value,onFileChange:ne=>ge.onChange(ne),accept:Foe.join(","),maxSize:Loe,disabled:m})}),c(Ze,{})]})}),c(He,{control:D.control,name:"notes",render:({field:ge})=>w(Oe,{children:[c(Pe,{children:"Notes (Required)"}),c(Ie,{children:c(Yr,{placeholder:"Explain the reason for adjustment...",...ge,disabled:m})}),c(Ze,{})]})}),c(He,{control:D.control,name:"approver_role_target",render:({field:ge})=>w(Oe,{children:[c(Pe,{children:"Assign Approver To"}),w(Ur,{onValueChange:ne=>{ge.onChange(ne);const Ne=Z();Ne.length===1&&Ne[0].value},value:ge.value,disabled:m,children:[c(Ie,{children:c(jr,{children:c(qr,{placeholder:"Select role to approve this request"})})}),c($r,{children:Z().map(ne=>c(gt,{value:ne.value,children:ne.label},ne.value))})]}),c(Ze,{}),c("p",{className:"text-xs text-muted-foreground",children:"Select the role that should approve this request."})]})}),c(He,{control:D.control,name:"customApproverEmails",render:({field:ge})=>w(Oe,{children:[c(Pe,{children:"Custom Approver Emails (Optional)"}),c(Ie,{children:c(ot,{placeholder:"e.g., approver1@example.com, approver2@example.com",...ge,disabled:m})}),c(Ze,{}),c("p",{className:"text-xs text-muted-foreground",children:"Enter comma-separated email addresses if you want to notify specific people instead of the default role-based approvers."})]})}),w("div",{className:"flex justify-end space-x-3 pt-4",children:[c(Le,{type:"button",variant:"outline",onClick:()=>{d(null),O(!1),y(null),C([]),b(null),D.reset({notes:"",photo_file:null,customApproverEmails:"",approver_role_target:void 0,quantity_to_decrease:void 0,reason:void 0})},disabled:m,children:"Cancel"}),c(Le,{type:"submit",disabled:m||!u&&!E||E&&S.length===0,children:m?"Submitting...":"Submit Adjustment Request(s)"})]})]})]})})]}),T&&c(Za,{open:T,onOpenChange:I,children:w(Da,{className:"sm:max-w-xl md:max-w-2xl lg:max-w-4xl xl:max-w-5xl",children:[" ",c(Ia,{children:c(Ra,{children:"Inventory Modification Log"})}),w("div",{className:"py-1 max-h-[70vh] overflow-y-auto",children:[" ",c(MZe,{})]}),w(lo,{className:"sm:justify-start",children:[" ",c(Le,{variant:"outline",onClick:()=>I(!1),className:"mt-2 sm:mt-0",children:"Close"})]})]})}),X&&c(Za,{open:X,onOpenChange:te,children:w(Da,{className:"sm:max-w-2xl md:max-w-3xl lg:max-w-4xl",children:[w(Ia,{children:[c(Ra,{children:"My Adjustment Requests"}),c(oo,{children:"Showing your most recent adjustment requests. Click a request to view its full details."})]}),c("div",{className:"py-4 max-h-[70vh] overflow-y-auto",children:q?c("p",{children:"Loading your requests..."}):z.length===0?c("p",{children:"You have no adjustment requests."}):w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"Item"}),c(Wt,{children:"Quantity"}),c(Wt,{children:"Reason"}),c(Wt,{children:"Date"}),c(Wt,{children:"Status"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:z.map(ge=>{var ne;return w(En,{children:[c(jt,{children:((ne=ge.inventory_items)==null?void 0:ne.item_name)||"N/A"}),c(jt,{children:ge.quantity_to_decrease}),c(jt,{children:ge.reason}),c(jt,{children:new Date(ge.requested_at).toLocaleDateString()}),c(jt,{children:c("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ge.status==="approved"?"bg-green-100 text-green-700":ge.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:ge.status.toUpperCase()})}),c(jt,{className:"text-right",children:c(Le,{variant:"outline",size:"sm",onClick:()=>{U(ge),ge.photo_url?RS(ge.photo_url).then(V):V(null),te(!1)},children:"View Details"})})]},ge.id)})})]})}),c(lo,{children:c(Le,{variant:"outline",onClick:()=>te(!1),children:"Close"})})]})})]})},BZe=()=>{const{toast:e}=vn(),{user:t}=ii(),r=Uo(),[n,a]=A.useState([]),[i,o]=A.useState(!0),[s,l]=A.useState(!1),[u,d]=A.useState({}),[f,h]=A.useState(""),m=A.useCallback(async()=>{o(!0);try{const y=await kR();a(y||[]);const _={};(y||[]).forEach(b=>{_[b.id]={physicalCount:void 0,notes:""}}),d(_)}catch(y){console.error("Failed to fetch inventory items:",y),e({variant:"destructive",title:"Error",description:"Failed to load items for stock take."})}finally{o(!1)}},[e]);A.useEffect(()=>{m()},[m]);const x=(y,_,b)=>{d(S=>({...S,[y]:{...S[y],[_]:_==="physicalCount"?b===""?void 0:parseInt(String(b),10):String(b)}}))},g=async()=>{if(!(t!=null&&t.id)){e({variant:"destructive",title:"Error",description:"User not authenticated."});return}l(!0);const y=[];let _=0;if(n.forEach(b=>{const S=u[b.id];if(S&&S.physicalCount!==void 0&&S.physicalCount>=0){_++;const C={inventory_item_id:b.id,system_quantity_at_count:b.quantity,physical_counted_quantity:S.physicalCount,counted_by_user_id:t.id,notes:S.notes||f||null};y.push(_Me(C))}}),_===0){e({variant:"default",title:"No Data",description:"No physical counts entered to submit."}),l(!1);return}try{await Promise.all(y),e({title:"Success",description:`${_} stock take entries recorded successfully.`}),r("/inventory"),m(),h("")}catch(b){console.error("Failed to record one or more stock takes:",b),e({variant:"destructive",title:"Stock Take Submission Failed",description:"An error occurred while saving some entries. Please check and try again."})}finally{l(!1)}};return i?c("div",{className:"p-4",children:"Loading inventory items..."}):w("div",{className:"container mx-auto p-4 md:p-6",children:[c(ka,{heading:"Perform Stock Take",text:"Enter the physical count for each item. Only items with a physical count will be submitted."}),w("div",{className:"mt-6",children:[c("div",{className:"mb-4",children:c(Yr,{placeholder:"Global notes for this stock take session (optional)",value:f,onChange:y=>h(y.target.value),className:"max-w-xl",disabled:s})}),w(df,{className:"h-[calc(100vh-300px)] border rounded-md",children:[" ",w(Fs,{children:[c(Ls,{className:"sticky top-0 bg-background z-10",children:w(En,{children:[c(Wt,{className:"w-[300px]",children:"Item Name"}),c(Wt,{className:"text-right",children:"System Qty"}),c(Wt,{className:"w-[150px] text-right",children:"Physical Count"}),c(Wt,{className:"w-[250px]",children:"Item Notes (Optional)"})]})}),c(js,{children:n.length===0&&!i?c(En,{children:c(jt,{colSpan:4,className:"text-center",children:"No inventory items found."})}):n.map(y=>{var _,b;return w(En,{children:[c(jt,{className:"font-medium",children:y.item_name}),c(jt,{className:"text-right",children:y.quantity}),c(jt,{className:"text-right",children:c(ot,{type:"number",min:"0",placeholder:"Count",value:((_=u[y.id])==null?void 0:_.physicalCount)??"",onChange:S=>x(y.id,"physicalCount",S.target.value),className:"text-right",disabled:s})}),c(jt,{children:c(ot,{type:"text",placeholder:"Notes for this item",value:((b=u[y.id])==null?void 0:b.notes)??"",onChange:S=>x(y.id,"notes",S.target.value),disabled:s})})]},y.id)})})]})]}),w("div",{className:"mt-6 flex justify-end space-x-3",children:[c(Le,{type:"button",variant:"outline",onClick:()=>r("/inventory"),disabled:s,children:"Cancel"}),c(Le,{onClick:g,disabled:s||i,children:s?"Submitting Stock Take...":"Submit Stock Take"})]})]})]})},UZe=({allowedRoles:e,children:t,fallback:r})=>{const{user:n,loading:a}=ii();if(a)return c("div",{className:"flex justify-center items-center h-screen",children:"Loading authentication status..."});if(!n)return c(Sr,{children:r||c("div",{className:"flex justify-center items-center h-screen",children:"Access Denied: Not Logged In."})});const i=n.role;return!i||!e.includes(i)?c(Sr,{children:r||c("div",{className:"flex justify-center items-center h-screen",children:"Access Denied: You do not have the required permissions."})}):c(Sr,{children:t})},FP=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},qZe=()=>{var G,q,Y,Z;const{user:e}=ii(),{toast:t}=vn(),[r,n]=A.useState([]),[a,i]=A.useState(!0),[o,s]=A.useState(null),[l,u]=A.useState(null),[d,f]=A.useState([]),[h,m]=A.useState(!0),[x,g]=A.useState(null),[y,_]=A.useState(!1),[b,S]=A.useState(null),[C,E]=A.useState(""),[O,T]=A.useState(!1),[I,L]=A.useState(null),U=A.useCallback(async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.role)){i(!1),e!=null&&e.id&&!(e!=null&&e.role)&&t({variant:"destructive",title:"Error",description:"User role not found for adjustments."});return}i(!0);try{const D=await vMe(e.id,e.role);n(D)}catch(D){console.error("Error fetching pending adjustment requests:",D),t({variant:"destructive",title:"Error",description:"Could not load pending adjustment requests."})}finally{i(!1)}},[t,e]),P=A.useCallback(async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.role)){m(!1),e!=null&&e.id&&!(e!=null&&e.role)&&t({variant:"destructive",title:"Error",description:"User role not found for urgent purchases."});return}m(!0);try{const K=(await Z3({status:"pending_approval"})).filter(Q=>Q.requested_by_user_id!==e.id);f(K)}catch(D){console.error("Error fetching pending urgent purchases:",D),t({variant:"destructive",title:"Error",description:"Could not load pending urgent purchases."})}finally{m(!1)}},[t,e]);A.useEffect(()=>{e&&(U(),P())},[U,P,e]);const M=async(D,K)=>{if(s(D),L("adjustment"),S(K),_(!0),E(""),u(null),D.photo_url)try{const Q=await RS(D.photo_url);u(Q)}catch(Q){console.error("Error fetching photo preview for adjustment:",Q),t({variant:"destructive",title:"Error",description:"Could not load adjustment proof photo."})}},j=async(D,K)=>{g(D),L("urgent_purchase"),S(K),_(!0),E("")},V=async()=>{if(!(!b||!(e!=null&&e.id))&&!(I==="adjustment"&&!o)&&!(I==="urgent_purchase"&&!x)){T(!0);try{if(I==="adjustment"){const D=o;b==="approve"?(await pne(D.id,e.id,C),t({title:"Success",description:`Adjustment Request ${D.id.substring(0,8)} approved.`})):(await mne(D.id,e.id,C),t({title:"Success",description:`Adjustment Request ${D.id.substring(0,8)} rejected.`})),U()}else if(I==="urgent_purchase"){const D=x;if(b==="approve")await wZe(D.id,e.id,C),t({title:"Success",description:`Urgent Purchase ${D.id.substring(0,8)} approved.`});else{if(!C.trim()&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")){t({variant:"destructive",title:"Validation Error",description:"Reviewer notes are required to reject."}),T(!1);return}await _Ze(D.id,e.id,C),t({title:"Success",description:`Urgent Purchase ${D.id.substring(0,8)} rejected.`})}P()}_(!1),s(null),g(null),L(null)}catch(D){console.error(`Error ${b}ing request:`,D),t({variant:"destructive",title:"Error",description:D.message||`Failed to ${b} request.`})}finally{T(!1)}}},X=["admin","owner","doctor"],te=()=>c(Sr,{children:a?c("p",{children:"Loading adjustment requests..."}):r.length===0?w(cr,{children:[c(yr,{children:c(xr,{children:"No Pending Adjustment Requests"})}),c(vr,{children:c("p",{children:"There are currently no inventory adjustment requests awaiting approval."})})]}):w(cr,{children:[w(yr,{children:[c(xr,{children:"Pending Adjustment Requests"}),w(vc,{children:[r.length," request(s) awaiting review."]})]}),c(vr,{children:w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"Item Name"}),c(Wt,{children:"Quantity"}),c(Wt,{children:"Reason"}),c(Wt,{children:"Requested By"}),c(Wt,{children:"Date"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:r.map(D=>{var K,Q,ie;return w(En,{children:[c(jt,{children:((K=D.inventory_items)==null?void 0:K.item_name)||"N/A"}),c(jt,{children:D.quantity_to_decrease}),c(jt,{children:D.reason}),w(jt,{children:[((Q=D.requester_profile)==null?void 0:Q.first_name)||""," ",((ie=D.requester_profile)==null?void 0:ie.last_name)||""]}),c(jt,{children:new Date(D.requested_at).toLocaleDateString()}),w(jt,{className:"text-right space-x-2",children:[w(Le,{variant:"outline",size:"sm",onClick:()=>M(D,"approve"),children:[c(QM,{className:"mr-1 h-4 w-4"})," Approve"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&w(Le,{variant:"outline",size:"sm",onClick:()=>M(D,"reject"),children:[c(JM,{className:"mr-1 h-4 w-4"})," Reject"]})]})]},D.id)})})]})})]})}),z=()=>c(Sr,{children:h?c("p",{children:"Loading urgent purchase requests..."}):d.length===0?w(cr,{children:[c(yr,{children:c(xr,{children:"No Pending Urgent Purchases"})}),c(vr,{children:c("p",{children:"There are currently no urgent purchase requests awaiting approval."})})]}):w(cr,{children:[w(yr,{children:[c(xr,{children:"Pending Urgent Purchase Requests"}),w(vc,{children:[d.length," request(s) awaiting review."]})]}),c(vr,{children:w(Fs,{children:[c(Ls,{children:w(En,{children:[c(Wt,{children:"Slip/Notes"}),c(Wt,{children:"Items"}),c(Wt,{children:"Requested By (ID)"})," ",c(Wt,{children:"Targeted Role"}),c(Wt,{children:"Date"}),c(Wt,{className:"text-right",children:"Actions"})]})}),c(js,{children:d.map(D=>{var K;return w(En,{children:[w(jt,{children:[D.slip_filename||((K=D.notes)==null?void 0:K.substring(0,30))||"N/A",D.notes&&D.notes.length>30?"...":""]}),w(jt,{children:[D.items.length," item(s)"]}),w(jt,{className:"font-mono text-xs",children:[D.requested_by_user_id.substring(0,8),"..."]}),c(jt,{children:D.target_approval_role?D.target_approval_role.charAt(0).toUpperCase()+D.target_approval_role.slice(1):"N/A"}),c(jt,{children:FP(D.requested_at)?Vt(new Date(D.requested_at),"PP"):"N/A"}),w(jt,{className:"text-right space-x-2",children:[w(Le,{variant:"outline",size:"sm",onClick:()=>j(D,"approve"),children:[c(QM,{className:"mr-1 h-4 w-4"})," Approve"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&w(Le,{variant:"outline",size:"sm",onClick:()=>j(D,"reject"),children:[c(JM,{className:"mr-1 h-4 w-4"})," Reject"]})]})]},D.id)})})]})})]})});return w(UZe,{allowedRoles:X,children:[w("div",{className:"container mx-auto p-4 md:p-6",children:[c(ka,{heading:"Approval Requests",text:"Review and process pending requests."}),w(Cg,{defaultValue:"adjustments",className:"w-full mt-4",children:[w(Tg,{className:"grid w-full grid-cols-2",children:[c(sl,{value:"adjustments",children:"Inventory Adjustments"}),c(sl,{value:"urgent_purchases",children:"Urgent Purchases"})]}),c(ki,{value:"adjustments",className:"mt-4",children:te()}),c(ki,{value:"urgent_purchases",className:"mt-4",children:z()})]})]}),y&&c(Za,{open:y,onOpenChange:D=>{_(D),D||(s(null),g(null),L(null))},children:w(Da,{className:"sm:max-w-lg",children:[w(Ia,{children:[w(Ra,{children:[b==="approve"?"Approve":"Reject"," ",I==="adjustment"?"Adjustment":"Urgent Purchase"," Request"]}),I==="adjustment"&&o&&w(oo,{children:["Review details for request ID: ",o.id.substring(0,8),"... for item: ",((G=o.inventory_items)==null?void 0:G.item_name)||"N/A"]}),I==="urgent_purchase"&&x&&w(oo,{children:["Review details for urgent purchase ID: ",x.id.substring(0,8),"...",x.slip_filename?` (Slip: ${x.slip_filename})`:""]})]}),w("div",{className:"py-4 space-y-3 max-h-[60vh] overflow-y-auto",children:[I==="adjustment"&&o&&w(Sr,{children:[w("p",{children:[c("strong",{children:"Item:"})," ",(q=o.inventory_items)==null?void 0:q.item_name]}),w("p",{children:[c("strong",{children:"Quantity to Decrease:"})," ",o.quantity_to_decrease]}),w("p",{children:[c("strong",{children:"Reason:"})," ",o.reason]}),w("p",{children:[c("strong",{children:"Notes by Requester:"})," ",o.notes]}),w("p",{children:[c("strong",{children:"Requested By:"})," ",((Y=o.requester_profile)==null?void 0:Y.first_name)||""," ",((Z=o.requester_profile)==null?void 0:Z.last_name)||""]}),w("p",{children:[c("strong",{children:"Requested At:"})," ",new Date(o.requested_at).toLocaleString()]}),o.photo_url&&w("div",{children:[c("strong",{children:"Proof Photo:"}),l?c("img",{src:l,alt:"Adjustment Proof",className:"rounded-md border max-w-xs max-h-64 mt-1"}):c("p",{className:"text-sm text-muted-foreground",children:"Loading photo..."})]})]}),I==="urgent_purchase"&&x&&w(Sr,{children:[w("p",{children:[c("strong",{children:"Requested By (ID):"})," ",x.requested_by_user_id]})," ",w("p",{children:[c("strong",{children:"Requested At:"})," ",FP(x.requested_at)?Vt(new Date(x.requested_at),"PPpp"):"N/A"]}),w("p",{children:[c("strong",{children:"Targeted For Role:"})," ",x.target_approval_role?x.target_approval_role.charAt(0).toUpperCase()+x.target_approval_role.slice(1):"N/A"]}),x.slip_filename&&w("p",{children:[c("strong",{children:"Slip Filename:"})," ",x.slip_filename]}),x.invoice_delivery_date&&w("p",{children:[c("strong",{children:"Invoice/Delivery Date:"})," ",FP(x.invoice_delivery_date)?Vt(new Date(x.invoice_delivery_date),"PP"):"N/A"]}),w("p",{children:[c("strong",{children:"Notes:"})," ",x.notes||"N/A"]}),c("p",{children:c("strong",{children:"Items:"})}),c("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:x.items.map(D=>w("li",{children:[D.matched_item_name," (Qty: ",D.quantity,")",D.batch_number&&` - Batch: ${D.batch_number}`,D.expiry_date&&` - Expires: ${new Date(D.expiry_date).toLocaleDateString()}`]},D.id||D.inventory_item_id))})]}),w("div",{children:[w("label",{htmlFor:"reviewerNotes",className:"block text-sm font-medium",children:["Reviewer Notes ",b==="approve"?"(Optional)":"(Required for Reject)",":"]}),c(Yr,{id:"reviewerNotes",value:C,onChange:D=>E(D.target.value),placeholder:"Add any notes for this decision...",className:"mt-1",rows:3})]})]}),w(lo,{children:[c(Le,{variant:"outline",onClick:()=>_(!1),disabled:O,children:"Cancel"}),c(Le,{onClick:V,disabled:O||b==="reject"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")&&!C.trim(),variant:b==="reject"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner")?"destructive":"default",children:O?"Submitting...":`Confirm ${b==="approve"?"Approve":"Reject"}`})]})]})})]})},zZe=()=>{const{requestId:e,approvalToken:t}=ny(),r=Uo(),{user:n}=ii(),{toast:a}=vn(),[i,o]=A.useState(null),[s,l]=A.useState(null),[u,d]=A.useState(!0),[f,h]=A.useState(!1),[m,x]=A.useState(""),[g,y]=A.useState(null),_=A.useCallback(async()=>{if(!e||!t){y("Request ID or approval token is missing."),d(!1);return}d(!0);try{const C=await wMe(e,t);C?(o(C),C.photo_url&&RS(C.photo_url).then(E=>l(E)).catch(E=>console.error("Failed to load photo for approval page",E))):y("Invalid or expired approval link, or request not found/pending.")}catch(C){console.error("Error fetching request for approval:",C),y(C.message||"Could not load request details.")}finally{d(!1)}},[e,t]);A.useEffect(()=>{_()},[_]);const b=async()=>{if(!(!(n!=null&&n.id)||!i)){if(n.id===i.requested_by_user_id){a({variant:"destructive",title:"Action Denied",description:"You cannot approve your own request."});return}h(!0);try{await pne(i.id,n.id,m),a({title:"Success",description:"Request approved and stock updated."}),r("/inventory/adjustment-requests")}catch(C){a({variant:"destructive",title:"Approval Failed",description:C.message})}finally{h(!1)}}},S=async()=>{if(!(!(n!=null&&n.id)||!i)){if(n.id===i.requested_by_user_id){a({variant:"destructive",title:"Action Denied",description:"You cannot reject your own request."});return}if(!m.trim()){a({variant:"destructive",title:"Validation Error",description:"Reviewer notes are required for rejection."});return}h(!0);try{await mne(i.id,n.id,m),a({title:"Success",description:"Request rejected."}),r("/inventory/adjustment-requests")}catch(C){a({variant:"destructive",title:"Rejection Failed",description:C.message})}finally{h(!1)}}};return u?c("div",{className:"container mx-auto p-6 flex justify-center items-center min-h-[calc(100vh-200px)]",children:c(Zn,{className:"h-12 w-12 animate-spin text-primary"})}):g?w("div",{className:"container mx-auto p-6 text-center",children:[c(dc,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),c("h2",{className:"text-xl font-semibold text-red-600",children:"Access Denied or Error"}),c("p",{className:"text-red-500 mt-2",children:g}),c(Le,{onClick:()=>r("/"),className:"mt-6",children:"Go to Dashboard"})]}):i?w("div",{className:"container mx-auto p-4 md:p-6 max-w-2xl",children:[c(ka,{heading:"Approve Inventory Adjustment",text:`Review and process adjustment request ID: ...${i.id.slice(-8)}`}),w(cr,{className:"mt-6",children:[w(yr,{children:[w(xr,{children:["Item: ",i.item_name||"N/A"]}),w(vc,{children:["Requested by: ",i.requester_name||i.requested_by_user_id," on ",new Date(i.requested_at).toLocaleDateString()]})]}),w(vr,{className:"space-y-4",children:[w("p",{children:[c("strong",{children:"Quantity to Decrease:"})," ",i.quantity_to_decrease]}),w("p",{children:[c("strong",{children:"Reason:"})," ",i.reason]}),w("p",{children:[c("strong",{children:"Requester Notes:"})," ",i.notes]}),i.photo_url&&w("div",{children:[c("strong",{children:"Photo Proof:"}),c("br",{}),s?c("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:c("img",{src:s,alt:"Adjustment Proof",className:"max-w-full md:max-w-md border rounded mt-1"})}):c("p",{children:"Loading photo..."})]}),w("div",{className:"space-y-1",children:[c("label",{htmlFor:"reviewerNotes",className:"text-sm font-medium",children:"Your Reviewer Notes:"}),c(Yr,{id:"reviewerNotes",value:m,onChange:C=>x(C.target.value),placeholder:"Add notes for approval or rejection (required for rejection)",rows:3,disabled:f||i.status!=="pending"})]})]}),i.status==="pending"&&w(Y0,{className:"flex justify-end space-x-2",children:[w(Le,{variant:"outline",onClick:S,disabled:f||(n==null?void 0:n.id)===i.requested_by_user_id,className:"text-red-600 border-red-600 hover:bg-red-50 disabled:opacity-50",title:(n==null?void 0:n.id)===i.requested_by_user_id?"Cannot reject your own request":"",children:[c(jce,{className:"mr-2 h-4 w-4"})," Reject"]}),w(Le,{onClick:b,disabled:f||(n==null?void 0:n.id)===i.requested_by_user_id,className:"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",title:(n==null?void 0:n.id)===i.requested_by_user_id?"Cannot approve your own request":"",children:[c(rx,{className:"mr-2 h-4 w-4"})," Approve"]})]}),i.status!=="pending"&&c(Y0,{children:w("p",{className:"text-sm text-muted-foreground",children:["This request has already been processed (Status: ",i.status,")."]})})]})]}):c("div",{className:"container mx-auto p-6 text-center",children:"Request not found."})};function WZe(){const[e]=$H(),t=e.get("q"),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,s]=A.useState(null);return A.useEffect(()=>{t?(console.log(`Fetching patient search results for: ${t}`),i(!0),s(null),Kt.patients.search(t).then(l=>{n(l||[]),i(!1)}).catch(l=>{console.error("Patient search failed:",l),s(l.message||"Failed to fetch patient search results."),n([]),i(!1)})):(n([]),s(null))},[t]),w("div",{className:"space-y-6",children:[c(ka,{heading:`Search Results for "${t||""}"`,text:a?"Searching patients...":o?"Error fetching results":`Found ${r.length} patient results.`}),a?c("div",{className:"flex justify-center items-center py-10",children:c(Zn,{className:"w-8 h-8 animate-spin text-primary"})}):o?c("div",{className:"text-center text-red-600 py-10",children:w("p",{children:["Error: ",o]})}):w("div",{className:"space-y-4",children:[r.length>0?r.map(l=>w("div",{className:"border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow",children:[w("h3",{className:"text-lg font-semibold",children:[l.first_name," ",l.last_name]}),l.email&&w("p",{className:"text-sm text-muted-foreground",children:["Email: ",l.email]}),l.phone&&w("p",{className:"text-sm text-muted-foreground",children:["Phone: ",l.phone]}),c(zi,{to:`/patients/${l.id}`,className:"text-blue-600 hover:underline text-sm mt-1 inline-block",children:"View Details"})]},l.id)):!a&&t&&w("p",{className:"text-center text-muted-foreground",children:['No patient results found for "',t,'".']}),!t&&c("p",{className:"text-center text-muted-foreground",children:"Please enter a search term in the header."})]})]})}const VZe=({children:e})=>{const{user:t,loading:r}=ii();return r?w("div",{className:"p-4",children:[c(Rl,{className:"h-8 w-1/4 mb-4"}),c(Rl,{className:"h-4 w-full mb-2"}),c(Rl,{className:"h-4 w-3/4"})]}):!t||t.role!=="admin"&&t.role!=="owner"?(console.warn(`Access denied: User role '${t==null?void 0:t.role}' is not 'admin' or 'owner'.`),c($P,{to:"/",replace:!0})):e?c(Sr,{children:e}):c(jH,{})};var C7="ToastProvider",[T7,HZe,GZe]=Cw("Toast"),[joe,UJe]=Yi("Toast",[GZe]),[KZe,J3]=joe(C7),$oe=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[s,l]=A.useState(null),[u,d]=A.useState(0),f=A.useRef(!1),h=A.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${C7}\`. Expected non-empty \`string\`.`),c(T7.Provider,{scope:t,children:c(KZe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:s,onViewportChange:l,onToastAdd:A.useCallback(()=>d(m=>m+1),[]),onToastRemove:A.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};$oe.displayName=C7;var Boe="ToastViewport",YZe=["F8"],L8="toast.viewportPause",j8="toast.viewportResume",Uoe=A.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=YZe,label:a="Notifications ({hotkey})",...i}=e,o=J3(Boe,r),s=HZe(r),l=A.useRef(null),u=A.useRef(null),d=A.useRef(null),f=A.useRef(null),h=zr(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;A.useEffect(()=>{const y=_=>{var S;n.length!==0&&n.every(C=>_[C]||_.code===C)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),A.useEffect(()=>{const y=l.current,_=f.current;if(x&&y&&_){const b=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(L8);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(j8);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!y.contains(O.relatedTarget)&&S()},E=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",b),y.addEventListener("focusout",C),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",E),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const g=A.useCallback(({tabbingDirection:y})=>{const b=s().map(S=>{const C=S.ref.current,E=[C,...lJe(C)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?b.reverse():b).flat()},[s]);return A.useEffect(()=>{const y=f.current;if(y){const _=b=>{var E,O,T;const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const I=document.activeElement,L=b.shiftKey;if(b.target===y&&L){(E=u.current)==null||E.focus();return}const M=g({tabbingDirection:L?"backwards":"forwards"}),j=M.findIndex(V=>V===I);LP(M.slice(j+1))?b.preventDefault():L?(O=u.current)==null||O.focus():(T=d.current)==null||T.focus()}};return y.addEventListener("keydown",_),()=>y.removeEventListener("keydown",_)}},[s,g]),w(jue,{ref:l,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&c($8,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});LP(y)}}),c(T7.Slot,{scope:r,children:c(hr.ol,{tabIndex:-1,...i,ref:h})}),x&&c($8,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});LP(y)}})]})});Uoe.displayName=Boe;var qoe="ToastFocusProxy",$8=A.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=J3(qoe,r);return c(P4,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(s))&&n()}})});$8.displayName=qoe;var c_="Toast",XZe="toast.swipeStart",ZZe="toast.swipeMove",JZe="toast.swipeCancel",QZe="toast.swipeEnd",zoe=A.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[s,l]=cl({prop:n,defaultProp:a??!0,onChange:i,caller:c_});return c(is,{present:r||s,children:c(rJe,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:Ni(e.onPause),onResume:Ni(e.onResume),onSwipeStart:Ut(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ut(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ut(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ut(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});zoe.displayName=c_;var[eJe,tJe]=joe(c_,{onClose(){}}),rJe=A.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=e,g=J3(c_,r),[y,_]=A.useState(null),b=zr(t,V=>_(V)),S=A.useRef(null),C=A.useRef(null),E=a||g.duration,O=A.useRef(0),T=A.useRef(E),I=A.useRef(0),{onToastAdd:L,onToastRemove:U}=g,P=Ni(()=>{var X;(y==null?void 0:y.contains(document.activeElement))&&((X=g.viewport)==null||X.focus()),o()}),M=A.useCallback(V=>{!V||V===1/0||(window.clearTimeout(I.current),O.current=new Date().getTime(),I.current=window.setTimeout(P,V))},[P]);A.useEffect(()=>{const V=g.viewport;if(V){const X=()=>{M(T.current),u==null||u()},te=()=>{const z=new Date().getTime()-O.current;T.current=T.current-z,window.clearTimeout(I.current),l==null||l()};return V.addEventListener(L8,te),V.addEventListener(j8,X),()=>{V.removeEventListener(L8,te),V.removeEventListener(j8,X)}}},[g.viewport,E,l,u,M]),A.useEffect(()=>{i&&!g.isClosePausedRef.current&&M(E)},[i,E,g.isClosePausedRef,M]),A.useEffect(()=>(L(),()=>U()),[L,U]);const j=A.useMemo(()=>y?Xoe(y):null,[y]);return g.viewport?w(Sr,{children:[j&&c(nJe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),c(eJe,{scope:r,onClose:P,children:ty.createPortal(c(T7.ItemSlot,{scope:r,children:c(Lue,{asChild:!0,onEscapeKeyDown:Ut(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c(hr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ut(e.onKeyDown,V=>{V.key==="Escape"&&(s==null||s(V.nativeEvent),V.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Ut(e.onPointerDown,V=>{V.button===0&&(S.current={x:V.clientX,y:V.clientY})}),onPointerMove:Ut(e.onPointerMove,V=>{if(!S.current)return;const X=V.clientX-S.current.x,te=V.clientY-S.current.y,z=!!C.current,G=["left","right"].includes(g.swipeDirection),q=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Y=G?q(0,X):0,Z=G?0:q(0,te),D=V.pointerType==="touch"?10:2,K={x:Y,y:Z},Q={originalEvent:V,delta:K};z?(C.current=K,Ub(ZZe,f,Q,{discrete:!1})):EH(K,g.swipeDirection,D)?(C.current=K,Ub(XZe,d,Q,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(X)>D||Math.abs(te)>D)&&(S.current=null)}),onPointerUp:Ut(e.onPointerUp,V=>{const X=C.current,te=V.target;if(te.hasPointerCapture(V.pointerId)&&te.releasePointerCapture(V.pointerId),C.current=null,S.current=null,X){const z=V.currentTarget,G={originalEvent:V,delta:X};EH(X,g.swipeDirection,g.swipeThreshold)?Ub(QZe,m,G,{discrete:!0}):Ub(JZe,h,G,{discrete:!0}),z.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),nJe=e=>{const{__scopeToast:t,children:r,...n}=e,a=J3(c_,t),[i,o]=A.useState(!1),[s,l]=A.useState(!1);return oJe(()=>o(!0)),A.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:c(sy,{asChild:!0,children:c(P4,{...n,children:i&&w(Sr,{children:[a.label," ",r]})})})},aJe="ToastTitle",Woe=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c(hr.div,{...n,ref:t})});Woe.displayName=aJe;var iJe="ToastDescription",Voe=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c(hr.div,{...n,ref:t})});Voe.displayName=iJe;var Hoe="ToastAction",Goe=A.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?c(Yoe,{altText:r,asChild:!0,children:c(P7,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Hoe}\`. Expected non-empty \`string\`.`),null)});Goe.displayName=Hoe;var Koe="ToastClose",P7=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=tJe(Koe,r);return c(Yoe,{asChild:!0,children:c(hr.button,{type:"button",...n,ref:t,onClick:Ut(e.onClick,a.onClose)})})});P7.displayName=Koe;var Yoe=A.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return c(hr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Xoe(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),sJe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Xoe(n))}}),t}function Ub(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Y8(a,i):a.dispatchEvent(i)}var EH=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function oJe(e=()=>{}){const t=Ni(e);ai(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function sJe(e){return e.nodeType===e.ELEMENT_NODE}function lJe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function LP(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var cJe=$oe,Zoe=Uoe,Joe=zoe,Qoe=Woe,ese=Voe,tse=Goe,rse=P7;const uJe=cJe,nse=A.forwardRef(({className:e,...t},r)=>c(Zoe,{ref:r,className:Rt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));nse.displayName=Zoe.displayName;const dJe=Ew("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",warning:"warning group border-yellow-200 bg-yellow-50 text-yellow-800 dark:border-yellow-700/50 dark:bg-yellow-900/30 dark:text-yellow-300"}},defaultVariants:{variant:"default"}}),ase=A.forwardRef(({className:e,variant:t,...r},n)=>c(Joe,{ref:n,className:Rt(dJe({variant:t}),e),...r}));ase.displayName=Joe.displayName;const fJe=A.forwardRef(({className:e,...t},r)=>c(tse,{ref:r,className:Rt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));fJe.displayName=tse.displayName;const ise=A.forwardRef(({className:e,...t},r)=>c(rse,{ref:r,className:Rt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c(im,{className:"h-4 w-4"})}));ise.displayName=rse.displayName;const ose=A.forwardRef(({className:e,...t},r)=>c(Qoe,{ref:r,className:Rt("text-sm font-semibold",e),...t}));ose.displayName=Qoe.displayName;const sse=A.forwardRef(({className:e,...t},r)=>c(ese,{ref:r,className:Rt("text-sm opacity-90",e),...t}));sse.displayName=ese.displayName;function hJe(){const{toasts:e}=vn();return w(uJe,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return w(ase,{...i,children:[w("div",{className:"grid gap-1",children:[r&&c(ose,{children:r}),n&&c(sse,{children:n})]}),a,c(ise,{})]},t)}),c(nse,{})]})}const pJe="https://i.postimg.cc/cL6vs7qQ/login-1.png",mJe=()=>{const{signIn:e}=ii(),[t,r]=A.useState(""),[n,a]=A.useState(""),[i,o]=A.useState(!1),[s,l]=A.useState(null);return c("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-bl from-brand-dark via-brand-medium to-brand-light p-4",children:w("div",{className:"w-full max-w-4xl bg-white/95 rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 border border-white/10 backdrop-blur-sm",children:[w("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[c("h2",{className:"text-3xl font-bold text-center text-brand-dark mb-2 tracking-tight",children:"LOGIN"}),c("p",{className:"text-center text-gray-500 text-sm mb-8",children:"Access your AI-powered dashboard."}),w("form",{onSubmit:async h=>{h.preventDefault(),l(null),o(!0);try{await e(t,n),"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission().then(m=>{m==="granted"&&console.log("Notification permission granted.")})}catch(m){console.error("Login failed:",m),l(m.message||"Failed to log in. Please check your credentials.")}finally{o(!1)}},className:"space-y-5",children:[w("div",{className:"relative group",children:[c(Yt,{htmlFor:"email",className:"sr-only",children:"Email / Username"}),c(ao,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"email",type:"email",placeholder:"Email or Username",value:t,onChange:h=>r(h.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-gray-50 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"relative group",children:[c(Yt,{htmlFor:"password",className:"sr-only",children:"Password"}),c(XH,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"password",type:"password",placeholder:"Password",value:n,onChange:h=>a(h.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-gray-50 text-sm shadow-inner transition-colors duration-200"})]}),s&&c("p",{className:"text-sm text-red-600 text-center",children:s}),c(Le,{type:"submit",className:"w-full bg-gradient-to-r from-brand-medium to-brand-dark hover:from-brand-medium/90 hover:to-brand-dark/90 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out disabled:opacity-70",disabled:i,children:i?"Authenticating...":"Login Now"})]}),w("div",{className:"mt-8 text-center",children:[c("p",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4",children:"Or login with"}),w("div",{className:"flex justify-center gap-4",children:[w(Le,{variant:"outline",onClick:()=>console.log("Google login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-gray-100 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(zH,{className:"h-4 w-4"})," Google"]}),w(Le,{variant:"outline",onClick:()=>console.log("Facebook login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-gray-100 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(GH,{className:"h-4 w-4"})," Facebook"]})]})]}),w("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Need an account?"," ",c(zi,{to:"/signup",className:"font-semibold text-brand-medium hover:text-brand-dark hover:underline",children:"Sign up Free"})]})]}),w("div",{className:"hidden md:flex items-center justify-center p-8 bg-gradient-to-br from-brand-light via-brand-medium to-brand-dark relative overflow-hidden rounded-r-2xl",children:[w("div",{className:"relative w-full max-w-sm aspect-[3/4] bg-white/10 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4 flex items-center justify-center",children:[c("img",{src:pJe,alt:"AI Tech Feature",className:"max-w-full max-h-full object-contain rounded-lg opacity-95"}),c(qH,{className:"absolute top-4 right-4 h-8 w-8 text-white/60 opacity-70"})]}),c("div",{className:"absolute -bottom-1/4 -left-1/4 w-2/3 h-2/3 bg-brand-very-light/5 rounded-full blur-3xl opacity-50 animate-pulse"}),c("div",{className:"absolute -top-1/4 -right-1/3 w-1/2 h-1/2 bg-white/5 rounded-full blur-3xl opacity-40 animate-pulse animation-delay-2000"})]})]})})},gJe="https://i.postimg.cc/cL6vs7qQ/login-1.png",vJe=()=>{const{toast:e}=vn(),[t,r]=A.useState(""),[n,a]=A.useState(""),[i,o]=A.useState(""),[s,l]=A.useState(!1),[u,d]=A.useState(!1),[f,h]=A.useState(null);return c("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-bl from-brand-dark via-brand-medium to-brand-light p-4",children:w("div",{className:"w-full max-w-4xl bg-white/90 rounded-2xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 border border-white/10 backdrop-blur-sm",children:[w("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[c("h2",{className:"text-3xl font-bold text-center text-brand-dark mb-2 tracking-tight",children:"SIGN UP"}),c("p",{className:"text-center text-gray-500 text-sm mb-8",children:"Create your account to unlock AI features."}),w("form",{onSubmit:async y=>{var _,b;if(y.preventDefault(),h(null),!s){h("You must agree to the Terms & Privacy policy.");return}d(!0);try{const{data:S,error:C}=await Me.auth.signUp({email:n,password:i,options:{data:{full_name:t}}});if(C)throw C;e({title:"Account Created!",description:((b=(_=S.user)==null?void 0:_.identities)==null?void 0:b.length)===0?"Please check your email to confirm your account.":"You can now log in.",variant:"default"}),r(""),a(""),o(""),l(!1)}catch(S){console.error("Sign up failed:",S),h(S.message||"Failed to create account. Please try again."),e({title:"Sign Up Error",description:S.message||"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}},className:"space-y-5",children:[w("div",{className:"relative group",children:[c(Yt,{htmlFor:"name",className:"sr-only",children:"Full Name"}),c(ao,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"name",type:"text",placeholder:"Full Name",value:t,onChange:y=>r(y.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"relative group",children:[c(Yt,{htmlFor:"email",className:"sr-only",children:"Email"}),c(o4,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"email",type:"email",placeholder:"Email Address",value:n,onChange:y=>a(y.target.value),required:!0,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"relative group",children:[c(Yt,{htmlFor:"password",className:"sr-only",children:"Password"}),c(XH,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-brand-medium transition-colors duration-200"}),c(ot,{id:"password",type:"password",placeholder:"Password (min 8 characters)",value:i,onChange:y=>o(y.target.value),required:!0,minLength:8,className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light focus:border-transparent bg-brand-very-light/20 text-sm shadow-inner transition-colors duration-200"})]}),w("div",{className:"flex items-center space-x-2 pt-1",children:[c(Ps,{id:"terms",checked:s,onCheckedChange:y=>l(y),className:"border-gray-300 data-[state=checked]:bg-brand-dark data-[state=checked]:border-brand-dark data-[state=checked]:text-white focus:ring-brand-light focus:ring-offset-white"}),w("label",{htmlFor:"terms",className:"text-xs font-medium text-gray-600 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the ",c("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-medium hover:text-brand-dark hover:underline",children:"Terms"})," & ",c("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-medium hover:text-brand-dark hover:underline",children:"Privacy Policy"})]})]}),f&&c("p",{className:"text-sm text-red-600 text-center pt-1",children:f}),c(Le,{type:"submit",className:"w-full bg-gradient-to-r from-brand-medium to-brand-dark hover:shadow-lg hover:opacity-95 text-white font-semibold py-3 px-4 rounded-lg shadow-md transition-all duration-300 ease-in-out disabled:opacity-70",disabled:u||!s,children:u?"Creating Account...":"Sign Up Now"})]}),w("div",{className:"mt-8 text-center",children:[c("p",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4",children:"Or sign up with"}),w("div",{className:"flex justify-center gap-4",children:[w(Le,{variant:"outline",onClick:()=>console.log("Google login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-brand-very-light/20 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(zH,{className:"h-4 w-4"})," Google"]}),w(Le,{variant:"outline",onClick:()=>console.log("Facebook login clicked"),className:"flex items-center justify-center gap-2 border-gray-300 hover:border-brand-light hover:bg-brand-very-light/20 rounded-lg px-6 py-2 text-sm text-gray-700 transition-colors duration-200 shadow-sm",children:[c(GH,{className:"h-4 w-4"})," Facebook"]})]})]}),w("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",c(zi,{to:"/login",className:"font-semibold text-brand-medium hover:text-brand-dark hover:underline",children:"Log In"})]})]}),w("div",{className:"hidden md:flex items-center justify-center p-8 bg-gradient-to-br from-brand-light via-brand-medium to-brand-dark relative overflow-hidden rounded-r-2xl",children:[w("div",{className:"relative w-full max-w-sm aspect-[3/4] bg-white/10 backdrop-blur-xl rounded-xl shadow-xl border border-white/20 p-4 flex items-center justify-center",children:[c("img",{src:gJe,alt:"AI Tech Feature",className:"max-w-full max-h-full object-contain rounded-lg opacity-95"}),c(qH,{className:"absolute top-4 right-4 h-8 w-8 text-white/60 opacity-70"})]}),c("div",{className:"absolute -bottom-1/4 -left-1/4 w-2/3 h-2/3 bg-brand-very-light/5 rounded-full blur-3xl opacity-50 animate-pulse"}),c("div",{className:"absolute -top-1/4 -right-1/3 w-1/2 h-1/2 bg-white/5 rounded-full blur-3xl opacity-40 animate-pulse animation-delay-2000"})]})]})})};function yJe(){const{user:e,loading:t}=ii();return t?c("div",{className:"flex items-center justify-center min-h-screen",children:c(Zn,{className:"w-8 h-8 animate-spin text-primary"})}):w(zle,{children:[e?w(jn,{path:"/",element:c(j1e,{}),children:[c(jn,{index:!0,element:c(iOe,{})})," ",c(jn,{path:"appointments",element:c(ZDe,{})}),c(jn,{path:"patients",element:c(Dz,{})}),c(jn,{path:"patients/:id",element:c(Dz,{})})," ",c(jn,{path:"treatment-plans",element:c(X7e,{})}),c(jn,{path:"profile",element:c(oMe,{})}),c(jn,{path:"settings",element:c(rMe,{})}),c(jn,{path:"payments-subscription",element:c(lMe,{})}),c(jn,{path:"patient-medical-records",element:c(cMe,{})}),w(jn,{element:c(VZe,{}),children:[c(jn,{path:"inventory",element:c(mKe,{})}),c(jn,{path:"inventory/create-adjustment",element:c($Ze,{})})," ",c(jn,{path:"inventory/stock-take",element:c(BZe,{})})," ",c(jn,{path:"inventory/invoices",element:c(vKe,{})})," ",c(jn,{path:"purchases",element:c(rXe,{})})," ",c(jn,{path:"purchases/create",element:c(HXe,{})})," "," ",c(jn,{path:"purchases/urgent",element:c(TZe,{})})," ",c(jn,{path:"purchases/urgent/history",element:c(OZe,{})})," ",c(jn,{path:"purchases/urgent/my-requests",element:c(DZe,{})})," ",c(jn,{path:"purchases/urgent/:id",element:c(PZe,{})})," ",c(jn,{path:"purchases/:id",element:c(yZe,{})})," ",c(jn,{path:"assets",element:c(EYe,{})}),c(jn,{path:"assets/:assetId",element:c(CYe,{})})," ",c(jn,{path:"reports",element:c(BYe,{})}),c(jn,{path:"reminders",element:c(WYe,{})})]}),c(jn,{path:"inventory-approvals",element:c(qZe,{})}),c(jn,{path:"search",element:c(WZe,{})}),c(jn,{path:"*",element:c($P,{to:"/",replace:!0})})]}):w(Sr,{children:[c(jn,{path:"/login",element:c(mJe,{})}),c(jn,{path:"/signup",element:c(vJe,{})}),c(jn,{path:"*",element:c($P,{to:"/login",replace:!0})})]}),c(jn,{path:"/approve-adjustment/:requestId/:approvalToken",element:c(zZe,{})})]})}function xJe(){return c(N0e,{children:w(Zle,{children:[c(yJe,{})," ",c(hJe,{})]})})}Yse.createRoot(document.getElementById("root")).render(c(A.StrictMode,{children:c(xJe,{})}));export{xa as _,W_ as c,ia as g};
